(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Km(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const hr={},fl=[],na=()=>{},gC=()=>!1,md=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Jm=t=>t.startsWith("onUpdate:"),cn=Object.assign,Xm=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},aoe=Object.prototype.hasOwnProperty,or=(t,e)=>aoe.call(t,e),Rt=Array.isArray,dl=t=>gd(t)==="[object Map]",yC=t=>gd(t)==="[object Set]",It=t=>typeof t=="function",_r=t=>typeof t=="string",Oo=t=>typeof t=="symbol",vr=t=>t!==null&&typeof t=="object",bC=t=>(vr(t)||It(t))&&It(t.then)&&It(t.catch),wC=Object.prototype.toString,gd=t=>wC.call(t),ooe=t=>gd(t).slice(8,-1),kC=t=>gd(t)==="[object Object]",Ym=t=>_r(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mu=Km(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yd=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},soe=/-\w/g,Ci=yd(t=>t.replace(soe,e=>e.slice(1).toUpperCase())),loe=/\B([A-Z])/g,As=yd(t=>t.replace(loe,"-$1").toLowerCase()),bd=yd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ip=yd(t=>t?`on${bd(t)}`:""),mo=(t,e)=>!Object.is(t,e),df=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},CC=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Qm=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Bb;const wd=()=>Bb||(Bb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zm(t){if(Rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=_r(n)?doe(n):Zm(n);if(i)for(const a in i)e[a]=i[a]}return e}else if(_r(t)||vr(t))return t}const uoe=/;(?![^(]*\))/g,coe=/:([^]+)/,foe=/\/\*[^]*?\*\//g;function doe(t){const e={};return t.replace(foe,"").split(uoe).forEach(r=>{if(r){const n=r.split(coe);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _a(t){let e="";if(_r(t))e=t;else if(Rt(t))for(let r=0;r<t.length;r++){const n=_a(t[r]);n&&(e+=n+" ")}else if(vr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const hoe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",poe=Km(hoe);function TC(t){return!!t||t===""}const xC=t=>!!(t&&t.__v_isRef===!0),an=t=>_r(t)?t:t==null?"":Rt(t)||vr(t)&&(t.toString===wC||!It(t.toString))?xC(t)?an(t.value):JSON.stringify(t,SC,2):String(t),SC=(t,e)=>xC(e)?SC(t,e.value):dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],a)=>(r[Pp(n,a)+" =>"]=i,r),{})}:yC(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Pp(r))}:Oo(e)?Pp(e):vr(e)&&!Rt(e)&&!kC(e)?String(e):e,Pp=(t,e="")=>{var r;return Oo(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vn;class voe{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Vn,!e&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Vn;try{return Vn=this,e()}finally{Vn=r}}}on(){++this._on===1&&(this.prevScope=Vn,Vn=this)}off(){this._on>0&&--this._on===0&&(Vn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function moe(){return Vn}let pr;const _p=new WeakSet;class EC{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vn&&Vn.active&&Vn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_p.has(this)&&(_p.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||OC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fb(this),AC(this);const e=pr,r=Li;pr=this,Li=!0;try{return this.fn()}finally{NC(this),pr=e,Li=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)rg(e);this.deps=this.depsTail=void 0,Fb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_p.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vv(this)&&this.run()}get dirty(){return Vv(this)}}let MC=0,gu,yu;function OC(t,e=!1){if(t.flags|=8,e){t.next=yu,yu=t;return}t.next=gu,gu=t}function eg(){MC++}function tg(){if(--MC>0)return;if(yu){let e=yu;for(yu=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;gu;){let e=gu;for(gu=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function AC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function NC(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),rg(n),goe(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function Vv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(DC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function DC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Du)||(t.globalVersion=Du,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Vv(t))))return;t.flags|=2;const e=t.dep,r=pr,n=Li;pr=t,Li=!0;try{AC(t);const i=t.fn(t._value);(e.version===0||mo(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{pr=r,Li=n,NC(t),t.flags&=-3}}function rg(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)rg(a,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function goe(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Li=!0;const RC=[];function Ha(){RC.push(Li),Li=!1}function Va(){const t=RC.pop();Li=t===void 0?!0:t}function Fb(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=pr;pr=void 0;try{e()}finally{pr=r}}}let Du=0,yoe=class{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class ng{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!pr||!Li||pr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==pr)r=this.activeLink=new yoe(pr,this),pr.deps?(r.prevDep=pr.depsTail,pr.depsTail.nextDep=r,pr.depsTail=r):pr.deps=pr.depsTail=r,LC(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=pr.depsTail,r.nextDep=void 0,pr.depsTail.nextDep=r,pr.depsTail=r,pr.deps===r&&(pr.deps=n)}return r}trigger(e){this.version++,Du++,this.notify(e)}notify(e){eg();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{tg()}}}function LC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)LC(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const zv=new WeakMap,us=Symbol(""),$v=Symbol(""),Ru=Symbol("");function mn(t,e,r){if(Li&&pr){let n=zv.get(t);n||zv.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new ng),i.map=n,i.key=r),i.track()}}function Ra(t,e,r,n,i,a){const o=zv.get(t);if(!o){Du++;return}const s=l=>{l&&l.trigger()};if(eg(),e==="clear")o.forEach(s);else{const l=Rt(t),u=l&&Ym(r);if(l&&r==="length"){const f=Number(n);o.forEach((p,b)=>{(b==="length"||b===Ru||!Oo(b)&&b>=f)&&s(p)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(Ru)),e){case"add":l?u&&s(o.get("length")):(s(o.get(us)),dl(t)&&s(o.get($v)));break;case"delete":l||(s(o.get(us)),dl(t)&&s(o.get($v)));break;case"set":dl(t)&&s(o.get(us));break}}tg()}function Ks(t){const e=ar(t);return e===t?e:(mn(e,"iterate",Ru),bi(t)?e:e.map(Bi))}function kd(t){return mn(t=ar(t),"iterate",Ru),t}function io(t,e){return za(t)?bl(cs(t)?Bi(e):e):Bi(e)}const boe={__proto__:null,[Symbol.iterator](){return Bp(this,Symbol.iterator,t=>io(this,t))},concat(...t){return Ks(this).concat(...t.map(e=>Rt(e)?Ks(e):e))},entries(){return Bp(this,"entries",t=>(t[1]=io(this,t[1]),t))},every(t,e){return xa(this,"every",t,e,void 0,arguments)},filter(t,e){return xa(this,"filter",t,e,r=>r.map(n=>io(this,n)),arguments)},find(t,e){return xa(this,"find",t,e,r=>io(this,r),arguments)},findIndex(t,e){return xa(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return xa(this,"findLast",t,e,r=>io(this,r),arguments)},findLastIndex(t,e){return xa(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return xa(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fp(this,"includes",t)},indexOf(...t){return Fp(this,"indexOf",t)},join(t){return Ks(this).join(t)},lastIndexOf(...t){return Fp(this,"lastIndexOf",t)},map(t,e){return xa(this,"map",t,e,void 0,arguments)},pop(){return eu(this,"pop")},push(...t){return eu(this,"push",t)},reduce(t,...e){return qb(this,"reduce",t,e)},reduceRight(t,...e){return qb(this,"reduceRight",t,e)},shift(){return eu(this,"shift")},some(t,e){return xa(this,"some",t,e,void 0,arguments)},splice(...t){return eu(this,"splice",t)},toReversed(){return Ks(this).toReversed()},toSorted(t){return Ks(this).toSorted(t)},toSpliced(...t){return Ks(this).toSpliced(...t)},unshift(...t){return eu(this,"unshift",t)},values(){return Bp(this,"values",t=>io(this,t))}};function Bp(t,e,r){const n=kd(t),i=n[e]();return n!==t&&!bi(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=r(a.value)),a}),i}const woe=Array.prototype;function xa(t,e,r,n,i,a){const o=kd(t),s=o!==t&&!bi(t),l=o[e];if(l!==woe[e]){const p=l.apply(t,a);return s?Bi(p):p}let u=r;o!==t&&(s?u=function(p,b){return r.call(this,io(t,p),b,t)}:r.length>2&&(u=function(p,b){return r.call(this,p,b,t)}));const f=l.call(o,u,n);return s&&i?i(f):f}function qb(t,e,r,n){const i=kd(t);let a=r;return i!==t&&(bi(t)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,t)}):a=function(o,s,l){return r.call(this,o,io(t,s),l,t)}),i[e](a,...n)}function Fp(t,e,r){const n=ar(t);mn(n,"iterate",Ru);const i=n[e](...r);return(i===-1||i===!1)&&og(r[0])?(r[0]=ar(r[0]),n[e](...r)):i}function eu(t,e,r=[]){Ha(),eg();const n=ar(t)[e].apply(t,r);return tg(),Va(),n}const koe=Km("__proto__,__v_isRef,__isVue"),IC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Oo));function Coe(t){Oo(t)||(t=String(t));const e=ar(this);return mn(e,"has",t),e.hasOwnProperty(t)}class PC{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?Roe:qC:a?FC:BC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Rt(e);if(!i){let l;if(o&&(l=boe[r]))return l;if(r==="hasOwnProperty")return Coe}const s=Reflect.get(e,r,wn(e)?e:n);if((Oo(r)?IC.has(r):koe(r))||(i||mn(e,"get",r),a))return s;if(wn(s)){const l=o&&Ym(r)?s:s.value;return i&&vr(l)?jv(l):l}return vr(s)?i?jv(s):Cd(s):s}}class _C extends PC{constructor(e=!1){super(!1,e)}set(e,r,n,i){let a=e[r];const o=Rt(e)&&Ym(r);if(!this._isShallow){const u=za(a);if(!bi(n)&&!za(n)&&(a=ar(a),n=ar(n)),!o&&wn(a)&&!wn(n))return u||(a.value=n),!0}const s=o?Number(r)<e.length:or(e,r),l=Reflect.set(e,r,n,wn(e)?e:i);return e===ar(i)&&(s?mo(n,a)&&Ra(e,"set",r,n):Ra(e,"add",r,n)),l}deleteProperty(e,r){const n=or(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Ra(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Oo(r)||!IC.has(r))&&mn(e,"has",r),n}ownKeys(e){return mn(e,"iterate",Rt(e)?"length":us),Reflect.ownKeys(e)}}class Toe extends PC{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const xoe=new _C,Soe=new Toe,Eoe=new _C(!0);const Uv=t=>t,Wc=t=>Reflect.getPrototypeOf(t);function Moe(t,e,r){return function(...n){const i=this.__v_raw,a=ar(i),o=dl(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),f=r?Uv:e?bl:Bi;return!e&&mn(a,"iterate",l?$v:us),cn(Object.create(u),{next(){const{value:p,done:b}=u.next();return b?{value:p,done:b}:{value:s?[f(p[0]),f(p[1])]:f(p),done:b}}})}}function Gc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ooe(t,e){const r={get(i){const a=this.__v_raw,o=ar(a),s=ar(i);t||(mo(i,s)&&mn(o,"get",i),mn(o,"get",s));const{has:l}=Wc(o),u=e?Uv:t?bl:Bi;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!t&&mn(ar(i),"iterate",us),i.size},has(i){const a=this.__v_raw,o=ar(a),s=ar(i);return t||(mo(i,s)&&mn(o,"has",i),mn(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=ar(s),u=e?Uv:t?bl:Bi;return!t&&mn(l,"iterate",us),s.forEach((f,p)=>i.call(a,u(f),u(p),o))}};return cn(r,t?{add:Gc("add"),set:Gc("set"),delete:Gc("delete"),clear:Gc("clear")}:{add(i){!e&&!bi(i)&&!za(i)&&(i=ar(i));const a=ar(this);return Wc(a).has.call(a,i)||(a.add(i),Ra(a,"add",i,i)),this},set(i,a){!e&&!bi(a)&&!za(a)&&(a=ar(a));const o=ar(this),{has:s,get:l}=Wc(o);let u=s.call(o,i);u||(i=ar(i),u=s.call(o,i));const f=l.call(o,i);return o.set(i,a),u?mo(a,f)&&Ra(o,"set",i,a):Ra(o,"add",i,a),this},delete(i){const a=ar(this),{has:o,get:s}=Wc(a);let l=o.call(a,i);l||(i=ar(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Ra(a,"delete",i,void 0),u},clear(){const i=ar(this),a=i.size!==0,o=i.clear();return a&&Ra(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Moe(i,t,e)}),r}function ig(t,e){const r=Ooe(t,e);return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(or(r,i)&&i in n?r:n,i,a)}const Aoe={get:ig(!1,!1)},Noe={get:ig(!1,!0)},Doe={get:ig(!0,!1)};const BC=new WeakMap,FC=new WeakMap,qC=new WeakMap,Roe=new WeakMap;function Loe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ioe(t){return t.__v_skip||!Object.isExtensible(t)?0:Loe(ooe(t))}function Cd(t){return za(t)?t:ag(t,!1,xoe,Aoe,BC)}function HC(t){return ag(t,!1,Eoe,Noe,FC)}function jv(t){return ag(t,!0,Soe,Doe,qC)}function ag(t,e,r,n,i){if(!vr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=Ioe(t);if(a===0)return t;const o=i.get(t);if(o)return o;const s=new Proxy(t,a===2?n:r);return i.set(t,s),s}function cs(t){return za(t)?cs(t.__v_raw):!!(t&&t.__v_isReactive)}function za(t){return!!(t&&t.__v_isReadonly)}function bi(t){return!!(t&&t.__v_isShallow)}function og(t){return t?!!t.__v_raw:!1}function ar(t){const e=t&&t.__v_raw;return e?ar(e):t}function Poe(t){return!or(t,"__v_skip")&&Object.isExtensible(t)&&CC(t,"__v_skip",!0),t}const Bi=t=>vr(t)?Cd(t):t,bl=t=>vr(t)?jv(t):t;function wn(t){return t?t.__v_isRef===!0:!1}function dr(t){return VC(t,!1)}function _oe(t){return VC(t,!0)}function VC(t,e){return wn(t)?t:new Boe(t,e)}class Boe{constructor(e,r){this.dep=new ng,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ar(e),this._value=r?e:Bi(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||bi(e)||za(e);e=n?e:ar(e),mo(e,r)&&(this._rawValue=e,this._value=n?e:Bi(e),this.dep.trigger())}}function hl(t){return wn(t)?t.value:t}const Foe={get:(t,e,r)=>e==="__v_raw"?t:hl(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return wn(i)&&!wn(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function zC(t){return cs(t)?t:new Proxy(t,Foe)}class qoe{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new ng(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Du-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&pr!==this)return OC(this,!0),!0}get value(){const e=this.dep.track();return DC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Hoe(t,e,r=!1){let n,i;return It(t)?n=t:(n=t.get,i=t.set),new qoe(n,i,r)}const Kc={},Nf=new WeakMap;let es;function Voe(t,e=!1,r=es){if(r){let n=Nf.get(r);n||Nf.set(r,n=[]),n.push(t)}}function zoe(t,e,r=hr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=Z=>i?Z:bi(Z)||i===!1||i===0?La(Z,1):La(Z);let f,p,b,C,T=!1,M=!1;if(wn(t)?(p=()=>t.value,T=bi(t)):cs(t)?(p=()=>u(t),T=!0):Rt(t)?(M=!0,T=t.some(Z=>cs(Z)||bi(Z)),p=()=>t.map(Z=>{if(wn(Z))return Z.value;if(cs(Z))return u(Z);if(It(Z))return l?l(Z,2):Z()})):It(t)?e?p=l?()=>l(t,2):t:p=()=>{if(b){Ha();try{b()}finally{Va()}}const Z=es;es=f;try{return l?l(t,3,[C]):t(C)}finally{es=Z}}:p=na,e&&i){const Z=p,ce=i===!0?1/0:i;p=()=>La(Z(),ce)}const N=moe(),B=()=>{f.stop(),N&&N.active&&Xm(N.effects,f)};if(a&&e){const Z=e;e=(...ce)=>{Z(...ce),B()}}let U=M?new Array(t.length).fill(Kc):Kc;const X=Z=>{if(!(!(f.flags&1)||!f.dirty&&!Z))if(e){const ce=f.run();if(i||T||(M?ce.some((le,se)=>mo(le,U[se])):mo(ce,U))){b&&b();const le=es;es=f;try{const se=[ce,U===Kc?void 0:M&&U[0]===Kc?[]:U,C];U=ce,l?l(e,3,se):e(...se)}finally{es=le}}}else f.run()};return s&&s(X),f=new EC(p),f.scheduler=o?()=>o(X,!1):X,C=Z=>Voe(Z,!1,f),b=f.onStop=()=>{const Z=Nf.get(f);if(Z){if(l)l(Z,4);else for(const ce of Z)ce();Nf.delete(f)}},e?n?X(!0):U=f.run():o?o(X.bind(null,!0),!0):f.run(),B.pause=f.pause.bind(f),B.resume=f.resume.bind(f),B.stop=B,B}function La(t,e=1/0,r){if(e<=0||!vr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,wn(t))La(t.value,e,r);else if(Rt(t))for(let n=0;n<t.length;n++)La(t[n],e,r);else if(yC(t)||dl(t))t.forEach(n=>{La(n,e,r)});else if(kC(t)){for(const n in t)La(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&La(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gu(t,e,r,n){try{return n?t(...n):t()}catch(i){Td(i,e,r)}}function oa(t,e,r,n){if(It(t)){const i=Gu(t,e,r,n);return i&&bC(i)&&i.catch(a=>{Td(a,e,r)}),i}if(Rt(t)){const i=[];for(let a=0;a<t.length;a++)i.push(oa(t[a],e,r,n));return i}}function Td(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||hr;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,u)===!1)return}s=s.parent}if(a){Ha(),Gu(a,null,10,[t,l,u]),Va();return}}$oe(t,r,i,n,o)}function $oe(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const On=[];let Qi=-1;const pl=[];let ao=null,tl=0;const $C=Promise.resolve();let Df=null;function xd(t){const e=Df||$C;return t?e.then(this?t.bind(this):t):e}function Uoe(t){let e=Qi+1,r=On.length;for(;e<r;){const n=e+r>>>1,i=On[n],a=Lu(i);a<t||a===t&&i.flags&2?e=n+1:r=n}return e}function sg(t){if(!(t.flags&1)){const e=Lu(t),r=On[On.length-1];!r||!(t.flags&2)&&e>=Lu(r)?On.push(t):On.splice(Uoe(e),0,t),t.flags|=1,UC()}}function UC(){Df||(Df=$C.then(WC))}function joe(t){Rt(t)?pl.push(...t):ao&&t.id===-1?ao.splice(tl+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),UC()}function Hb(t,e,r=Qi+1){for(;r<On.length;r++){const n=On[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;On.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function jC(t){if(pl.length){const e=[...new Set(pl)].sort((r,n)=>Lu(r)-Lu(n));if(pl.length=0,ao){ao.push(...e);return}for(ao=e,tl=0;tl<ao.length;tl++){const r=ao[tl];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ao=null,tl=0}}const Lu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function WC(t){try{for(Qi=0;Qi<On.length;Qi++){const e=On[Qi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Gu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qi<On.length;Qi++){const e=On[Qi];e&&(e.flags&=-2)}Qi=-1,On.length=0,jC(),Df=null,(On.length||pl.length)&&WC()}}let ii=null,GC=null;function Rf(t){const e=ii;return ii=t,GC=t&&t.type.__scopeId||null,e}function Lf(t,e=ii,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&_f(-1);const a=Rf(e);let o;try{o=t(...i)}finally{Rf(a),n._d&&_f(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function rl(t,e){if(ii===null)return t;const r=Dd(ii),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,o,s,l=hr]=e[i];a&&(It(a)&&(a={mounted:a,updated:a}),a.deep&&La(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return t}function Go(t,e,r,n){const i=t.dirs,a=e&&e.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(Ha(),oa(l,r,8,[t.el,s,t,e]),Va())}}function hf(t,e){if(yn){let r=yn.provides;const n=yn.parent&&yn.parent.provides;n===r&&(r=yn.provides=Object.create(n)),r[t]=e}}function Ii(t,e,r=!1){const n=jse();if(n||vl){let i=vl?vl._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&It(e)?e.call(n&&n.proxy):e}}const Woe=Symbol.for("v-scx"),Goe=()=>Ii(Woe);function bu(t,e,r){return KC(t,e,r)}function KC(t,e,r=hr){const{immediate:n,deep:i,flush:a,once:o}=r,s=cn({},r),l=e&&n||!e&&a!=="post";let u;if(Pu){if(a==="sync"){const C=Goe();u=C.__watcherHandles||(C.__watcherHandles=[])}else if(!l){const C=()=>{};return C.stop=na,C.resume=na,C.pause=na,C}}const f=yn;s.call=(C,T,M)=>oa(C,f,T,M);let p=!1;a==="post"?s.scheduler=C=>{ti(C,f&&f.suspense)}:a!=="sync"&&(p=!0,s.scheduler=(C,T)=>{T?C():sg(C)}),s.augmentJob=C=>{e&&(C.flags|=4),p&&(C.flags|=2,f&&(C.id=f.uid,C.i=f))};const b=zoe(t,e,s);return Pu&&(u?u.push(b):l&&b()),b}function Koe(t,e,r){const n=this.proxy,i=_r(t)?t.includes(".")?JC(n,t):()=>n[t]:t.bind(n,n);let a;It(e)?a=e:(a=e.handler,r=e);const o=Ku(this),s=KC(i,a.bind(n),r);return o(),s}function JC(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const Joe=Symbol("_vte"),Xoe=t=>t.__isTeleport,Yoe=Symbol("_leaveCb");function lg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,lg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function XC(t,e){return It(t)?cn({name:t.name},e,{setup:t}):t}function YC(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const If=new WeakMap;function wu(t,e,r,n,i=!1){if(Rt(t)){t.forEach((T,M)=>wu(T,e&&(Rt(e)?e[M]:e),r,n,i));return}if(ku(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&wu(t,e,r,n.component.subTree);return}const a=n.shapeFlag&4?Dd(n.component):n.el,o=i?null:a,{i:s,r:l}=t,u=e&&e.r,f=s.refs===hr?s.refs={}:s.refs,p=s.setupState,b=ar(p),C=p===hr?gC:T=>or(b,T);if(u!=null&&u!==l){if(Vb(e),_r(u))f[u]=null,C(u)&&(p[u]=null);else if(wn(u)){u.value=null;const T=e;T.k&&(f[T.k]=null)}}if(It(l))Gu(l,s,12,[o,f]);else{const T=_r(l),M=wn(l);if(T||M){const N=()=>{if(t.f){const B=T?C(l)?p[l]:f[l]:l.value;if(i)Rt(B)&&Xm(B,a);else if(Rt(B))B.includes(a)||B.push(a);else if(T)f[l]=[a],C(l)&&(p[l]=f[l]);else{const U=[a];l.value=U,t.k&&(f[t.k]=U)}}else T?(f[l]=o,C(l)&&(p[l]=o)):M&&(l.value=o,t.k&&(f[t.k]=o))};if(o){const B=()=>{N(),If.delete(t)};B.id=-1,If.set(t,B),ti(B,r)}else Vb(t),N()}}}function Vb(t){const e=If.get(t);e&&(e.flags|=8,If.delete(t))}wd().requestIdleCallback;wd().cancelIdleCallback;const ku=t=>!!t.type.__asyncLoader,QC=t=>t.type.__isKeepAlive;function Qoe(t,e){ZC(t,"a",e)}function Zoe(t,e){ZC(t,"da",e)}function ZC(t,e,r=yn){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Sd(e,n,r),r){let i=r.parent;for(;i&&i.parent;)QC(i.parent.vnode)&&ese(n,e,r,i),i=i.parent}}function ese(t,e,r,n){const i=Sd(e,t,n,!0);eT(()=>{Xm(n[e],i)},r)}function Sd(t,e,r=yn,n=!1){if(r){const i=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...o)=>{Ha();const s=Ku(r),l=oa(e,r,t,o);return s(),Va(),l});return n?i.unshift(a):i.push(a),a}}const Ua=t=>(e,r=yn)=>{(!Pu||t==="sp")&&Sd(t,(...n)=>e(...n),r)},tse=Ua("bm"),Ed=Ua("m"),rse=Ua("bu"),nse=Ua("u"),ise=Ua("bum"),eT=Ua("um"),ase=Ua("sp"),ose=Ua("rtg"),sse=Ua("rtc");function lse(t,e=yn){Sd("ec",t,e)}const use="components";function Md(t,e){return fse(use,t,!0,e)||t}const cse=Symbol.for("v-ndc");function fse(t,e,r=!0,n=!1){const i=ii||yn;if(i){const a=i.type;{const s=Xse(a,!1);if(s&&(s===e||s===Ci(e)||s===bd(Ci(e))))return a}const o=zb(i[t]||a[t],e)||zb(i.appContext[t],e);return!o&&n?a:o}}function zb(t,e){return t&&(t[e]||t[Ci(e)]||t[bd(Ci(e))])}function go(t,e,r,n){let i;const a=r,o=Rt(t);if(o||_r(t)){const s=o&&cs(t);let l=!1,u=!1;s&&(l=!bi(t),u=za(t),t=kd(t)),i=new Array(t.length);for(let f=0,p=t.length;f<p;f++)i[f]=e(l?u?bl(Bi(t[f])):Bi(t[f]):t[f],f,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,a)}else if(vr(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,a));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=e(t[f],f,l,a)}}else i=[];return i}const Wv=t=>t?bT(t)?Dd(t):Wv(t.parent):null,Cu=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wv(t.parent),$root:t=>Wv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>rT(t),$forceUpdate:t=>t.f||(t.f=()=>{sg(t.update)}),$nextTick:t=>t.n||(t.n=xd.bind(t.proxy)),$watch:t=>Koe.bind(t)}),qp=(t,e)=>t!==hr&&!t.__isScriptSetup&&or(t,e),dse={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=t;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return a[e]}else{if(qp(n,e))return o[e]=1,n[e];if(i!==hr&&or(i,e))return o[e]=2,i[e];if(or(a,e))return o[e]=3,a[e];if(r!==hr&&or(r,e))return o[e]=4,r[e];Gv&&(o[e]=0)}}const u=Cu[e];let f,p;if(u)return e==="$attrs"&&mn(t.attrs,"get",""),u(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(r!==hr&&or(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,or(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:a}=t;return qp(i,e)?(i[e]=r,!0):n!==hr&&or(n,e)?(n[e]=r,!0):or(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,props:a,type:o}},s){let l;return!!(r[s]||t!==hr&&s[0]!=="$"&&or(t,s)||qp(e,s)||or(a,s)||or(n,s)||or(Cu,s)||or(i.config.globalProperties,s)||(l=o.__cssModules)&&l[s])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:or(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function $b(t){return Rt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Gv=!0;function hse(t){const e=rT(t),r=t.proxy,n=t.ctx;Gv=!1,e.beforeCreate&&Ub(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:p,mounted:b,beforeUpdate:C,updated:T,activated:M,deactivated:N,beforeDestroy:B,beforeUnmount:U,destroyed:X,unmounted:Z,render:ce,renderTracked:le,renderTriggered:se,errorCaptured:ge,serverPrefetch:Oe,expose:Ge,inheritAttrs:pt,components:Ke,directives:Tt,filters:Xe}=e;if(u&&pse(u,n,null),o)for(const Ve in o){const Qe=o[Ve];It(Qe)&&(n[Ve]=Qe.bind(r))}if(i){const Ve=i.call(r,r);vr(Ve)&&(t.data=Cd(Ve))}if(Gv=!0,a)for(const Ve in a){const Qe=a[Ve],Ht=It(Qe)?Qe.bind(r,r):It(Qe.get)?Qe.get.bind(r,r):na,st=!It(Qe)&&It(Qe.set)?Qe.set.bind(r):na,vt=Ni({get:Ht,set:st});Object.defineProperty(n,Ve,{enumerable:!0,configurable:!0,get:()=>vt.value,set:lt=>vt.value=lt})}if(s)for(const Ve in s)tT(s[Ve],n,r,Ve);if(l){const Ve=It(l)?l.call(r):l;Reflect.ownKeys(Ve).forEach(Qe=>{hf(Qe,Ve[Qe])})}f&&Ub(f,t,"c");function ze(Ve,Qe){Rt(Qe)?Qe.forEach(Ht=>Ve(Ht.bind(r))):Qe&&Ve(Qe.bind(r))}if(ze(tse,p),ze(Ed,b),ze(rse,C),ze(nse,T),ze(Qoe,M),ze(Zoe,N),ze(lse,ge),ze(sse,le),ze(ose,se),ze(ise,U),ze(eT,Z),ze(ase,Oe),Rt(Ge))if(Ge.length){const Ve=t.exposed||(t.exposed={});Ge.forEach(Qe=>{Object.defineProperty(Ve,Qe,{get:()=>r[Qe],set:Ht=>r[Qe]=Ht,enumerable:!0})})}else t.exposed||(t.exposed={});ce&&t.render===na&&(t.render=ce),pt!=null&&(t.inheritAttrs=pt),Ke&&(t.components=Ke),Tt&&(t.directives=Tt),Oe&&YC(t)}function pse(t,e,r=na){Rt(t)&&(t=Kv(t));for(const n in t){const i=t[n];let a;vr(i)?"default"in i?a=Ii(i.from||n,i.default,!0):a=Ii(i.from||n):a=Ii(i),wn(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[n]=a}}function Ub(t,e,r){oa(Rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function tT(t,e,r,n){let i=n.includes(".")?JC(r,n):()=>r[n];if(_r(t)){const a=e[t];It(a)&&bu(i,a)}else if(It(t))bu(i,t.bind(r));else if(vr(t))if(Rt(t))t.forEach(a=>tT(a,e,r,n));else{const a=It(t.handler)?t.handler.bind(r):e[t.handler];It(a)&&bu(i,a,t)}}function rT(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(e);let l;return s?l=s:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>Pf(l,u,o,!0)),Pf(l,e,o)),vr(e)&&a.set(e,l),l}function Pf(t,e,r,n=!1){const{mixins:i,extends:a}=e;a&&Pf(t,a,r,!0),i&&i.forEach(o=>Pf(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const s=vse[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const vse={data:jb,props:Wb,emits:Wb,methods:cu,computed:cu,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:cu,directives:cu,watch:gse,provide:jb,inject:mse};function jb(t,e){return e?t?function(){return cn(It(t)?t.call(this,this):t,It(e)?e.call(this,this):e)}:e:t}function mse(t,e){return cu(Kv(t),Kv(e))}function Kv(t){if(Rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function En(t,e){return t?[...new Set([].concat(t,e))]:e}function cu(t,e){return t?cn(Object.create(null),t,e):e}function Wb(t,e){return t?Rt(t)&&Rt(e)?[...new Set([...t,...e])]:cn(Object.create(null),$b(t),$b(e??{})):e}function gse(t,e){if(!t)return e;if(!e)return t;const r=cn(Object.create(null),t);for(const n in e)r[n]=En(t[n],e[n]);return r}function nT(){return{app:null,config:{isNativeTag:gC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yse=0;function bse(t,e){return function(n,i=null){It(n)||(n=cn({},n)),i!=null&&!vr(i)&&(i=null);const a=nT(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:yse++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:Qse,get config(){return a.config},set config(f){},use(f,...p){return o.has(f)||(f&&It(f.install)?(o.add(f),f.install(u,...p)):It(f)&&(o.add(f),f(u,...p))),u},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),u},component(f,p){return p?(a.components[f]=p,u):a.components[f]},directive(f,p){return p?(a.directives[f]=p,u):a.directives[f]},mount(f,p,b){if(!l){const C=u._ceVNode||$r(n,i);return C.appContext=a,b===!0?b="svg":b===!1&&(b=void 0),t(C,f,b),l=!0,u._container=f,f.__vue_app__=u,Dd(C.component)}},onUnmount(f){s.push(f)},unmount(){l&&(oa(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,p){return a.provides[f]=p,u},runWithContext(f){const p=vl;vl=u;try{return f()}finally{vl=p}}};return u}}let vl=null;const wse=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ci(e)}Modifiers`]||t[`${As(e)}Modifiers`];function kse(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||hr;let i=r;const a=e.startsWith("update:"),o=a&&wse(n,e.slice(7));o&&(o.trim&&(i=r.map(f=>_r(f)?f.trim():f)),o.number&&(i=r.map(Qm)));let s,l=n[s=Ip(e)]||n[s=Ip(Ci(e))];!l&&a&&(l=n[s=Ip(As(e))]),l&&oa(l,t,6,i);const u=n[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,oa(u,t,6,i)}}const Cse=new WeakMap;function iT(t,e,r=!1){const n=r?Cse:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let o={},s=!1;if(!It(t)){const l=u=>{const f=iT(u,e,!0);f&&(s=!0,cn(o,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?(vr(t)&&n.set(t,null),null):(Rt(a)?a.forEach(l=>o[l]=null):cn(o,a),vr(t)&&n.set(t,o),o)}function Od(t,e){return!t||!md(e)?!1:(e=e.slice(2).replace(/Once$/,""),or(t,e[0].toLowerCase()+e.slice(1))||or(t,As(e))||or(t,e))}function Gb(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:p,data:b,setupState:C,ctx:T,inheritAttrs:M}=t,N=Rf(t);let B,U;try{if(r.shapeFlag&4){const Z=i||n,ce=Z;B=ea(u.call(ce,Z,f,p,C,b,T)),U=s}else{const Z=e;B=ea(Z.length>1?Z(p,{attrs:s,slots:o,emit:l}):Z(p,null)),U=e.props?s:Tse(s)}}catch(Z){Tu.length=0,Td(Z,t,1),B=$r(So)}let X=B;if(U&&M!==!1){const Z=Object.keys(U),{shapeFlag:ce}=X;Z.length&&ce&7&&(a&&Z.some(Jm)&&(U=xse(U,a)),X=wl(X,U,!1,!0))}return r.dirs&&(X=wl(X,null,!1,!0),X.dirs=X.dirs?X.dirs.concat(r.dirs):r.dirs),r.transition&&lg(X,r.transition),B=X,Rf(N),B}const Tse=t=>{let e;for(const r in t)(r==="class"||r==="style"||md(r))&&((e||(e={}))[r]=t[r]);return e},xse=(t,e)=>{const r={};for(const n in t)(!Jm(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Sse(t,e,r){const{props:n,children:i,component:a}=t,{props:o,children:s,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Kb(n,o,u):!!o;if(l&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const b=f[p];if(o[b]!==n[b]&&!Od(u,b))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?Kb(n,o,u):!0:!!o;return!1}function Kb(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a]&&!Od(r,a))return!0}return!1}function Ese({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const aT={},oT=()=>Object.create(aT),sT=t=>Object.getPrototypeOf(t)===aT;function Mse(t,e,r,n=!1){const i={},a=oT();t.propsDefaults=Object.create(null),lT(t,e,i,a);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:HC(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function Ose(t,e,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=t,s=ar(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let b=f[p];if(Od(t.emitsOptions,b))continue;const C=e[b];if(l)if(or(a,b))C!==a[b]&&(a[b]=C,u=!0);else{const T=Ci(b);i[T]=Jv(l,s,T,C,t,!1)}else C!==a[b]&&(a[b]=C,u=!0)}}}else{lT(t,e,i,a)&&(u=!0);let f;for(const p in s)(!e||!or(e,p)&&((f=As(p))===p||!or(e,f)))&&(l?r&&(r[p]!==void 0||r[f]!==void 0)&&(i[p]=Jv(l,s,p,void 0,t,!0)):delete i[p]);if(a!==s)for(const p in a)(!e||!or(e,p))&&(delete a[p],u=!0)}u&&Ra(t.attrs,"set","")}function lT(t,e,r,n){const[i,a]=t.propsOptions;let o=!1,s;if(e)for(let l in e){if(mu(l))continue;const u=e[l];let f;i&&or(i,f=Ci(l))?!a||!a.includes(f)?r[f]=u:(s||(s={}))[f]=u:Od(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=ar(r),u=s||hr;for(let f=0;f<a.length;f++){const p=a[f];r[p]=Jv(i,l,p,u[p],t,!or(u,p))}}return o}function Jv(t,e,r,n,i,a){const o=t[r];if(o!=null){const s=or(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&It(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=Ku(i);n=u[r]=l.call(null,e),f()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===As(r))&&(n=!0))}return n}const Ase=new WeakMap;function uT(t,e,r=!1){const n=r?Ase:e.propsCache,i=n.get(t);if(i)return i;const a=t.props,o={},s=[];let l=!1;if(!It(t)){const f=p=>{l=!0;const[b,C]=uT(p,e,!0);cn(o,b),C&&s.push(...C)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!a&&!l)return vr(t)&&n.set(t,fl),fl;if(Rt(a))for(let f=0;f<a.length;f++){const p=Ci(a[f]);Jb(p)&&(o[p]=hr)}else if(a)for(const f in a){const p=Ci(f);if(Jb(p)){const b=a[f],C=o[p]=Rt(b)||It(b)?{type:b}:cn({},b),T=C.type;let M=!1,N=!0;if(Rt(T))for(let B=0;B<T.length;++B){const U=T[B],X=It(U)&&U.name;if(X==="Boolean"){M=!0;break}else X==="String"&&(N=!1)}else M=It(T)&&T.name==="Boolean";C[0]=M,C[1]=N,(M||or(C,"default"))&&s.push(p)}}const u=[o,s];return vr(t)&&n.set(t,u),u}function Jb(t){return t[0]!=="$"&&!mu(t)}const ug=t=>t==="_"||t==="_ctx"||t==="$stable",cg=t=>Rt(t)?t.map(ea):[ea(t)],Nse=(t,e,r)=>{if(e._n)return e;const n=Lf((...i)=>cg(e(...i)),r);return n._c=!1,n},cT=(t,e,r)=>{const n=t._ctx;for(const i in t){if(ug(i))continue;const a=t[i];if(It(a))e[i]=Nse(i,a,n);else if(a!=null){const o=cg(a);e[i]=()=>o}}},fT=(t,e)=>{const r=cg(e);t.slots.default=()=>r},dT=(t,e,r)=>{for(const n in e)(r||!ug(n))&&(t[n]=e[n])},Dse=(t,e,r)=>{const n=t.slots=oT();if(t.vnode.shapeFlag&32){const i=e._;i?(dT(n,e,r),r&&CC(n,"_",i,!0)):cT(e,n)}else e&&fT(t,e)},Rse=(t,e,r)=>{const{vnode:n,slots:i}=t;let a=!0,o=hr;if(n.shapeFlag&32){const s=e._;s?r&&s===1?a=!1:dT(i,e,r):(a=!e.$stable,cT(e,i)),o=e}else e&&(fT(t,e),o={default:1});if(a)for(const s in i)!ug(s)&&o[s]==null&&delete i[s]},ti=Bse;function Lse(t){return Ise(t)}function Ise(t,e){const r=wd();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:p,nextSibling:b,setScopeId:C=na,insertStaticContent:T}=t,M=(I,$,Y,pe=null,ye=null,Te=null,Pe=void 0,He=null,_e=!!$.dynamicChildren)=>{if(I===$)return;I&&!tu(I,$)&&(pe=Ne(I),lt(I,ye,Te,!0),I=null),$.patchFlag===-2&&(_e=!1,$.dynamicChildren=null);const{type:Ie,ref:et,shapeFlag:Ye}=$;switch(Ie){case Ad:N(I,$,Y,pe);break;case So:B(I,$,Y,pe);break;case Vp:I==null&&U($,Y,pe,Pe);break;case Gr:Ke(I,$,Y,pe,ye,Te,Pe,He,_e);break;default:Ye&1?ce(I,$,Y,pe,ye,Te,Pe,He,_e):Ye&6?Tt(I,$,Y,pe,ye,Te,Pe,He,_e):(Ye&64||Ye&128)&&Ie.process(I,$,Y,pe,ye,Te,Pe,He,_e,ee)}et!=null&&ye?wu(et,I&&I.ref,Te,$||I,!$):et==null&&I&&I.ref!=null&&wu(I.ref,null,Te,I,!0)},N=(I,$,Y,pe)=>{if(I==null)n($.el=s($.children),Y,pe);else{const ye=$.el=I.el;$.children!==I.children&&u(ye,$.children)}},B=(I,$,Y,pe)=>{I==null?n($.el=l($.children||""),Y,pe):$.el=I.el},U=(I,$,Y,pe)=>{[I.el,I.anchor]=T(I.children,$,Y,pe,I.el,I.anchor)},X=({el:I,anchor:$},Y,pe)=>{let ye;for(;I&&I!==$;)ye=b(I),n(I,Y,pe),I=ye;n($,Y,pe)},Z=({el:I,anchor:$})=>{let Y;for(;I&&I!==$;)Y=b(I),i(I),I=Y;i($)},ce=(I,$,Y,pe,ye,Te,Pe,He,_e)=>{if($.type==="svg"?Pe="svg":$.type==="math"&&(Pe="mathml"),I==null)le($,Y,pe,ye,Te,Pe,He,_e);else{const Ie=I.el&&I.el._isVueCE?I.el:null;try{Ie&&Ie._beginPatch(),Oe(I,$,ye,Te,Pe,He,_e)}finally{Ie&&Ie._endPatch()}}},le=(I,$,Y,pe,ye,Te,Pe,He)=>{let _e,Ie;const{props:et,shapeFlag:Ye,transition:dt,dirs:yt}=I;if(_e=I.el=o(I.type,Te,et&&et.is,et),Ye&8?f(_e,I.children):Ye&16&&ge(I.children,_e,null,pe,ye,Hp(I,Te),Pe,He),yt&&Go(I,null,pe,"created"),se(_e,I,I.scopeId,Pe,pe),et){for(const $e in et)$e!=="value"&&!mu($e)&&a(_e,$e,null,et[$e],Te,pe);"value"in et&&a(_e,"value",null,et.value,Te),(Ie=et.onVnodeBeforeMount)&&Ki(Ie,pe,I)}yt&&Go(I,null,pe,"beforeMount");const xt=Pse(ye,dt);xt&&dt.beforeEnter(_e),n(_e,$,Y),((Ie=et&&et.onVnodeMounted)||xt||yt)&&ti(()=>{Ie&&Ki(Ie,pe,I),xt&&dt.enter(_e),yt&&Go(I,null,pe,"mounted")},ye)},se=(I,$,Y,pe,ye)=>{if(Y&&C(I,Y),pe)for(let Te=0;Te<pe.length;Te++)C(I,pe[Te]);if(ye){let Te=ye.subTree;if($===Te||mT(Te.type)&&(Te.ssContent===$||Te.ssFallback===$)){const Pe=ye.vnode;se(I,Pe,Pe.scopeId,Pe.slotScopeIds,ye.parent)}}},ge=(I,$,Y,pe,ye,Te,Pe,He,_e=0)=>{for(let Ie=_e;Ie<I.length;Ie++){const et=I[Ie]=He?oo(I[Ie]):ea(I[Ie]);M(null,et,$,Y,pe,ye,Te,Pe,He)}},Oe=(I,$,Y,pe,ye,Te,Pe)=>{const He=$.el=I.el;let{patchFlag:_e,dynamicChildren:Ie,dirs:et}=$;_e|=I.patchFlag&16;const Ye=I.props||hr,dt=$.props||hr;let yt;if(Y&&Ko(Y,!1),(yt=dt.onVnodeBeforeUpdate)&&Ki(yt,Y,$,I),et&&Go($,I,Y,"beforeUpdate"),Y&&Ko(Y,!0),(Ye.innerHTML&&dt.innerHTML==null||Ye.textContent&&dt.textContent==null)&&f(He,""),Ie?Ge(I.dynamicChildren,Ie,He,Y,pe,Hp($,ye),Te):Pe||Qe(I,$,He,null,Y,pe,Hp($,ye),Te,!1),_e>0){if(_e&16)pt(He,Ye,dt,Y,ye);else if(_e&2&&Ye.class!==dt.class&&a(He,"class",null,dt.class,ye),_e&4&&a(He,"style",Ye.style,dt.style,ye),_e&8){const xt=$.dynamicProps;for(let $e=0;$e<xt.length;$e++){const Ue=xt[$e],ht=Ye[Ue],bt=dt[Ue];(bt!==ht||Ue==="value")&&a(He,Ue,ht,bt,ye,Y)}}_e&1&&I.children!==$.children&&f(He,$.children)}else!Pe&&Ie==null&&pt(He,Ye,dt,Y,ye);((yt=dt.onVnodeUpdated)||et)&&ti(()=>{yt&&Ki(yt,Y,$,I),et&&Go($,I,Y,"updated")},pe)},Ge=(I,$,Y,pe,ye,Te,Pe)=>{for(let He=0;He<$.length;He++){const _e=I[He],Ie=$[He],et=_e.el&&(_e.type===Gr||!tu(_e,Ie)||_e.shapeFlag&198)?p(_e.el):Y;M(_e,Ie,et,null,pe,ye,Te,Pe,!0)}},pt=(I,$,Y,pe,ye)=>{if($!==Y){if($!==hr)for(const Te in $)!mu(Te)&&!(Te in Y)&&a(I,Te,$[Te],null,ye,pe);for(const Te in Y){if(mu(Te))continue;const Pe=Y[Te],He=$[Te];Pe!==He&&Te!=="value"&&a(I,Te,He,Pe,ye,pe)}"value"in Y&&a(I,"value",$.value,Y.value,ye)}},Ke=(I,$,Y,pe,ye,Te,Pe,He,_e)=>{const Ie=$.el=I?I.el:s(""),et=$.anchor=I?I.anchor:s("");let{patchFlag:Ye,dynamicChildren:dt,slotScopeIds:yt}=$;yt&&(He=He?He.concat(yt):yt),I==null?(n(Ie,Y,pe),n(et,Y,pe),ge($.children||[],Y,et,ye,Te,Pe,He,_e)):Ye>0&&Ye&64&&dt&&I.dynamicChildren&&I.dynamicChildren.length===dt.length?(Ge(I.dynamicChildren,dt,Y,ye,Te,Pe,He),($.key!=null||ye&&$===ye.subTree)&&hT(I,$,!0)):Qe(I,$,Y,et,ye,Te,Pe,He,_e)},Tt=(I,$,Y,pe,ye,Te,Pe,He,_e)=>{$.slotScopeIds=He,I==null?$.shapeFlag&512?ye.ctx.activate($,Y,pe,Pe,_e):Xe($,Y,pe,ye,Te,Pe,_e):Se(I,$,_e)},Xe=(I,$,Y,pe,ye,Te,Pe)=>{const He=I.component=Use(I,pe,ye);if(QC(I)&&(He.ctx.renderer=ee),Wse(He,!1,Pe),He.asyncDep){if(ye&&ye.registerDep(He,ze,Pe),!I.el){const _e=He.subTree=$r(So);B(null,_e,$,Y),I.placeholder=_e.el}}else ze(He,I,$,Y,ye,Te,Pe)},Se=(I,$,Y)=>{const pe=$.component=I.component;if(Sse(I,$,Y))if(pe.asyncDep&&!pe.asyncResolved){Ve(pe,$,Y);return}else pe.next=$,pe.update();else $.el=I.el,pe.vnode=$},ze=(I,$,Y,pe,ye,Te,Pe)=>{const He=()=>{if(I.isMounted){let{next:Ye,bu:dt,u:yt,parent:xt,vnode:$e}=I;{const rr=pT(I);if(rr){Ye&&(Ye.el=$e.el,Ve(I,Ye,Pe)),rr.asyncDep.then(()=>{I.isUnmounted||He()});return}}let Ue=Ye,ht;Ko(I,!1),Ye?(Ye.el=$e.el,Ve(I,Ye,Pe)):Ye=$e,dt&&df(dt),(ht=Ye.props&&Ye.props.onVnodeBeforeUpdate)&&Ki(ht,xt,Ye,$e),Ko(I,!0);const bt=Gb(I),Ot=I.subTree;I.subTree=bt,M(Ot,bt,p(Ot.el),Ne(Ot),I,ye,Te),Ye.el=bt.el,Ue===null&&Ese(I,bt.el),yt&&ti(yt,ye),(ht=Ye.props&&Ye.props.onVnodeUpdated)&&ti(()=>Ki(ht,xt,Ye,$e),ye)}else{let Ye;const{el:dt,props:yt}=$,{bm:xt,m:$e,parent:Ue,root:ht,type:bt}=I,Ot=ku($);Ko(I,!1),xt&&df(xt),!Ot&&(Ye=yt&&yt.onVnodeBeforeMount)&&Ki(Ye,Ue,$),Ko(I,!0);{ht.ce&&ht.ce._def.shadowRoot!==!1&&ht.ce._injectChildStyle(bt);const rr=I.subTree=Gb(I);M(null,rr,Y,pe,I,ye,Te),$.el=rr.el}if($e&&ti($e,ye),!Ot&&(Ye=yt&&yt.onVnodeMounted)){const rr=$;ti(()=>Ki(Ye,Ue,rr),ye)}($.shapeFlag&256||Ue&&ku(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&I.a&&ti(I.a,ye),I.isMounted=!0,$=Y=pe=null}};I.scope.on();const _e=I.effect=new EC(He);I.scope.off();const Ie=I.update=_e.run.bind(_e),et=I.job=_e.runIfDirty.bind(_e);et.i=I,et.id=I.uid,_e.scheduler=()=>sg(et),Ko(I,!0),Ie()},Ve=(I,$,Y)=>{$.component=I;const pe=I.vnode.props;I.vnode=$,I.next=null,Ose(I,$.props,pe,Y),Rse(I,$.children,Y),Ha(),Hb(I),Va()},Qe=(I,$,Y,pe,ye,Te,Pe,He,_e=!1)=>{const Ie=I&&I.children,et=I?I.shapeFlag:0,Ye=$.children,{patchFlag:dt,shapeFlag:yt}=$;if(dt>0){if(dt&128){st(Ie,Ye,Y,pe,ye,Te,Pe,He,_e);return}else if(dt&256){Ht(Ie,Ye,Y,pe,ye,Te,Pe,He,_e);return}}yt&8?(et&16&&Vt(Ie,ye,Te),Ye!==Ie&&f(Y,Ye)):et&16?yt&16?st(Ie,Ye,Y,pe,ye,Te,Pe,He,_e):Vt(Ie,ye,Te,!0):(et&8&&f(Y,""),yt&16&&ge(Ye,Y,pe,ye,Te,Pe,He,_e))},Ht=(I,$,Y,pe,ye,Te,Pe,He,_e)=>{I=I||fl,$=$||fl;const Ie=I.length,et=$.length,Ye=Math.min(Ie,et);let dt;for(dt=0;dt<Ye;dt++){const yt=$[dt]=_e?oo($[dt]):ea($[dt]);M(I[dt],yt,Y,null,ye,Te,Pe,He,_e)}Ie>et?Vt(I,ye,Te,!0,!1,Ye):ge($,Y,pe,ye,Te,Pe,He,_e,Ye)},st=(I,$,Y,pe,ye,Te,Pe,He,_e)=>{let Ie=0;const et=$.length;let Ye=I.length-1,dt=et-1;for(;Ie<=Ye&&Ie<=dt;){const yt=I[Ie],xt=$[Ie]=_e?oo($[Ie]):ea($[Ie]);if(tu(yt,xt))M(yt,xt,Y,null,ye,Te,Pe,He,_e);else break;Ie++}for(;Ie<=Ye&&Ie<=dt;){const yt=I[Ye],xt=$[dt]=_e?oo($[dt]):ea($[dt]);if(tu(yt,xt))M(yt,xt,Y,null,ye,Te,Pe,He,_e);else break;Ye--,dt--}if(Ie>Ye){if(Ie<=dt){const yt=dt+1,xt=yt<et?$[yt].el:pe;for(;Ie<=dt;)M(null,$[Ie]=_e?oo($[Ie]):ea($[Ie]),Y,xt,ye,Te,Pe,He,_e),Ie++}}else if(Ie>dt)for(;Ie<=Ye;)lt(I[Ie],ye,Te,!0),Ie++;else{const yt=Ie,xt=Ie,$e=new Map;for(Ie=xt;Ie<=dt;Ie++){const nr=$[Ie]=_e?oo($[Ie]):ea($[Ie]);nr.key!=null&&$e.set(nr.key,Ie)}let Ue,ht=0;const bt=dt-xt+1;let Ot=!1,rr=0;const Gt=new Array(bt);for(Ie=0;Ie<bt;Ie++)Gt[Ie]=0;for(Ie=yt;Ie<=Ye;Ie++){const nr=I[Ie];if(ht>=bt){lt(nr,ye,Te,!0);continue}let mr;if(nr.key!=null)mr=$e.get(nr.key);else for(Ue=xt;Ue<=dt;Ue++)if(Gt[Ue-xt]===0&&tu(nr,$[Ue])){mr=Ue;break}mr===void 0?lt(nr,ye,Te,!0):(Gt[mr-xt]=Ie+1,mr>=rr?rr=mr:Ot=!0,M(nr,$[mr],Y,null,ye,Te,Pe,He,_e),ht++)}const ur=Ot?_se(Gt):fl;for(Ue=ur.length-1,Ie=bt-1;Ie>=0;Ie--){const nr=xt+Ie,mr=$[nr],gr=$[nr+1],Fr=nr+1<et?gr.el||vT(gr):pe;Gt[Ie]===0?M(null,mr,Y,Fr,ye,Te,Pe,He,_e):Ot&&(Ue<0||Ie!==ur[Ue]?vt(mr,Y,Fr,2):Ue--)}}},vt=(I,$,Y,pe,ye=null)=>{const{el:Te,type:Pe,transition:He,children:_e,shapeFlag:Ie}=I;if(Ie&6){vt(I.component.subTree,$,Y,pe);return}if(Ie&128){I.suspense.move($,Y,pe);return}if(Ie&64){Pe.move(I,$,Y,ee);return}if(Pe===Gr){n(Te,$,Y);for(let Ye=0;Ye<_e.length;Ye++)vt(_e[Ye],$,Y,pe);n(I.anchor,$,Y);return}if(Pe===Vp){X(I,$,Y);return}if(pe!==2&&Ie&1&&He)if(pe===0)He.beforeEnter(Te),n(Te,$,Y),ti(()=>He.enter(Te),ye);else{const{leave:Ye,delayLeave:dt,afterLeave:yt}=He,xt=()=>{I.ctx.isUnmounted?i(Te):n(Te,$,Y)},$e=()=>{Te._isLeaving&&Te[Yoe](!0),Ye(Te,()=>{xt(),yt&&yt()})};dt?dt(Te,xt,$e):$e()}else n(Te,$,Y)},lt=(I,$,Y,pe=!1,ye=!1)=>{const{type:Te,props:Pe,ref:He,children:_e,dynamicChildren:Ie,shapeFlag:et,patchFlag:Ye,dirs:dt,cacheIndex:yt}=I;if(Ye===-2&&(ye=!1),He!=null&&(Ha(),wu(He,null,Y,I,!0),Va()),yt!=null&&($.renderCache[yt]=void 0),et&256){$.ctx.deactivate(I);return}const xt=et&1&&dt,$e=!ku(I);let Ue;if($e&&(Ue=Pe&&Pe.onVnodeBeforeUnmount)&&Ki(Ue,$,I),et&6)Qt(I.component,Y,pe);else{if(et&128){I.suspense.unmount(Y,pe);return}xt&&Go(I,null,$,"beforeUnmount"),et&64?I.type.remove(I,$,Y,ee,pe):Ie&&!Ie.hasOnce&&(Te!==Gr||Ye>0&&Ye&64)?Vt(Ie,$,Y,!1,!0):(Te===Gr&&Ye&384||!ye&&et&16)&&Vt(_e,$,Y),pe&&At(I)}($e&&(Ue=Pe&&Pe.onVnodeUnmounted)||xt)&&ti(()=>{Ue&&Ki(Ue,$,I),xt&&Go(I,null,$,"unmounted")},Y)},At=I=>{const{type:$,el:Y,anchor:pe,transition:ye}=I;if($===Gr){Nt(Y,pe);return}if($===Vp){Z(I);return}const Te=()=>{i(Y),ye&&!ye.persisted&&ye.afterLeave&&ye.afterLeave()};if(I.shapeFlag&1&&ye&&!ye.persisted){const{leave:Pe,delayLeave:He}=ye,_e=()=>Pe(Y,Te);He?He(I.el,Te,_e):_e()}else Te()},Nt=(I,$)=>{let Y;for(;I!==$;)Y=b(I),i(I),I=Y;i($)},Qt=(I,$,Y)=>{const{bum:pe,scope:ye,job:Te,subTree:Pe,um:He,m:_e,a:Ie}=I;Xb(_e),Xb(Ie),pe&&df(pe),ye.stop(),Te&&(Te.flags|=8,lt(Pe,I,$,Y)),He&&ti(He,$),ti(()=>{I.isUnmounted=!0},$)},Vt=(I,$,Y,pe=!1,ye=!1,Te=0)=>{for(let Pe=Te;Pe<I.length;Pe++)lt(I[Pe],$,Y,pe,ye)},Ne=I=>{if(I.shapeFlag&6)return Ne(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const $=b(I.anchor||I.el),Y=$&&$[Joe];return Y?b(Y):$};let fe=!1;const ie=(I,$,Y)=>{let pe;I==null?$._vnode&&(lt($._vnode,null,null,!0),pe=$._vnode.component):M($._vnode||null,I,$,null,null,null,Y),$._vnode=I,fe||(fe=!0,Hb(pe),jC(),fe=!1)},ee={p:M,um:lt,m:vt,r:At,mt:Xe,mc:ge,pc:Qe,pbc:Ge,n:Ne,o:t};return{render:ie,hydrate:void 0,createApp:bse(ie)}}function Hp({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Ko({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Pse(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function hT(t,e,r=!1){const n=t.children,i=e.children;if(Rt(n)&&Rt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=oo(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&hT(o,s)),s.type===Ad&&(s.patchFlag!==-1?s.el=o.el:s.__elIndex=a+(t.type===Gr?1:0)),s.type===So&&!s.el&&(s.el=o.el)}}function _se(t){const e=t.slice(),r=[0];let n,i,a,o,s;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,t[r[s]]<u?a=s+1:o=s;u<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=e[o];return r}function pT(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:pT(e)}function Xb(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function vT(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?vT(e.subTree):null}const mT=t=>t.__isSuspense;function Bse(t,e){e&&e.pendingBranch?Rt(t)?e.effects.push(...t):e.effects.push(t):joe(t)}const Gr=Symbol.for("v-fgt"),Ad=Symbol.for("v-txt"),So=Symbol.for("v-cmt"),Vp=Symbol.for("v-stc"),Tu=[];let ai=null;function Dt(t=!1){Tu.push(ai=t?null:[])}function Fse(){Tu.pop(),ai=Tu[Tu.length-1]||null}let Iu=1;function _f(t,e=!1){Iu+=t,t<0&&ai&&e&&(ai.hasOnce=!0)}function gT(t){return t.dynamicChildren=Iu>0?ai||fl:null,Fse(),Iu>0&&ai&&ai.push(t),t}function qt(t,e,r,n,i,a){return gT(Me(t,e,r,n,i,a,!0))}function Nd(t,e,r,n,i){return gT($r(t,e,r,n,i,!0))}function Bf(t){return t?t.__v_isVNode===!0:!1}function tu(t,e){return t.type===e.type&&t.key===e.key}const yT=({key:t})=>t??null,pf=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?_r(t)||wn(t)||It(t)?{i:ii,r:t,k:e,f:!!r}:t:null);function Me(t,e=null,r=null,n=0,i=null,a=t===Gr?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yT(e),ref:e&&pf(e),scopeId:GC,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ii};return s?(fg(l,r),a&128&&t.normalize(l)):r&&(l.shapeFlag|=_r(r)?8:16),Iu>0&&!o&&ai&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ai.push(l),l}const $r=qse;function qse(t,e=null,r=null,n=0,i=null,a=!1){if((!t||t===cse)&&(t=So),Bf(t)){const s=wl(t,e,!0);return r&&fg(s,r),Iu>0&&!a&&ai&&(s.shapeFlag&6?ai[ai.indexOf(t)]=s:ai.push(s)),s.patchFlag=-2,s}if(Yse(t)&&(t=t.__vccOpts),e){e=Hse(e);let{class:s,style:l}=e;s&&!_r(s)&&(e.class=_a(s)),vr(l)&&(og(l)&&!Rt(l)&&(l=cn({},l)),e.style=Zm(l))}const o=_r(t)?1:mT(t)?128:Xoe(t)?64:vr(t)?4:It(t)?2:0;return Me(t,e,r,n,i,o,a,!0)}function Hse(t){return t?og(t)||sT(t)?cn({},t):t:null}function wl(t,e,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=t,u=e?Vse(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&yT(u),ref:e&&e.ref?r&&a?Rt(a)?a.concat(pf(e)):[a,pf(e)]:pf(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wl(t.ssContent),ssFallback:t.ssFallback&&wl(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&lg(f,l.clone(f)),f}function ta(t=" ",e=0){return $r(Ad,null,t,e)}function vn(t="",e=!1){return e?(Dt(),Nd(So,null,t)):$r(So,null,t)}function ea(t){return t==null||typeof t=="boolean"?$r(So):Rt(t)?$r(Gr,null,t.slice()):Bf(t)?oo(t):$r(Ad,null,String(t))}function oo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wl(t)}function fg(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Rt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),fg(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!sT(e)?e._ctx=ii:i===3&&ii&&(ii.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else It(e)?(e={default:e,_ctx:ii},r=32):(e=String(e),n&64?(r=16,e=[ta(e)]):r=8);t.children=e,t.shapeFlag|=r}function Vse(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=_a([e.class,n.class]));else if(i==="style")e.style=Zm([e.style,n.style]);else if(md(i)){const a=e[i],o=n[i];o&&a!==o&&!(Rt(a)&&a.includes(o))&&(e[i]=a?[].concat(a,o):o)}else i!==""&&(e[i]=n[i])}return e}function Ki(t,e,r,n=null){oa(t,e,7,[r,n])}const zse=nT();let $se=0;function Use(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||zse,a={uid:$se++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new voe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uT(n,i),emitsOptions:iT(n,i),emit:null,emitted:null,propsDefaults:hr,inheritAttrs:n.inheritAttrs,ctx:hr,data:hr,props:hr,attrs:hr,slots:hr,refs:hr,setupState:hr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=kse.bind(null,a),t.ce&&t.ce(a),a}let yn=null;const jse=()=>yn||ii;let Ff,Xv;{const t=wd(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};Ff=e("__VUE_INSTANCE_SETTERS__",r=>yn=r),Xv=e("__VUE_SSR_SETTERS__",r=>Pu=r)}const Ku=t=>{const e=yn;return Ff(t),t.scope.on(),()=>{t.scope.off(),Ff(e)}},Yb=()=>{yn&&yn.scope.off(),Ff(null)};function bT(t){return t.vnode.shapeFlag&4}let Pu=!1;function Wse(t,e=!1,r=!1){e&&Xv(e);const{props:n,children:i}=t.vnode,a=bT(t);Mse(t,n,a,e),Dse(t,i,r||e);const o=a?Gse(t,e):void 0;return e&&Xv(!1),o}function Gse(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dse);const{setup:n}=r;if(n){Ha();const i=t.setupContext=n.length>1?Jse(t):null,a=Ku(t),o=Gu(n,t,0,[t.props,i]),s=bC(o);if(Va(),a(),(s||t.sp)&&!ku(t)&&YC(t),s){if(o.then(Yb,Yb),e)return o.then(l=>{Qb(t,l)}).catch(l=>{Td(l,t,0)});t.asyncDep=o}else Qb(t,o)}else wT(t)}function Qb(t,e,r){It(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vr(e)&&(t.setupState=zC(e)),wT(t)}function wT(t,e,r){const n=t.type;t.render||(t.render=n.render||na);{const i=Ku(t);Ha();try{hse(t)}finally{Va(),i()}}}const Kse={get(t,e){return mn(t,"get",""),t[e]}};function Jse(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Kse),slots:t.slots,emit:t.emit,expose:e}}function Dd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(zC(Poe(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Cu)return Cu[r](t)},has(e,r){return r in e||r in Cu}})):t.proxy}function Xse(t,e=!0){return It(t)?t.displayName||t.name:t.name||e&&t.__name}function Yse(t){return It(t)&&"__vccOpts"in t}const Ni=(t,e)=>Hoe(t,e,Pu);function kT(t,e,r){try{_f(-1);const n=arguments.length;return n===2?vr(e)&&!Rt(e)?Bf(e)?$r(t,null,[e]):$r(t,e):$r(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Bf(r)&&(r=[r]),$r(t,e,r))}finally{_f(1)}}const Qse="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yv;const Zb=typeof window<"u"&&window.trustedTypes;if(Zb)try{Yv=Zb.createPolicy("vue",{createHTML:t=>t})}catch{}const CT=Yv?t=>Yv.createHTML(t):t=>t,Zse="http://www.w3.org/2000/svg",ele="http://www.w3.org/1998/Math/MathML",Oa=typeof document<"u"?document:null,ew=Oa&&Oa.createElement("template"),tle={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Oa.createElementNS(Zse,t):e==="mathml"?Oa.createElementNS(ele,t):r?Oa.createElement(t,{is:r}):Oa.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Oa.createTextNode(t),createComment:t=>Oa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Oa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,a){const o=r?r.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{ew.innerHTML=CT(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const s=ew.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},rle=Symbol("_vtc");function nle(t,e,r){const n=t[rle];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const tw=Symbol("_vod"),ile=Symbol("_vsh"),ale=Symbol(""),ole=/(?:^|;)\s*display\s*:/;function sle(t,e,r){const n=t.style,i=_r(r);let a=!1;if(r&&!i){if(e)if(_r(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&vf(n,s,"")}else for(const o in e)r[o]==null&&vf(n,o,"");for(const o in r)o==="display"&&(a=!0),vf(n,o,r[o])}else if(i){if(e!==r){const o=n[ale];o&&(r+=";"+o),n.cssText=r,a=ole.test(r)}}else e&&t.removeAttribute("style");tw in t&&(t[tw]=a?n.display:"",t[ile]&&(n.display="none"))}const rw=/\s*!important$/;function vf(t,e,r){if(Rt(r))r.forEach(n=>vf(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=lle(t,e);rw.test(r)?t.setProperty(As(n),r.replace(rw,""),"important"):t[n]=r}}const nw=["Webkit","Moz","ms"],zp={};function lle(t,e){const r=zp[e];if(r)return r;let n=Ci(e);if(n!=="filter"&&n in t)return zp[e]=n;n=bd(n);for(let i=0;i<nw.length;i++){const a=nw[i]+n;if(a in t)return zp[e]=a}return e}const iw="http://www.w3.org/1999/xlink";function aw(t,e,r,n,i,a=poe(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(iw,e.slice(6,e.length)):t.setAttributeNS(iw,e,r):r==null||a&&!TC(r)?t.removeAttribute(e):t.setAttribute(e,a?"":Oo(r)?String(r):r)}function ow(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?CT(r):r);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const s=typeof t[e];s==="boolean"?r=TC(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function nl(t,e,r,n){t.addEventListener(e,r,n)}function ule(t,e,r,n){t.removeEventListener(e,r,n)}const sw=Symbol("_vei");function cle(t,e,r,n,i=null){const a=t[sw]||(t[sw]={}),o=a[e];if(n&&o)o.value=n;else{const[s,l]=fle(e);if(n){const u=a[e]=ple(n,i);nl(t,s,u,l)}else o&&(ule(t,s,o,l),a[e]=void 0)}}const lw=/(?:Once|Passive|Capture)$/;function fle(t){let e;if(lw.test(t)){e={};let n;for(;n=t.match(lw);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):As(t.slice(2)),e]}let $p=0;const dle=Promise.resolve(),hle=()=>$p||(dle.then(()=>$p=0),$p=Date.now());function ple(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;oa(vle(n,r.value),e,5,[n])};return r.value=t,r.attached=hle(),r}function vle(t,e){if(Rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const uw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mle=(t,e,r,n,i,a)=>{const o=i==="svg";e==="class"?nle(t,n,o):e==="style"?sle(t,r,n):md(e)?Jm(e)||cle(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gle(t,e,n,o))?(ow(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&aw(t,e,n,o,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_r(n))?ow(t,Ci(e),n,a,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),aw(t,e,n,o))};function gle(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&uw(e)&&It(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return uw(e)&&_r(r)?!1:e in t}const cw=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Rt(e)?r=>df(e,r):e};function yle(t){t.target.composing=!0}function fw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Up=Symbol("_assign");function dw(t,e,r){return e&&(t=t.trim()),r&&(t=Qm(t)),t}const il={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[Up]=cw(i);const a=n||i.props&&i.props.type==="number";nl(t,e?"change":"input",o=>{o.target.composing||t[Up](dw(t.value,r,a))}),(r||a)&&nl(t,"change",()=>{t.value=dw(t.value,r,a)}),e||(nl(t,"compositionstart",yle),nl(t,"compositionend",fw),nl(t,"change",fw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},o){if(t[Up]=cw(o),t.composing)return;const s=(a||t.type==="number")&&!/^0\d/.test(t.value)?Qm(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===l)||(t.value=l))}},ble=["ctrl","shift","alt","meta"],wle={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ble.some(r=>t[`${r}Key`]&&!e.includes(r))},mf=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((i,...a)=>{for(let o=0;o<e.length;o++){const s=wle[e[o]];if(s&&s(i,e))return}return t(i,...a)}))},kle=cn({patchProp:mle},tle);let hw;function Cle(){return hw||(hw=Lse(kle))}const Tle=((...t)=>{const e=Cle().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Sle(n);if(!i)return;const a=e._component;!It(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,xle(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function xle(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Sle(t){return _r(t)?document.querySelector(t):t}const Ele="/logo.png",Mle={class:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10"},Ole={class:"container mx-auto px-4 h-16 flex items-center justify-between"},Ale={__name:"AppHeader",emits:["toggle-menu"],setup(t){return(e,r)=>{const n=Md("router-link");return Dt(),qt("header",Mle,[Me("div",Ole,[$r(n,{to:"/",class:"flex items-center"},{default:Lf(()=>[...r[1]||(r[1]=[Me("img",{src:Ele,alt:"Elektron",class:"h-8 mr-3"},null,-1)])]),_:1}),Me("button",{onClick:r[0]||(r[0]=i=>e.$emit("toggle-menu")),"aria-label":"Menu",class:"p-2 text-gray-600 hover:text-elektron-blue focus:outline-none"},[...r[2]||(r[2]=[Me("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])])}}};function TT(t,e){return function(){return t.apply(e,arguments)}}const{toString:Nle}=Object.prototype,{getPrototypeOf:dg}=Object,{iterator:Rd,toStringTag:xT}=Symbol,Ld=(t=>e=>{const r=Nle.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),e=>Ld(e)===t),Id=t=>e=>typeof e===t,{isArray:Fl}=Array,kl=Id("undefined");function Ju(t){return t!==null&&!kl(t)&&t.constructor!==null&&!kl(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ST=Vi("ArrayBuffer");function Dle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ST(t.buffer),e}const Rle=Id("string"),Un=Id("function"),ET=Id("number"),Xu=t=>t!==null&&typeof t=="object",Lle=t=>t===!0||t===!1,gf=t=>{if(Ld(t)!=="object")return!1;const e=dg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xT in t)&&!(Rd in t)},Ile=t=>{if(!Xu(t)||Ju(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ple=Vi("Date"),_le=Vi("File"),Ble=Vi("Blob"),Fle=Vi("FileList"),qle=t=>Xu(t)&&Un(t.pipe),Hle=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=Ld(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},Vle=Vi("URLSearchParams"),[zle,$le,Ule,jle]=["ReadableStream","Request","Response","Headers"].map(Vi),Wle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Fl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Ju(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function MT(t,e){if(Ju(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OT=t=>!kl(t)&&t!==ns;function Qv(){const{caseless:t,skipUndefined:e}=OT(this)&&this||{},r={},n=(i,a)=>{const o=t&&MT(r,a)||a;gf(r[o])&&gf(i)?r[o]=Qv(r[o],i):gf(i)?r[o]=Qv({},i):Fl(i)?r[o]=i.slice():(!e||!kl(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Yu(arguments[i],n);return r}const Gle=(t,e,r,{allOwnKeys:n}={})=>(Yu(e,(i,a)=>{r&&Un(i)?t[a]=TT(i,r):t[a]=i},{allOwnKeys:n}),t),Kle=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jle=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Xle=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&dg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Yle=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Qle=t=>{if(!t)return null;if(Fl(t))return t;let e=t.length;if(!ET(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Zle=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dg(Uint8Array)),eue=(t,e)=>{const n=(t&&t[Rd]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},tue=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},rue=Vi("HTMLFormElement"),nue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),pw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),iue=Vi("RegExp"),AT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Yu(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},aue=t=>{AT(t,(e,r)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Un(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},oue=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Fl(t)?n(t):n(String(t).split(e)),r},sue=()=>{},lue=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uue(t){return!!(t&&Un(t.append)&&t[xT]==="FormData"&&t[Rd])}const cue=t=>{const e=new Array(10),r=(n,i)=>{if(Xu(n)){if(e.indexOf(n)>=0)return;if(Ju(n))return n;if(!("toJSON"in n)){e[i]=n;const a=Fl(n)?[]:{};return Yu(n,(o,s)=>{const l=r(o,i+1);!kl(l)&&(a[s]=l)}),e[i]=void 0,a}}return n};return r(t,0)},fue=Vi("AsyncFunction"),due=t=>t&&(Xu(t)||Un(t))&&Un(t.then)&&Un(t.catch),NT=((t,e)=>t?setImmediate:e?((r,n)=>(ns.addEventListener("message",({source:i,data:a})=>{i===ns&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ns.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Un(ns.postMessage)),hue=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||NT,pue=t=>t!=null&&Un(t[Rd]),Ee={isArray:Fl,isArrayBuffer:ST,isBuffer:Ju,isFormData:Hle,isArrayBufferView:Dle,isString:Rle,isNumber:ET,isBoolean:Lle,isObject:Xu,isPlainObject:gf,isEmptyObject:Ile,isReadableStream:zle,isRequest:$le,isResponse:Ule,isHeaders:jle,isUndefined:kl,isDate:Ple,isFile:_le,isBlob:Ble,isRegExp:iue,isFunction:Un,isStream:qle,isURLSearchParams:Vle,isTypedArray:Zle,isFileList:Fle,forEach:Yu,merge:Qv,extend:Gle,trim:Wle,stripBOM:Kle,inherits:Jle,toFlatObject:Xle,kindOf:Ld,kindOfTest:Vi,endsWith:Yle,toArray:Qle,forEachEntry:eue,matchAll:tue,isHTMLForm:rue,hasOwnProperty:pw,hasOwnProp:pw,reduceDescriptors:AT,freezeMethods:aue,toObjectSet:oue,toCamelCase:nue,noop:sue,toFiniteNumber:lue,findKey:MT,global:ns,isContextDefined:OT,isSpecCompliantForm:uue,toJSONObject:cue,isAsyncFn:fue,isThenable:due,setImmediate:NT,asap:hue,isIterable:pue};function Bt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const DT=Bt.prototype,RT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{RT[t]={value:t}});Object.defineProperties(Bt,RT);Object.defineProperty(DT,"isAxiosError",{value:!0});Bt.from=(t,e,r,n,i,a)=>{const o=Object.create(DT);Ee.toFlatObject(t,o,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Bt.call(o,s,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const vue=null;function Zv(t){return Ee.isPlainObject(t)||Ee.isArray(t)}function LT(t){return Ee.endsWith(t,"[]")?t.slice(0,-2):t}function vw(t,e,r){return t?t.concat(e).map(function(i,a){return i=LT(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function mue(t){return Ee.isArray(t)&&!t.some(Zv)}const gue=Ee.toFlatObject(Ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Pd(t,e,r){if(!Ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,N){return!Ee.isUndefined(N[M])});const n=r.metaTokens,i=r.visitor||f,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(e);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function u(T){if(T===null)return"";if(Ee.isDate(T))return T.toISOString();if(Ee.isBoolean(T))return T.toString();if(!l&&Ee.isBlob(T))throw new Bt("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(T)||Ee.isTypedArray(T)?l&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function f(T,M,N){let B=T;if(T&&!N&&typeof T=="object"){if(Ee.endsWith(M,"{}"))M=n?M:M.slice(0,-2),T=JSON.stringify(T);else if(Ee.isArray(T)&&mue(T)||(Ee.isFileList(T)||Ee.endsWith(M,"[]"))&&(B=Ee.toArray(T)))return M=LT(M),B.forEach(function(X,Z){!(Ee.isUndefined(X)||X===null)&&e.append(o===!0?vw([M],Z,a):o===null?M:M+"[]",u(X))}),!1}return Zv(T)?!0:(e.append(vw(N,M,a),u(T)),!1)}const p=[],b=Object.assign(gue,{defaultVisitor:f,convertValue:u,isVisitable:Zv});function C(T,M){if(!Ee.isUndefined(T)){if(p.indexOf(T)!==-1)throw Error("Circular reference detected in "+M.join("."));p.push(T),Ee.forEach(T,function(B,U){(!(Ee.isUndefined(B)||B===null)&&i.call(e,B,Ee.isString(U)?U.trim():U,M,b))===!0&&C(B,M?M.concat(U):[U])}),p.pop()}}if(!Ee.isObject(t))throw new TypeError("data must be an object");return C(t),e}function mw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function hg(t,e){this._pairs=[],t&&Pd(t,this,e)}const IT=hg.prototype;IT.append=function(e,r){this._pairs.push([e,r])};IT.toString=function(e){const r=e?function(n){return e.call(this,n,mw)}:mw;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function yue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PT(t,e,r){if(!e)return t;const n=r&&r.encode||yue;Ee.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=Ee.isURLSearchParams(e)?e.toString():new hg(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class gw{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ee.forEach(this.handlers,function(n){n!==null&&e(n)})}}const _T={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bue=typeof URLSearchParams<"u"?URLSearchParams:hg,wue=typeof FormData<"u"?FormData:null,kue=typeof Blob<"u"?Blob:null,Cue={isBrowser:!0,classes:{URLSearchParams:bue,FormData:wue,Blob:kue},protocols:["http","https","file","blob","url","data"]},pg=typeof window<"u"&&typeof document<"u",em=typeof navigator=="object"&&navigator||void 0,Tue=pg&&(!em||["ReactNative","NativeScript","NS"].indexOf(em.product)<0),xue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sue=pg&&window.location.href||"http://localhost",Eue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pg,hasStandardBrowserEnv:Tue,hasStandardBrowserWebWorkerEnv:xue,navigator:em,origin:Sue},Symbol.toStringTag,{value:"Module"})),bn={...Eue,...Cue};function Mue(t,e){return Pd(t,new bn.classes.URLSearchParams,{visitor:function(r,n,i,a){return bn.isNode&&Ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Oue(t){return Ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Aue(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function BT(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Ee.isArray(i)?i.length:o,l?(Ee.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Ee.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Ee.isArray(i[o])&&(i[o]=Aue(i[o])),!s)}if(Ee.isFormData(t)&&Ee.isFunction(t.entries)){const r={};return Ee.forEachEntry(t,(n,i)=>{e(Oue(n),i,r,0)}),r}return null}function Nue(t,e,r){if(Ee.isString(t))try{return(e||JSON.parse)(t),Ee.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Qu={transitional:_T,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Ee.isObject(e);if(a&&Ee.isHTMLForm(e)&&(e=new FormData(e)),Ee.isFormData(e))return i?JSON.stringify(BT(e)):e;if(Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e)||Ee.isReadableStream(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Mue(e,this.formSerializer).toString();if((s=Ee.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Pd(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Nue(e)):e}],transformResponse:[function(e){const r=this.transitional||Qu.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(e)||Ee.isReadableStream(e))return e;if(e&&Ee.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?Bt.from(s,Bt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],t=>{Qu.headers[t]={}});const Due=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rue=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Due[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},yw=Symbol("internals");function ru(t){return t&&String(t).trim().toLowerCase()}function yf(t){return t===!1||t==null?t:Ee.isArray(t)?t.map(yf):String(t)}function Lue(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Iue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jp(t,e,r,n,i){if(Ee.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ee.isString(e)){if(Ee.isString(n))return e.indexOf(n)!==-1;if(Ee.isRegExp(n))return n.test(e)}}function Pue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _ue(t,e){const r=Ee.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let jn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,l,u){const f=ru(l);if(!f)throw new Error("header name must be a non-empty string");const p=Ee.findKey(i,f);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=yf(s))}const o=(s,l)=>Ee.forEach(s,(u,f)=>a(u,f,l));if(Ee.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Ee.isString(e)&&(e=e.trim())&&!Iue(e))o(Rue(e),r);else if(Ee.isObject(e)&&Ee.isIterable(e)){let s={},l,u;for(const f of e){if(!Ee.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[u=f[0]]=(l=s[u])?Ee.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(s,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=ru(e),e){const n=Ee.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Lue(i);if(Ee.isFunction(r))return r.call(this,i,n);if(Ee.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ru(e),e){const n=Ee.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||jp(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=ru(o),o){const s=Ee.findKey(n,o);s&&(!r||jp(n,n[s],s,r))&&(delete n[s],i=!0)}}return Ee.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||jp(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Ee.forEach(this,(i,a)=>{const o=Ee.findKey(n,a);if(o){r[o]=yf(i),delete r[a];return}const s=e?Pue(a):String(a).trim();s!==a&&delete r[a],r[s]=yf(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ee.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[yw]=this[yw]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=ru(o);n[s]||(_ue(i,o),n[s]=!0)}return Ee.isArray(e)?e.forEach(a):a(e),this}};jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(jn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ee.freezeMethods(jn);function Wp(t,e){const r=this||Qu,n=e||r,i=jn.from(n.headers);let a=n.data;return Ee.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function FT(t){return!!(t&&t.__CANCEL__)}function ql(t,e,r){Bt.call(this,t??"canceled",Bt.ERR_CANCELED,e,r),this.name="CanceledError"}Ee.inherits(ql,Bt,{__CANCEL__:!0});function qT(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Bt("Request failed with status code "+r.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Bue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fue(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=n[a];o||(o=u),r[i]=l,n[i]=u;let p=a,b=0;for(;p!==i;)b+=r[p++],p=p%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const C=f&&u-f;return C?Math.round(b*1e3/C):void 0}}function que(t,e){let r=0,n=1e3/e,i,a;const o=(u,f=Date.now())=>{r=f,i=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const f=Date.now(),p=f-r;p>=n?o(u,f):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-p)))},()=>i&&o(i)]}const qf=(t,e,r=3)=>{let n=0;const i=Fue(50,250);return que(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),f=o<=s;n=o;const p={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&f?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(p)},r)},bw=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},ww=t=>(...e)=>Ee.asap(()=>t(...e)),Hue=bn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,bn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,Vue=bn.hasStandardBrowserEnv?{write(t,e,r,n,i,a,o){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];Ee.isNumber(r)&&s.push(`expires=${new Date(r).toUTCString()}`),Ee.isString(n)&&s.push(`path=${n}`),Ee.isString(i)&&s.push(`domain=${i}`),a===!0&&s.push("secure"),Ee.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function zue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $ue(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function HT(t,e,r){let n=!zue(e);return t&&(n||r==!1)?$ue(t,e):e}const kw=t=>t instanceof jn?{...t}:t;function gs(t,e){e=e||{};const r={};function n(u,f,p,b){return Ee.isPlainObject(u)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:b},u,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function i(u,f,p,b){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return n(void 0,u,p,b)}else return n(u,f,p,b)}function a(u,f){if(!Ee.isUndefined(f))return n(void 0,f)}function o(u,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function s(u,f,p){if(p in e)return n(u,f);if(p in t)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,f,p)=>i(kw(u),kw(f),p,!0)};return Ee.forEach(Object.keys({...t,...e}),function(f){const p=l[f]||i,b=p(t[f],e[f],f);Ee.isUndefined(b)&&p!==s||(r[f]=b)}),r}const VT=t=>{const e=gs({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;if(e.headers=o=jn.from(o),e.url=PT(HT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ee.isFormData(r)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ee.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,p])=>{u.includes(f.toLowerCase())&&o.set(f,p)})}}if(bn.hasStandardBrowserEnv&&(n&&Ee.isFunction(n)&&(n=n(e)),n||n!==!1&&Hue(e.url))){const l=i&&a&&Vue.read(a);l&&o.set(i,l)}return e},Uue=typeof XMLHttpRequest<"u",jue=Uue&&function(t){return new Promise(function(r,n){const i=VT(t);let a=i.data;const o=jn.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,f,p,b,C,T;function M(){C&&C(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function B(){if(!N)return;const X=jn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),ce={data:!s||s==="text"||s==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:X,config:t,request:N};qT(function(se){r(se),M()},function(se){n(se),M()},ce),N=null}"onloadend"in N?N.onloadend=B:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(B)},N.onabort=function(){N&&(n(new Bt("Request aborted",Bt.ECONNABORTED,t,N)),N=null)},N.onerror=function(Z){const ce=Z&&Z.message?Z.message:"Network Error",le=new Bt(ce,Bt.ERR_NETWORK,t,N);le.event=Z||null,n(le),N=null},N.ontimeout=function(){let Z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ce=i.transitional||_T;i.timeoutErrorMessage&&(Z=i.timeoutErrorMessage),n(new Bt(Z,ce.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,t,N)),N=null},a===void 0&&o.setContentType(null),"setRequestHeader"in N&&Ee.forEach(o.toJSON(),function(Z,ce){N.setRequestHeader(ce,Z)}),Ee.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),s&&s!=="json"&&(N.responseType=i.responseType),u&&([b,T]=qf(u,!0),N.addEventListener("progress",b)),l&&N.upload&&([p,C]=qf(l),N.upload.addEventListener("progress",p),N.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(f=X=>{N&&(n(!X||X.type?new ql(null,t,N):X),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const U=Bue(i.url);if(U&&bn.protocols.indexOf(U)===-1){n(new Bt("Unsupported protocol "+U+":",Bt.ERR_BAD_REQUEST,t));return}N.send(a||null)})},Wue=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Bt?f:new ql(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,a(new Bt(`timeout ${e} of ms exceeded`,Bt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>Ee.asap(s),l}},Gue=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Kue=async function*(t,e){for await(const r of Jue(t))yield*Gue(r,e)},Jue=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Cw=(t,e,r,n)=>{const i=Kue(t,e);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){s(),l.close();return}let p=f.byteLength;if(r){let b=a+=p;r(b)}l.enqueue(new Uint8Array(f))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},Tw=64*1024,{isFunction:Jc}=Ee,Xue=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ee.global),{ReadableStream:xw,TextEncoder:Sw}=Ee.global,Ew=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yue=t=>{t=Ee.merge.call({skipUndefined:!0},Xue,t);const{fetch:e,Request:r,Response:n}=t,i=e?Jc(e):typeof fetch=="function",a=Jc(r),o=Jc(n);if(!i)return!1;const s=i&&Jc(xw),l=i&&(typeof Sw=="function"?(T=>M=>T.encode(M))(new Sw):async T=>new Uint8Array(await new r(T).arrayBuffer())),u=a&&s&&Ew(()=>{let T=!1;const M=new r(bn.origin,{body:new xw,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!M}),f=o&&s&&Ew(()=>Ee.isReadableStream(new n("").body)),p={stream:f&&(T=>T.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!p[T]&&(p[T]=(M,N)=>{let B=M&&M[T];if(B)return B.call(M);throw new Bt(`Response type '${T}' is not supported`,Bt.ERR_NOT_SUPPORT,N)})});const b=async T=>{if(T==null)return 0;if(Ee.isBlob(T))return T.size;if(Ee.isSpecCompliantForm(T))return(await new r(bn.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(T)||Ee.isArrayBuffer(T))return T.byteLength;if(Ee.isURLSearchParams(T)&&(T=T+""),Ee.isString(T))return(await l(T)).byteLength},C=async(T,M)=>{const N=Ee.toFiniteNumber(T.getContentLength());return N??b(M)};return async T=>{let{url:M,method:N,data:B,signal:U,cancelToken:X,timeout:Z,onDownloadProgress:ce,onUploadProgress:le,responseType:se,headers:ge,withCredentials:Oe="same-origin",fetchOptions:Ge}=VT(T),pt=e||fetch;se=se?(se+"").toLowerCase():"text";let Ke=Wue([U,X&&X.toAbortSignal()],Z),Tt=null;const Xe=Ke&&Ke.unsubscribe&&(()=>{Ke.unsubscribe()});let Se;try{if(le&&u&&N!=="get"&&N!=="head"&&(Se=await C(ge,B))!==0){let vt=new r(M,{method:"POST",body:B,duplex:"half"}),lt;if(Ee.isFormData(B)&&(lt=vt.headers.get("content-type"))&&ge.setContentType(lt),vt.body){const[At,Nt]=bw(Se,qf(ww(le)));B=Cw(vt.body,Tw,At,Nt)}}Ee.isString(Oe)||(Oe=Oe?"include":"omit");const ze=a&&"credentials"in r.prototype,Ve={...Ge,signal:Ke,method:N.toUpperCase(),headers:ge.normalize().toJSON(),body:B,duplex:"half",credentials:ze?Oe:void 0};Tt=a&&new r(M,Ve);let Qe=await(a?pt(Tt,Ge):pt(M,Ve));const Ht=f&&(se==="stream"||se==="response");if(f&&(ce||Ht&&Xe)){const vt={};["status","statusText","headers"].forEach(Qt=>{vt[Qt]=Qe[Qt]});const lt=Ee.toFiniteNumber(Qe.headers.get("content-length")),[At,Nt]=ce&&bw(lt,qf(ww(ce),!0))||[];Qe=new n(Cw(Qe.body,Tw,At,()=>{Nt&&Nt(),Xe&&Xe()}),vt)}se=se||"text";let st=await p[Ee.findKey(p,se)||"text"](Qe,T);return!Ht&&Xe&&Xe(),await new Promise((vt,lt)=>{qT(vt,lt,{data:st,headers:jn.from(Qe.headers),status:Qe.status,statusText:Qe.statusText,config:T,request:Tt})})}catch(ze){throw Xe&&Xe(),ze&&ze.name==="TypeError"&&/Load failed|fetch/i.test(ze.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,T,Tt),{cause:ze.cause||ze}):Bt.from(ze,ze&&ze.code,T,Tt)}}},Que=new Map,zT=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,a=[n,i,r];let o=a.length,s=o,l,u,f=Que;for(;s--;)l=a[s],u=f.get(l),u===void 0&&f.set(l,u=s?new Map:Yue(e)),f=u;return u};zT();const vg={http:vue,xhr:jue,fetch:{get:zT}};Ee.forEach(vg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mw=t=>`- ${t}`,Zue=t=>Ee.isFunction(t)||t===null||t===!1;function ece(t,e){t=Ee.isArray(t)?t:[t];const{length:r}=t;let n,i;const a={};for(let o=0;o<r;o++){n=t[o];let s;if(i=n,!Zue(n)&&(i=vg[(s=String(n)).toLowerCase()],i===void 0))throw new Bt(`Unknown adapter '${s}'`);if(i&&(Ee.isFunction(i)||(i=i.get(e))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(Mw).join(`
`):" "+Mw(o[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const $T={getAdapter:ece,adapters:vg};function Gp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ql(null,t)}function Ow(t){return Gp(t),t.headers=jn.from(t.headers),t.data=Wp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$T.getAdapter(t.adapter||Qu.adapter,t)(t).then(function(n){return Gp(t),n.data=Wp.call(t,t.transformResponse,n),n.headers=jn.from(n.headers),n},function(n){return FT(n)||(Gp(t),n&&n.response&&(n.response.data=Wp.call(t,t.transformResponse,n.response),n.response.headers=jn.from(n.response.headers))),Promise.reject(n)})}const UT="1.13.2",_d={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_d[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Aw={};_d.transitional=function(e,r,n){function i(a,o){return"[Axios v"+UT+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new Bt(i(o," has been removed"+(r?" in "+r:"")),Bt.ERR_DEPRECATED);return r&&!Aw[o]&&(Aw[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};_d.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function tce(t,e,r){if(typeof t!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],l=s===void 0||o(s,a,t);if(l!==!0)throw new Bt("option "+a+" must be "+l,Bt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Bt("Unknown option "+a,Bt.ERR_BAD_OPTION)}}const bf={assertOptions:tce,validators:_d},Ji=bf.validators;let fs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gw,response:new gw}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=gs(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&bf.assertOptions(n,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),i!=null&&(Ee.isFunction(i)?r.paramsSerializer={serialize:i}:bf.assertOptions(i,{encode:Ji.function,serialize:Ji.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bf.assertOptions(r,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Ee.merge(a.common,a[r.method]);a&&Ee.forEach(["delete","get","head","post","put","patch","common"],T=>{delete a[T]}),r.headers=jn.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(r)===!1||(l=l&&M.synchronous,s.unshift(M.fulfilled,M.rejected))});const u=[];this.interceptors.response.forEach(function(M){u.push(M.fulfilled,M.rejected)});let f,p=0,b;if(!l){const T=[Ow.bind(this),void 0];for(T.unshift(...s),T.push(...u),b=T.length,f=Promise.resolve(r);p<b;)f=f.then(T[p++],T[p++]);return f}b=s.length;let C=r;for(;p<b;){const T=s[p++],M=s[p++];try{C=T(C)}catch(N){M.call(this,N);break}}try{f=Ow.call(this,C)}catch(T){return Promise.reject(T)}for(p=0,b=u.length;p<b;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=gs(this.defaults,e);const r=HT(e.baseURL,e.url,e.allowAbsoluteUrls);return PT(r,e.params,e.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(e){fs.prototype[e]=function(r,n){return this.request(gs(n||{},{method:e,url:r,data:(n||{}).data}))}});Ee.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(gs(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}fs.prototype[e]=r(),fs.prototype[e+"Form"]=r(!0)});let rce=class jT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new ql(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new jT(function(i){e=i}),cancel:e}}};function nce(t){return function(r){return t.apply(null,r)}}function ice(t){return Ee.isObject(t)&&t.isAxiosError===!0}const tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(tm).forEach(([t,e])=>{tm[e]=t});function WT(t){const e=new fs(t),r=TT(fs.prototype.request,e);return Ee.extend(r,fs.prototype,e,{allOwnKeys:!0}),Ee.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return WT(gs(t,i))},r}const jt=WT(Qu);jt.Axios=fs;jt.CanceledError=ql;jt.CancelToken=rce;jt.isCancel=FT;jt.VERSION=UT;jt.toFormData=Pd;jt.AxiosError=Bt;jt.Cancel=jt.CanceledError;jt.all=function(e){return Promise.all(e)};jt.spread=nce;jt.isAxiosError=ice;jt.mergeConfig=gs;jt.AxiosHeaders=jn;jt.formToJSON=t=>BT(Ee.isHTMLForm(t)?new FormData(t):t);jt.getAdapter=$T.getAdapter;jt.HttpStatusCode=tm;jt.default=jt;const{Axios:Uit,AxiosError:jit,CanceledError:Wit,isCancel:Git,CancelToken:Kit,VERSION:Jit,all:Xit,Cancel:Yit,isAxiosError:Qit,spread:Zit,toFormData:eat,AxiosHeaders:tat,HttpStatusCode:rat,formToJSON:nat,getAdapter:iat,mergeConfig:aat}=jt;function ace(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}async function oce(){return"Notification"in window?Notification.permission:"unsupported"}async function sce(){if(!("serviceWorker"in navigator)||!("PushManager"in window)||localStorage.getItem("push_prompt_dismissed")||Notification.permission!=="default")return!1;const e=window.matchMedia("(display-mode: standalone)").matches;return e||navigator.standalone?!0:e}async function GT(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support");const t=await navigator.serviceWorker.ready,r=(await jt.get("/api/push.php?action=vapid_public_key")).data.publicKey;if(!r)throw new Error("Server VAPID key missing");const n=ace(r),i=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n});return await jt.post("/api/push.php",{action:"subscribe",subscription:i}),i}const lce={key:0,class:"fixed inset-0 z-50 flex justify-end"},uce={class:"relative bg-white w-80 h-full shadow-xl flex flex-col p-6 overflow-y-auto"},cce={class:"flex justify-between items-center mb-8"},fce={class:"flex-grow space-y-4"},dce={class:"border-t pt-4"},hce={key:0,class:"text-green-600 flex items-center"},pce={class:"border-t pt-4 mt-4"},vce={__name:"AppMenu",props:{isOpen:Boolean},emits:["close"],setup(t){const e=dr("default"),r=dr(""),n=dr(!1);async function i(){e.value=await oce()}async function a(){r.value="Registriere...",n.value=!1;try{await GT(),e.value="granted",r.value="Erfolgreich registriert!"}catch(o){console.error(o),n.value=!0,r.value="Fehler: "+o.message}}return Ed(()=>{i()}),(o,s)=>{const l=Md("router-link");return t.isOpen?(Dt(),qt("div",lce,[Me("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s[0]||(s[0]=u=>o.$emit("close"))}),Me("div",uce,[Me("div",cce,[s[5]||(s[5]=Me("h2",{class:"text-xl font-bold text-elektron-blue"},"Menu",-1)),Me("button",{onClick:s[1]||(s[1]=u=>o.$emit("close")),class:"text-gray-500 hover:text-gray-800"},[...s[4]||(s[4]=[Me("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),Me("nav",fce,[$r(l,{to:"/",class:"block text-lg hover:text-elektron-blue",onClick:s[2]||(s[2]=u=>o.$emit("close"))},{default:Lf(()=>[...s[6]||(s[6]=[ta("Dateien",-1)])]),_:1}),Me("div",dce,[s[8]||(s[8]=Me("p",{class:"text-sm text-gray-500 mb-2"},"Push Benachrichtigungen",-1)),e.value==="granted"?(Dt(),qt("div",hce,[...s[7]||(s[7]=[Me("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),ta(" Aktiviert ",-1)])])):(Dt(),qt("button",{key:1,onClick:a,class:"w-full bg-elektron-blue text-white py-2 rounded hover:bg-opacity-90"}," Aktivieren ")),r.value?(Dt(),qt("p",{key:2,class:_a(["text-xs mt-2",n.value?"text-red-500":"text-green-600"])},an(r.value),3)):vn("",!0)]),Me("div",pce,[$r(l,{to:"/admin",class:"block text-gray-600 hover:text-elektron-blue",onClick:s[3]||(s[3]=u=>o.$emit("close"))},{default:Lf(()=>[...s[9]||(s[9]=[ta("Admin Bereich",-1)])]),_:1})])])])])):vn("",!0)}}},mce={class:"min-h-screen flex flex-col"},gce={class:"flex-grow container mx-auto px-4 py-6"},yce={class:"bg-gray-200 text-center py-4 text-sm text-gray-600"},bce={key:0,class:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4"},wce={__name:"App",setup(t){const e=dr(!1),r=dr(!1);async function n(){await sce()&&(r.value=!0)}function i(){r.value=!1,localStorage.setItem("push_prompt_dismissed","true")}async function a(){try{await GT(),r.value=!1}catch(o){console.error(o),alert("Fehler beim Aktivieren: "+o.message)}}return Ed(()=>{n()}),(o,s)=>{const l=Md("router-view");return Dt(),qt("div",mce,[$r(Ale,{onToggleMenu:s[0]||(s[0]=u=>e.value=!e.value)}),$r(vce,{isOpen:e.value,onClose:s[1]||(s[1]=u=>e.value=!1)},null,8,["isOpen"]),Me("main",gce,[$r(l)]),Me("footer",yce,"  "+an(new Date().getFullYear())+" Elektron AG ",1),r.value?(Dt(),qt("div",bce,[Me("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:s[2]||(s[2]=u=>r.value=!1)}),Me("div",{class:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm relative z-10"},[s[3]||(s[3]=Me("h3",{class:"text-lg font-bold text-elektron-blue mb-2"},"Benachrichtigungen aktivieren?",-1)),s[4]||(s[4]=Me("p",{class:"text-gray-600 mb-4"},"Erhalten Sie Updates zu neuen Dateien und wichtigen Meldungen.",-1)),Me("div",{class:"flex space-x-3"},[Me("button",{onClick:i,class:"flex-1 border border-gray-300 py-2 rounded text-gray-700 hover:bg-gray-50"},"Nein, danke"),Me("button",{onClick:a,class:"flex-1 bg-elektron-blue text-white py-2 rounded hover:bg-opacity-90"},"Aktivieren")])])])):vn("",!0)])}}};/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const al=typeof document<"u";function KT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kce(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&KT(t.default)}const ir=Object.assign;function Kp(t,e){const r={};for(const n in e){const i=e[n];r[n]=Fi(i)?i.map(t):t(i)}return r}const xu=()=>{},Fi=Array.isArray;function Nw(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const JT=/#/g,Cce=/&/g,Tce=/\//g,xce=/=/g,Sce=/\?/g,XT=/\+/g,Ece=/%5B/g,Mce=/%5D/g,YT=/%5E/g,Oce=/%60/g,QT=/%7B/g,Ace=/%7C/g,ZT=/%7D/g,Nce=/%20/g;function mg(t){return t==null?"":encodeURI(""+t).replace(Ace,"|").replace(Ece,"[").replace(Mce,"]")}function Dce(t){return mg(t).replace(QT,"{").replace(ZT,"}").replace(YT,"^")}function rm(t){return mg(t).replace(XT,"%2B").replace(Nce,"+").replace(JT,"%23").replace(Cce,"%26").replace(Oce,"`").replace(QT,"{").replace(ZT,"}").replace(YT,"^")}function Rce(t){return rm(t).replace(xce,"%3D")}function Lce(t){return mg(t).replace(JT,"%23").replace(Sce,"%3F")}function Ice(t){return Lce(t).replace(Tce,"%2F")}function _u(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Pce=/\/$/,_ce=t=>t.replace(Pce,"");function Jp(t,e,r="/"){let n,i={},a="",o="";const s=e.indexOf("#");let l=e.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(n=e.slice(0,l),a=e.slice(l,s>0?s:e.length),i=t(a.slice(1))),s>=0&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=Hce(n??e,r),{fullPath:n+a+o,path:n,query:i,hash:_u(o)}}function Bce(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Dw(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Fce(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Cl(e.matched[n],r.matched[i])&&ex(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Cl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ex(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!qce(t[r],e[r]))return!1;return!0}function qce(t,e){return Fi(t)?Rw(t,e):Fi(e)?Rw(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function Rw(t,e){return Fi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Hce(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(o).join("/")}const to={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let nm=(function(t){return t.pop="pop",t.push="push",t})({}),Xp=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Vce(t){if(!t)if(al){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_ce(t)}const zce=/^[^#]+#/;function $ce(t,e){return t.replace(zce,"#")+e}function Uce(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Bd=()=>({left:window.scrollX,top:window.scrollY});function jce(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=Uce(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Lw(t,e){return(history.state?history.state.position-e:-1)+t}const im=new Map;function Wce(t,e){im.set(t,e)}function Gce(t){const e=im.get(t);return im.delete(t),e}function Kce(t){return typeof t=="string"||t&&typeof t=="object"}function tx(t){return typeof t=="string"||typeof t=="symbol"}let Er=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const rx=Symbol("");Er.MATCHER_NOT_FOUND+"",Er.NAVIGATION_GUARD_REDIRECT+"",Er.NAVIGATION_ABORTED+"",Er.NAVIGATION_CANCELLED+"",Er.NAVIGATION_DUPLICATED+"";function Tl(t,e){return ir(new Error,{type:t,[rx]:!0},e)}function Sa(t,e){return t instanceof Error&&rx in t&&(e==null||!!(t.type&e))}const Jce=["params","query","hash"];function Xce(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Jce)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function Yce(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(XT," "),a=i.indexOf("="),o=_u(a<0?i:i.slice(0,a)),s=a<0?null:_u(i.slice(a+1));if(o in e){let l=e[o];Fi(l)||(l=e[o]=[l]),l.push(s)}else e[o]=s}return e}function Iw(t){let e="";for(let r in t){const n=t[r];if(r=Rce(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Fi(n)?n.map(i=>i&&rm(i)):[n&&rm(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function Qce(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Fi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Zce=Symbol(""),Pw=Symbol(""),Fd=Symbol(""),gg=Symbol(""),am=Symbol("");function nu(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function so(t,e,r,n,i,a=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=b=>{b===!1?l(Tl(Er.NAVIGATION_ABORTED,{from:r,to:e})):b instanceof Error?l(b):Kce(b)?l(Tl(Er.NAVIGATION_GUARD_REDIRECT,{from:e,to:b})):(o&&n.enterCallbacks[i]===o&&typeof b=="function"&&o.push(b),s())},f=a(()=>t.call(n&&n.instances[i],e,r,u));let p=Promise.resolve(f);t.length<3&&(p=p.then(u)),p.catch(b=>l(b))})}function Yp(t,e,r,n,i=a=>a()){const a=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(KT(l)){const u=(l.__vccOpts||l)[e];u&&a.push(so(u,r,n,o,s,i))}else{let u=l();a.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const p=kce(f)?f.default:f;o.mods[s]=f,o.components[s]=p;const b=(p.__vccOpts||p)[e];return b&&so(b,r,n,o,s,i)()}))}}return a}function efe(t,e){const r=[],n=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let o=0;o<a;o++){const s=e.matched[o];s&&(t.matched.find(u=>Cl(u,s))?n.push(s):r.push(s));const l=t.matched[o];l&&(e.matched.find(u=>Cl(u,l))||i.push(l))}return[r,n,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tfe=()=>location.protocol+"//"+location.host;function nx(t,e){const{pathname:r,search:n,hash:i}=e,a=t.indexOf("#");if(a>-1){let o=i.includes(t.slice(a))?t.slice(a).length:1,s=i.slice(o);return s[0]!=="/"&&(s="/"+s),Dw(s,"")}return Dw(r,t)+n+i}function rfe(t,e,r,n){let i=[],a=[],o=null;const s=({state:b})=>{const C=nx(t,location),T=r.value,M=e.value;let N=0;if(b){if(r.value=C,e.value=b,o&&o===T){o=null;return}N=M?b.position-M.position:0}else n(C);i.forEach(B=>{B(r.value,T,{delta:N,type:nm.pop,direction:N?N>0?Xp.forward:Xp.back:Xp.unknown})})};function l(){o=r.value}function u(b){i.push(b);const C=()=>{const T=i.indexOf(b);T>-1&&i.splice(T,1)};return a.push(C),C}function f(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(ir({},b.state,{scroll:Bd()}),"")}}function p(){for(const b of a)b();a=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",s),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:l,listen:u,destroy:p}}function _w(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Bd():null}}function nfe(t){const{history:e,location:r}=window,n={value:nx(t,r)},i={value:e.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(l,u,f){const p=t.indexOf("#"),b=p>-1?(r.host&&document.querySelector("base")?t:t.slice(p))+l:tfe()+t+l;try{e[f?"replaceState":"pushState"](u,"",b),i.value=u}catch(C){console.error(C),r[f?"replace":"assign"](b)}}function o(l,u){a(l,ir({},e.state,_w(i.value.back,l,i.value.forward,!0),u,{position:i.value.position}),!0),n.value=l}function s(l,u){const f=ir({},i.value,e.state,{forward:l,scroll:Bd()});a(f.current,f,!0),a(l,ir({},_w(n.value,l,null),{position:f.position+1},u),!1),n.value=l}return{location:n,state:i,push:s,replace:o}}function ife(t){t=Vce(t);const e=nfe(t),r=rfe(t,e.state,e.location,e.replace);function n(a,o=!0){o||r.pauseListeners(),history.go(a)}const i=ir({location:"",base:t,go:n,createHref:$ce.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let is=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Hr=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Hr||{});const afe={type:is.Static,value:""},ofe=/[a-zA-Z0-9_]/;function sfe(t){if(!t)return[[]];if(t==="/")return[[afe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${r})/"${u}": ${C}`)}let r=Hr.Static,n=r;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,l,u="",f="";function p(){u&&(r===Hr.Static?a.push({type:is.Static,value:u}):r===Hr.Param||r===Hr.ParamRegExp||r===Hr.ParamRegExpEnd?(a.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:is.Param,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function b(){u+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&r!==Hr.ParamRegExp){n=r,r=Hr.EscapeNext;continue}switch(r){case Hr.Static:l==="/"?(u&&p(),o()):l===":"?(p(),r=Hr.Param):b();break;case Hr.EscapeNext:b(),r=n;break;case Hr.Param:l==="("?r=Hr.ParamRegExp:ofe.test(l)?b():(p(),r=Hr.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case Hr.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:r=Hr.ParamRegExpEnd:f+=l;break;case Hr.ParamRegExpEnd:p(),r=Hr.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--,f="";break;default:e("Unknown state");break}}return r===Hr.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),p(),o(),i}const Bw="[^/]+?",lfe={sensitive:!1,strict:!1,start:!0,end:!0};var Mn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Mn||{});const ufe=/[.+*?^${}()[\]/\\]/g;function cfe(t,e){const r=ir({},lfe,e),n=[];let i=r.start?"^":"";const a=[];for(const u of t){const f=u.length?[]:[Mn.Root];r.strict&&!u.length&&(i+="/");for(let p=0;p<u.length;p++){const b=u[p];let C=Mn.Segment+(r.sensitive?Mn.BonusCaseSensitive:0);if(b.type===is.Static)p||(i+="/"),i+=b.value.replace(ufe,"\\$&"),C+=Mn.Static;else if(b.type===is.Param){const{value:T,repeatable:M,optional:N,regexp:B}=b;a.push({name:T,repeatable:M,optional:N});const U=B||Bw;if(U!==Bw){C+=Mn.BonusCustomRegExp;try{`${U}`}catch(Z){throw new Error(`Invalid custom RegExp for param "${T}" (${U}): `+Z.message)}}let X=M?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;p||(X=N&&u.length<2?`(?:/${X})`:"/"+X),N&&(X+="?"),i+=X,C+=Mn.Dynamic,N&&(C+=Mn.BonusOptional),M&&(C+=Mn.BonusRepeatable),U===".*"&&(C+=Mn.BonusWildcard)}f.push(C)}n.push(f)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=Mn.BonusStrict}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function s(u){const f=u.match(o),p={};if(!f)return null;for(let b=1;b<f.length;b++){const C=f[b]||"",T=a[b-1];p[T.name]=C&&T.repeatable?C.split("/"):C}return p}function l(u){let f="",p=!1;for(const b of t){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const C of b)if(C.type===is.Static)f+=C.value;else if(C.type===is.Param){const{value:T,repeatable:M,optional:N}=C,B=T in u?u[T]:"";if(Fi(B)&&!M)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const U=Fi(B)?B.join("/"):B;if(!U)if(N)b.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${T}"`);f+=U}}return f||"/"}return{re:o,score:n,keys:a,parse:s,stringify:l}}function ffe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Mn.Static+Mn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Mn.Static+Mn.Segment?1:-1:0}function ix(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const a=ffe(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(Fw(n))return 1;if(Fw(i))return-1}return i.length-n.length}function Fw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dfe={strict:!1,end:!0,sensitive:!1};function hfe(t,e,r){const n=cfe(sfe(t.path),r),i=ir(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pfe(t,e){const r=[],n=new Map;e=Nw(dfe,e);function i(p){return n.get(p)}function a(p,b,C){const T=!C,M=Hw(p);M.aliasOf=C&&C.record;const N=Nw(e,p),B=[M];if("alias"in p){const Z=typeof p.alias=="string"?[p.alias]:p.alias;for(const ce of Z)B.push(Hw(ir({},M,{components:C?C.record.components:M.components,path:ce,aliasOf:C?C.record:M})))}let U,X;for(const Z of B){const{path:ce}=Z;if(b&&ce[0]!=="/"){const le=b.record.path,se=le[le.length-1]==="/"?"":"/";Z.path=b.record.path+(ce&&se+ce)}if(U=hfe(Z,b,N),C?C.alias.push(U):(X=X||U,X!==U&&X.alias.push(U),T&&p.name&&!Vw(U)&&o(p.name)),ax(U)&&l(U),M.children){const le=M.children;for(let se=0;se<le.length;se++)a(le[se],U,C&&C.children[se])}C=C||U}return X?()=>{o(X)}:xu}function o(p){if(tx(p)){const b=n.get(p);b&&(n.delete(p),r.splice(r.indexOf(b),1),b.children.forEach(o),b.alias.forEach(o))}else{const b=r.indexOf(p);b>-1&&(r.splice(b,1),p.record.name&&n.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function s(){return r}function l(p){const b=gfe(p,r);r.splice(b,0,p),p.record.name&&!Vw(p)&&n.set(p.record.name,p)}function u(p,b){let C,T={},M,N;if("name"in p&&p.name){if(C=n.get(p.name),!C)throw Tl(Er.MATCHER_NOT_FOUND,{location:p});N=C.record.name,T=ir(qw(b.params,C.keys.filter(X=>!X.optional).concat(C.parent?C.parent.keys.filter(X=>X.optional):[]).map(X=>X.name)),p.params&&qw(p.params,C.keys.map(X=>X.name))),M=C.stringify(T)}else if(p.path!=null)M=p.path,C=r.find(X=>X.re.test(M)),C&&(T=C.parse(M),N=C.record.name);else{if(C=b.name?n.get(b.name):r.find(X=>X.re.test(b.path)),!C)throw Tl(Er.MATCHER_NOT_FOUND,{location:p,currentLocation:b});N=C.record.name,T=ir({},b.params,p.params),M=C.stringify(T)}const B=[];let U=C;for(;U;)B.unshift(U.record),U=U.parent;return{name:N,path:M,params:T,matched:B,meta:mfe(B)}}t.forEach(p=>a(p));function f(){r.length=0,n.clear()}return{addRoute:a,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:s,getRecordMatcher:i}}function qw(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Hw(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:vfe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function vfe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Vw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mfe(t){return t.reduce((e,r)=>ir(e,r.meta),{})}function gfe(t,e){let r=0,n=e.length;for(;r!==n;){const a=r+n>>1;ix(t,e[a])<0?n=a:r=a+1}const i=yfe(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function yfe(t){let e=t;for(;e=e.parent;)if(ax(e)&&ix(t,e)===0)return e}function ax({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function zw(t){const e=Ii(Fd),r=Ii(gg),n=Ni(()=>{const l=hl(t.to);return e.resolve(l)}),i=Ni(()=>{const{matched:l}=n.value,{length:u}=l,f=l[u-1],p=r.matched;if(!f||!p.length)return-1;const b=p.findIndex(Cl.bind(null,f));if(b>-1)return b;const C=$w(l[u-2]);return u>1&&$w(f)===C&&p[p.length-1].path!==C?p.findIndex(Cl.bind(null,l[u-2])):b}),a=Ni(()=>i.value>-1&&Tfe(r.params,n.value.params)),o=Ni(()=>i.value>-1&&i.value===r.matched.length-1&&ex(r.params,n.value.params));function s(l={}){if(Cfe(l)){const u=e[hl(t.replace)?"replace":"push"](hl(t.to)).catch(xu);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ni(()=>n.value.href),isActive:a,isExactActive:o,navigate:s}}function bfe(t){return t.length===1?t[0]:t}const wfe=XC({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:zw,setup(t,{slots:e}){const r=Cd(zw(t)),{options:n}=Ii(Fd),i=Ni(()=>({[Uw(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Uw(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&bfe(e.default(r));return t.custom?a:kT("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),kfe=wfe;function Cfe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Tfe(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Fi(i)||i.length!==n.length||n.some((a,o)=>a.valueOf()!==i[o].valueOf()))return!1}return!0}function $w(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Uw=(t,e,r)=>t??e??r,xfe=XC({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Ii(am),i=Ni(()=>t.route||n.value),a=Ii(Pw,0),o=Ni(()=>{let u=hl(a);const{matched:f}=i.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),s=Ni(()=>i.value.matched[o.value]);hf(Pw,Ni(()=>o.value+1)),hf(Zce,s),hf(am,i);const l=dr();return bu(()=>[l.value,s.value,t.name],([u,f,p],[b,C,T])=>{f&&(f.instances[p]=u,C&&C!==f&&u&&u===b&&(f.leaveGuards.size||(f.leaveGuards=C.leaveGuards),f.updateGuards.size||(f.updateGuards=C.updateGuards))),u&&f&&(!C||!Cl(f,C)||!b)&&(f.enterCallbacks[p]||[]).forEach(M=>M(u))},{flush:"post"}),()=>{const u=i.value,f=t.name,p=s.value,b=p&&p.components[f];if(!b)return jw(r.default,{Component:b,route:u});const C=p.props[f],T=C?C===!0?u.params:typeof C=="function"?C(u):C:null,N=kT(b,ir({},T,e,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(p.instances[f]=null)},ref:l}));return jw(r.default,{Component:N,route:u})||N}}});function jw(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Sfe=xfe;function Efe(t){const e=pfe(t.routes,t),r=t.parseQuery||Yce,n=t.stringifyQuery||Iw,i=t.history,a=nu(),o=nu(),s=nu(),l=_oe(to);let u=to;al&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Kp.bind(null,Ne=>""+Ne),p=Kp.bind(null,Ice),b=Kp.bind(null,_u);function C(Ne,fe){let ie,ee;return tx(Ne)?(ie=e.getRecordMatcher(Ne),ee=fe):ee=Ne,e.addRoute(ee,ie)}function T(Ne){const fe=e.getRecordMatcher(Ne);fe&&e.removeRoute(fe)}function M(){return e.getRoutes().map(Ne=>Ne.record)}function N(Ne){return!!e.getRecordMatcher(Ne)}function B(Ne,fe){if(fe=ir({},fe||l.value),typeof Ne=="string"){const Y=Jp(r,Ne,fe.path),pe=e.resolve({path:Y.path},fe),ye=i.createHref(Y.fullPath);return ir(Y,pe,{params:b(pe.params),hash:_u(Y.hash),redirectedFrom:void 0,href:ye})}let ie;if(Ne.path!=null)ie=ir({},Ne,{path:Jp(r,Ne.path,fe.path).path});else{const Y=ir({},Ne.params);for(const pe in Y)Y[pe]==null&&delete Y[pe];ie=ir({},Ne,{params:p(Y)}),fe.params=p(fe.params)}const ee=e.resolve(ie,fe),ae=Ne.hash||"";ee.params=f(b(ee.params));const I=Bce(n,ir({},Ne,{hash:Dce(ae),path:ee.path})),$=i.createHref(I);return ir({fullPath:I,hash:ae,query:n===Iw?Qce(Ne.query):Ne.query||{}},ee,{redirectedFrom:void 0,href:$})}function U(Ne){return typeof Ne=="string"?Jp(r,Ne,l.value.path):ir({},Ne)}function X(Ne,fe){if(u!==Ne)return Tl(Er.NAVIGATION_CANCELLED,{from:fe,to:Ne})}function Z(Ne){return se(Ne)}function ce(Ne){return Z(ir(U(Ne),{replace:!0}))}function le(Ne,fe){const ie=Ne.matched[Ne.matched.length-1];if(ie&&ie.redirect){const{redirect:ee}=ie;let ae=typeof ee=="function"?ee(Ne,fe):ee;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=U(ae):{path:ae},ae.params={}),ir({query:Ne.query,hash:Ne.hash,params:ae.path!=null?{}:Ne.params},ae)}}function se(Ne,fe){const ie=u=B(Ne),ee=l.value,ae=Ne.state,I=Ne.force,$=Ne.replace===!0,Y=le(ie,ee);if(Y)return se(ir(U(Y),{state:typeof Y=="object"?ir({},ae,Y.state):ae,force:I,replace:$}),fe||ie);const pe=ie;pe.redirectedFrom=fe;let ye;return!I&&Fce(n,ee,ie)&&(ye=Tl(Er.NAVIGATION_DUPLICATED,{to:pe,from:ee}),vt(ee,ee,!0,!1)),(ye?Promise.resolve(ye):Ge(pe,ee)).catch(Te=>Sa(Te)?Sa(Te,Er.NAVIGATION_GUARD_REDIRECT)?Te:st(Te):Qe(Te,pe,ee)).then(Te=>{if(Te){if(Sa(Te,Er.NAVIGATION_GUARD_REDIRECT))return se(ir({replace:$},U(Te.to),{state:typeof Te.to=="object"?ir({},ae,Te.to.state):ae,force:I}),fe||pe)}else Te=Ke(pe,ee,!0,$,ae);return pt(pe,ee,Te),Te})}function ge(Ne,fe){const ie=X(Ne,fe);return ie?Promise.reject(ie):Promise.resolve()}function Oe(Ne){const fe=Nt.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(Ne):Ne()}function Ge(Ne,fe){let ie;const[ee,ae,I]=efe(Ne,fe);ie=Yp(ee.reverse(),"beforeRouteLeave",Ne,fe);for(const Y of ee)Y.leaveGuards.forEach(pe=>{ie.push(so(pe,Ne,fe))});const $=ge.bind(null,Ne,fe);return ie.push($),Vt(ie).then(()=>{ie=[];for(const Y of a.list())ie.push(so(Y,Ne,fe));return ie.push($),Vt(ie)}).then(()=>{ie=Yp(ae,"beforeRouteUpdate",Ne,fe);for(const Y of ae)Y.updateGuards.forEach(pe=>{ie.push(so(pe,Ne,fe))});return ie.push($),Vt(ie)}).then(()=>{ie=[];for(const Y of I)if(Y.beforeEnter)if(Fi(Y.beforeEnter))for(const pe of Y.beforeEnter)ie.push(so(pe,Ne,fe));else ie.push(so(Y.beforeEnter,Ne,fe));return ie.push($),Vt(ie)}).then(()=>(Ne.matched.forEach(Y=>Y.enterCallbacks={}),ie=Yp(I,"beforeRouteEnter",Ne,fe,Oe),ie.push($),Vt(ie))).then(()=>{ie=[];for(const Y of o.list())ie.push(so(Y,Ne,fe));return ie.push($),Vt(ie)}).catch(Y=>Sa(Y,Er.NAVIGATION_CANCELLED)?Y:Promise.reject(Y))}function pt(Ne,fe,ie){s.list().forEach(ee=>Oe(()=>ee(Ne,fe,ie)))}function Ke(Ne,fe,ie,ee,ae){const I=X(Ne,fe);if(I)return I;const $=fe===to,Y=al?history.state:{};ie&&(ee||$?i.replace(Ne.fullPath,ir({scroll:$&&Y&&Y.scroll},ae)):i.push(Ne.fullPath,ae)),l.value=Ne,vt(Ne,fe,ie,$),st()}let Tt;function Xe(){Tt||(Tt=i.listen((Ne,fe,ie)=>{if(!Qt.listening)return;const ee=B(Ne),ae=le(ee,Qt.currentRoute.value);if(ae){se(ir(ae,{replace:!0,force:!0}),ee).catch(xu);return}u=ee;const I=l.value;al&&Wce(Lw(I.fullPath,ie.delta),Bd()),Ge(ee,I).catch($=>Sa($,Er.NAVIGATION_ABORTED|Er.NAVIGATION_CANCELLED)?$:Sa($,Er.NAVIGATION_GUARD_REDIRECT)?(se(ir(U($.to),{force:!0}),ee).then(Y=>{Sa(Y,Er.NAVIGATION_ABORTED|Er.NAVIGATION_DUPLICATED)&&!ie.delta&&ie.type===nm.pop&&i.go(-1,!1)}).catch(xu),Promise.reject()):(ie.delta&&i.go(-ie.delta,!1),Qe($,ee,I))).then($=>{$=$||Ke(ee,I,!1),$&&(ie.delta&&!Sa($,Er.NAVIGATION_CANCELLED)?i.go(-ie.delta,!1):ie.type===nm.pop&&Sa($,Er.NAVIGATION_ABORTED|Er.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),pt(ee,I,$)}).catch(xu)}))}let Se=nu(),ze=nu(),Ve;function Qe(Ne,fe,ie){st(Ne);const ee=ze.list();return ee.length?ee.forEach(ae=>ae(Ne,fe,ie)):console.error(Ne),Promise.reject(Ne)}function Ht(){return Ve&&l.value!==to?Promise.resolve():new Promise((Ne,fe)=>{Se.add([Ne,fe])})}function st(Ne){return Ve||(Ve=!Ne,Xe(),Se.list().forEach(([fe,ie])=>Ne?ie(Ne):fe()),Se.reset()),Ne}function vt(Ne,fe,ie,ee){const{scrollBehavior:ae}=t;if(!al||!ae)return Promise.resolve();const I=!ie&&Gce(Lw(Ne.fullPath,0))||(ee||!ie)&&history.state&&history.state.scroll||null;return xd().then(()=>ae(Ne,fe,I)).then($=>$&&jce($)).catch($=>Qe($,Ne,fe))}const lt=Ne=>i.go(Ne);let At;const Nt=new Set,Qt={currentRoute:l,listening:!0,addRoute:C,removeRoute:T,clearRoutes:e.clearRoutes,hasRoute:N,getRoutes:M,resolve:B,options:t,push:Z,replace:ce,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:ze.add,isReady:Ht,install(Ne){Ne.component("RouterLink",kfe),Ne.component("RouterView",Sfe),Ne.config.globalProperties.$router=Qt,Object.defineProperty(Ne.config.globalProperties,"$route",{enumerable:!0,get:()=>hl(l)}),al&&!At&&l.value===to&&(At=!0,Z(i.location).catch(ee=>{}));const fe={};for(const ee in to)Object.defineProperty(fe,ee,{get:()=>l.value[ee],enumerable:!0});Ne.provide(Fd,Qt),Ne.provide(gg,HC(fe)),Ne.provide(am,l);const ie=Ne.unmount;Nt.add(Ne),Ne.unmount=function(){Nt.delete(Ne),Nt.size<1&&(u=to,Tt&&Tt(),Tt=null,l.value=to,At=!1,Ve=!1),ie()}}};function Vt(Ne){return Ne.reduce((fe,ie)=>fe.then(()=>Oe(ie)),Promise.resolve())}return Qt}function yg(){return Ii(Fd)}function Mfe(t){return Ii(gg)}function Ofe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qp={exports:{}},Hn={},Oi={},Sn={},Zp,Ww;function Afe(){if(Ww)return Zp;Ww=1;function t(e){this.content=e}return t.prototype={constructor:t,find:function(e){for(var r=0;r<this.content.length;r+=2)if(this.content[r]===e)return r;return-1},get:function(e){var r=this.find(e);return r==-1?void 0:this.content[r+1]},update:function(e,r,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),o=i.content.slice();return a==-1?o.push(n||e,r):(o[a+1]=r,n&&(o[a]=n)),new t(o)},remove:function(e){var r=this.find(e);if(r==-1)return this;var n=this.content.slice();return n.splice(r,2),new t(n)},addToStart:function(e,r){return new t([e,r].concat(this.remove(e).content))},addToEnd:function(e,r){var n=this.remove(e).content.slice();return n.push(e,r),new t(n)},addBefore:function(e,r,n){var i=this.remove(r),a=i.content.slice(),o=i.find(e);return a.splice(o==-1?a.length:o,0,r,n),new t(a)},forEach:function(e){for(var r=0;r<this.content.length;r+=2)e(this.content[r],this.content[r+1])},prepend:function(e){return e=t.from(e),e.size?new t(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=t.from(e),e.size?new t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var r=this;e=t.from(e);for(var n=0;n<e.content.length;n+=2)r=r.remove(e.content[n]);return r},toObject:function(){var e={};return this.forEach(function(r,n){e[r]=n}),e},get size(){return this.content.length>>1}},t.from=function(e){if(e instanceof t)return e;var r=[];if(e)for(var n in e)r.push(n,e[n]);return new t(r)},Zp=t,Zp}var Gw;function qd(){if(Gw)return Sn;Gw=1;function t(F,O){var y=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!y){if(Array.isArray(F)||(y=e(F))||O){y&&(F=y);var x=0,R=function(){};return{s:R,n:function(){return x>=F.length?{done:!0}:{done:!1,value:F[x++]}},e:function(ke){throw ke},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=!0,J=!1,ne;return{s:function(){y=y.call(F)},n:function(){var ke=y.next();return z=ke.done,ke},e:function(ke){J=!0,ne=ke},f:function(){try{!z&&y.return!=null&&y.return()}finally{if(J)throw ne}}}}function e(F,O){if(F){if(typeof F=="string")return r(F,O);var y=Object.prototype.toString.call(F).slice(8,-1);if(y==="Object"&&F.constructor&&(y=F.constructor.name),y==="Map"||y==="Set")return Array.from(F);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return r(F,O)}}function r(F,O){(O==null||O>F.length)&&(O=F.length);for(var y=0,x=new Array(O);y<O;y++)x[y]=F[y];return x}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(O,y,x){var R=i(O,y);if(R){var z=Object.getOwnPropertyDescriptor(R,y);return z.get?z.get.call(arguments.length<3?O:x):z.value}},n.apply(this,arguments)}function i(F,O){for(;!Object.prototype.hasOwnProperty.call(F,O)&&(F=T(F),F!==null););return F}function a(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),O&&C(F,O)}function o(F){var O=p();return function(){var x=T(F),R;if(O){var z=T(this).constructor;R=Reflect.construct(x,arguments,z)}else R=x.apply(this,arguments);return s(this,R)}}function s(F,O){if(O&&(M(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(F)}function l(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function u(F){var O=typeof Map=="function"?new Map:void 0;return u=function(x){if(x===null||!b(x))return x;if(typeof x!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(x))return O.get(x);O.set(x,R)}function R(){return f(x,arguments,T(this).constructor)}return R.prototype=Object.create(x.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),C(R,x)},u(F)}function f(F,O,y){return p()?f=Reflect.construct.bind():f=function(R,z,J){var ne=[null];ne.push.apply(ne,z);var me=Function.bind.apply(R,ne),ke=new me;return J&&C(ke,J.prototype),ke},f.apply(null,arguments)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(F){try{return Function.toString.call(F).indexOf("[native code]")!==-1}catch{return typeof F=="function"}}function C(F,O){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,R){return x.__proto__=R,x},C(F,O)}function T(F){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},T(F)}function M(F){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(F)}function N(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function B(F,O){for(var y=0;y<O.length;y++){var x=O[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(F,X(x.key),x)}}function U(F,O,y){return O&&B(F.prototype,O),y&&B(F,y),Object.defineProperty(F,"prototype",{writable:!1}),F}function X(F){var O=Z(F,"string");return M(O)==="symbol"?O:String(O)}function Z(F,O){if(M(F)!=="object"||F===null)return F;var y=F[Symbol.toPrimitive];if(y!==void 0){var x=y.call(F,O);if(M(x)!=="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}var ce=Afe();function le(F,O,y){for(var x=0;;x++){if(x==F.childCount||x==O.childCount)return F.childCount==O.childCount?null:y;var R=F.child(x),z=O.child(x);if(R==z){y+=R.nodeSize;continue}if(!R.sameMarkup(z))return y;if(R.isText&&R.text!=z.text){for(var J=0;R.text[J]==z.text[J];J++)y++;return y}if(R.content.size||z.content.size){var ne=le(R.content,z.content,y+1);if(ne!=null)return ne}y+=R.nodeSize}}function se(F,O,y,x){for(var R=F.childCount,z=O.childCount;;){if(R==0||z==0)return R==z?null:{a:y,b:x};var J=F.child(--R),ne=O.child(--z),me=J.nodeSize;if(J==ne){y-=me,x-=me;continue}if(!J.sameMarkup(ne))return{a:y,b:x};if(J.isText&&J.text!=ne.text){for(var ke=0,je=Math.min(J.text.length,ne.text.length);ke<je&&J.text[J.text.length-ke-1]==ne.text[ne.text.length-ke-1];)ke++,y--,x--;return{a:y,b:x}}if(J.content.size||ne.content.size){var qe=se(J.content,ne.content,y-1,x-1);if(qe)return qe}y-=me,x-=me}}var ge=(function(){function F(O,y){if(N(this,F),this.content=O,this.size=y||0,y==null)for(var x=0;x<O.length;x++)this.size+=O[x].nodeSize}return U(F,[{key:"nodesBetween",value:function(y,x,R){for(var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,J=arguments.length>4?arguments[4]:void 0,ne=0,me=0;me<x;ne++){var ke=this.content[ne],je=me+ke.nodeSize;if(je>y&&R(ke,z+me,J||null,ne)!==!1&&ke.content.size){var qe=me+1;ke.nodesBetween(Math.max(0,y-qe),Math.min(ke.content.size,x-qe),R,z+qe)}me=je}}},{key:"descendants",value:function(y){this.nodesBetween(0,this.size,y)}},{key:"textBetween",value:function(y,x,R,z){var J="",ne=!0;return this.nodesBetween(y,x,function(me,ke){var je=me.isText?me.text.slice(Math.max(y,ke)-ke,x-ke):me.isLeaf?z?typeof z=="function"?z(me):z:me.type.spec.leafText?me.type.spec.leafText(me):"":"";me.isBlock&&(me.isLeaf&&je||me.isTextblock)&&R&&(ne?ne=!1:J+=R),J+=je},0),J}},{key:"append",value:function(y){if(!y.size)return this;if(!this.size)return y;var x=this.lastChild,R=y.firstChild,z=this.content.slice(),J=0;for(x.isText&&x.sameMarkup(R)&&(z[z.length-1]=x.withText(x.text+R.text),J=1);J<y.content.length;J++)z.push(y.content[J]);return new F(z,this.size+y.size)}},{key:"cut",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(y==0&&x==this.size)return this;var R=[],z=0;if(x>y)for(var J=0,ne=0;ne<x;J++){var me=this.content[J],ke=ne+me.nodeSize;ke>y&&((ne<y||ke>x)&&(me.isText?me=me.cut(Math.max(0,y-ne),Math.min(me.text.length,x-ne)):me=me.cut(Math.max(0,y-ne-1),Math.min(me.content.size,x-ne-1))),R.push(me),z+=me.nodeSize),ne=ke}return new F(R,z)}},{key:"cutByIndex",value:function(y,x){return y==x?F.empty:y==0&&x==this.content.length?this:new F(this.content.slice(y,x))}},{key:"replaceChild",value:function(y,x){var R=this.content[y];if(R==x)return this;var z=this.content.slice(),J=this.size+x.nodeSize-R.nodeSize;return z[y]=x,new F(z,J)}},{key:"addToStart",value:function(y){return new F([y].concat(this.content),this.size+y.nodeSize)}},{key:"addToEnd",value:function(y){return new F(this.content.concat(y),this.size+y.nodeSize)}},{key:"eq",value:function(y){if(this.content.length!=y.content.length)return!1;for(var x=0;x<this.content.length;x++)if(!this.content[x].eq(y.content[x]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(y){var x=this.content[y];if(!x)throw new RangeError("Index "+y+" out of range for "+this);return x}},{key:"maybeChild",value:function(y){return this.content[y]||null}},{key:"forEach",value:function(y){for(var x=0,R=0;x<this.content.length;x++){var z=this.content[x];y(z,R,x),R+=z.nodeSize}}},{key:"findDiffStart",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,y,x)}},{key:"findDiffEnd",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.size;return se(this,y,x,R)}},{key:"findIndex",value:function(y){if(y==0)return Ge(0,y);if(y==this.size)return Ge(this.content.length,y);if(y>this.size||y<0)throw new RangeError("Position ".concat(y," outside of fragment (").concat(this,")"));for(var x=0,R=0;;x++){var z=this.child(x),J=R+z.nodeSize;if(J>=y)return J==y?Ge(x+1,J):Ge(x,R);R=J}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(y){return y.toJSON()}):null}}],[{key:"fromJSON",value:function(y,x){if(!x)return F.empty;if(!Array.isArray(x))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(x.map(y.nodeFromJSON))}},{key:"fromArray",value:function(y){if(!y.length)return F.empty;for(var x,R=0,z=0;z<y.length;z++){var J=y[z];R+=J.nodeSize,z&&J.isText&&y[z-1].sameMarkup(J)?(x||(x=y.slice(0,z)),x[x.length-1]=J.withText(x[x.length-1].text+J.text)):x&&x.push(J)}return new F(x||y,R)}},{key:"from",value:function(y){if(!y)return F.empty;if(y instanceof F)return y;if(Array.isArray(y))return this.fromArray(y);if(y.attrs)return new F([y],y.nodeSize);throw new RangeError("Can not convert "+y+" to a Fragment"+(y.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),F})();ge.empty=new ge([],0);var Oe={index:0,offset:0};function Ge(F,O){return Oe.index=F,Oe.offset=O,Oe}function pt(F,O){if(F===O)return!0;if(!(F&&M(F)=="object")||!(O&&M(O)=="object"))return!1;var y=Array.isArray(F);if(Array.isArray(O)!=y)return!1;if(y){if(F.length!=O.length)return!1;for(var x=0;x<F.length;x++)if(!pt(F[x],O[x]))return!1}else{for(var R in F)if(!(R in O)||!pt(F[R],O[R]))return!1;for(var z in O)if(!(z in F))return!1}return!0}var Ke=(function(){function F(O,y){N(this,F),this.type=O,this.attrs=y}return U(F,[{key:"addToSet",value:function(y){for(var x,R=!1,z=0;z<y.length;z++){var J=y[z];if(this.eq(J))return y;if(this.type.excludes(J.type))x||(x=y.slice(0,z));else{if(J.type.excludes(this.type))return y;!R&&J.type.rank>this.type.rank&&(x||(x=y.slice(0,z)),x.push(this),R=!0),x&&x.push(J)}}return x||(x=y.slice()),R||x.push(this),x}},{key:"removeFromSet",value:function(y){for(var x=0;x<y.length;x++)if(this.eq(y[x]))return y.slice(0,x).concat(y.slice(x+1));return y}},{key:"isInSet",value:function(y){for(var x=0;x<y.length;x++)if(this.eq(y[x]))return!0;return!1}},{key:"eq",value:function(y){return this==y||this.type==y.type&&pt(this.attrs,y.attrs)}},{key:"toJSON",value:function(){var y={type:this.type.name};for(var x in this.attrs){y.attrs=this.attrs;break}return y}}],[{key:"fromJSON",value:function(y,x){if(!x)throw new RangeError("Invalid input for Mark.fromJSON");var R=y.marks[x.type];if(!R)throw new RangeError("There is no mark type ".concat(x.type," in this schema"));var z=R.create(x.attrs);return R.checkAttrs(z.attrs),z}},{key:"sameSet",value:function(y,x){if(y==x)return!0;if(y.length!=x.length)return!1;for(var R=0;R<y.length;R++)if(!y[R].eq(x[R]))return!1;return!0}},{key:"setFrom",value:function(y){if(!y||Array.isArray(y)&&y.length==0)return F.none;if(y instanceof F)return[y];var x=y.slice();return x.sort(function(R,z){return R.type.rank-z.type.rank}),x}}]),F})();Ke.none=[];var Tt=(function(F){a(y,F);var O=o(y);function y(){return N(this,y),O.apply(this,arguments)}return U(y)})(u(Error)),Xe=(function(){function F(O,y,x){N(this,F),this.content=O,this.openStart=y,this.openEnd=x}return U(F,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(y,x){var R=ze(this.content,y+this.openStart,x);return R&&new F(R,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(y,x){return new F(Se(this.content,y+this.openStart,x+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(y){return this.content.eq(y.content)&&this.openStart==y.openStart&&this.openEnd==y.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var y={content:this.content.toJSON()};return this.openStart>0&&(y.openStart=this.openStart),this.openEnd>0&&(y.openEnd=this.openEnd),y}}],[{key:"fromJSON",value:function(y,x){if(!x)return F.empty;var R=x.openStart||0,z=x.openEnd||0;if(typeof R!="number"||typeof z!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new F(ge.fromJSON(y,x.content),R,z)}},{key:"maxOpen",value:function(y){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=0,z=0,J=y.firstChild;J&&!J.isLeaf&&(x||!J.type.spec.isolating);J=J.firstChild)R++;for(var ne=y.lastChild;ne&&!ne.isLeaf&&(x||!ne.type.spec.isolating);ne=ne.lastChild)z++;return new F(y,R,z)}}]),F})();Xe.empty=new Xe(ge.empty,0,0);function Se(F,O,y){var x=F.findIndex(O),R=x.index,z=x.offset,J=F.maybeChild(R),ne=F.findIndex(y),me=ne.index,ke=ne.offset;if(z==O||J.isText){if(ke!=y&&!F.child(me).isText)throw new RangeError("Removing non-flat range");return F.cut(0,O).append(F.cut(y))}if(R!=me)throw new RangeError("Removing non-flat range");return F.replaceChild(R,J.copy(Se(J.content,O-z-1,y-z-1)))}function ze(F,O,y,x){var R=F.findIndex(O),z=R.index,J=R.offset,ne=F.maybeChild(z);if(J==O||ne.isText)return x&&!x.canReplace(z,z,y)?null:F.cut(0,O).append(y).append(F.cut(O));var me=ze(ne.content,O-J-1,y,ne);return me&&F.replaceChild(z,ne.copy(me))}function Ve(F,O,y){if(y.openStart>F.depth)throw new Tt("Inserted content deeper than insertion position");if(F.depth-y.openStart!=O.depth-y.openEnd)throw new Tt("Inconsistent open depths");return Qe(F,O,y,0)}function Qe(F,O,y,x){var R=F.index(x),z=F.node(x);if(R==O.index(x)&&x<F.depth-y.openStart){var J=Qe(F,O,y,x+1);return z.copy(z.content.replaceChild(R,J))}else if(y.content.size)if(!y.openStart&&!y.openEnd&&F.depth==x&&O.depth==x){var ne=F.parent,me=ne.content;return At(ne,me.cut(0,F.parentOffset).append(y.content).append(me.cut(O.parentOffset)))}else{var ke=Vt(y,F),je=ke.start,qe=ke.end;return At(z,Nt(F,je,qe,O,x))}else return At(z,Qt(F,O,x))}function Ht(F,O){if(!O.type.compatibleContent(F.type))throw new Tt("Cannot join "+O.type.name+" onto "+F.type.name)}function st(F,O,y){var x=F.node(y);return Ht(x,O.node(y)),x}function vt(F,O){var y=O.length-1;y>=0&&F.isText&&F.sameMarkup(O[y])?O[y]=F.withText(O[y].text+F.text):O.push(F)}function lt(F,O,y,x){var R=(O||F).node(y),z=0,J=O?O.index(y):R.childCount;F&&(z=F.index(y),F.depth>y?z++:F.textOffset&&(vt(F.nodeAfter,x),z++));for(var ne=z;ne<J;ne++)vt(R.child(ne),x);O&&O.depth==y&&O.textOffset&&vt(O.nodeBefore,x)}function At(F,O){return F.type.checkContent(O),F.copy(O)}function Nt(F,O,y,x,R){var z=F.depth>R&&st(F,O,R+1),J=x.depth>R&&st(y,x,R+1),ne=[];return lt(null,F,R,ne),z&&J&&O.index(R)==y.index(R)?(Ht(z,J),vt(At(z,Nt(F,O,y,x,R+1)),ne)):(z&&vt(At(z,Qt(F,O,R+1)),ne),lt(O,y,R,ne),J&&vt(At(J,Qt(y,x,R+1)),ne)),lt(x,null,R,ne),new ge(ne)}function Qt(F,O,y){var x=[];if(lt(null,F,y,x),F.depth>y){var R=st(F,O,y+1);vt(At(R,Qt(F,O,y+1)),x)}return lt(O,null,y,x),new ge(x)}function Vt(F,O){for(var y=O.depth-F.openStart,x=O.node(y),R=x.copy(F.content),z=y-1;z>=0;z--)R=O.node(z).copy(ge.from(R));return{start:R.resolveNoCache(F.openStart+y),end:R.resolveNoCache(R.content.size-F.openEnd-y)}}var Ne=(function(){function F(O,y,x){N(this,F),this.pos=O,this.path=y,this.parentOffset=x,this.depth=y.length/3-1}return U(F,[{key:"resolveDepth",value:function(y){return y==null?this.depth:y<0?this.depth+y:y}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(y){return this.path[this.resolveDepth(y)*3]}},{key:"index",value:function(y){return this.path[this.resolveDepth(y)*3+1]}},{key:"indexAfter",value:function(y){return y=this.resolveDepth(y),this.index(y)+(y==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(y){return y=this.resolveDepth(y),y==0?0:this.path[y*3-1]+1}},{key:"end",value:function(y){return y=this.resolveDepth(y),this.start(y)+this.node(y).content.size}},{key:"before",value:function(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position before the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]}},{key:"after",value:function(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position after the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]+this.path[y*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var y=this.parent,x=this.index(this.depth);if(x==y.childCount)return null;var R=this.pos-this.path[this.path.length-1],z=y.child(x);return R?y.child(x).cut(R):z}},{key:"nodeBefore",get:function(){var y=this.index(this.depth),x=this.pos-this.path[this.path.length-1];return x?this.parent.child(y).cut(0,x):y==0?null:this.parent.child(y-1)}},{key:"posAtIndex",value:function(y,x){x=this.resolveDepth(x);for(var R=this.path[x*3],z=x==0?0:this.path[x*3-1]+1,J=0;J<y;J++)z+=R.child(J).nodeSize;return z}},{key:"marks",value:function(){var y=this.parent,x=this.index();if(y.content.size==0)return Ke.none;if(this.textOffset)return y.child(x).marks;var R=y.maybeChild(x-1),z=y.maybeChild(x);if(!R){var J=R;R=z,z=J}for(var ne=R.marks,me=0;me<ne.length;me++)ne[me].type.spec.inclusive===!1&&(!z||!ne[me].isInSet(z.marks))&&(ne=ne[me--].removeFromSet(ne));return ne}},{key:"marksAcross",value:function(y){var x=this.parent.maybeChild(this.index());if(!x||!x.isInline)return null;for(var R=x.marks,z=y.parent.maybeChild(y.index()),J=0;J<R.length;J++)R[J].type.spec.inclusive===!1&&(!z||!R[J].isInSet(z.marks))&&(R=R[J--].removeFromSet(R));return R}},{key:"sharedDepth",value:function(y){for(var x=this.depth;x>0;x--)if(this.start(x)<=y&&this.end(x)>=y)return x;return 0}},{key:"blockRange",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,x=arguments.length>1?arguments[1]:void 0;if(y.pos<this.pos)return y.blockRange(this);for(var R=this.depth-(this.parent.inlineContent||this.pos==y.pos?1:0);R>=0;R--)if(y.pos<=this.end(R)&&(!x||x(this.node(R))))return new ae(this,y,R);return null}},{key:"sameParent",value:function(y){return this.pos-this.parentOffset==y.pos-y.parentOffset}},{key:"max",value:function(y){return y.pos>this.pos?y:this}},{key:"min",value:function(y){return y.pos<this.pos?y:this}},{key:"toString",value:function(){for(var y="",x=1;x<=this.depth;x++)y+=(y?"/":"")+this.node(x).type.name+"_"+this.index(x-1);return y+":"+this.parentOffset}}],[{key:"resolve",value:function(y,x){if(!(x>=0&&x<=y.content.size))throw new RangeError("Position "+x+" out of range");for(var R=[],z=0,J=x,ne=y;;){var me=ne.content.findIndex(J),ke=me.index,je=me.offset,qe=J-je;if(R.push(ne,ke,z+je),!qe||(ne=ne.child(ke),ne.isText))break;J=qe-1,z+=je+1}return new F(x,R,J)}},{key:"resolveCached",value:function(y,x){var R=ee.get(y);if(R)for(var z=0;z<R.elts.length;z++){var J=R.elts[z];if(J.pos==x)return J}else ee.set(y,R=new fe);var ne=R.elts[R.i]=F.resolve(y,x);return R.i=(R.i+1)%ie,ne}}]),F})(),fe=U(function F(){N(this,F),this.elts=[],this.i=0}),ie=12,ee=new WeakMap,ae=(function(){function F(O,y,x){N(this,F),this.$from=O,this.$to=y,this.depth=x}return U(F,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),F})(),I=Object.create(null),$=(function(){function F(O,y,x){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ke.none;N(this,F),this.type=O,this.attrs=y,this.marks=R,this.content=x||ge.empty}return U(F,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(y){return this.content.child(y)}},{key:"maybeChild",value:function(y){return this.content.maybeChild(y)}},{key:"forEach",value:function(y){this.content.forEach(y)}},{key:"nodesBetween",value:function(y,x,R){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(y,x,R,z,this)}},{key:"descendants",value:function(y){this.nodesBetween(0,this.content.size,y)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(y,x,R,z){return this.content.textBetween(y,x,R,z)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(y){return this==y||this.sameMarkup(y)&&this.content.eq(y.content)}},{key:"sameMarkup",value:function(y){return this.hasMarkup(y.type,y.attrs,y.marks)}},{key:"hasMarkup",value:function(y,x,R){return this.type==y&&pt(this.attrs,x||y.defaultAttrs||I)&&Ke.sameSet(this.marks,R||Ke.none)}},{key:"copy",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return y==this.content?this:new F(this.type,this.attrs,y,this.marks)}},{key:"mark",value:function(y){return y==this.marks?this:new F(this.type,this.attrs,this.content,y)}},{key:"cut",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return y==0&&x==this.content.size?this:this.copy(this.content.cut(y,x))}},{key:"slice",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(y==x)return Xe.empty;var z=this.resolve(y),J=this.resolve(x),ne=R?0:z.sharedDepth(x),me=z.start(ne),ke=z.node(ne),je=ke.content.cut(z.pos-me,J.pos-me);return new Xe(je,z.depth-ne,J.depth-ne)}},{key:"replace",value:function(y,x,R){return Ve(this.resolve(y),this.resolve(x),R)}},{key:"nodeAt",value:function(y){for(var x=this;;){var R=x.content.findIndex(y),z=R.index,J=R.offset;if(x=x.maybeChild(z),!x)return null;if(J==y||x.isText)return x;y-=J+1}}},{key:"childAfter",value:function(y){var x=this.content.findIndex(y),R=x.index,z=x.offset;return{node:this.content.maybeChild(R),index:R,offset:z}}},{key:"childBefore",value:function(y){if(y==0)return{node:null,index:0,offset:0};var x=this.content.findIndex(y),R=x.index,z=x.offset;if(z<y)return{node:this.content.child(R),index:R,offset:z};var J=this.content.child(R-1);return{node:J,index:R-1,offset:z-J.nodeSize}}},{key:"resolve",value:function(y){return Ne.resolveCached(this,y)}},{key:"resolveNoCache",value:function(y){return Ne.resolve(this,y)}},{key:"rangeHasMark",value:function(y,x,R){var z=!1;return x>y&&this.nodesBetween(y,x,function(J){return R.isInSet(J.marks)&&(z=!0),!z}),z}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var y=this.type.name;return this.content.size&&(y+="("+this.content.toStringInner()+")"),pe(this.marks,y)}},{key:"contentMatchAt",value:function(y){var x=this.type.contentMatch.matchFragment(this.content,0,y);if(!x)throw new Error("Called contentMatchAt on a node with invalid content");return x}},{key:"canReplace",value:function(y,x){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ge.empty,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.childCount,ne=this.contentMatchAt(y).matchFragment(R,z,J),me=ne&&ne.matchFragment(this.content,x);if(!me||!me.validEnd)return!1;for(var ke=z;ke<J;ke++)if(!this.type.allowsMarks(R.child(ke).marks))return!1;return!0}},{key:"canReplaceWith",value:function(y,x,R,z){if(z&&!this.type.allowsMarks(z))return!1;var J=this.contentMatchAt(y).matchType(R),ne=J&&J.matchFragment(this.content,x);return ne?ne.validEnd:!1}},{key:"canAppend",value:function(y){return y.content.size?this.canReplace(this.childCount,this.childCount,y.content):this.type.compatibleContent(y.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var y=Ke.none,x=0;x<this.marks.length;x++){var R=this.marks[x];R.type.checkAttrs(R.attrs),y=R.addToSet(y)}if(!Ke.sameSet(y,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(z){return z.type.name})));this.content.forEach(function(z){return z.check()})}},{key:"toJSON",value:function(){var y={type:this.type.name};for(var x in this.attrs){y.attrs=this.attrs;break}return this.content.size&&(y.content=this.content.toJSON()),this.marks.length&&(y.marks=this.marks.map(function(R){return R.toJSON()})),y}}],[{key:"fromJSON",value:function(y,x){if(!x)throw new RangeError("Invalid input for Node.fromJSON");var R=void 0;if(x.marks){if(!Array.isArray(x.marks))throw new RangeError("Invalid mark data for Node.fromJSON");R=x.marks.map(y.markFromJSON)}if(x.type=="text"){if(typeof x.text!="string")throw new RangeError("Invalid text node in JSON");return y.text(x.text,R)}var z=ge.fromJSON(y,x.content),J=y.nodeType(x.type).create(x.attrs,z,R);return J.type.checkAttrs(J.attrs),J}}]),F})();$.prototype.text=void 0;var Y=(function(F){a(y,F);var O=o(y);function y(x,R,z,J){var ne;if(N(this,y),ne=O.call(this,x,R,null,J),!z)throw new RangeError("Empty text nodes are not allowed");return ne.text=z,ne}return U(y,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pe(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(R,z){return this.text.slice(R,z)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(R){return R==this.marks?this:new y(this.type,this.attrs,this.text,R)}},{key:"withText",value:function(R){return R==this.text?this:new y(this.type,this.attrs,R,this.marks)}},{key:"cut",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return R==0&&z==this.text.length?this:this.withText(this.text.slice(R,z))}},{key:"eq",value:function(R){return this.sameMarkup(R)&&this.text==R.text}},{key:"toJSON",value:function(){var R=n(T(y.prototype),"toJSON",this).call(this);return R.text=this.text,R}}]),y})($);function pe(F,O){for(var y=F.length-1;y>=0;y--)O=F[y].type.name+"("+O+")";return O}var ye=(function(){function F(O){N(this,F),this.validEnd=O,this.next=[],this.wrapCache=[]}return U(F,[{key:"matchType",value:function(y){for(var x=0;x<this.next.length;x++)if(this.next[x].type==y)return this.next[x].next;return null}},{key:"matchFragment",value:function(y){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.childCount,z=this,J=x;z&&J<R;J++)z=z.matchType(y.child(J).type);return z}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var y=0;y<this.next.length;y++){var x=this.next[y].type;if(!(x.isText||x.hasRequiredAttrs()))return x}return null}},{key:"compatible",value:function(y){for(var x=0;x<this.next.length;x++)for(var R=0;R<y.next.length;R++)if(this.next[x].type==y.next[R].type)return!0;return!1}},{key:"fillBefore",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,z=[this];function J(ne,me){var ke=ne.matchFragment(y,R);if(ke&&(!x||ke.validEnd))return ge.from(me.map(function(fr){return fr.createAndFill()}));for(var je=0;je<ne.next.length;je++){var qe=ne.next[je],tt=qe.type,Ct=qe.next;if(!(tt.isText||tt.hasRequiredAttrs())&&z.indexOf(Ct)==-1){z.push(Ct);var $t=J(Ct,me.concat(tt));if($t)return $t}}return null}return J(this,[])}},{key:"findWrapping",value:function(y){for(var x=0;x<this.wrapCache.length;x+=2)if(this.wrapCache[x]==y)return this.wrapCache[x+1];var R=this.computeWrapping(y);return this.wrapCache.push(y,R),R}},{key:"computeWrapping",value:function(y){for(var x=Object.create(null),R=[{match:this,type:null,via:null}];R.length;){var z=R.shift(),J=z.match;if(J.matchType(y)){for(var ne=[],me=z;me.type;me=me.via)ne.push(me.type);return ne.reverse()}for(var ke=0;ke<J.next.length;ke++){var je=J.next[ke],qe=je.type,tt=je.next;!qe.isLeaf&&!qe.hasRequiredAttrs()&&!(qe.name in x)&&(!z.type||tt.validEnd)&&(R.push({match:qe.contentMatch,type:qe,via:z}),x[qe.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(y){if(y>=this.next.length)throw new RangeError("There's no ".concat(y,"th edge in this content match"));return this.next[y]}},{key:"toString",value:function(){var y=[];function x(R){y.push(R);for(var z=0;z<R.next.length;z++)y.indexOf(R.next[z].next)==-1&&x(R.next[z].next)}return x(this),y.map(function(R,z){for(var J=z+(R.validEnd?"*":" ")+" ",ne=0;ne<R.next.length;ne++)J+=(ne?", ":"")+R.next[ne].type.name+"->"+y.indexOf(R.next[ne].next);return J}).join(`
`)}}],[{key:"parse",value:function(y,x){var R=new Te(y,x);if(R.next==null)return F.empty;var z=Pe(R);R.next&&R.err("Unexpected trailing text");var J=Ue(yt(z));return ht(J,R),J}}]),F})();ye.empty=new ye(!0);var Te=(function(){function F(O,y){N(this,F),this.string=O,this.nodeTypes=y,this.inline=null,this.pos=0,this.tokens=O.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return U(F,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(y){return this.next==y&&(this.pos++||!0)}},{key:"err",value:function(y){throw new SyntaxError(y+" (in content expression '"+this.string+"')")}}]),F})();function Pe(F){var O=[];do O.push(He(F));while(F.eat("|"));return O.length==1?O[0]:{type:"choice",exprs:O}}function He(F){var O=[];do O.push(_e(F));while(F.next&&F.next!=")"&&F.next!="|");return O.length==1?O[0]:{type:"seq",exprs:O}}function _e(F){for(var O=dt(F);;)if(F.eat("+"))O={type:"plus",expr:O};else if(F.eat("*"))O={type:"star",expr:O};else if(F.eat("?"))O={type:"opt",expr:O};else if(F.eat("{"))O=et(F,O);else break;return O}function Ie(F){/\D/.test(F.next)&&F.err("Expected number, got '"+F.next+"'");var O=Number(F.next);return F.pos++,O}function et(F,O){var y=Ie(F),x=y;return F.eat(",")&&(F.next!="}"?x=Ie(F):x=-1),F.eat("}")||F.err("Unclosed braced range"),{type:"range",min:y,max:x,expr:O}}function Ye(F,O){var y=F.nodeTypes,x=y[O];if(x)return[x];var R=[];for(var z in y){var J=y[z];J.isInGroup(O)&&R.push(J)}return R.length==0&&F.err("No node type or group '"+O+"' found"),R}function dt(F){if(F.eat("(")){var O=Pe(F);return F.eat(")")||F.err("Missing closing paren"),O}else if(/\W/.test(F.next))F.err("Unexpected token '"+F.next+"'");else{var y=Ye(F,F.next).map(function(x){return F.inline==null?F.inline=x.isInline:F.inline!=x.isInline&&F.err("Mixing inline and block content"),{type:"name",value:x}});return F.pos++,y.length==1?y[0]:{type:"choice",exprs:y}}}function yt(F){var O=[[]];return R(z(F,0),y()),O;function y(){return O.push([])-1}function x(J,ne,me){var ke={term:me,to:ne};return O[J].push(ke),ke}function R(J,ne){J.forEach(function(me){return me.to=ne})}function z(J,ne){if(J.type=="choice")return J.exprs.reduce(function(Si,zi){return Si.concat(z(zi,ne))},[]);if(J.type=="seq")for(var me=0;;me++){var ke=z(J.exprs[me],ne);if(me==J.exprs.length-1)return ke;R(ke,ne=y())}else if(J.type=="star"){var je=y();return x(ne,je),R(z(J.expr,je),je),[x(je)]}else if(J.type=="plus"){var qe=y();return R(z(J.expr,ne),qe),R(z(J.expr,qe),qe),[x(qe)]}else{if(J.type=="opt")return[x(ne)].concat(z(J.expr,ne));if(J.type=="range"){for(var tt=ne,Ct=0;Ct<J.min;Ct++){var $t=y();R(z(J.expr,tt),$t),tt=$t}if(J.max==-1)R(z(J.expr,tt),tt);else for(var fr=J.min;fr<J.max;fr++){var Pn=y();x(tt,Pn),R(z(J.expr,tt),Pn),tt=Pn}return[x(tt)]}else{if(J.type=="name")return[x(ne,void 0,J.value)];throw new Error("Unknown expr type")}}}}function xt(F,O){return O-F}function $e(F,O){var y=[];return x(O),y.sort(xt);function x(R){var z=F[R];if(z.length==1&&!z[0].term)return x(z[0].to);y.push(R);for(var J=0;J<z.length;J++){var ne=z[J],me=ne.term,ke=ne.to;!me&&y.indexOf(ke)==-1&&x(ke)}}}function Ue(F){var O=Object.create(null);return y($e(F,0));function y(x){var R=[];x.forEach(function(me){F[me].forEach(function(ke){var je=ke.term,qe=ke.to;if(je){for(var tt,Ct=0;Ct<R.length;Ct++)R[Ct][0]==je&&(tt=R[Ct][1]);$e(F,qe).forEach(function($t){tt||R.push([je,tt=[]]),tt.indexOf($t)==-1&&tt.push($t)})}})});for(var z=O[x.join(",")]=new ye(x.indexOf(F.length-1)>-1),J=0;J<R.length;J++){var ne=R[J][1].sort(xt);z.next.push({type:R[J][0],next:O[ne.join(",")]||y(ne)})}return z}}function ht(F,O){for(var y=0,x=[F];y<x.length;y++){for(var R=x[y],z=!R.validEnd,J=[],ne=0;ne<R.next.length;ne++){var me=R.next[ne],ke=me.type,je=me.next;J.push(ke.name),z&&!(ke.isText||ke.hasRequiredAttrs())&&(z=!1),x.indexOf(je)==-1&&x.push(je)}z&&O.err("Only non-generatable nodes ("+J.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bt(F){var O=Object.create(null);for(var y in F){var x=F[y];if(!x.hasDefault)return null;O[y]=x.default}return O}function Ot(F,O){var y=Object.create(null);for(var x in F){var R=O&&O[x];if(R===void 0){var z=F[x];if(z.hasDefault)R=z.default;else throw new RangeError("No value supplied for attribute "+x)}y[x]=R}return y}function rr(F,O,y,x){for(var R in O)if(!(R in F))throw new RangeError("Unsupported attribute ".concat(R," for ").concat(y," of type ").concat(R));for(var z in F){var J=F[z];J.validate&&J.validate(O[z])}}function Gt(F,O){var y=Object.create(null);if(O)for(var x in O)y[x]=new mr(F,x,O[x]);return y}var ur=(function(){function F(O,y,x){N(this,F),this.name=O,this.schema=y,this.spec=x,this.markSet=null,this.groups=x.group?x.group.split(" "):[],this.attrs=Gt(O,x.attrs),this.defaultAttrs=bt(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(x.inline||O=="text"),this.isText=O=="text"}return U(F,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==ye.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(y){return this.groups.indexOf(y)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var y in this.attrs)if(this.attrs[y].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(y){return this==y||this.contentMatch.compatible(y.contentMatch)}},{key:"computeAttrs",value:function(y){return!y&&this.defaultAttrs?this.defaultAttrs:Ot(this.attrs,y)}},{key:"create",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $(this,this.computeAttrs(y),ge.from(x),Ke.setFrom(R))}},{key:"createChecked",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;return x=ge.from(x),this.checkContent(x),new $(this,this.computeAttrs(y),x,Ke.setFrom(R))}},{key:"createAndFill",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,x=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;if(y=this.computeAttrs(y),x=ge.from(x),x.size){var z=this.contentMatch.fillBefore(x);if(!z)return null;x=z.append(x)}var J=this.contentMatch.matchFragment(x),ne=J&&J.fillBefore(ge.empty,!0);return ne?new $(this,y,x.append(ne),Ke.setFrom(R)):null}},{key:"validContent",value:function(y){var x=this.contentMatch.matchFragment(y);if(!x||!x.validEnd)return!1;for(var R=0;R<y.childCount;R++)if(!this.allowsMarks(y.child(R).marks))return!1;return!0}},{key:"checkContent",value:function(y){if(!this.validContent(y))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(y.toString().slice(0,50)))}},{key:"checkAttrs",value:function(y){rr(this.attrs,y,"node",this.name)}},{key:"allowsMarkType",value:function(y){return this.markSet==null||this.markSet.indexOf(y)>-1}},{key:"allowsMarks",value:function(y){if(this.markSet==null)return!0;for(var x=0;x<y.length;x++)if(!this.allowsMarkType(y[x].type))return!1;return!0}},{key:"allowedMarks",value:function(y){if(this.markSet==null)return y;for(var x,R=0;R<y.length;R++)this.allowsMarkType(y[R].type)?x&&x.push(y[R]):x||(x=y.slice(0,R));return x?x.length?x:Ke.none:y}}],[{key:"compile",value:function(y,x){var R=Object.create(null);y.forEach(function(ne,me){return R[ne]=new F(ne,x,me)});var z=x.spec.topNode||"doc";if(!R[z])throw new RangeError("Schema is missing its top node type ('"+z+"')");if(!R.text)throw new RangeError("Every schema needs a 'text' type");for(var J in R.text.attrs)throw new RangeError("The text node type should not have attributes");return R}}]),F})();function nr(F,O,y){var x=y.split("|");return function(R){var z=R===null?"null":M(R);if(x.indexOf(z)<0)throw new RangeError("Expected value of type ".concat(x," for attribute ").concat(O," on type ").concat(F,", got ").concat(z))}}var mr=(function(){function F(O,y,x){N(this,F),this.hasDefault=Object.prototype.hasOwnProperty.call(x,"default"),this.default=x.default,this.validate=typeof x.validate=="string"?nr(O,y,x.validate):x.validate}return U(F,[{key:"isRequired",get:function(){return!this.hasDefault}}]),F})(),gr=(function(){function F(O,y,x,R){N(this,F),this.name=O,this.rank=y,this.schema=x,this.spec=R,this.attrs=Gt(O,R.attrs),this.excluded=null;var z=bt(this.attrs);this.instance=z?new Ke(this,z):null}return U(F,[{key:"create",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!y&&this.instance?this.instance:new Ke(this,Ot(this.attrs,y))}},{key:"removeFromSet",value:function(y){for(var x=0;x<y.length;x++)y[x].type==this&&(y=y.slice(0,x).concat(y.slice(x+1)),x--);return y}},{key:"isInSet",value:function(y){for(var x=0;x<y.length;x++)if(y[x].type==this)return y[x]}},{key:"checkAttrs",value:function(y){rr(this.attrs,y,"mark",this.name)}},{key:"excludes",value:function(y){return this.excluded.indexOf(y)>-1}}],[{key:"compile",value:function(y,x){var R=Object.create(null),z=0;return y.forEach(function(J,ne){return R[J]=new F(J,z++,x,ne)}),R}}]),F})(),Fr=(function(){function F(O){var y=this;N(this,F),this.linebreakReplacement=null,this.cached=Object.create(null);var x=this.spec={};for(var R in O)x[R]=O[R];x.nodes=ce.from(O.nodes),x.marks=ce.from(O.marks||{}),this.nodes=ur.compile(this.spec.nodes,this),this.marks=gr.compile(this.spec.marks,this);var z=Object.create(null);for(var J in this.nodes){if(J in this.marks)throw new RangeError(J+" can not be both a node and a mark");var ne=this.nodes[J],me=ne.spec.content||"",ke=ne.spec.marks;if(ne.contentMatch=z[me]||(z[me]=ye.parse(me,this.nodes)),ne.inlineContent=ne.contentMatch.inlineContent,ne.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ne.isInline||!ne.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ne}ne.markSet=ke=="_"?null:ke?si(this,ke.split(" ")):ke==""||!ne.inlineContent?[]:null}for(var je in this.marks){var qe=this.marks[je],tt=qe.spec.excludes;qe.excluded=tt==null?[qe]:tt==""?[]:si(this,tt.split(" "))}this.nodeFromJSON=function(Ct){return $.fromJSON(y,Ct)},this.markFromJSON=function(Ct){return Ke.fromJSON(y,Ct)},this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return U(F,[{key:"node",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,R=arguments.length>2?arguments[2]:void 0,z=arguments.length>3?arguments[3]:void 0;if(typeof y=="string")y=this.nodeType(y);else if(y instanceof ur){if(y.schema!=this)throw new RangeError("Node type from different schema used ("+y.name+")")}else throw new RangeError("Invalid node type: "+y);return y.createChecked(x,R,z)}},{key:"text",value:function(y,x){var R=this.nodes.text;return new Y(R,R.defaultAttrs,y,Ke.setFrom(x))}},{key:"mark",value:function(y,x){return typeof y=="string"&&(y=this.marks[y]),y.create(x)}},{key:"nodeType",value:function(y){var x=this.nodes[y];if(!x)throw new RangeError("Unknown node type: "+y);return x}}]),F})();function si(F,O){for(var y=[],x=0;x<O.length;x++){var R=O[x],z=F.marks[R],J=z;if(z)y.push(z);else for(var ne in F.marks){var me=F.marks[ne];(R=="_"||me.spec.group&&me.spec.group.split(" ").indexOf(R)>-1)&&y.push(J=me)}if(!J)throw new SyntaxError("Unknown mark type: '"+O[x]+"'")}return y}function Jn(F){return F.tag!=null}function Ln(F){return F.style!=null}var xn=(function(){function F(O,y){var x=this;N(this,F),this.schema=O,this.rules=y,this.tags=[],this.styles=[];var R=this.matchedStyles=[];y.forEach(function(z){if(Jn(z))x.tags.push(z);else if(Ln(z)){var J=/[^=]*/.exec(z.style)[0];R.indexOf(J)<0&&R.push(J),x.styles.push(z)}}),this.normalizeLists=!this.tags.some(function(z){if(!/^(ul|ol)\b/.test(z.tag)||!z.node)return!1;var J=O.nodes[z.node];return J.contentMatch.matchType(J)})}return U(F,[{key:"parse",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=new L(this,x,!1);return R.addAll(y,Ke.none,x.from,x.to),R.finish()}},{key:"parseSlice",value:function(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=new L(this,x,!0);return R.addAll(y,Ke.none,x.from,x.to),Xe.maxOpen(R.finish())}},{key:"matchTag",value:function(y,x,R){for(var z=R?this.tags.indexOf(R)+1:0;z<this.tags.length;z++){var J=this.tags[z];if(V(y,J.tag)&&(J.namespace===void 0||y.namespaceURI==J.namespace)&&(!J.context||x.matchesContext(J.context))){if(J.getAttrs){var ne=J.getAttrs(y);if(ne===!1)continue;J.attrs=ne||void 0}return J}}}},{key:"matchStyle",value:function(y,x,R,z){for(var J=z?this.styles.indexOf(z)+1:0;J<this.styles.length;J++){var ne=this.styles[J],me=ne.style;if(!(me.indexOf(y)!=0||ne.context&&!R.matchesContext(ne.context)||me.length>y.length&&(me.charCodeAt(y.length)!=61||me.slice(y.length+1)!=x))){if(ne.getAttrs){var ke=ne.getAttrs(x);if(ke===!1)continue;ne.attrs=ke||void 0}return ne}}}}],[{key:"schemaRules",value:function(y){var x=[];function R(ke){for(var je=ke.priority==null?50:ke.priority,qe=0;qe<x.length;qe++){var tt=x[qe],Ct=tt.priority==null?50:tt.priority;if(Ct<je)break}x.splice(qe,0,ke)}var z=function(je){var qe=y.marks[je].spec.parseDOM;qe&&qe.forEach(function(tt){R(tt=te(tt)),tt.mark||tt.ignore||tt.clearMark||(tt.mark=je)})};for(var J in y.marks)z(J);var ne=function(je){var qe=y.nodes[je].spec.parseDOM;qe&&qe.forEach(function(tt){R(tt=te(tt)),tt.node||tt.ignore||tt.mark||(tt.node=je)})};for(var me in y.nodes)ne(me);return x}},{key:"fromSchema",value:function(y){return y.cached.domParser||(y.cached.domParser=new F(y,F.schemaRules(y)))}}]),F})(),hn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Mr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},In={ol:!0,ul:!0},cr=1,Ir=2,K=4;function G(F,O,y){return O!=null?(O?cr:0)|(O==="full"?Ir:0):F&&F.whitespace=="pre"?cr|Ir:y&~K}var _=(function(){function F(O,y,x,R,z,J){N(this,F),this.type=O,this.attrs=y,this.marks=x,this.solid=R,this.options=J,this.content=[],this.activeMarks=Ke.none,this.match=z||(J&K?null:O.contentMatch)}return U(F,[{key:"findWrapping",value:function(y){if(!this.match){if(!this.type)return[];var x=this.type.contentMatch.fillBefore(ge.from(y));if(x)this.match=this.type.contentMatch.matchFragment(x);else{var R=this.type.contentMatch,z;return(z=R.findWrapping(y.type))?(this.match=R,z):null}}return this.match.findWrapping(y.type)}},{key:"finish",value:function(y){if(!(this.options&cr)){var x=this.content[this.content.length-1],R;if(x&&x.isText&&(R=/[ \t\r\n\u000c]+$/.exec(x.text))){var z=x;x.text.length==R[0].length?this.content.pop():this.content[this.content.length-1]=z.withText(z.text.slice(0,z.text.length-R[0].length))}}var J=ge.from(this.content);return!y&&this.match&&(J=J.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,J,this.marks):J}},{key:"inlineContext",value:function(y){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:y.parentNode&&!hn.hasOwnProperty(y.parentNode.nodeName.toLowerCase())}}]),F})(),L=(function(){function F(O,y,x){N(this,F),this.parser=O,this.options=y,this.isOpen=x,this.open=0,this.localPreserveWS=!1;var R=y.topNode,z,J=G(null,y.preserveWhitespace,0)|(x?K:0);R?z=new _(R.type,R.attrs,Ke.none,!0,y.topMatch||R.type.contentMatch,J):x?z=new _(null,null,Ke.none,!0,null,J):z=new _(O.schema.topNodeType,null,Ke.none,!0,null,J),this.nodes=[z],this.find=y.findPositions,this.needsBlock=!1}return U(F,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(y,x){y.nodeType==3?this.addTextNode(y,x):y.nodeType==1&&this.addElement(y,x)}},{key:"addTextNode",value:function(y,x){var R=y.nodeValue,z=this.top,J=z.options&Ir?"full":this.localPreserveWS||(z.options&cr)>0,ne=this.parser.schema;if(J==="full"||z.inlineContext(y)||/[^ \t\r\n\u000c]/.test(R)){if(J)if(J==="full")R=R.replace(/\r\n?/g,`
`);else if(ne.linebreakReplacement&&/[\r\n]/.test(R)&&this.top.findWrapping(ne.linebreakReplacement.create())){for(var je=R.split(/\r?\n|\r/),qe=0;qe<je.length;qe++)qe&&this.insertNode(ne.linebreakReplacement.create(),x,!0),je[qe]&&this.insertNode(ne.text(je[qe]),x,!/\S/.test(je[qe]));R=""}else R=R.replace(/\r?\n|\r/g," ");else if(R=R.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(R)&&this.open==this.nodes.length-1){var me=z.content[z.content.length-1],ke=y.previousSibling;(!me||ke&&ke.nodeName=="BR"||me.isText&&/[ \t\r\n\u000c]$/.test(me.text))&&(R=R.slice(1))}R&&this.insertNode(ne.text(R),x,!/\S/.test(R)),this.findInText(y)}else this.findInside(y)}},{key:"addElement",value:function(y,x,R){var z=this.localPreserveWS,J=this.top;(y.tagName=="PRE"||/pre/.test(y.style&&y.style.whiteSpace))&&(this.localPreserveWS=!0);var ne=y.nodeName.toLowerCase(),me;In.hasOwnProperty(ne)&&this.parser.normalizeLists&&q(y);var ke=this.options.ruleFromNode&&this.options.ruleFromNode(y)||(me=this.parser.matchTag(y,this,R));e:if(ke?ke.ignore:Mr.hasOwnProperty(ne))this.findInside(y),this.ignoreFallback(y,x);else if(!ke||ke.skip||ke.closeParent){ke&&ke.closeParent?this.open=Math.max(0,this.open-1):ke&&ke.skip.nodeType&&(y=ke.skip);var je,qe=this.needsBlock;if(hn.hasOwnProperty(ne))J.content.length&&J.content[0].isInline&&this.open&&(this.open--,J=this.top),je=!0,J.type||(this.needsBlock=!0);else if(!y.firstChild){this.leafFallback(y,x);break e}var tt=ke&&ke.skip?x:this.readStyles(y,x);tt&&this.addAll(y,tt),je&&this.sync(J),this.needsBlock=qe}else{var Ct=this.readStyles(y,x);Ct&&this.addElementByRule(y,ke,Ct,ke.consuming===!1?me:void 0)}this.localPreserveWS=z}},{key:"leafFallback",value:function(y,x){y.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(y.ownerDocument.createTextNode(`
`),x)}},{key:"ignoreFallback",value:function(y,x){y.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),x,!0)}},{key:"readStyles",value:function(y,x){var R=this,z=y.style;if(z&&z.length)for(var J=0;J<this.parser.matchedStyles.length;J++){var ne=this.parser.matchedStyles[J],me=z.getPropertyValue(ne);if(me){for(var ke=function(Ct){var $t=R.parser.matchStyle(ne,me,R,Ct);if(!$t)return qe=Ct,0;if($t.ignore)return{v:null};if($t.clearMark?x=x.filter(function(fr){return!$t.clearMark(fr)}):x=x.concat(R.parser.schema.marks[$t.mark].create($t.attrs)),$t.consuming===!1)Ct=$t;else return qe=Ct,0;qe=Ct},je,qe=void 0;je=ke(qe),je!==0;)if(je)return je.v}}return x}},{key:"addElementByRule",value:function(y,x,R,z){var J=this,ne,me;if(x.node)if(me=this.parser.schema.nodes[x.node],me.isLeaf)this.insertNode(me.create(x.attrs),R,y.nodeName=="BR")||this.leafFallback(y,R);else{var ke=this.enter(me,x.attrs||null,R,x.preserveWhitespace);ke&&(ne=!0,R=ke)}else{var je=this.parser.schema.marks[x.mark];R=R.concat(je.create(x.attrs))}var qe=this.top;if(me&&me.isLeaf)this.findInside(y);else if(z)this.addElement(y,R,z);else if(x.getContent)this.findInside(y),x.getContent(y,this.parser.schema).forEach(function(Ct){return J.insertNode(Ct,R,!1)});else{var tt=y;typeof x.contentElement=="string"?tt=y.querySelector(x.contentElement):typeof x.contentElement=="function"?tt=x.contentElement(y):x.contentElement&&(tt=x.contentElement),this.findAround(y,tt,!0),this.addAll(tt,R),this.findAround(y,tt,!1)}ne&&this.sync(qe)&&this.open--}},{key:"addAll",value:function(y,x,R,z){for(var J=R||0,ne=R?y.childNodes[R]:y.firstChild,me=z==null?null:y.childNodes[z];ne!=me;ne=ne.nextSibling,++J)this.findAtPoint(y,J),this.addDOM(ne,x);this.findAtPoint(y,J)}},{key:"findPlace",value:function(y,x,R){for(var z,J,ne=this.open,me=0;ne>=0;ne--){var ke=this.nodes[ne],je=ke.findWrapping(y);if(je&&(!z||z.length>je.length+me)&&(z=je,J=ke,!je.length))break;if(ke.solid){if(R)break;me+=2}}if(!z)return null;this.sync(J);for(var qe=0;qe<z.length;qe++)x=this.enterInner(z[qe],null,x,!1);return x}},{key:"insertNode",value:function(y,x,R){if(y.isInline&&this.needsBlock&&!this.top.type){var z=this.textblockFromContext();z&&(x=this.enterInner(z,null,x))}var J=this.findPlace(y,x,R);if(J){this.closeExtra();var ne=this.top;ne.match&&(ne.match=ne.match.matchType(y.type));var me=Ke.none,ke=t(J.concat(y.marks)),je;try{for(ke.s();!(je=ke.n()).done;){var qe=je.value;(ne.type?ne.type.allowsMarkType(qe.type):we(qe.type,y.type))&&(me=qe.addToSet(me))}}catch(tt){ke.e(tt)}finally{ke.f()}return ne.content.push(y.mark(me)),!0}return!1}},{key:"enter",value:function(y,x,R,z){var J=this.findPlace(y.create(x),R,!1);return J&&(J=this.enterInner(y,x,R,!0,z)),J}},{key:"enterInner",value:function(y,x,R){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,J=arguments.length>4?arguments[4]:void 0;this.closeExtra();var ne=this.top;ne.match=ne.match&&ne.match.matchType(y);var me=G(y,J,ne.options);ne.options&K&&ne.content.length==0&&(me|=K);var ke=Ke.none;return R=R.filter(function(je){return(ne.type?ne.type.allowsMarkType(je.type):we(je.type,y))?(ke=je.addToSet(ke),!1):!0}),this.nodes.push(new _(y,x,ke,z,null,me)),this.open++,R}},{key:"closeExtra",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=this.nodes.length-1;if(x>this.open){for(;x>this.open;x--)this.nodes[x-1].content.push(this.nodes[x].finish(y));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(y){for(var x=this.open;x>=0;x--){if(this.nodes[x]==y)return this.open=x,!0;this.localPreserveWS&&(this.nodes[x].options|=cr)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var y=0,x=this.open;x>=0;x--){for(var R=this.nodes[x].content,z=R.length-1;z>=0;z--)y+=R[z].nodeSize;x&&y++}return y}},{key:"findAtPoint",value:function(y,x){if(this.find)for(var R=0;R<this.find.length;R++)this.find[R].node==y&&this.find[R].offset==x&&(this.find[R].pos=this.currentPos)}},{key:"findInside",value:function(y){if(this.find)for(var x=0;x<this.find.length;x++)this.find[x].pos==null&&y.nodeType==1&&y.contains(this.find[x].node)&&(this.find[x].pos=this.currentPos)}},{key:"findAround",value:function(y,x,R){if(y!=x&&this.find){for(var z=0;z<this.find.length;z++)if(this.find[z].pos==null&&y.nodeType==1&&y.contains(this.find[z].node)){var J=x.compareDocumentPosition(this.find[z].node);J&(R?2:4)&&(this.find[z].pos=this.currentPos)}}}},{key:"findInText",value:function(y){if(this.find)for(var x=0;x<this.find.length;x++)this.find[x].node==y&&(this.find[x].pos=this.currentPos-(y.nodeValue.length-this.find[x].offset))}},{key:"matchesContext",value:function(y){var x=this;if(y.indexOf("|")>-1)return y.split(/\s*\|\s*/).some(this.matchesContext,this);var R=y.split("/"),z=this.options.context,J=!this.isOpen&&(!z||z.parent.type==this.nodes[0].type),ne=-(z?z.depth+1:0)+(J?0:1),me=function ke(je,qe){for(;je>=0;je--){var tt=R[je];if(tt==""){if(je==R.length-1||je==0)continue;for(;qe>=ne;qe--)if(ke(je-1,qe))return!0;return!1}else{var Ct=qe>0||qe==0&&J?x.nodes[qe].type:z&&qe>=ne?z.node(qe-ne).type:null;if(!Ct||Ct.name!=tt&&!Ct.isInGroup(tt))return!1;qe--}}return!0};return me(R.length-1,this.open)}},{key:"textblockFromContext",value:function(){var y=this.options.context;if(y)for(var x=y.depth;x>=0;x--){var R=y.node(x).contentMatchAt(y.indexAfter(x)).defaultType;if(R&&R.isTextblock&&R.defaultAttrs)return R}for(var z in this.parser.schema.nodes){var J=this.parser.schema.nodes[z];if(J.isTextblock&&J.defaultAttrs)return J}}}]),F})();function q(F){for(var O=F.firstChild,y=null;O;O=O.nextSibling){var x=O.nodeType==1?O.nodeName.toLowerCase():null;x&&In.hasOwnProperty(x)&&y?(y.appendChild(O),O=y):x=="li"?y=O:x&&(y=null)}}function V(F,O){return(F.matches||F.msMatchesSelector||F.webkitMatchesSelector||F.mozMatchesSelector).call(F,O)}function te(F){var O={};for(var y in F)O[y]=F[y];return O}function we(F,O){var y=O.schema.nodes,x=function(){var ne=y[z];if(!ne.allowsMarkType(F))return 0;var me=[],ke=function je(qe){me.push(qe);for(var tt=0;tt<qe.edgeCount;tt++){var Ct=qe.edge(tt),$t=Ct.type,fr=Ct.next;if($t==O||me.indexOf(fr)<0&&je(fr))return!0}};if(ke(ne.contentMatch))return{v:!0}},R;for(var z in y)if(R=x(),R!==0&&R)return R.v}var De=(function(){function F(O,y){N(this,F),this.nodes=O,this.marks=y}return U(F,[{key:"serializeFragment",value:function(y){var x=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2?arguments[2]:void 0;z||(z=re(R).createDocumentFragment());var J=z,ne=[];return y.forEach(function(me){if(ne.length||me.marks.length){for(var ke=0,je=0;ke<ne.length&&je<me.marks.length;){var qe=me.marks[je];if(!x.marks[qe.type.name]){je++;continue}if(!qe.eq(ne[ke][0])||qe.type.spec.spanning===!1)break;ke++,je++}for(;ke<ne.length;)J=ne.pop()[1];for(;je<me.marks.length;){var tt=me.marks[je++],Ct=x.serializeMark(tt,me.isInline,R);Ct&&(ne.push([tt,J]),J.appendChild(Ct.dom),J=Ct.contentDOM||Ct.dom)}}J.appendChild(x.serializeNodeInner(me,R))}),z}},{key:"serializeNodeInner",value:function(y,x){var R=wt(re(x),this.nodes[y.type.name](y),null,y.attrs),z=R.dom,J=R.contentDOM;if(J){if(y.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(y.content,x,J)}return z}},{key:"serializeNode",value:function(y){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=this.serializeNodeInner(y,x),z=y.marks.length-1;z>=0;z--){var J=this.serializeMark(y.marks[z],y.isInline,x);J&&((J.contentDOM||J.dom).appendChild(R),R=J.dom)}return R}},{key:"serializeMark",value:function(y,x){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},z=this.marks[y.type.name];return z&&wt(re(R),z(y,x),null,y.attrs)}}],[{key:"renderSpec",value:function(y,x){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,z=arguments.length>3?arguments[3]:void 0;return wt(y,x,R,z)}},{key:"fromSchema",value:function(y){return y.cached.domSerializer||(y.cached.domSerializer=new F(this.nodesFromSchema(y),this.marksFromSchema(y)))}},{key:"nodesFromSchema",value:function(y){var x=de(y.nodes);return x.text||(x.text=function(R){return R.text}),x}},{key:"marksFromSchema",value:function(y){return de(y.marks)}}]),F})();function de(F){var O={};for(var y in F){var x=F[y].spec.toDOM;x&&(O[y]=x)}return O}function re(F){return F.document||window.document}var Ce=new WeakMap;function Re(F){var O=Ce.get(F);return O===void 0&&Ce.set(F,O=it(F)),O}function it(F){var O=null;function y(x){if(x&&M(x)=="object")if(Array.isArray(x))if(typeof x[0]=="string")O||(O=[]),O.push(x);else for(var R=0;R<x.length;R++)y(x[R]);else for(var z in x)y(x[z])}return y(F),O}function wt(F,O,y,x){if(typeof O=="string")return{dom:F.createTextNode(O)};if(O.nodeType!=null)return{dom:O};if(O.dom&&O.dom.nodeType!=null)return O;var R=O[0],z;if(typeof R!="string")throw new RangeError("Invalid array passed to renderSpec");if(x&&(z=Re(x))&&z.indexOf(O)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var J=R.indexOf(" ");J>0&&(y=R.slice(0,J),R=R.slice(J+1));var ne,me=y?F.createElementNS(y,R):F.createElement(R),ke=O[1],je=1;if(ke&&M(ke)=="object"&&ke.nodeType==null&&!Array.isArray(ke)){je=2;for(var qe in ke)if(ke[qe]!=null){var tt=qe.indexOf(" ");tt>0?me.setAttributeNS(qe.slice(0,tt),qe.slice(tt+1),ke[qe]):qe=="style"&&me.style?me.style.cssText=ke[qe]:me.setAttribute(qe,ke[qe])}}for(var Ct=je;Ct<O.length;Ct++){var $t=O[Ct];if($t===0){if(Ct<O.length-1||Ct>je)throw new RangeError("Content hole must be the only child of its parent node");return{dom:me,contentDOM:me}}else{var fr=wt(F,$t,y,x),Pn=fr.dom,Si=fr.contentDOM;if(me.appendChild(Pn),Si){if(ne)throw new RangeError("Multiple content holes");ne=Si}}}return{dom:me,contentDOM:ne}}return Sn.ContentMatch=ye,Sn.DOMParser=xn,Sn.DOMSerializer=De,Sn.Fragment=ge,Sn.Mark=Ke,Sn.MarkType=gr,Sn.Node=$,Sn.NodeRange=ae,Sn.NodeType=ur,Sn.ReplaceError=Tt,Sn.ResolvedPos=Ne,Sn.Schema=Fr,Sn.Slice=Xe,Sn}var ev={},Kw;function bg(){return Kw||(Kw=1,(function(t){function e(K){var G=typeof Map=="function"?new Map:void 0;return e=function(L){if(L===null||!n(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(typeof G<"u"){if(G.has(L))return G.get(L);G.set(L,q)}function q(){return r(L,arguments,f(this).constructor)}return q.prototype=Object.create(L.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),a(q,L)},e(K)}function r(K,G,_){return u()?r=Reflect.construct.bind():r=function(q,V,te){var we=[null];we.push.apply(we,V);var De=Function.bind.apply(q,we),de=new De;return te&&a(de,te.prototype),de},r.apply(null,arguments)}function n(K){try{return Function.toString.call(K).indexOf("[native code]")!==-1}catch{return typeof K=="function"}}function i(K,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(G&&G.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),G&&a(K,G)}function a(K,G){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,q){return L.__proto__=q,L},a(K,G)}function o(K){var G=u();return function(){var L=f(K),q;if(G){var V=f(this).constructor;q=Reflect.construct(L,arguments,V)}else q=L.apply(this,arguments);return s(this,q)}}function s(K,G){if(G&&(p(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(K)}function l(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(K){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(K)}function p(K){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p(K)}function b(K,G){if(!(K instanceof G))throw new TypeError("Cannot call a class as a function")}function C(K,G){for(var _=0;_<G.length;_++){var L=G[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(K,M(L.key),L)}}function T(K,G,_){return G&&C(K.prototype,G),_&&C(K,_),Object.defineProperty(K,"prototype",{writable:!1}),K}function M(K){var G=N(K,"string");return p(G)==="symbol"?G:String(G)}function N(K,G){if(p(K)!=="object"||K===null)return K;var _=K[Symbol.toPrimitive];if(_!==void 0){var L=_.call(K,G);if(p(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}var B=qd(),U=65535,X=Math.pow(2,16);function Z(K,G){return K+G*X}function ce(K){return K&U}function le(K){return(K-(K&U))/X}var se=1,ge=2,Oe=4,Ge=8,pt=(function(){function K(G,_,L){b(this,K),this.pos=G,this.delInfo=_,this.recover=L}return T(K,[{key:"deleted",get:function(){return(this.delInfo&Ge)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(se|Oe))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(ge|Oe))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&Oe)>0}}]),K})(),Ke=(function(){function K(G){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(b(this,K),this.ranges=G,this.inverted=_,!G.length&&K.empty)return K.empty}return T(K,[{key:"recover",value:function(_){var L=0,q=ce(_);if(!this.inverted)for(var V=0;V<q;V++)L+=this.ranges[V*3+2]-this.ranges[V*3+1];return this.ranges[q*3]+L+le(_)}},{key:"mapResult",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!1)}},{key:"map",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!0)}},{key:"_map",value:function(_,L,q){for(var V=0,te=this.inverted?2:1,we=this.inverted?1:2,De=0;De<this.ranges.length;De+=3){var de=this.ranges[De]-(this.inverted?V:0);if(de>_)break;var re=this.ranges[De+te],Ce=this.ranges[De+we],Re=de+re;if(_<=Re){var it=re?_==de?-1:_==Re?1:L:L,wt=de+V+(it<0?0:Ce);if(q)return wt;var F=_==(L<0?de:Re)?null:Z(De/3,_-de),O=_==de?ge:_==Re?se:Oe;return(L<0?_!=de:_!=Re)&&(O|=Ge),new pt(wt,O,F)}V+=Ce-re}return q?_+V:new pt(_+V,0,null)}},{key:"touches",value:function(_,L){for(var q=0,V=ce(L),te=this.inverted?2:1,we=this.inverted?1:2,De=0;De<this.ranges.length;De+=3){var de=this.ranges[De]-(this.inverted?q:0);if(de>_)break;var re=this.ranges[De+te],Ce=de+re;if(_<=Ce&&De==V*3)return!0;q+=this.ranges[De+we]-re}return!1}},{key:"forEach",value:function(_){for(var L=this.inverted?2:1,q=this.inverted?1:2,V=0,te=0;V<this.ranges.length;V+=3){var we=this.ranges[V],De=we-(this.inverted?te:0),de=we+(this.inverted?0:te),re=this.ranges[V+L],Ce=this.ranges[V+q];_(De,De+re,de,de+Ce),te+=Ce-re}}},{key:"invert",value:function(){return new K(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(_){return _==0?K.empty:new K(_<0?[0,-_,0]:[0,0,_])}}]),K})();Ke.empty=new Ke([]);var Tt=(function(){function K(G,_){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G?G.length:0;b(this,K),this.mirror=_,this.from=L,this.to=q,this._maps=G||[],this.ownData=!(G||_)}return T(K,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new K(this._maps,this.mirror,_,L)}},{key:"appendMap",value:function(_,L){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(_),L!=null&&this.setMirror(this._maps.length-1,L)}},{key:"appendMapping",value:function(_){for(var L=0,q=this._maps.length;L<_._maps.length;L++){var V=_.getMirror(L);this.appendMap(_._maps[L],V!=null&&V<L?q+V:void 0)}}},{key:"getMirror",value:function(_){if(this.mirror){for(var L=0;L<this.mirror.length;L++)if(this.mirror[L]==_)return this.mirror[L+(L%2?-1:1)]}}},{key:"setMirror",value:function(_,L){this.mirror||(this.mirror=[]),this.mirror.push(_,L)}},{key:"appendMappingInverted",value:function(_){for(var L=_.maps.length-1,q=this._maps.length+_._maps.length;L>=0;L--){var V=_.getMirror(L);this.appendMap(_._maps[L].invert(),V!=null&&V>L?q-V-1:void 0)}}},{key:"invert",value:function(){var _=new K;return _.appendMappingInverted(this),_}},{key:"map",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(_,L,!0);for(var q=this.from;q<this.to;q++)_=this._maps[q].map(_,L);return _}},{key:"mapResult",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!1)}},{key:"_map",value:function(_,L,q){for(var V=0,te=this.from;te<this.to;te++){var we=this._maps[te],De=we.mapResult(_,L);if(De.recover!=null){var de=this.getMirror(te);if(de!=null&&de>te&&de<this.to){te=de,_=this._maps[de].recover(De.recover);continue}}V|=De.delInfo,_=De.pos}return q?_:new pt(_,V,null)}}]),K})(),Xe=Object.create(null),Se=(function(){function K(){b(this,K)}return T(K,[{key:"getMap",value:function(){return Ke.empty}},{key:"merge",value:function(_){return null}}],[{key:"fromJSON",value:function(_,L){if(!L||!L.stepType)throw new RangeError("Invalid input for Step.fromJSON");var q=Xe[L.stepType];if(!q)throw new RangeError("No step type ".concat(L.stepType," defined"));return q.fromJSON(_,L)}},{key:"jsonID",value:function(_,L){if(_ in Xe)throw new RangeError("Duplicate use of step JSON ID "+_);return Xe[_]=L,L.prototype.jsonID=_,L}}]),K})(),ze=(function(){function K(G,_){b(this,K),this.doc=G,this.failed=_}return T(K,null,[{key:"ok",value:function(_){return new K(_,null)}},{key:"fail",value:function(_){return new K(null,_)}},{key:"fromReplace",value:function(_,L,q,V){try{return K.ok(_.replace(L,q,V))}catch(te){if(te instanceof B.ReplaceError)return K.fail(te.message);throw te}}}]),K})();function Ve(K,G,_){for(var L=[],q=0;q<K.childCount;q++){var V=K.child(q);V.content.size&&(V=V.copy(Ve(V.content,G,V))),V.isInline&&(V=G(V,_,q)),L.push(V)}return B.Fragment.fromArray(L)}var Qe=(function(K){i(_,K);var G=o(_);function _(L,q,V){var te;return b(this,_),te=G.call(this),te.from=L,te.to=q,te.mark=V,te}return T(_,[{key:"apply",value:function(q){var V=this,te=q.slice(this.from,this.to),we=q.resolve(this.from),De=we.node(we.sharedDepth(this.to)),de=new B.Slice(Ve(te.content,function(re,Ce){return!re.isAtom||!Ce.type.allowsMarkType(V.mark.type)?re:re.mark(V.mark.addToSet(re.marks))},De),te.openStart,te.openEnd);return ze.fromReplace(q,this.from,this.to,de)}},{key:"invert",value:function(){return new Ht(this.from,this.to,this.mark)}},{key:"map",value:function(q){var V=q.mapResult(this.from,1),te=q.mapResult(this.to,-1);return V.deleted&&te.deleted||V.pos>=te.pos?null:new _(V.pos,te.pos,this.mark)}},{key:"merge",value:function(q){return q instanceof _&&q.mark.eq(this.mark)&&this.from<=q.to&&this.to>=q.from?new _(Math.min(this.from,q.from),Math.max(this.to,q.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.from!="number"||typeof V.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _(V.from,V.to,q.markFromJSON(V.mark))}}]),_})(Se);Se.jsonID("addMark",Qe);var Ht=(function(K){i(_,K);var G=o(_);function _(L,q,V){var te;return b(this,_),te=G.call(this),te.from=L,te.to=q,te.mark=V,te}return T(_,[{key:"apply",value:function(q){var V=this,te=q.slice(this.from,this.to),we=new B.Slice(Ve(te.content,function(De){return De.mark(V.mark.removeFromSet(De.marks))},q),te.openStart,te.openEnd);return ze.fromReplace(q,this.from,this.to,we)}},{key:"invert",value:function(){return new Qe(this.from,this.to,this.mark)}},{key:"map",value:function(q){var V=q.mapResult(this.from,1),te=q.mapResult(this.to,-1);return V.deleted&&te.deleted||V.pos>=te.pos?null:new _(V.pos,te.pos,this.mark)}},{key:"merge",value:function(q){return q instanceof _&&q.mark.eq(this.mark)&&this.from<=q.to&&this.to>=q.from?new _(Math.min(this.from,q.from),Math.max(this.to,q.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.from!="number"||typeof V.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _(V.from,V.to,q.markFromJSON(V.mark))}}]),_})(Se);Se.jsonID("removeMark",Ht);var st=(function(K){i(_,K);var G=o(_);function _(L,q){var V;return b(this,_),V=G.call(this),V.pos=L,V.mark=q,V}return T(_,[{key:"apply",value:function(q){var V=q.nodeAt(this.pos);if(!V)return ze.fail("No node at mark step's position");var te=V.type.create(V.attrs,null,this.mark.addToSet(V.marks));return ze.fromReplace(q,this.pos,this.pos+1,new B.Slice(B.Fragment.from(te),0,V.isLeaf?0:1))}},{key:"invert",value:function(q){var V=q.nodeAt(this.pos);if(V){var te=this.mark.addToSet(V.marks);if(te.length==V.marks.length){for(var we=0;we<V.marks.length;we++)if(!V.marks[we].isInSet(te))return new _(this.pos,V.marks[we]);return new _(this.pos,this.mark)}}return new vt(this.pos,this.mark)}},{key:"map",value:function(q){var V=q.mapResult(this.pos,1);return V.deletedAfter?null:new _(V.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _(V.pos,q.markFromJSON(V.mark))}}]),_})(Se);Se.jsonID("addNodeMark",st);var vt=(function(K){i(_,K);var G=o(_);function _(L,q){var V;return b(this,_),V=G.call(this),V.pos=L,V.mark=q,V}return T(_,[{key:"apply",value:function(q){var V=q.nodeAt(this.pos);if(!V)return ze.fail("No node at mark step's position");var te=V.type.create(V.attrs,null,this.mark.removeFromSet(V.marks));return ze.fromReplace(q,this.pos,this.pos+1,new B.Slice(B.Fragment.from(te),0,V.isLeaf?0:1))}},{key:"invert",value:function(q){var V=q.nodeAt(this.pos);return!V||!this.mark.isInSet(V.marks)?this:new st(this.pos,this.mark)}},{key:"map",value:function(q){var V=q.mapResult(this.pos,1);return V.deletedAfter?null:new _(V.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _(V.pos,q.markFromJSON(V.mark))}}]),_})(Se);Se.jsonID("removeNodeMark",vt);var lt=(function(K){i(_,K);var G=o(_);function _(L,q,V){var te,we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return b(this,_),te=G.call(this),te.from=L,te.to=q,te.slice=V,te.structure=we,te}return T(_,[{key:"apply",value:function(q){return this.structure&&Nt(q,this.from,this.to)?ze.fail("Structure replace would overwrite content"):ze.fromReplace(q,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new Ke([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(q){return new _(this.from,this.from+this.slice.size,q.slice(this.from,this.to))}},{key:"map",value:function(q){var V=q.mapResult(this.from,1),te=q.mapResult(this.to,-1);return V.deletedAcross&&te.deletedAcross?null:new _(V.pos,Math.max(V.pos,te.pos),this.slice,this.structure)}},{key:"merge",value:function(q){if(!(q instanceof _)||q.structure||this.structure)return null;if(this.from+this.slice.size==q.from&&!this.slice.openEnd&&!q.slice.openStart){var V=this.slice.size+q.slice.size==0?B.Slice.empty:new B.Slice(this.slice.content.append(q.slice.content),this.slice.openStart,q.slice.openEnd);return new _(this.from,this.to+(q.to-q.from),V,this.structure)}else if(q.to==this.from&&!this.slice.openStart&&!q.slice.openEnd){var te=this.slice.size+q.slice.size==0?B.Slice.empty:new B.Slice(q.slice.content.append(this.slice.content),q.slice.openStart,this.slice.openEnd);return new _(q.from,this.to,te,this.structure)}else return null}},{key:"toJSON",value:function(){var q={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(q.slice=this.slice.toJSON()),this.structure&&(q.structure=!0),q}}],[{key:"fromJSON",value:function(q,V){if(typeof V.from!="number"||typeof V.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _(V.from,V.to,B.Slice.fromJSON(q,V.slice),!!V.structure)}}]),_})(Se);Se.jsonID("replace",lt);var At=(function(K){i(_,K);var G=o(_);function _(L,q,V,te,we,De){var de,re=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return b(this,_),de=G.call(this),de.from=L,de.to=q,de.gapFrom=V,de.gapTo=te,de.slice=we,de.insert=De,de.structure=re,de}return T(_,[{key:"apply",value:function(q){if(this.structure&&(Nt(q,this.from,this.gapFrom)||Nt(q,this.gapTo,this.to)))return ze.fail("Structure gap-replace would overwrite content");var V=q.slice(this.gapFrom,this.gapTo);if(V.openStart||V.openEnd)return ze.fail("Gap is not a flat range");var te=this.slice.insertAt(this.insert,V.content);return te?ze.fromReplace(q,this.from,this.to,te):ze.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new Ke([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(q){var V=this.gapTo-this.gapFrom;return new _(this.from,this.from+this.slice.size+V,this.from+this.insert,this.from+this.insert+V,q.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(q){var V=q.mapResult(this.from,1),te=q.mapResult(this.to,-1),we=this.from==this.gapFrom?V.pos:q.map(this.gapFrom,-1),De=this.to==this.gapTo?te.pos:q.map(this.gapTo,1);return V.deletedAcross&&te.deletedAcross||we<V.pos||De>te.pos?null:new _(V.pos,te.pos,we,De,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var q={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(q.slice=this.slice.toJSON()),this.structure&&(q.structure=!0),q}}],[{key:"fromJSON",value:function(q,V){if(typeof V.from!="number"||typeof V.to!="number"||typeof V.gapFrom!="number"||typeof V.gapTo!="number"||typeof V.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _(V.from,V.to,V.gapFrom,V.gapTo,B.Slice.fromJSON(q,V.slice),V.insert,!!V.structure)}}]),_})(Se);Se.jsonID("replaceAround",At);function Nt(K,G,_){for(var L=K.resolve(G),q=_-G,V=L.depth;q>0&&V>0&&L.indexAfter(V)==L.node(V).childCount;)V--,q--;if(q>0)for(var te=L.node(V).maybeChild(L.indexAfter(V));q>0;){if(!te||te.isLeaf)return!0;te=te.firstChild,q--}return!1}function Qt(K,G,_,L){var q=[],V=[],te,we;K.doc.nodesBetween(G,_,function(De,de,re){if(De.isInline){var Ce=De.marks;if(!L.isInSet(Ce)&&re.type.allowsMarkType(L.type)){for(var Re=Math.max(de,G),it=Math.min(de+De.nodeSize,_),wt=L.addToSet(Ce),F=0;F<Ce.length;F++)Ce[F].isInSet(wt)||(te&&te.to==Re&&te.mark.eq(Ce[F])?te.to=it:q.push(te=new Ht(Re,it,Ce[F])));we&&we.to==Re?we.to=it:V.push(we=new Qe(Re,it,L))}}}),q.forEach(function(De){return K.step(De)}),V.forEach(function(De){return K.step(De)})}function Vt(K,G,_,L){var q=[],V=0;K.doc.nodesBetween(G,_,function(te,we){if(te.isInline){V++;var De=null;if(L instanceof B.MarkType)for(var de=te.marks,re;re=L.isInSet(de);)(De||(De=[])).push(re),de=re.removeFromSet(de);else L?L.isInSet(te.marks)&&(De=[L]):De=te.marks;if(De&&De.length)for(var Ce=Math.min(we+te.nodeSize,_),Re=0;Re<De.length;Re++){for(var it=De[Re],wt=void 0,F=0;F<q.length;F++){var O=q[F];O.step==V-1&&it.eq(q[F].style)&&(wt=O)}wt?(wt.to=Ce,wt.step=V):q.push({style:it,from:Math.max(we,G),to:Ce,step:V})}}}),q.forEach(function(te){return K.step(new Ht(te.from,te.to,te.style))})}function Ne(K,G,_){for(var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.contentMatch,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,V=K.doc.nodeAt(G),te=[],we=G+1,De=0;De<V.childCount;De++){var de=V.child(De),re=we+de.nodeSize,Ce=L.matchType(de.type);if(!Ce)te.push(new lt(we,re,B.Slice.empty));else{L=Ce;for(var Re=0;Re<de.marks.length;Re++)_.allowsMarkType(de.marks[Re].type)||K.step(new Ht(we,re,de.marks[Re]));if(q&&de.isText&&_.whitespace!="pre")for(var it=void 0,wt=/\r?\n|\r/g,F=void 0;it=wt.exec(de.text);)F||(F=new B.Slice(B.Fragment.from(_.schema.text(" ",_.allowedMarks(de.marks))),0,0)),te.push(new lt(we+it.index,we+it.index+it[0].length,F))}we=re}if(!L.validEnd){var O=L.fillBefore(B.Fragment.empty,!0);K.replace(we,we,new B.Slice(O,0,0))}for(var y=te.length-1;y>=0;y--)K.step(te[y])}function fe(K,G,_){return(G==0||K.canReplace(G,K.childCount))&&(_==K.childCount||K.canReplace(0,_))}function ie(K){for(var G=K.parent,_=G.content.cutByIndex(K.startIndex,K.endIndex),L=K.depth,q=0,V=0;;--L){var te=K.$from.node(L),we=K.$from.index(L)+q,De=K.$to.indexAfter(L)-V;if(L<K.depth&&te.canReplace(we,De,_))return L;if(L==0||te.type.spec.isolating||!fe(te,we,De))break;we&&(q=1),De<te.childCount&&(V=1)}return null}function ee(K,G,_){for(var L=G.$from,q=G.$to,V=G.depth,te=L.before(V+1),we=q.after(V+1),De=te,de=we,re=B.Fragment.empty,Ce=0,Re=V,it=!1;Re>_;Re--)it||L.index(Re)>0?(it=!0,re=B.Fragment.from(L.node(Re).copy(re)),Ce++):De--;for(var wt=B.Fragment.empty,F=0,O=V,y=!1;O>_;O--)y||q.after(O+1)<q.end(O)?(y=!0,wt=B.Fragment.from(q.node(O).copy(wt)),F++):de++;K.step(new At(De,de,te,we,new B.Slice(re.append(wt),Ce,F),re.size-Ce,!0))}function ae(K,G){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K,q=$(K,G),V=q&&Y(L,G);return V?q.map(I).concat({type:G,attrs:_}).concat(V.map(I)):null}function I(K){return{type:K,attrs:null}}function $(K,G){var _=K.parent,L=K.startIndex,q=K.endIndex,V=_.contentMatchAt(L).findWrapping(G);if(!V)return null;var te=V.length?V[0]:G;return _.canReplaceWith(L,q,te)?V:null}function Y(K,G){var _=K.parent,L=K.startIndex,q=K.endIndex,V=_.child(L),te=G.contentMatch.findWrapping(V.type);if(!te)return null;for(var we=te.length?te[te.length-1]:G,De=we.contentMatch,de=L;De&&de<q;de++)De=De.matchType(_.child(de).type);return!De||!De.validEnd?null:te}function pe(K,G,_){for(var L=B.Fragment.empty,q=_.length-1;q>=0;q--){if(L.size){var V=_[q].type.contentMatch.matchFragment(L);if(!V||!V.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}L=B.Fragment.from(_[q].type.create(_[q].attrs,L))}var te=G.start,we=G.end;K.step(new At(te,we,te,we,new B.Slice(L,0,0),_.length,!0))}function ye(K,G,_,L,q){if(!L.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var V=K.steps.length;K.doc.nodesBetween(G,_,function(te,we){var De=typeof q=="function"?q(te):q;if(te.isTextblock&&!te.hasMarkup(L,De)&&He(K.doc,K.mapping.slice(V).map(we),L)){var de=null;if(L.schema.linebreakReplacement){var re=L.whitespace=="pre",Ce=!!L.contentMatch.matchType(L.schema.linebreakReplacement);re&&!Ce?de=!1:!re&&Ce&&(de=!0)}de===!1&&Pe(K,te,we,V),Ne(K,K.mapping.slice(V).map(we,1),L,void 0,de===null);var Re=K.mapping.slice(V),it=Re.map(we,1),wt=Re.map(we+te.nodeSize,1);return K.step(new At(it,wt,it+1,wt-1,new B.Slice(B.Fragment.from(L.create(De,null,te.marks)),0,0),1,!0)),de===!0&&Te(K,te,we,V),!1}})}function Te(K,G,_,L){G.forEach(function(q,V){if(q.isText)for(var te,we=/\r?\n|\r/g;te=we.exec(q.text);){var De=K.mapping.slice(L).map(_+1+V+te.index);K.replaceWith(De,De+1,G.type.schema.linebreakReplacement.create())}})}function Pe(K,G,_,L){G.forEach(function(q,V){if(q.type==q.type.schema.linebreakReplacement){var te=K.mapping.slice(L).map(_+1+V);K.replaceWith(te,te+1,G.type.schema.text(`
`))}})}function He(K,G,_){var L=K.resolve(G),q=L.index();return L.parent.canReplaceWith(q,q+1,_)}function _e(K,G,_,L,q){var V=K.doc.nodeAt(G);if(!V)throw new RangeError("No node at given position");_||(_=V.type);var te=_.create(L,null,q||V.marks);if(V.isLeaf)return K.replaceWith(G,G+V.nodeSize,te);if(!_.validContent(V.content))throw new RangeError("Invalid content for node type "+_.name);K.step(new At(G,G+V.nodeSize,G+1,G+V.nodeSize-1,new B.Slice(B.Fragment.from(te),0,0),1,!0))}function Ie(K,G){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,q=K.resolve(G),V=q.depth-_,te=L&&L[L.length-1]||q.parent;if(V<0||q.parent.type.spec.isolating||!q.parent.canReplace(q.index(),q.parent.childCount)||!te.type.validContent(q.parent.content.cutByIndex(q.index(),q.parent.childCount)))return!1;for(var we=q.depth-1,De=_-2;we>V;we--,De--){var de=q.node(we),re=q.index(we);if(de.type.spec.isolating)return!1;var Ce=de.content.cutByIndex(re,de.childCount),Re=L&&L[De+1];Re&&(Ce=Ce.replaceChild(0,Re.type.create(Re.attrs)));var it=L&&L[De]||de;if(!de.canReplace(re+1,de.childCount)||!it.type.validContent(Ce))return!1}var wt=q.indexAfter(V),F=L&&L[0];return q.node(V).canReplaceWith(wt,wt,F?F.type:q.node(V+1).type)}function et(K,G){for(var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,q=K.doc.resolve(G),V=B.Fragment.empty,te=B.Fragment.empty,we=q.depth,De=q.depth-_,de=_-1;we>De;we--,de--){V=B.Fragment.from(q.node(we).copy(V));var re=L&&L[de];te=B.Fragment.from(re?re.type.create(re.attrs,te):q.node(we).copy(te))}K.step(new lt(G,G,new B.Slice(V.append(te),_,_),!0))}function Ye(K,G){var _=K.resolve(G),L=_.index();return yt(_.nodeBefore,_.nodeAfter)&&_.parent.canReplace(L,L+1)}function dt(K,G){G.content.size||K.type.compatibleContent(G.type);for(var _=K.contentMatchAt(K.childCount),L=K.type.schema.linebreakReplacement,q=0;q<G.childCount;q++){var V=G.child(q),te=V.type==L?K.type.schema.nodes.text:V.type;if(_=_.matchType(te),!_||!K.type.allowsMarks(V.marks))return!1}return _.validEnd}function yt(K,G){return!!(K&&G&&!K.isLeaf&&dt(K,G))}function xt(K,G){for(var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,L=K.resolve(G),q=L.depth;;q--){var V=void 0,te=void 0,we=L.index(q);if(q==L.depth?(V=L.nodeBefore,te=L.nodeAfter):_>0?(V=L.node(q+1),we++,te=L.node(q).maybeChild(we)):(V=L.node(q).maybeChild(we-1),te=L.node(q+1)),V&&!V.isTextblock&&yt(V,te)&&L.node(q).canReplace(we,we+1))return G;if(q==0)break;G=_<0?L.before(q):L.after(q)}}function $e(K,G,_){var L=null,q=K.doc.type.schema.linebreakReplacement,V=K.doc.resolve(G-_),te=V.node().type;if(q&&te.inlineContent){var we=te.whitespace=="pre",De=!!te.contentMatch.matchType(q);we&&!De?L=!1:!we&&De&&(L=!0)}var de=K.steps.length;if(L===!1){var re=K.doc.resolve(G+_);Pe(K,re.node(),re.before(),de)}te.inlineContent&&Ne(K,G+_-1,te,V.node().contentMatchAt(V.index()),L==null);var Ce=K.mapping.slice(de),Re=Ce.map(G-_);if(K.step(new lt(Re,Ce.map(G+_,-1),B.Slice.empty,!0)),L===!0){var it=K.doc.resolve(Re);Te(K,it.node(),it.before(),K.steps.length)}return K}function Ue(K,G,_){var L=K.resolve(G);if(L.parent.canReplaceWith(L.index(),L.index(),_))return G;if(L.parentOffset==0)for(var q=L.depth-1;q>=0;q--){var V=L.index(q);if(L.node(q).canReplaceWith(V,V,_))return L.before(q+1);if(V>0)return null}if(L.parentOffset==L.parent.content.size)for(var te=L.depth-1;te>=0;te--){var we=L.indexAfter(te);if(L.node(te).canReplaceWith(we,we,_))return L.after(te+1);if(we<L.node(te).childCount)return null}return null}function ht(K,G,_){var L=K.resolve(G);if(!_.content.size)return G;for(var q=_.content,V=0;V<_.openStart;V++)q=q.firstChild.content;for(var te=1;te<=(_.openStart==0&&_.size?2:1);te++)for(var we=L.depth;we>=0;we--){var De=we==L.depth?0:L.pos<=(L.start(we+1)+L.end(we+1))/2?-1:1,de=L.index(we)+(De>0?1:0),re=L.node(we),Ce=!1;if(te==1)Ce=re.canReplace(de,de,q);else{var Re=re.contentMatchAt(de).findWrapping(q.firstChild.type);Ce=Re&&re.canReplaceWith(de,de,Re[0])}if(Ce)return De==0?L.pos:De<0?L.before(we+1):L.after(we+1)}return null}function bt(K,G){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.Slice.empty;if(G==_&&!L.size)return null;var q=K.resolve(G),V=K.resolve(_);return Ot(q,V,L)?new lt(G,_,L):new rr(q,V,L).fit()}function Ot(K,G,_){return!_.openStart&&!_.openEnd&&K.start()==G.start()&&K.parent.canReplace(K.index(),G.index(),_.content)}var rr=(function(){function K(G,_,L){b(this,K),this.$from=G,this.$to=_,this.unplaced=L,this.frontier=[],this.placed=B.Fragment.empty;for(var q=0;q<=G.depth;q++){var V=G.node(q);this.frontier.push({type:V.type,match:V.contentMatchAt(G.indexAfter(q))})}for(var te=G.depth;te>0;te--)this.placed=B.Fragment.from(G.node(te).copy(this.placed))}return T(K,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var _=this.findFittable();_?this.placeNodes(_):this.openMore()||this.dropNode()}var L=this.mustMoveInline(),q=this.placed.size-this.depth-this.$from.depth,V=this.$from,te=this.close(L<0?this.$to:V.doc.resolve(L));if(!te)return null;for(var we=this.placed,De=V.depth,de=te.depth;De&&de&&we.childCount==1;)we=we.firstChild.content,De--,de--;var re=new B.Slice(we,De,de);return L>-1?new At(V.pos,L,this.$to.pos,this.$to.end(),re,q):re.size||V.pos!=this.$to.pos?new lt(V.pos,te.pos,re):null}},{key:"findFittable",value:function(){for(var _=this.unplaced.openStart,L=this.unplaced.content,q=0,V=this.unplaced.openEnd;q<_;q++){var te=L.firstChild;if(L.childCount>1&&(V=0),te.type.spec.isolating&&V<=q){_=q;break}L=te.content}for(var we=1;we<=2;we++)for(var De=we==1?_:this.unplaced.openStart;De>=0;De--){var de=void 0,re=null;De?(re=nr(this.unplaced.content,De-1).firstChild,de=re.content):de=this.unplaced.content;for(var Ce=de.firstChild,Re=this.depth;Re>=0;Re--){var it=this.frontier[Re],wt=it.type,F=it.match,O=void 0,y=null;if(we==1&&(Ce?F.matchType(Ce.type)||(y=F.fillBefore(B.Fragment.from(Ce),!1)):re&&wt.compatibleContent(re.type)))return{sliceDepth:De,frontierDepth:Re,parent:re,inject:y};if(we==2&&Ce&&(O=F.findWrapping(Ce.type)))return{sliceDepth:De,frontierDepth:Re,parent:re,wrap:O};if(re&&F.matchType(re.type))break}}}},{key:"openMore",value:function(){var _=this.unplaced,L=_.content,q=_.openStart,V=_.openEnd,te=nr(L,q);return!te.childCount||te.firstChild.isLeaf?!1:(this.unplaced=new B.Slice(L,q+1,Math.max(V,te.size+q>=L.size-V?q+1:0)),!0)}},{key:"dropNode",value:function(){var _=this.unplaced,L=_.content,q=_.openStart,V=_.openEnd,te=nr(L,q);if(te.childCount<=1&&q>0){var we=L.size-q<=q+te.size;this.unplaced=new B.Slice(Gt(L,q-1,1),q-1,we?q-1:V)}else this.unplaced=new B.Slice(Gt(L,q,1),q,V)}},{key:"placeNodes",value:function(_){for(var L=_.sliceDepth,q=_.frontierDepth,V=_.parent,te=_.inject,we=_.wrap;this.depth>q;)this.closeFrontierNode();if(we)for(var De=0;De<we.length;De++)this.openFrontierNode(we[De]);var de=this.unplaced,re=V?V.content:de.content,Ce=de.openStart-L,Re=0,it=[],wt=this.frontier[q],F=wt.match,O=wt.type;if(te){for(var y=0;y<te.childCount;y++)it.push(te.child(y));F=F.matchFragment(te)}for(var x=re.size+L-(de.content.size-de.openEnd);Re<re.childCount;){var R=re.child(Re),z=F.matchType(R.type);if(!z)break;Re++,(Re>1||Ce==0||R.content.size)&&(F=z,it.push(mr(R.mark(O.allowedMarks(R.marks)),Re==1?Ce:0,Re==re.childCount?x:-1)))}var J=Re==re.childCount;J||(x=-1),this.placed=ur(this.placed,q,B.Fragment.from(it)),this.frontier[q].match=F,J&&x<0&&V&&V.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var ne=0,me=re;ne<x;ne++){var ke=me.lastChild;this.frontier.push({type:ke.type,match:ke.contentMatchAt(ke.childCount)}),me=ke.content}this.unplaced=J?L==0?B.Slice.empty:new B.Slice(Gt(de.content,L-1,1),L-1,x<0?de.openEnd:L-1):new B.Slice(Gt(de.content,L,Re),de.openStart,de.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var _=this.frontier[this.depth],L;if(!_.type.isTextblock||!gr(this.$to,this.$to.depth,_.type,_.match,!1)||this.$to.depth==this.depth&&(L=this.findCloseLevel(this.$to))&&L.depth==this.depth)return-1;for(var q=this.$to.depth,V=this.$to.after(q);q>1&&V==this.$to.end(--q);)++V;return V}},{key:"findCloseLevel",value:function(_){e:for(var L=Math.min(this.depth,_.depth);L>=0;L--){var q=this.frontier[L],V=q.match,te=q.type,we=L<_.depth&&_.end(L+1)==_.pos+(_.depth-(L+1)),De=gr(_,L,te,V,we);if(De){for(var de=L-1;de>=0;de--){var re=this.frontier[de],Ce=re.match,Re=re.type,it=gr(_,de,Re,Ce,!0);if(!it||it.childCount)continue e}return{depth:L,fit:De,move:we?_.doc.resolve(_.after(L+1)):_}}}}},{key:"close",value:function(_){var L=this.findCloseLevel(_);if(!L)return null;for(;this.depth>L.depth;)this.closeFrontierNode();L.fit.childCount&&(this.placed=ur(this.placed,L.depth,L.fit)),_=L.move;for(var q=L.depth+1;q<=_.depth;q++){var V=_.node(q),te=V.type.contentMatch.fillBefore(V.content,!0,_.index(q));this.openFrontierNode(V.type,V.attrs,te)}return _}},{key:"openFrontierNode",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q=arguments.length>2?arguments[2]:void 0,V=this.frontier[this.depth];V.match=V.match.matchType(_),this.placed=ur(this.placed,this.depth,B.Fragment.from(_.create(L,q))),this.frontier.push({type:_,match:_.contentMatch})}},{key:"closeFrontierNode",value:function(){var _=this.frontier.pop(),L=_.match.fillBefore(B.Fragment.empty,!0);L.childCount&&(this.placed=ur(this.placed,this.frontier.length,L))}}]),K})();function Gt(K,G,_){return G==0?K.cutByIndex(_,K.childCount):K.replaceChild(0,K.firstChild.copy(Gt(K.firstChild.content,G-1,_)))}function ur(K,G,_){return G==0?K.append(_):K.replaceChild(K.childCount-1,K.lastChild.copy(ur(K.lastChild.content,G-1,_)))}function nr(K,G){for(var _=0;_<G;_++)K=K.firstChild.content;return K}function mr(K,G,_){if(G<=0)return K;var L=K.content;return G>1&&(L=L.replaceChild(0,mr(L.firstChild,G-1,L.childCount==1?_-1:0))),G>0&&(L=K.type.contentMatch.fillBefore(L).append(L),_<=0&&(L=L.append(K.type.contentMatch.matchFragment(L).fillBefore(B.Fragment.empty,!0)))),K.copy(L)}function gr(K,G,_,L,q){var V=K.node(G),te=q?K.indexAfter(G):K.index(G);if(te==V.childCount&&!_.compatibleContent(V.type))return null;var we=L.fillBefore(V.content,!0,te);return we&&!Fr(_,V.content,te)?we:null}function Fr(K,G,_){for(var L=_;L<G.childCount;L++)if(!K.allowsMarks(G.child(L).marks))return!0;return!1}function si(K){return K.spec.defining||K.spec.definingForContent}function Jn(K,G,_,L){if(!L.size)return K.deleteRange(G,_);var q=K.doc.resolve(G),V=K.doc.resolve(_);if(Ot(q,V,L))return K.step(new lt(G,_,L));var te=Mr(q,V);te[te.length-1]==0&&te.pop();var we=-(q.depth+1);te.unshift(we);for(var De=q.depth,de=q.pos-1;De>0;De--,de--){var re=q.node(De).type.spec;if(re.defining||re.definingAsContext||re.isolating)break;te.indexOf(De)>-1?we=De:q.before(De)==de&&te.splice(1,0,-De)}for(var Ce=te.indexOf(we),Re=[],it=L.openStart,wt=L.content,F=0;;F++){var O=wt.firstChild;if(Re.push(O),F==L.openStart)break;wt=O.content}for(var y=it-1;y>=0;y--){var x=Re[y],R=si(x.type);if(R&&!x.sameMarkup(q.node(Math.abs(we)-1)))it=y;else if(R||!x.type.isTextblock)break}for(var z=L.openStart;z>=0;z--){var J=(z+it+1)%(L.openStart+1),ne=Re[J];if(ne)for(var me=0;me<te.length;me++){var ke=te[(me+Ce)%te.length],je=!0;ke<0&&(je=!1,ke=-ke);var qe=q.node(ke-1),tt=q.index(ke-1);if(qe.canReplaceWith(tt,tt,ne.type,ne.marks))return K.replace(q.before(ke),je?V.after(ke):_,new B.Slice(Ln(L.content,0,L.openStart,J),J,L.openEnd))}}for(var Ct=K.steps.length,$t=te.length-1;$t>=0&&(K.replace(G,_,L),!(K.steps.length>Ct));$t--){var fr=te[$t];fr<0||(G=q.before(fr),_=V.after(fr))}}function Ln(K,G,_,L,q){if(G<_){var V=K.firstChild;K=K.replaceChild(0,V.copy(Ln(V.content,G+1,_,L,V)))}if(G>L){var te=q.contentMatchAt(0),we=te.fillBefore(K).append(K);K=we.append(te.matchFragment(we).fillBefore(B.Fragment.empty,!0))}return K}function xn(K,G,_,L){if(!L.isInline&&G==_&&K.doc.resolve(G).parent.content.size){var q=Ue(K.doc,G,L.type);q!=null&&(G=_=q)}K.replaceRange(G,_,new B.Slice(B.Fragment.from(L),0,0))}function hn(K,G,_){for(var L=K.doc.resolve(G),q=K.doc.resolve(_),V=Mr(L,q),te=0;te<V.length;te++){var we=V[te],De=te==V.length-1;if(De&&we==0||L.node(we).type.contentMatch.validEnd)return K.delete(L.start(we),q.end(we));if(we>0&&(De||L.node(we-1).canReplace(L.index(we-1),q.indexAfter(we-1))))return K.delete(L.before(we),q.after(we))}for(var de=1;de<=L.depth&&de<=q.depth;de++)if(G-L.start(de)==L.depth-de&&_>L.end(de)&&q.end(de)-_!=q.depth-de&&L.start(de-1)==q.start(de-1)&&L.node(de-1).canReplace(L.index(de-1),q.index(de-1)))return K.delete(L.before(de),_);K.delete(G,_)}function Mr(K,G){for(var _=[],L=Math.min(K.depth,G.depth),q=L;q>=0;q--){var V=K.start(q);if(V<K.pos-(K.depth-q)||G.end(q)>G.pos+(G.depth-q)||K.node(q).type.spec.isolating||G.node(q).type.spec.isolating)break;(V==G.start(q)||q==K.depth&&q==G.depth&&K.parent.inlineContent&&G.parent.inlineContent&&q&&G.start(q-1)==V-1)&&_.push(q)}return _}var In=(function(K){i(_,K);var G=o(_);function _(L,q,V){var te;return b(this,_),te=G.call(this),te.pos=L,te.attr=q,te.value=V,te}return T(_,[{key:"apply",value:function(q){var V=q.nodeAt(this.pos);if(!V)return ze.fail("No node at attribute step's position");var te=Object.create(null);for(var we in V.attrs)te[we]=V.attrs[we];te[this.attr]=this.value;var De=V.type.create(te,null,V.marks);return ze.fromReplace(q,this.pos,this.pos+1,new B.Slice(B.Fragment.from(De),0,V.isLeaf?0:1))}},{key:"getMap",value:function(){return Ke.empty}},{key:"invert",value:function(q){return new _(this.pos,this.attr,q.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(q){var V=q.mapResult(this.pos,1);return V.deletedAfter?null:new _(V.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.pos!="number"||typeof V.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _(V.pos,V.attr,V.value)}}]),_})(Se);Se.jsonID("attr",In);var cr=(function(K){i(_,K);var G=o(_);function _(L,q){var V;return b(this,_),V=G.call(this),V.attr=L,V.value=q,V}return T(_,[{key:"apply",value:function(q){var V=Object.create(null);for(var te in q.attrs)V[te]=q.attrs[te];V[this.attr]=this.value;var we=q.type.create(V,q.content,q.marks);return ze.ok(we)}},{key:"getMap",value:function(){return Ke.empty}},{key:"invert",value:function(q){return new _(this.attr,q.attrs[this.attr])}},{key:"map",value:function(q){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(q,V){if(typeof V.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new _(V.attr,V.value)}}]),_})(Se);Se.jsonID("docAttr",cr),t.TransformError=(function(K){i(_,K);var G=o(_);function _(){return b(this,_),G.apply(this,arguments)}return T(_)})(e(Error)),t.TransformError=function K(G){var _=Error.call(this,G);return _.__proto__=K.prototype,_},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var Ir=(function(){function K(G){b(this,K),this.doc=G,this.steps=[],this.docs=[],this.mapping=new Tt}return T(K,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(_){var L=this.maybeStep(_);if(L.failed)throw new t.TransformError(L.failed);return this}},{key:"maybeStep",value:function(_){var L=_.apply(this.doc);return L.failed||this.addStep(_,L.doc),L}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"changedRange",value:function(){for(var _=1e9,L=-1e9,q=0;q<this.mapping.maps.length;q++){var V=this.mapping.maps[q];q&&(_=V.map(_,1),L=V.map(L,-1)),V.forEach(function(te,we,De,de){_=Math.min(_,De),L=Math.max(L,de)})}return _==1e9?null:{from:_,to:L}}},{key:"addStep",value:function(_,L){this.docs.push(this.doc),this.steps.push(_),this.mapping.appendMap(_.getMap()),this.doc=L}},{key:"replace",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B.Slice.empty,V=bt(this.doc,_,L,q);return V&&this.step(V),this}},{key:"replaceWith",value:function(_,L,q){return this.replace(_,L,new B.Slice(B.Fragment.from(q),0,0))}},{key:"delete",value:function(_,L){return this.replace(_,L,B.Slice.empty)}},{key:"insert",value:function(_,L){return this.replaceWith(_,_,L)}},{key:"replaceRange",value:function(_,L,q){return Jn(this,_,L,q),this}},{key:"replaceRangeWith",value:function(_,L,q){return xn(this,_,L,q),this}},{key:"deleteRange",value:function(_,L){return hn(this,_,L),this}},{key:"lift",value:function(_,L){return ee(this,_,L),this}},{key:"join",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return $e(this,_,L),this}},{key:"wrap",value:function(_,L){return pe(this,_,L),this}},{key:"setBlockType",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,q=arguments.length>2?arguments[2]:void 0,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return ye(this,_,L,q,V),this}},{key:"setNodeMarkup",value:function(_,L){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,V=arguments.length>3?arguments[3]:void 0;return _e(this,_,L,q,V),this}},{key:"setNodeAttribute",value:function(_,L,q){return this.step(new In(_,L,q)),this}},{key:"setDocAttribute",value:function(_,L){return this.step(new cr(_,L)),this}},{key:"addNodeMark",value:function(_,L){return this.step(new st(_,L)),this}},{key:"removeNodeMark",value:function(_,L){var q=this.doc.nodeAt(_);if(!q)throw new RangeError("No node at position "+_);if(L instanceof B.Mark)L.isInSet(q.marks)&&this.step(new vt(_,L));else{for(var V=q.marks,te,we=[];te=L.isInSet(V);)we.push(new vt(_,te)),V=te.removeFromSet(V);for(var De=we.length-1;De>=0;De--)this.step(we[De])}return this}},{key:"split",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,q=arguments.length>2?arguments[2]:void 0;return et(this,_,L,q),this}},{key:"addMark",value:function(_,L,q){return Qt(this,_,L,q),this}},{key:"removeMark",value:function(_,L,q){return Vt(this,_,L,q),this}},{key:"clearIncompatible",value:function(_,L,q){return Ne(this,_,L,q),this}}]),K})();t.AddMarkStep=Qe,t.AddNodeMarkStep=st,t.AttrStep=In,t.DocAttrStep=cr,t.MapResult=pt,t.Mapping=Tt,t.RemoveMarkStep=Ht,t.RemoveNodeMarkStep=vt,t.ReplaceAroundStep=At,t.ReplaceStep=lt,t.Step=Se,t.StepMap=Ke,t.StepResult=ze,t.Transform=Ir,t.canJoin=Ye,t.canSplit=Ie,t.dropPoint=ht,t.findWrapping=ae,t.insertPoint=Ue,t.joinPoint=xt,t.liftTarget=ie,t.replaceStep=bt})(ev)),ev}var Jw;function Hd(){if(Jw)return Oi;Jw=1;function t(){return typeof Reflect<"u"&&Reflect.get?t=Reflect.get.bind():t=function(ie,ee,ae){var I=e(ie,ee);if(I){var $=Object.getOwnPropertyDescriptor(I,ee);return $.get?$.get.call(arguments.length<3?ie:ae):$.value}},t.apply(this,arguments)}function e(fe,ie){for(;!Object.prototype.hasOwnProperty.call(fe,ie)&&(fe=l(fe),fe!==null););return fe}function r(fe,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(ie&&ie.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),ie&&n(fe,ie)}function n(fe,ie){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,I){return ae.__proto__=I,ae},n(fe,ie)}function i(fe){var ie=s();return function(){var ae=l(fe),I;if(ie){var $=l(this).constructor;I=Reflect.construct(ae,arguments,$)}else I=ae.apply(this,arguments);return a(this,I)}}function a(fe,ie){if(ie&&(u(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(fe)}function o(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(fe){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},l(fe)}function u(fe){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},u(fe)}function f(fe,ie){if(!(fe instanceof ie))throw new TypeError("Cannot call a class as a function")}function p(fe,ie){for(var ee=0;ee<ie.length;ee++){var ae=ie[ee];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(fe,C(ae.key),ae)}}function b(fe,ie,ee){return ie&&p(fe.prototype,ie),ee&&p(fe,ee),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function C(fe){var ie=T(fe,"string");return u(ie)==="symbol"?ie:String(ie)}function T(fe,ie){if(u(fe)!=="object"||fe===null)return fe;var ee=fe[Symbol.toPrimitive];if(ee!==void 0){var ae=ee.call(fe,ie);if(u(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}var M=qd(),N=bg(),B=Object.create(null),U=(function(){function fe(ie,ee,ae){f(this,fe),this.$anchor=ie,this.$head=ee,this.ranges=ae||[new X(ie.min(ee),ie.max(ee))]}return b(fe,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var ee=this.ranges,ae=0;ae<ee.length;ae++)if(ee[ae].$from.pos!=ee[ae].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(ee){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty,I=ae.content.lastChild,$=null,Y=0;Y<ae.openEnd;Y++)$=I,I=I.lastChild;for(var pe=ee.steps.length,ye=this.ranges,Te=0;Te<ye.length;Te++){var Pe=ye[Te],He=Pe.$from,_e=Pe.$to,Ie=ee.mapping.slice(pe);ee.replaceRange(Ie.map(He.pos),Ie.map(_e.pos),Te?M.Slice.empty:ae),Te==0&&Tt(ee,pe,(I?I.isInline:$&&$.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(ee,ae){for(var I=ee.steps.length,$=this.ranges,Y=0;Y<$.length;Y++){var pe=$[Y],ye=pe.$from,Te=pe.$to,Pe=ee.mapping.slice(I),He=Pe.map(ye.pos),_e=Pe.map(Te.pos);Y?ee.deleteRange(He,_e):(ee.replaceRangeWith(He,_e,ae),Tt(ee,I,ae.isInline?-1:1))}}},{key:"getBookmark",value:function(){return le.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(ee,ae){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=ee.parent.inlineContent?new le(ee):Ke(ee.node(0),ee.parent,ee.pos,ee.index(),ae,I);if($)return $;for(var Y=ee.depth-1;Y>=0;Y--){var pe=ae<0?Ke(ee.node(0),ee.node(Y),ee.before(Y+1),ee.index(Y),ae,I):Ke(ee.node(0),ee.node(Y),ee.after(Y+1),ee.index(Y)+1,ae,I);if(pe)return pe}return null}},{key:"near",value:function(ee){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(ee,ae)||this.findFrom(ee,-ae)||new Ge(ee.node(0))}},{key:"atStart",value:function(ee){return Ke(ee,ee,0,0,1)||new Ge(ee)}},{key:"atEnd",value:function(ee){return Ke(ee,ee,ee.content.size,ee.childCount,-1)||new Ge(ee)}},{key:"fromJSON",value:function(ee,ae){if(!ae||!ae.type)throw new RangeError("Invalid input for Selection.fromJSON");var I=B[ae.type];if(!I)throw new RangeError("No selection type ".concat(ae.type," defined"));return I.fromJSON(ee,ae)}},{key:"jsonID",value:function(ee,ae){if(ee in B)throw new RangeError("Duplicate use of selection JSON ID "+ee);return B[ee]=ae,ae.prototype.jsonID=ee,ae}}]),fe})();U.prototype.visible=!0;var X=b(function fe(ie,ee){f(this,fe),this.$from=ie,this.$to=ee}),Z=!1;function ce(fe){!Z&&!fe.parent.inlineContent&&(Z=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+fe.parent.type.name+")"))}var le=(function(fe){r(ee,fe);var ie=i(ee);function ee(ae){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae;return f(this,ee),ce(ae),ce(I),ie.call(this,ae,I)}return b(ee,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(I,$){var Y=I.resolve($.map(this.head));if(!Y.parent.inlineContent)return U.near(Y);var pe=I.resolve($.map(this.anchor));return new ee(pe.parent.inlineContent?pe:Y,Y)}},{key:"replace",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if(t(l(ee.prototype),"replace",this).call(this,I,$),$==M.Slice.empty){var Y=this.$from.marksAcross(this.$to);Y&&I.ensureMarks(Y)}}},{key:"eq",value:function(I){return I instanceof ee&&I.anchor==this.anchor&&I.head==this.head}},{key:"getBookmark",value:function(){return new se(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(I,$){if(typeof $.anchor!="number"||typeof $.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ee(I.resolve($.anchor),I.resolve($.head))}},{key:"create",value:function(I,$){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$,pe=I.resolve($);return new this(pe,Y==$?pe:I.resolve(Y))}},{key:"between",value:function(I,$,Y){var pe=I.pos-$.pos;if((!Y||pe)&&(Y=pe>=0?1:-1),!$.parent.inlineContent){var ye=U.findFrom($,Y,!0)||U.findFrom($,-Y,!0);if(ye)$=ye.$head;else return U.near($,Y)}return I.parent.inlineContent||(pe==0?I=$:(I=(U.findFrom(I,-Y,!0)||U.findFrom(I,Y,!0)).$anchor,I.pos<$.pos!=pe<0&&(I=$))),new ee(I,$)}}]),ee})(U);U.jsonID("text",le);var se=(function(){function fe(ie,ee){f(this,fe),this.anchor=ie,this.head=ee}return b(fe,[{key:"map",value:function(ee){return new fe(ee.map(this.anchor),ee.map(this.head))}},{key:"resolve",value:function(ee){return le.between(ee.resolve(this.anchor),ee.resolve(this.head))}}]),fe})(),ge=(function(fe){r(ee,fe);var ie=i(ee);function ee(ae){var I;f(this,ee);var $=ae.nodeAfter,Y=ae.node(0).resolve(ae.pos+$.nodeSize);return I=ie.call(this,ae,Y),I.node=$,I}return b(ee,[{key:"map",value:function(I,$){var Y=$.mapResult(this.anchor),pe=Y.deleted,ye=Y.pos,Te=I.resolve(ye);return pe?U.near(Te):new ee(Te)}},{key:"content",value:function(){return new M.Slice(M.Fragment.from(this.node),0,0)}},{key:"eq",value:function(I){return I instanceof ee&&I.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new Oe(this.anchor)}}],[{key:"fromJSON",value:function(I,$){if(typeof $.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ee(I.resolve($.anchor))}},{key:"create",value:function(I,$){return new ee(I.resolve($))}},{key:"isSelectable",value:function(I){return!I.isText&&I.type.spec.selectable!==!1}}]),ee})(U);ge.prototype.visible=!1,U.jsonID("node",ge);var Oe=(function(){function fe(ie){f(this,fe),this.anchor=ie}return b(fe,[{key:"map",value:function(ee){var ae=ee.mapResult(this.anchor),I=ae.deleted,$=ae.pos;return I?new se($,$):new fe($)}},{key:"resolve",value:function(ee){var ae=ee.resolve(this.anchor),I=ae.nodeAfter;return I&&ge.isSelectable(I)?new ge(ae):U.near(ae)}}]),fe})(),Ge=(function(fe){r(ee,fe);var ie=i(ee);function ee(ae){return f(this,ee),ie.call(this,ae.resolve(0),ae.resolve(ae.content.size))}return b(ee,[{key:"replace",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if($==M.Slice.empty){I.delete(0,I.doc.content.size);var Y=U.atStart(I.doc);Y.eq(I.selection)||I.setSelection(Y)}else t(l(ee.prototype),"replace",this).call(this,I,$)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(I){return new ee(I)}},{key:"eq",value:function(I){return I instanceof ee}},{key:"getBookmark",value:function(){return pt}}],[{key:"fromJSON",value:function(I){return new ee(I)}}]),ee})(U);U.jsonID("all",Ge);var pt={map:function(){return this},resolve:function(ie){return new Ge(ie)}};function Ke(fe,ie,ee,ae,I){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(ie.inlineContent)return le.create(fe,ee);for(var Y=ae-(I>0?0:1);I>0?Y<ie.childCount:Y>=0;Y+=I){var pe=ie.child(Y);if(pe.isAtom){if(!$&&ge.isSelectable(pe))return ge.create(fe,ee-(I<0?pe.nodeSize:0))}else{var ye=Ke(fe,pe,ee+I,I<0?pe.childCount:0,I,$);if(ye)return ye}ee+=pe.nodeSize*I}return null}function Tt(fe,ie,ee){var ae=fe.steps.length-1;if(!(ae<ie)){var I=fe.steps[ae];if(I instanceof N.ReplaceStep||I instanceof N.ReplaceAroundStep){var $=fe.mapping.maps[ae],Y;$.forEach(function(pe,ye,Te,Pe){Y==null&&(Y=Pe)}),fe.setSelection(U.near(fe.doc.resolve(Y),ee))}}}var Xe=1,Se=2,ze=4,Ve=(function(fe){r(ee,fe);var ie=i(ee);function ee(ae){var I;return f(this,ee),I=ie.call(this,ae.doc),I.curSelectionFor=0,I.updated=0,I.meta=Object.create(null),I.time=Date.now(),I.curSelection=ae.selection,I.storedMarks=ae.storedMarks,I}return b(ee,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(I){if(I.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=I,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Xe)&~Se,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&Xe)>0}},{key:"setStoredMarks",value:function(I){return this.storedMarks=I,this.updated|=Se,this}},{key:"ensureMarks",value:function(I){return M.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),I)||this.setStoredMarks(I),this}},{key:"addStoredMark",value:function(I){return this.ensureMarks(I.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(I){return this.ensureMarks(I.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&Se)>0}},{key:"addStep",value:function(I,$){t(l(ee.prototype),"addStep",this).call(this,I,$),this.updated=this.updated&~Se,this.storedMarks=null}},{key:"setTime",value:function(I){return this.time=I,this}},{key:"replaceSelection",value:function(I){return this.selection.replace(this,I),this}},{key:"replaceSelectionWith",value:function(I){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Y=this.selection;return $&&(I=I.mark(this.storedMarks||(Y.empty?Y.$from.marks():Y.$from.marksAcross(Y.$to)||M.Mark.none))),Y.replaceWith(this,I),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(I,$,Y){var pe=this.doc.type.schema;if($==null)return I?this.replaceSelectionWith(pe.text(I),!0):this.deleteSelection();if(Y==null&&(Y=$),!I)return this.deleteRange($,Y);var ye=this.storedMarks;if(!ye){var Te=this.doc.resolve($);ye=Y==$?Te.marks():Te.marksAcross(this.doc.resolve(Y))}return this.replaceRangeWith($,Y,pe.text(I,ye)),!this.selection.empty&&this.selection.to==$+I.length&&this.setSelection(U.near(this.selection.$to)),this}},{key:"setMeta",value:function(I,$){return this.meta[typeof I=="string"?I:I.key]=$,this}},{key:"getMeta",value:function(I){return this.meta[typeof I=="string"?I:I.key]}},{key:"isGeneric",get:function(){for(var I in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=ze,this}},{key:"scrolledIntoView",get:function(){return(this.updated&ze)>0}}]),ee})(N.Transform);function Qe(fe,ie){return!ie||!fe?fe:fe.bind(ie)}var Ht=b(function fe(ie,ee,ae){f(this,fe),this.name=ie,this.init=Qe(ee.init,ae),this.apply=Qe(ee.apply,ae)}),st=[new Ht("doc",{init:function(ie){return ie.doc||ie.schema.topNodeType.createAndFill()},apply:function(ie){return ie.doc}}),new Ht("selection",{init:function(ie,ee){return ie.selection||U.atStart(ee.doc)},apply:function(ie){return ie.selection}}),new Ht("storedMarks",{init:function(ie){return ie.storedMarks||null},apply:function(ie,ee,ae,I){return I.selection.$cursor?ie.storedMarks:null}}),new Ht("scrollToSelection",{init:function(){return 0},apply:function(ie,ee){return ie.scrolledIntoView?ee+1:ee}})],vt=b(function fe(ie,ee){var ae=this;f(this,fe),this.schema=ie,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=st.slice(),ee&&ee.forEach(function(I){if(ae.pluginsByKey[I.key])throw new RangeError("Adding different instances of a keyed plugin ("+I.key+")");ae.plugins.push(I),ae.pluginsByKey[I.key]=I,I.spec.state&&ae.fields.push(new Ht(I.key,I.spec.state,I))})}),lt=(function(){function fe(ie){f(this,fe),this.config=ie}return b(fe,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(ee){return this.applyTransaction(ee).state}},{key:"filterTransaction",value:function(ee){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,I=0;I<this.config.plugins.length;I++)if(I!=ae){var $=this.config.plugins[I];if($.spec.filterTransaction&&!$.spec.filterTransaction.call($,ee,this))return!1}return!0}},{key:"applyTransaction",value:function(ee){if(!this.filterTransaction(ee))return{state:this,transactions:[]};for(var ae=[ee],I=this.applyInner(ee),$=null;;){for(var Y=!1,pe=0;pe<this.config.plugins.length;pe++){var ye=this.config.plugins[pe];if(ye.spec.appendTransaction){var Te=$?$[pe].n:0,Pe=$?$[pe].state:this,He=Te<ae.length&&ye.spec.appendTransaction.call(ye,Te?ae.slice(Te):ae,Pe,I);if(He&&I.filterTransaction(He,pe)){if(He.setMeta("appendedTransaction",ee),!$){$=[];for(var _e=0;_e<this.config.plugins.length;_e++)$.push(_e<pe?{state:I,n:ae.length}:{state:this,n:0})}ae.push(He),I=I.applyInner(He),Y=!0}$&&($[pe]={state:I,n:ae.length})}}if(!Y)return{state:I,transactions:ae}}}},{key:"applyInner",value:function(ee){if(!ee.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var ae=new fe(this.config),I=this.config.fields,$=0;$<I.length;$++){var Y=I[$];ae[Y.name]=Y.apply(ee,this[Y.name],this,ae)}return ae}},{key:"tr",get:function(){return new Ve(this)}},{key:"reconfigure",value:function(ee){for(var ae=new vt(this.schema,ee.plugins),I=ae.fields,$=new fe(ae),Y=0;Y<I.length;Y++){var pe=I[Y].name;$[pe]=this.hasOwnProperty(pe)?this[pe]:I[Y].init(ee,$)}return $}},{key:"toJSON",value:function(ee){var ae={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ae.storedMarks=this.storedMarks.map(function(pe){return pe.toJSON()})),ee&&u(ee)=="object")for(var I in ee){if(I=="doc"||I=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var $=ee[I],Y=$.spec.state;Y&&Y.toJSON&&(ae[I]=Y.toJSON.call($,this[$.key]))}return ae}}],[{key:"create",value:function(ee){for(var ae=new vt(ee.doc?ee.doc.type.schema:ee.schema,ee.plugins),I=new fe(ae),$=0;$<ae.fields.length;$++)I[ae.fields[$].name]=ae.fields[$].init(ee,I);return I}},{key:"fromJSON",value:function(ee,ae,I){if(!ae)throw new RangeError("Invalid input for EditorState.fromJSON");if(!ee.schema)throw new RangeError("Required config field 'schema' missing");var $=new vt(ee.schema,ee.plugins),Y=new fe($);return $.fields.forEach(function(pe){if(pe.name=="doc")Y.doc=M.Node.fromJSON(ee.schema,ae.doc);else if(pe.name=="selection")Y.selection=U.fromJSON(Y.doc,ae.selection);else if(pe.name=="storedMarks")ae.storedMarks&&(Y.storedMarks=ae.storedMarks.map(ee.schema.markFromJSON));else{if(I)for(var ye in I){var Te=I[ye],Pe=Te.spec.state;if(Te.key==pe.name&&Pe&&Pe.fromJSON&&Object.prototype.hasOwnProperty.call(ae,ye)){Y[pe.name]=Pe.fromJSON.call(Te,ee,ae[ye],Y);return}}Y[pe.name]=pe.init(ee,Y)}}),Y}}]),fe})();function At(fe,ie,ee){for(var ae in fe){var I=fe[ae];I instanceof Function?I=I.bind(ie):ae=="handleDOMEvents"&&(I=At(I,ie,{})),ee[ae]=I}return ee}var Nt=(function(){function fe(ie){f(this,fe),this.spec=ie,this.props={},ie.props&&At(ie.props,this,this.props),this.key=ie.key?ie.key.key:Vt("plugin")}return b(fe,[{key:"getState",value:function(ee){return ee[this.key]}}]),fe})(),Qt=Object.create(null);function Vt(fe){return fe in Qt?fe+"$"+ ++Qt[fe]:(Qt[fe]=0,fe+"$")}var Ne=(function(){function fe(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";f(this,fe),this.key=Vt(ie)}return b(fe,[{key:"get",value:function(ee){return ee.config.pluginsByKey[this.key]}},{key:"getState",value:function(ee){return ee[this.key]}}]),fe})();return Oi.AllSelection=Ge,Oi.EditorState=lt,Oi.NodeSelection=ge,Oi.Plugin=Nt,Oi.PluginKey=Ne,Oi.Selection=U,Oi.SelectionRange=X,Oi.TextSelection=le,Oi.Transaction=Ve,Oi}var Xw;function Nfe(){if(Xw)return Hn;Xw=1;function t(X,Z,ce){return Object.defineProperty(X,"prototype",{writable:!1}),X}function e(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}var r=Hd(),n=bg(),i=t(function X(Z,ce){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,X),this.match=Z,this.match=Z,this.handler=typeof ce=="string"?a(ce):ce,this.undoable=le.undoable!==!1,this.inCode=le.inCode||!1,this.inCodeMark=le.inCodeMark!==!1});function a(X){return function(Z,ce,le,se){var ge=X;if(ce[1]){var Oe=ce[0].lastIndexOf(ce[1]);ge+=ce[0].slice(Oe+ce[1].length),le+=Oe;var Ge=le-se;Ge>0&&(ge=ce[0].slice(Oe-Ge,Oe)+ge,le=se)}return Z.tr.insertText(ge,le,se)}}var o=500;function s(X){var Z=X.rules,ce=new r.Plugin({state:{init:function(){return null},apply:function(se,ge){var Oe=se.getMeta(this);return Oe||(se.selectionSet||se.docChanged?null:ge)}},props:{handleTextInput:function(se,ge,Oe,Ge){return l(se,ge,Oe,Ge,Z,ce)},handleDOMEvents:{compositionend:function(se){setTimeout(function(){var ge=se.state.selection.$cursor;ge&&l(se,ge.pos,ge.pos,"",Z,ce)})}}},isInputRules:!0});return ce}function l(X,Z,ce,le,se,ge){if(X.composing)return!1;for(var Oe=X.state,Ge=Oe.doc.resolve(Z),pt=Ge.parent.textBetween(Math.max(0,Ge.parentOffset-o),Ge.parentOffset,null,"")+le,Ke=function(){var ze=se[Xe];if(!ze.inCodeMark&&Ge.marks().some(function(vt){return vt.type.spec.code}))return 0;if(Ge.parent.type.spec.code){if(!ze.inCode)return 0}else if(ze.inCode==="only")return 0;var Ve=ze.match.exec(pt);if(!Ve||Ve[0].length<le.length)return 0;var Qe=Z-(Ve[0].length-le.length);if(!ze.inCodeMark){var Ht=!1;if(Oe.doc.nodesBetween(Qe,Ge.pos,function(vt){vt.isInline&&vt.marks.some(function(lt){return lt.type.spec.code})&&(Ht=!0)}),Ht)return 0}var st=ze.handler(Oe,Ve,Qe,ce);return st?(ze.undoable&&st.setMeta(ge,{transform:st,from:Z,to:ce,text:le}),X.dispatch(st),{v:!0}):0},Tt,Xe=0;Xe<se.length;Xe++)if(Tt=Ke(),Tt!==0&&Tt)return Tt.v;return!1}var u=function(Z,ce){for(var le=Z.plugins,se=0;se<le.length;se++){var ge=le[se],Oe=void 0;if(ge.spec.isInputRules&&(Oe=ge.getState(Z))){if(ce){for(var Ge=Z.tr,pt=Oe.transform,Ke=pt.steps.length-1;Ke>=0;Ke--)Ge.step(pt.steps[Ke].invert(pt.docs[Ke]));if(Oe.text){var Tt=Ge.doc.resolve(Oe.from).marks();Ge.replaceWith(Oe.from,Oe.to,Z.schema.text(Oe.text,Tt))}else Ge.delete(Oe.from,Oe.to);ce(Ge)}return!0}}return!1},f=new i(/--$/,"",{inCodeMark:!1}),p=new i(/\.\.\.$/,"",{inCodeMark:!1}),b=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),C=new i(/"$/,"",{inCodeMark:!1}),T=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),M=new i(/'$/,"",{inCodeMark:!1}),N=[b,C,T,M];function B(X,Z){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,le=arguments.length>3?arguments[3]:void 0;return new i(X,function(se,ge,Oe,Ge){var pt=ce instanceof Function?ce(ge):ce,Ke=se.tr.delete(Oe,Ge),Tt=Ke.doc.resolve(Oe),Xe=Tt.blockRange(),Se=Xe&&n.findWrapping(Xe,Z,pt);if(!Se)return null;Ke.wrap(Xe,Se);var ze=Ke.doc.resolve(Oe-1).nodeBefore;return ze&&ze.type==Z&&n.canJoin(Ke.doc,Oe-1)&&(!le||le(ge,ze))&&Ke.join(Oe-1),Ke})}function U(X,Z){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(X,function(le,se,ge,Oe){var Ge=le.doc.resolve(ge),pt=ce instanceof Function?ce(se):ce;return Ge.node(-1).canReplaceWith(Ge.index(-1),Ge.indexAfter(-1),Z)?le.tr.delete(ge,Oe).setBlockType(ge,ge,Z,pt):null})}return Hn.InputRule=i,Hn.closeDoubleQuote=C,Hn.closeSingleQuote=M,Hn.ellipsis=p,Hn.emDash=f,Hn.inputRules=s,Hn.openDoubleQuote=b,Hn.openSingleQuote=T,Hn.smartQuotes=N,Hn.textblockTypeInputRule=U,Hn.undoInputRule=u,Hn.wrappingInputRule=B,Hn}var Xc={},Js={},Yw;function Dfe(){if(Yw)return Js;Yw=1,Object.defineProperty(Js,"__esModule",{value:!0});for(var t={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},r=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)t[48+i]=t[96+i]=String(i);for(var i=1;i<=24;i++)t[i+111]="F"+i;for(var i=65;i<=90;i++)t[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in t)e.hasOwnProperty(a)||(e[a]=t[a]);function o(s){var l=r&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||n&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",u=!l&&s.key||(s.shiftKey?e:t)[s.keyCode]||s.key||"Unidentified";return u=="Esc"&&(u="Escape"),u=="Del"&&(u="Delete"),u=="Left"&&(u="ArrowLeft"),u=="Up"&&(u="ArrowUp"),u=="Right"&&(u="ArrowRight"),u=="Down"&&(u="ArrowDown"),u}return Js.base=t,Js.keyName=o,Js.shift=e,Js}var Qw;function Rfe(){if(Qw)return Xc;Qw=1;var t=Dfe(),e=Hd(),r=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(u){var f=u.split(/-(?!$)/),p=f[f.length-1];p=="Space"&&(p=" ");for(var b,C,T,M,N=0;N<f.length-1;N++){var B=f[N];if(/^(cmd|meta|m)$/i.test(B))M=!0;else if(/^a(lt)?$/i.test(B))b=!0;else if(/^(c|ctrl|control)$/i.test(B))C=!0;else if(/^s(hift)?$/i.test(B))T=!0;else if(/^mod$/i.test(B))r?M=!0:C=!0;else throw new Error("Unrecognized modifier name: "+B)}return b&&(p="Alt-"+p),C&&(p="Ctrl-"+p),M&&(p="Meta-"+p),T&&(p="Shift-"+p),p}function a(u){var f=Object.create(null);for(var p in u)f[i(p)]=u[p];return f}function o(u,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return f.altKey&&(u="Alt-"+u),f.ctrlKey&&(u="Ctrl-"+u),f.metaKey&&(u="Meta-"+u),p&&f.shiftKey&&(u="Shift-"+u),u}function s(u){return new e.Plugin({props:{handleKeyDown:l(u)}})}function l(u){var f=a(u);return function(p,b){var C=t.keyName(b),T,M=f[o(C,b)];if(M&&M(p.state,p.dispatch,p))return!0;if(C.length==1&&C!=" "){if(b.shiftKey){var N=f[o(C,b,!1)];if(N&&N(p.state,p.dispatch,p))return!0}if((b.altKey||b.metaKey||b.ctrlKey)&&!(n&&b.ctrlKey&&b.altKey)&&(T=t.base[b.keyCode])&&T!=C){var B=f[o(T,b)];if(B&&B(p.state,p.dispatch,p))return!0}}return!1}}return Xc.keydownHandler=l,Xc.keymap=s,Xc}var Jo={},Zw;function Lfe(){if(Zw)return Jo;Zw=1;function t(c,m){return n(c)||r(c,m)||a(c,m)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(c,m){var d=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(d!=null){var g,k,S,A,D=[],H=!0,W=!1;try{if(S=(d=d.call(c)).next,m!==0)for(;!(H=(g=S.call(d)).done)&&(D.push(g.value),D.length!==m);H=!0);}catch(oe){W=!0,k=oe}finally{try{if(!H&&d.return!=null&&(A=d.return(),Object(A)!==A))return}finally{if(W)throw k}}return D}}function n(c){if(Array.isArray(c))return c}function i(c,m){var d=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!d){if(Array.isArray(c)||(d=a(c))||m){d&&(c=d);var g=0,k=function(){};return{s:k,n:function(){return g>=c.length?{done:!0}:{done:!1,value:c[g++]}},e:function(W){throw W},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,A=!1,D;return{s:function(){d=d.call(c)},n:function(){var W=d.next();return S=W.done,W},e:function(W){A=!0,D=W},f:function(){try{!S&&d.return!=null&&d.return()}finally{if(A)throw D}}}}function a(c,m){if(c){if(typeof c=="string")return o(c,m);var d=Object.prototype.toString.call(c).slice(8,-1);if(d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set")return Array.from(c);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return o(c,m)}}function o(c,m){(m==null||m>c.length)&&(m=c.length);for(var d=0,g=new Array(m);d<m;d++)g[d]=c[d];return g}function s(){return typeof Reflect<"u"&&Reflect.get?s=Reflect.get.bind():s=function(m,d,g){var k=l(m,d);if(k){var S=Object.getOwnPropertyDescriptor(k,d);return S.get?S.get.call(arguments.length<3?m:g):S.value}},s.apply(this,arguments)}function l(c,m){for(;!Object.prototype.hasOwnProperty.call(c,m)&&(c=M(c),c!==null););return c}function u(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),m&&f(c,m)}function f(c,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,k){return g.__proto__=k,g},f(c,m)}function p(c){var m=T();return function(){var g=M(c),k;if(m){var S=M(this).constructor;k=Reflect.construct(g,arguments,S)}else k=g.apply(this,arguments);return b(this,k)}}function b(c,m){if(m&&(N(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(c){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},M(c)}function N(c){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},N(c)}function B(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function U(c,m){for(var d=0;d<m.length;d++){var g=m[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,Z(g.key),g)}}function X(c,m,d){return m&&U(c.prototype,m),d&&U(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function Z(c){var m=ce(c,"string");return N(m)==="symbol"?m:String(m)}function ce(c,m){if(N(c)!=="object"||c===null)return c;var d=c[Symbol.toPrimitive];if(d!==void 0){var g=d.call(c,m);if(N(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var le=Hd(),se=qd(),ge=bg(),Oe=function(m){for(var d=0;;d++)if(m=m.previousSibling,!m)return d},Ge=function(m){var d=m.assignedSlot||m.parentNode;return d&&d.nodeType==11?d.host:d},pt=null,Ke=function(m,d,g){var k=pt||(pt=document.createRange());return k.setEnd(m,g??m.nodeValue.length),k.setStart(m,d||0),k},Tt=function(){pt=null},Xe=function(m,d,g,k){return g&&(ze(m,d,g,k,-1)||ze(m,d,g,k,1))},Se=/^(img|br|input|textarea|hr)$/i;function ze(c,m,d,g,k){for(var S;;){if(c==d&&m==g)return!0;if(m==(k<0?0:Ve(c))){var A=c.parentNode;if(!A||A.nodeType!=1||vt(c)||Se.test(c.nodeName)||c.contentEditable=="false")return!1;m=Oe(c)+(k<0?0:1),c=A}else if(c.nodeType==1){var D=c.childNodes[m+(k<0?-1:0)];if(D.nodeType==1&&D.contentEditable=="false")if(!((S=D.pmViewDesc)===null||S===void 0)&&S.ignoreForSelection)m+=k;else return!1;else c=D,m=k<0?Ve(c):0}else return!1}}function Ve(c){return c.nodeType==3?c.nodeValue.length:c.childNodes.length}function Qe(c,m){for(;;){if(c.nodeType==3&&m)return c;if(c.nodeType==1&&m>0){if(c.contentEditable=="false")return null;c=c.childNodes[m-1],m=Ve(c)}else if(c.parentNode&&!vt(c))m=Oe(c),c=c.parentNode;else return null}}function Ht(c,m){for(;;){if(c.nodeType==3&&m<c.nodeValue.length)return c;if(c.nodeType==1&&m<c.childNodes.length){if(c.contentEditable=="false")return null;c=c.childNodes[m],m=0}else if(c.parentNode&&!vt(c))m=Oe(c)+1,c=c.parentNode;else return null}}function st(c,m,d){for(var g=m==0,k=m==Ve(c);g||k;){if(c==d)return!0;var S=Oe(c);if(c=c.parentNode,!c)return!1;g=g&&S==0,k=k&&S==Ve(c)}}function vt(c){for(var m,d=c;d&&!(m=d.pmViewDesc);d=d.parentNode);return m&&m.node&&m.node.isBlock&&(m.dom==c||m.contentDOM==c)}var lt=function(m){return m.focusNode&&Xe(m.focusNode,m.focusOffset,m.anchorNode,m.anchorOffset)};function At(c,m){var d=document.createEvent("Event");return d.initEvent("keydown",!0,!0),d.keyCode=c,d.key=d.code=m,d}function Nt(c){for(var m=c.activeElement;m&&m.shadowRoot;)m=m.shadowRoot.activeElement;return m}function Qt(c,m,d){if(c.caretPositionFromPoint)try{var g=c.caretPositionFromPoint(m,d);if(g)return{node:g.offsetNode,offset:Math.min(Ve(g.offsetNode),g.offset)}}catch{}if(c.caretRangeFromPoint){var k=c.caretRangeFromPoint(m,d);if(k)return{node:k.startContainer,offset:Math.min(Ve(k.startContainer),k.startOffset)}}}var Vt=typeof navigator<"u"?navigator:null,Ne=typeof document<"u"?document:null,fe=Vt&&Vt.userAgent||"",ie=/Edge\/(\d+)/.exec(fe),ee=/MSIE \d/.exec(fe),ae=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fe),I=!!(ee||ae||ie),$=ee?document.documentMode:ae?+ae[1]:ie?+ie[1]:0,Y=!I&&/gecko\/(\d+)/i.test(fe);Y&&+(/Firefox\/(\d+)/.exec(fe)||[0,0])[1];var pe=!I&&/Chrome\/(\d+)/.exec(fe),ye=!!pe,Te=pe?+pe[1]:0,Pe=!I&&!!Vt&&/Apple Computer/.test(Vt.vendor),He=Pe&&(/Mobile\/\w+/.test(fe)||!!Vt&&Vt.maxTouchPoints>2),_e=He||(Vt?/Mac/.test(Vt.platform):!1),Ie=Vt?/Win/.test(Vt.platform):!1,et=/Android \d/.test(fe),Ye=!!Ne&&"webkitFontSmoothing"in Ne.documentElement.style,dt=Ye?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function yt(c){var m=c.defaultView&&c.defaultView.visualViewport;return m?{left:0,right:m.width,top:0,bottom:m.height}:{left:0,right:c.documentElement.clientWidth,top:0,bottom:c.documentElement.clientHeight}}function xt(c,m){return typeof c=="number"?c:c[m]}function $e(c){var m=c.getBoundingClientRect(),d=m.width/c.offsetWidth||1,g=m.height/c.offsetHeight||1;return{left:m.left,right:m.left+c.clientWidth*d,top:m.top,bottom:m.top+c.clientHeight*g}}function Ue(c,m,d){for(var g=c.someProp("scrollThreshold")||0,k=c.someProp("scrollMargin")||5,S=c.dom.ownerDocument,A=d||c.dom;A;){if(A.nodeType!=1){A=Ge(A);continue}var D=A,H=D==S.body,W=H?yt(S):$e(D),oe=0,ve=0;if(m.top<W.top+xt(g,"top")?ve=-(W.top-m.top+xt(k,"top")):m.bottom>W.bottom-xt(g,"bottom")&&(ve=m.bottom-m.top>W.bottom-W.top?m.top+xt(k,"top")-W.top:m.bottom-W.bottom+xt(k,"bottom")),m.left<W.left+xt(g,"left")?oe=-(W.left-m.left+xt(k,"left")):m.right>W.right-xt(g,"right")&&(oe=m.right-W.right+xt(k,"right")),oe||ve)if(H)S.defaultView.scrollBy(oe,ve);else{var he=D.scrollLeft,xe=D.scrollTop;ve&&(D.scrollTop+=ve),oe&&(D.scrollLeft+=oe);var Be=D.scrollLeft-he,rt=D.scrollTop-xe;m={left:m.left-Be,top:m.top-rt,right:m.right-Be,bottom:m.bottom-rt}}var ct=H?"fixed":getComputedStyle(A).position;if(/^(fixed|sticky)$/.test(ct))break;A=ct=="absolute"?A.offsetParent:Ge(A)}}function ht(c){for(var m=c.dom.getBoundingClientRect(),d=Math.max(0,m.top),g,k,S=(m.left+m.right)/2,A=d+1;A<Math.min(innerHeight,m.bottom);A+=5){var D=c.root.elementFromPoint(S,A);if(!(!D||D==c.dom||!c.dom.contains(D))){var H=D.getBoundingClientRect();if(H.top>=d-20){g=D,k=H.top;break}}}return{refDOM:g,refTop:k,stack:bt(c.dom)}}function bt(c){for(var m=[],d=c.ownerDocument,g=c;g&&(m.push({dom:g,top:g.scrollTop,left:g.scrollLeft}),c!=d);g=Ge(g));return m}function Ot(c){var m=c.refDOM,d=c.refTop,g=c.stack,k=m?m.getBoundingClientRect().top:0;rr(g,k==0?0:k-d)}function rr(c,m){for(var d=0;d<c.length;d++){var g=c[d],k=g.dom,S=g.top,A=g.left;k.scrollTop!=S+m&&(k.scrollTop=S+m),k.scrollLeft!=A&&(k.scrollLeft=A)}}var Gt=null;function ur(c){if(c.setActive)return c.setActive();if(Gt)return c.focus(Gt);var m=bt(c);c.focus(Gt==null?{get preventScroll(){return Gt={preventScroll:!0},!0}}:void 0),Gt||(Gt=!1,rr(m,0))}function nr(c,m){for(var d,g=2e8,k,S=0,A=m.top,D=m.top,H,W,oe=c.firstChild,ve=0;oe;oe=oe.nextSibling,ve++){var he=void 0;if(oe.nodeType==1)he=oe.getClientRects();else if(oe.nodeType==3)he=Ke(oe).getClientRects();else continue;for(var xe=0;xe<he.length;xe++){var Be=he[xe];if(Be.top<=A&&Be.bottom>=D){A=Math.max(Be.bottom,A),D=Math.min(Be.top,D);var rt=Be.left>m.left?Be.left-m.left:Be.right<m.left?m.left-Be.right:0;if(rt<g){d=oe,g=rt,k=rt&&d.nodeType==3?{left:Be.right<m.left?Be.right:Be.left,top:m.top}:m,oe.nodeType==1&&rt&&(S=ve+(m.left>=(Be.left+Be.right)/2?1:0));continue}}else Be.top>m.top&&!H&&Be.left<=m.left&&Be.right>=m.left&&(H=oe,W={left:Math.max(Be.left,Math.min(Be.right,m.left)),top:Be.top});!d&&(m.left>=Be.right&&m.top>=Be.top||m.left>=Be.left&&m.top>=Be.bottom)&&(S=ve+1)}}return!d&&H&&(d=H,k=W,g=0),d&&d.nodeType==3?mr(d,k):!d||g&&d.nodeType==1?{node:c,offset:S}:nr(d,k)}function mr(c,m){for(var d=c.nodeValue.length,g=document.createRange(),k,S=0;S<d;S++){g.setEnd(c,S+1),g.setStart(c,S);var A=Mr(g,1);if(A.top!=A.bottom&&gr(m,A)){k={node:c,offset:S+(m.left>=(A.left+A.right)/2?1:0)};break}}return g.detach(),k||{node:c,offset:0}}function gr(c,m){return c.left>=m.left-1&&c.left<=m.right+1&&c.top>=m.top-1&&c.top<=m.bottom+1}function Fr(c,m){var d=c.parentNode;return d&&/^li$/i.test(d.nodeName)&&m.left<c.getBoundingClientRect().left?d:c}function si(c,m,d){var g=nr(m,d),k=g.node,S=g.offset,A=-1;if(k.nodeType==1&&!k.firstChild){var D=k.getBoundingClientRect();A=D.left!=D.right&&d.left>(D.left+D.right)/2?1:-1}return c.docView.posFromDOM(k,S,A)}function Jn(c,m,d,g){for(var k=-1,S=m,A=!1;S!=c.dom;){var D=c.docView.nearestDesc(S,!0),H=void 0;if(!D)return null;if(D.dom.nodeType==1&&(D.node.isBlock&&D.parent||!D.contentDOM)&&((H=D.dom.getBoundingClientRect()).width||H.height)&&(D.node.isBlock&&D.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(D.dom.nodeName)&&(!A&&H.left>g.left||H.top>g.top?k=D.posBefore:(!A&&H.right<g.left||H.bottom<g.top)&&(k=D.posAfter),A=!0),!D.contentDOM&&k<0&&!D.node.isText)){var W=D.node.isBlock?g.top<(H.top+H.bottom)/2:g.left<(H.left+H.right)/2;return W?D.posBefore:D.posAfter}S=D.dom.parentNode}return k>-1?k:c.docView.posFromDOM(m,d,-1)}function Ln(c,m,d){var g=c.childNodes.length;if(g&&d.top<d.bottom)for(var k=Math.max(0,Math.min(g-1,Math.floor(g*(m.top-d.top)/(d.bottom-d.top))-2)),S=k;;){var A=c.childNodes[S];if(A.nodeType==1)for(var D=A.getClientRects(),H=0;H<D.length;H++){var W=D[H];if(gr(m,W))return Ln(A,m,W)}if((S=(S+1)%g)==k)break}return c}function xn(c,m){var d=c.dom.ownerDocument,g,k=0,S=Qt(d,m.left,m.top);S&&(g=S.node,k=S.offset);var A=(c.root.elementFromPoint?c.root:d).elementFromPoint(m.left,m.top),D;if(!A||!c.dom.contains(A.nodeType!=1?A.parentNode:A)){var H=c.dom.getBoundingClientRect();if(!gr(m,H)||(A=Ln(c.dom,m,H),!A))return null}if(Pe)for(var W=A;g&&W;W=Ge(W))W.draggable&&(g=void 0);if(A=Fr(A,m),g){if(Y&&g.nodeType==1&&(k=Math.min(k,g.childNodes.length),k<g.childNodes.length)){var oe=g.childNodes[k],ve;oe.nodeName=="IMG"&&(ve=oe.getBoundingClientRect()).right<=m.left&&ve.bottom>m.top&&k++}var he;Ye&&k&&g.nodeType==1&&(he=g.childNodes[k-1]).nodeType==1&&he.contentEditable=="false"&&he.getBoundingClientRect().top>=m.top&&k--,g==c.dom&&k==g.childNodes.length-1&&g.lastChild.nodeType==1&&m.top>g.lastChild.getBoundingClientRect().bottom?D=c.state.doc.content.size:(k==0||g.nodeType!=1||g.childNodes[k-1].nodeName!="BR")&&(D=Jn(c,g,k,m))}D==null&&(D=si(c,A,m));var xe=c.docView.nearestDesc(A,!0);return{pos:D,inside:xe?xe.posAtStart-xe.border:-1}}function hn(c){return c.top<c.bottom||c.left<c.right}function Mr(c,m){var d=c.getClientRects();if(d.length){var g=d[m<0?0:d.length-1];if(hn(g))return g}return Array.prototype.find.call(d,hn)||c.getBoundingClientRect()}var In=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function cr(c,m,d){var g=c.docView.domFromPos(m,d<0?-1:1),k=g.node,S=g.offset,A=g.atom,D=Ye||Y;if(k.nodeType==3)if(D&&(In.test(k.nodeValue)||(d<0?!S:S==k.nodeValue.length))){var H=Mr(Ke(k,S,S),d);if(Y&&S&&/\s/.test(k.nodeValue[S-1])&&S<k.nodeValue.length){var W=Mr(Ke(k,S-1,S-1),-1);if(W.top==H.top){var oe=Mr(Ke(k,S,S+1),-1);if(oe.top!=H.top)return Ir(oe,oe.left<W.left)}}return H}else{var ve=S,he=S,xe=d<0?1:-1;return d<0&&!S?(he++,xe=-1):d>=0&&S==k.nodeValue.length?(ve--,xe=1):d<0?ve--:he++,Ir(Mr(Ke(k,ve,he),xe),xe<0)}var Be=c.state.doc.resolve(m-(A||0));if(!Be.parent.inlineContent){if(A==null&&S&&(d<0||S==Ve(k))){var rt=k.childNodes[S-1];if(rt.nodeType==1)return K(rt.getBoundingClientRect(),!1)}if(A==null&&S<Ve(k)){var ct=k.childNodes[S];if(ct.nodeType==1)return K(ct.getBoundingClientRect(),!0)}return K(k.getBoundingClientRect(),d>=0)}if(A==null&&S&&(d<0||S==Ve(k))){var Je=k.childNodes[S-1],Ut=Je.nodeType==3?Ke(Je,Ve(Je)-(D?0:1)):Je.nodeType==1&&(Je.nodeName!="BR"||!Je.nextSibling)?Je:null;if(Ut)return Ir(Mr(Ut,1),!1)}if(A==null&&S<Ve(k)){for(var Ft=k.childNodes[S];Ft.pmViewDesc&&Ft.pmViewDesc.ignoreForCoords;)Ft=Ft.nextSibling;var Mt=Ft?Ft.nodeType==3?Ke(Ft,0,D?0:1):Ft.nodeType==1?Ft:null:null;if(Mt)return Ir(Mr(Mt,-1),!0)}return Ir(Mr(k.nodeType==3?Ke(k):k,-d),d>=0)}function Ir(c,m){if(c.width==0)return c;var d=m?c.left:c.right;return{top:c.top,bottom:c.bottom,left:d,right:d}}function K(c,m){if(c.height==0)return c;var d=m?c.top:c.bottom;return{top:d,bottom:d,left:c.left,right:c.right}}function G(c,m,d){var g=c.state,k=c.root.activeElement;g!=m&&c.updateState(m),k!=c.dom&&c.focus();try{return d()}finally{g!=m&&c.updateState(g),k!=c.dom&&k&&k.focus()}}function _(c,m,d){var g=m.selection,k=d=="up"?g.$from:g.$to;return G(c,m,function(){for(var S=c.docView.domFromPos(k.pos,d=="up"?-1:1),A=S.node;;){var D=c.docView.nearestDesc(A,!0);if(!D)break;if(D.node.isBlock){A=D.contentDOM||D.dom;break}A=D.dom.parentNode}for(var H=cr(c,k.pos,1),W=A.firstChild;W;W=W.nextSibling){var oe=void 0;if(W.nodeType==1)oe=W.getClientRects();else if(W.nodeType==3)oe=Ke(W,0,W.nodeValue.length).getClientRects();else continue;for(var ve=0;ve<oe.length;ve++){var he=oe[ve];if(he.bottom>he.top+1&&(d=="up"?H.top-he.top>(he.bottom-H.top)*2:he.bottom-H.bottom>(H.bottom-he.top)*2))return!1}}return!0})}var L=/[\u0590-\u08ac]/;function q(c,m,d){var g=m.selection.$head;if(!g.parent.isTextblock)return!1;var k=g.parentOffset,S=!k,A=k==g.parent.content.size,D=c.domSelection();return D?!L.test(g.parent.textContent)||!D.modify?d=="left"||d=="backward"?S:A:G(c,m,function(){var H=c.domSelectionRange(),W=H.focusNode,oe=H.focusOffset,ve=H.anchorNode,he=H.anchorOffset,xe=D.caretBidiLevel;D.modify("move",d,"character");var Be=g.depth?c.docView.domAfterPos(g.before()):c.dom,rt=c.domSelectionRange(),ct=rt.focusNode,Je=rt.focusOffset,Ut=ct&&!Be.contains(ct.nodeType==1?ct:ct.parentNode)||W==ct&&oe==Je;try{D.collapse(ve,he),W&&(W!=ve||oe!=he)&&D.extend&&D.extend(W,oe)}catch{}return xe!=null&&(D.caretBidiLevel=xe),Ut}):g.pos==g.start()||g.pos==g.end()}var V=null,te=null,we=!1;function De(c,m,d){return V==m&&te==d?we:(V=m,te=d,we=d=="up"||d=="down"?_(c,m,d):q(c,m,d))}var de=0,re=1,Ce=2,Re=3,it=(function(){function c(m,d,g,k){B(this,c),this.parent=m,this.children=d,this.dom=g,this.contentDOM=k,this.dirty=de,g.pmViewDesc=this}return X(c,[{key:"matchesWidget",value:function(d){return!1}},{key:"matchesMark",value:function(d){return!1}},{key:"matchesNode",value:function(d,g,k){return!1}},{key:"matchesHack",value:function(d){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(d){return!1}},{key:"size",get:function(){for(var d=0,g=0;g<this.children.length;g++)d+=this.children[g].size;return d}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var d=0;d<this.children.length;d++)this.children[d].destroy()}},{key:"posBeforeChild",value:function(d){for(var g=0,k=this.posAtStart;;g++){var S=this.children[g];if(S==d)return k;k+=S.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(d,g,k){if(this.contentDOM&&this.contentDOM.contains(d.nodeType==1?d:d.parentNode))if(k<0){var S,A;if(d==this.contentDOM)S=d.childNodes[g-1];else{for(;d.parentNode!=this.contentDOM;)d=d.parentNode;S=d.previousSibling}for(;S&&!((A=S.pmViewDesc)&&A.parent==this);)S=S.previousSibling;return S?this.posBeforeChild(A)+A.size:this.posAtStart}else{var D,H;if(d==this.contentDOM)D=d.childNodes[g];else{for(;d.parentNode!=this.contentDOM;)d=d.parentNode;D=d.nextSibling}for(;D&&!((H=D.pmViewDesc)&&H.parent==this);)D=D.nextSibling;return D?this.posBeforeChild(H):this.posAtEnd}var W;if(d==this.dom&&this.contentDOM)W=g>Oe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))W=d.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(g==0)for(var oe=d;;oe=oe.parentNode){if(oe==this.dom){W=!1;break}if(oe.previousSibling)break}if(W==null&&g==d.childNodes.length)for(var ve=d;;ve=ve.parentNode){if(ve==this.dom){W=!0;break}if(ve.nextSibling)break}}return W??k>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(d){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=!0,S=d;S;S=S.parentNode){var A=this.getDesc(S),D=void 0;if(A&&(!g||A.node))if(k&&(D=A.nodeDOM)&&!(D.nodeType==1?D.contains(d.nodeType==1?d:d.parentNode):D==d))k=!1;else return A}}},{key:"getDesc",value:function(d){for(var g=d.pmViewDesc,k=g;k;k=k.parent)if(k==this)return g}},{key:"posFromDOM",value:function(d,g,k){for(var S=d;S;S=S.parentNode){var A=this.getDesc(S);if(A)return A.localPosFromDOM(d,g,k)}return-1}},{key:"descAt",value:function(d){for(var g=0,k=0;g<this.children.length;g++){var S=this.children[g],A=k+S.size;if(k==d&&A!=k){for(;!S.border&&S.children.length;)for(var D=0;D<S.children.length;D++){var H=S.children[D];if(H.size){S=H;break}}return S}if(d<A)return S.descAt(d-k-S.border);k=A}}},{key:"domFromPos",value:function(d,g){if(!this.contentDOM)return{node:this.dom,offset:0,atom:d+1};for(var k=0,S=0,A=0;k<this.children.length;k++){var D=this.children[k],H=A+D.size;if(H>d||D instanceof z){S=d-A;break}A=H}if(S)return this.children[k].domFromPos(S-this.children[k].border,g);for(var W;k&&!(W=this.children[k-1]).size&&W instanceof wt&&W.side>=0;k--);if(g<=0){for(var oe,ve=!0;oe=k?this.children[k-1]:null,!(!oe||oe.dom.parentNode==this.contentDOM);k--,ve=!1);return oe&&g&&ve&&!oe.border&&!oe.domAtom?oe.domFromPos(oe.size,g):{node:this.contentDOM,offset:oe?Oe(oe.dom)+1:0}}else{for(var he,xe=!0;he=k<this.children.length?this.children[k]:null,!(!he||he.dom.parentNode==this.contentDOM);k++,xe=!1);return he&&xe&&!he.border&&!he.domAtom?he.domFromPos(0,g):{node:this.contentDOM,offset:he?Oe(he.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(d,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:d,to:g,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var S=-1,A=-1,D=k,H=0;;H++){var W=this.children[H],oe=D+W.size;if(S==-1&&d<=oe){var ve=D+W.border;if(d>=ve&&g<=oe-W.border&&W.node&&W.contentDOM&&this.contentDOM.contains(W.contentDOM))return W.parseRange(d,g,ve);d=D;for(var he=H;he>0;he--){var xe=this.children[he-1];if(xe.size&&xe.dom.parentNode==this.contentDOM&&!xe.emptyChildAt(1)){S=Oe(xe.dom)+1;break}d-=xe.size}S==-1&&(S=0)}if(S>-1&&(oe>g||H==this.children.length-1)){g=oe;for(var Be=H+1;Be<this.children.length;Be++){var rt=this.children[Be];if(rt.size&&rt.dom.parentNode==this.contentDOM&&!rt.emptyChildAt(-1)){A=Oe(rt.dom);break}g+=rt.size}A==-1&&(A=this.contentDOM.childNodes.length);break}D=oe}return{node:this.contentDOM,from:d,to:g,fromOffset:S,toOffset:A}}},{key:"emptyChildAt",value:function(d){if(this.border||!this.contentDOM||!this.children.length)return!1;var g=this.children[d<0?0:this.children.length-1];return g.size==0||g.emptyChildAt(d)}},{key:"domAfterPos",value:function(d){var g=this.domFromPos(d,0),k=g.node,S=g.offset;if(k.nodeType!=1||S==k.childNodes.length)throw new RangeError("No node after pos "+d);return k.childNodes[S]}},{key:"setSelection",value:function(d,g,k){for(var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=Math.min(d,g),D=Math.max(d,g),H=0,W=0;H<this.children.length;H++){var oe=this.children[H],ve=W+oe.size;if(A>W&&D<ve)return oe.setSelection(d-W-oe.border,g-W-oe.border,k,S);W=ve}var he=this.domFromPos(d,d?-1:1),xe=g==d?he:this.domFromPos(g,g?-1:1),Be=k.root.getSelection(),rt=k.domSelectionRange(),ct=!1;if((Y||Pe)&&d==g){var Je=he,Ut=Je.node,Ft=Je.offset;if(Ut.nodeType==3){if(ct=!!(Ft&&Ut.nodeValue[Ft-1]==`
`),ct&&Ft==Ut.nodeValue.length)for(var Mt=Ut,Pt;Mt;Mt=Mt.parentNode){if(Pt=Mt.nextSibling){Pt.nodeName=="BR"&&(he=xe={node:Pt.parentNode,offset:Oe(Pt)+1});break}var tr=Mt.pmViewDesc;if(tr&&tr.node&&tr.node.isBlock)break}}else{var Zt=Ut.childNodes[Ft-1];ct=Zt&&(Zt.nodeName=="BR"||Zt.contentEditable=="false")}}if(Y&&rt.focusNode&&rt.focusNode!=xe.node&&rt.focusNode.nodeType==1){var br=rt.focusNode.childNodes[rt.focusOffset];br&&br.contentEditable=="false"&&(S=!0)}if(!(!(S||ct&&Pe)&&Xe(he.node,he.offset,rt.anchorNode,rt.anchorOffset)&&Xe(xe.node,xe.offset,rt.focusNode,rt.focusOffset))){var xr=!1;if((Be.extend||d==g)&&!(ct&&Y)){Be.collapse(he.node,he.offset);try{d!=g&&Be.extend(xe.node,xe.offset),xr=!0}catch{}}if(!xr){if(d>g){var Sr=he;he=xe,xe=Sr}var pi=document.createRange();pi.setEnd(xe.node,xe.offset),pi.setStart(he.node,he.offset),Be.removeAllRanges(),Be.addRange(pi)}}}},{key:"ignoreMutation",value:function(d){return!this.contentDOM&&d.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(d,g){for(var k=0,S=0;S<this.children.length;S++){var A=this.children[S],D=k+A.size;if(k==D?d<=D&&g>=k:d<D&&g>k){var H=k+A.border,W=D-A.border;if(d>=H&&g<=W){this.dirty=d==k||g==D?Ce:re,d==H&&g==W&&(A.contentLost||A.dom.parentNode!=this.contentDOM)?A.dirty=Re:A.markDirty(d-H,g-H);return}else A.dirty=A.dom==A.contentDOM&&A.dom.parentNode==this.contentDOM&&!A.children.length?Ce:Re}k=D}this.dirty=Ce}},{key:"markParentsDirty",value:function(){for(var d=1,g=this.parent;g;g=g.parent,d++){var k=d==1?Ce:re;g.dirty<k&&(g.dirty=k)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(d){return!1}}]),c})(),wt=(function(c){u(d,c);var m=p(d);function d(g,k,S,A){var D;B(this,d);var H,W=k.type.toDOM;if(typeof W=="function"&&(W=W(S,function(){if(!H)return A;if(H.parent)return H.parent.posBeforeChild(H)})),!k.type.spec.raw){if(W.nodeType!=1){var oe=document.createElement("span");oe.appendChild(W),W=oe}W.contentEditable="false",W.classList.add("ProseMirror-widget")}return D=m.call(this,g,[],W,null),D.widget=k,D.widget=k,H=C(D),D}return X(d,[{key:"matchesWidget",value:function(k){return this.dirty==de&&k.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(k){var S=this.widget.spec.stopEvent;return S?S(k):!1}},{key:"ignoreMutation",value:function(k){return k.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),s(M(d.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),d})(it),F=(function(c){u(d,c);var m=p(d);function d(g,k,S,A){var D;return B(this,d),D=m.call(this,g,[],k,null),D.textDOM=S,D.text=A,D}return X(d,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(k,S){return k!=this.textDOM?this.posAtStart+(S?this.size:0):this.posAtStart+S}},{key:"domFromPos",value:function(k){return{node:this.textDOM,offset:k}}},{key:"ignoreMutation",value:function(k){return k.type==="characterData"&&k.target.nodeValue==k.oldValue}}]),d})(it),O=(function(c){u(d,c);var m=p(d);function d(g,k,S,A,D){var H;return B(this,d),H=m.call(this,g,[],S,A),H.mark=k,H.spec=D,H}return X(d,[{key:"parseRule",value:function(){return this.dirty&Re||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(k){return this.dirty!=Re&&this.mark.eq(k)}},{key:"markDirty",value:function(k,S){if(s(M(d.prototype),"markDirty",this).call(this,k,S),this.dirty!=de){for(var A=this.parent;!A.node;)A=A.parent;A.dirty<this.dirty&&(A.dirty=this.dirty),this.dirty=de}}},{key:"slice",value:function(k,S,A){var D=d.create(this.parent,this.mark,!0,A),H=this.children,W=this.size;S<W&&(H=li(H,S,W,A)),k>0&&(H=li(H,0,k,A));for(var oe=0;oe<H.length;oe++)H[oe].parent=D;return D.children=H,D}},{key:"ignoreMutation",value:function(k){return this.spec.ignoreMutation?this.spec.ignoreMutation(k):s(M(d.prototype),"ignoreMutation",this).call(this,k)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(M(d.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(k,S,A,D){var H=D.nodeViews[S.type.name],W=H&&H(S,D,A);return(!W||!W.dom)&&(W=se.DOMSerializer.renderSpec(document,S.type.spec.toDOM(S,A),null,S.attrs)),new d(k,S,W.dom,W.contentDOM||W.dom,W)}}]),d})(it),y=(function(c){u(d,c);var m=p(d);function d(g,k,S,A,D,H,W,oe,ve){var he;return B(this,d),he=m.call(this,g,[],D,H),he.node=k,he.outerDeco=S,he.innerDeco=A,he.nodeDOM=W,he}return X(d,[{key:"parseRule",value:function(){var k=this;if(this.node.type.spec.reparseInView)return null;var S={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(S.preserveWhitespace="full"),!this.contentDOM)S.getContent=function(){return k.node.content};else if(!this.contentLost)S.contentElement=this.contentDOM;else{for(var A=this.children.length-1;A>=0;A--){var D=this.children[A];if(this.dom.contains(D.dom.parentNode)){S.contentElement=D.dom.parentNode;break}}S.contentElement||(S.getContent=function(){return se.Fragment.empty})}return S}},{key:"matchesNode",value:function(k,S,A){return this.dirty==de&&k.eq(this.node)&&$t(S,this.outerDeco)&&A.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(k,S){var A=this,D=this.node.inlineContent,H=S,W=k.composing?this.localCompositionInfo(k,S):null,oe=W&&W.pos>-1?W:null,ve=W&&W.pos<0,he=new Pn(this,oe&&oe.node,k);Ns(this.node,this.innerDeco,function(xe,Be,rt){xe.spec.marks?he.syncToMarks(xe.spec.marks,D,k,Be):xe.type.side>=0&&!rt&&he.syncToMarks(Be==A.node.childCount?se.Mark.none:A.node.child(Be).marks,D,k,Be),he.placeWidget(xe,k,H)},function(xe,Be,rt,ct){he.syncToMarks(xe.marks,D,k,ct);var Je;he.findNodeMatch(xe,Be,rt,ct)||ve&&k.state.selection.from>H&&k.state.selection.to<H+xe.nodeSize&&(Je=he.findIndexWithChild(W.node))>-1&&he.updateNodeAt(xe,Be,rt,Je,k)||he.updateNextNode(xe,Be,rt,k,ct,H)||he.addNode(xe,Be,rt,k,H),H+=xe.nodeSize}),he.syncToMarks([],D,k,0),this.node.isTextblock&&he.addTextblockHacks(),he.destroyRest(),(he.changed||this.dirty==Ce)&&(oe&&this.protectLocalComposition(k,oe),ne(this.contentDOM,this.children,k),He&&Do(this.dom))}},{key:"localCompositionInfo",value:function(k,S){var A=k.state.selection,D=A.from,H=A.to;if(!(k.state.selection instanceof le.TextSelection)||D<S||H>S+this.node.content.size)return null;var W=k.input.compositionNode;if(!W||!this.dom.contains(W.parentNode))return null;if(this.node.inlineContent){var oe=W.nodeValue,ve=fa(this.node.content,oe,D-S,H-S);return ve<0?null:{node:W,pos:ve,text:oe}}else return{node:W,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(k,S){var A=S.node,D=S.pos,H=S.text;if(!this.getDesc(A)){for(var W=A;W.parentNode!=this.contentDOM;W=W.parentNode){for(;W.previousSibling;)W.parentNode.removeChild(W.previousSibling);for(;W.nextSibling;)W.parentNode.removeChild(W.nextSibling);W.pmViewDesc&&(W.pmViewDesc=void 0)}var oe=new F(this,W,A,H);k.input.compositionNodes.push(oe),this.children=li(this.children,D,D+H.length,k,oe)}}},{key:"update",value:function(k,S,A,D){return this.dirty==Re||!k.sameMarkup(this.node)?!1:(this.updateInner(k,S,A,D),!0)}},{key:"updateInner",value:function(k,S,A,D){this.updateOuterDeco(S),this.node=k,this.innerDeco=A,this.contentDOM&&this.updateChildren(D,this.posAtStart),this.dirty=de}},{key:"updateOuterDeco",value:function(k){if(!$t(k,this.outerDeco)){var S=this.nodeDOM.nodeType!=1,A=this.dom;this.dom=qe(this.dom,this.nodeDOM,je(this.outerDeco,this.node,S),je(k,this.node,S)),this.dom!=A&&(A.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=k}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(k,S,A,D,H,W){var oe=H.nodeViews[S.type.name],ve,he=oe&&oe(S,H,function(){if(!ve)return W;if(ve.parent)return ve.parent.posBeforeChild(ve)},A,D),xe=he&&he.dom,Be=he&&he.contentDOM;if(S.isText){if(!xe)xe=document.createTextNode(S.text);else if(xe.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!xe){var rt=se.DOMSerializer.renderSpec(document,S.type.spec.toDOM(S),null,S.attrs);xe=rt.dom,Be=rt.contentDOM}!Be&&!S.isText&&xe.nodeName!="BR"&&(xe.hasAttribute("contenteditable")||(xe.contentEditable="false"),S.type.spec.draggable&&(xe.draggable=!0));var ct=xe;return xe=Ct(xe,A,S),he?ve=new J(k,S,A,D,xe,Be||null,ct,he,H,W+1):S.isText?new R(k,S,A,D,xe,ct,H):new d(k,S,A,D,xe,Be||null,ct)}}]),d})(it);function x(c,m,d,g,k){Ct(g,m,c);var S=new y(void 0,c,m,d,g,g,g,k,0);return S.contentDOM&&S.updateChildren(k,0),S}var R=(function(c){u(d,c);var m=p(d);function d(g,k,S,A,D,H,W){return B(this,d),m.call(this,g,k,S,A,D,null,H,W,0)}return X(d,[{key:"parseRule",value:function(){for(var k=this.nodeDOM.parentNode;k&&k!=this.dom&&!k.pmIsDeco;)k=k.parentNode;return{skip:k||!0}}},{key:"update",value:function(k,S,A,D){return this.dirty==Re||this.dirty!=de&&!this.inParent()||!k.sameMarkup(this.node)?!1:(this.updateOuterDeco(S),(this.dirty!=de||k.text!=this.node.text)&&k.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=k.text,D.trackWrites==this.nodeDOM&&(D.trackWrites=null)),this.node=k,this.dirty=de,!0)}},{key:"inParent",value:function(){for(var k=this.parent.contentDOM,S=this.nodeDOM;S;S=S.parentNode)if(S==k)return!0;return!1}},{key:"domFromPos",value:function(k){return{node:this.nodeDOM,offset:k}}},{key:"localPosFromDOM",value:function(k,S,A){return k==this.nodeDOM?this.posAtStart+Math.min(S,this.node.text.length):s(M(d.prototype),"localPosFromDOM",this).call(this,k,S,A)}},{key:"ignoreMutation",value:function(k){return k.type!="characterData"&&k.type!="selection"}},{key:"slice",value:function(k,S,A){var D=this.node.cut(k,S),H=document.createTextNode(D.text);return new d(this.parent,D,this.outerDeco,this.innerDeco,H,H,A)}},{key:"markDirty",value:function(k,S){s(M(d.prototype),"markDirty",this).call(this,k,S),this.dom!=this.nodeDOM&&(k==0||S==this.nodeDOM.nodeValue.length)&&(this.dirty=Re)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(k){return this.node.text==k}}]),d})(y),z=(function(c){u(d,c);var m=p(d);function d(){return B(this,d),m.apply(this,arguments)}return X(d,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(k){return this.dirty==de&&this.dom.nodeName==k}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),d})(it),J=(function(c){u(d,c);var m=p(d);function d(g,k,S,A,D,H,W,oe,ve,he){var xe;return B(this,d),xe=m.call(this,g,k,S,A,D,H,W,ve,he),xe.spec=oe,xe}return X(d,[{key:"update",value:function(k,S,A,D){if(this.dirty==Re)return!1;if(this.spec.update&&(this.node.type==k.type||this.spec.multiType)){var H=this.spec.update(k,S,A);return H&&this.updateInner(k,S,A,D),H}else return!this.contentDOM&&!k.isLeaf?!1:s(M(d.prototype),"update",this).call(this,k,S,A,D)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():s(M(d.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():s(M(d.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(k,S,A,D){this.spec.setSelection?this.spec.setSelection(k,S,A.root):s(M(d.prototype),"setSelection",this).call(this,k,S,A,D)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(M(d.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(k){return this.spec.stopEvent?this.spec.stopEvent(k):!1}},{key:"ignoreMutation",value:function(k){return this.spec.ignoreMutation?this.spec.ignoreMutation(k):s(M(d.prototype),"ignoreMutation",this).call(this,k)}}]),d})(y);function ne(c,m,d){for(var g=c.firstChild,k=!1,S=0;S<m.length;S++){var A=m[S],D=A.dom;if(D.parentNode==c){for(;D!=g;)g=fr(g),k=!0;g=g.nextSibling}else k=!0,c.insertBefore(D,g);if(A instanceof O){var H=g?g.previousSibling:c.lastChild;ne(A.contentDOM,A.children,d),g=H?H.nextSibling:c.firstChild}}for(;g;)g=fr(g),k=!0;k&&d.trackWrites==c&&(d.trackWrites=null)}var me=function(m){m&&(this.nodeName=m)};me.prototype=Object.create(null);var ke=[new me];function je(c,m,d){if(c.length==0)return ke;for(var g=d?ke[0]:new me,k=[g],S=0;S<c.length;S++){var A=c[S].type.attrs;if(A){A.nodeName&&k.push(g=new me(A.nodeName));for(var D in A){var H=A[D];H!=null&&(d&&k.length==1&&k.push(g=new me(m.isInline?"span":"div")),D=="class"?g.class=(g.class?g.class+" ":"")+H:D=="style"?g.style=(g.style?g.style+";":"")+H:D!="nodeName"&&(g[D]=H))}}}return k}function qe(c,m,d,g){if(d==ke&&g==ke)return m;for(var k=m,S=0;S<g.length;S++){var A=g[S],D=d[S];if(S){var H=void 0;D&&D.nodeName==A.nodeName&&k!=c&&(H=k.parentNode)&&H.nodeName.toLowerCase()==A.nodeName||(H=document.createElement(A.nodeName),H.pmIsDeco=!0,H.appendChild(k),D=ke[0]),k=H}tt(k,D||ke[0],A)}return k}function tt(c,m,d){for(var g in m)g!="class"&&g!="style"&&g!="nodeName"&&!(g in d)&&c.removeAttribute(g);for(var k in d)k!="class"&&k!="style"&&k!="nodeName"&&d[k]!=m[k]&&c.setAttribute(k,d[k]);if(m.class!=d.class){for(var S=m.class?m.class.split(" ").filter(Boolean):[],A=d.class?d.class.split(" ").filter(Boolean):[],D=0;D<S.length;D++)A.indexOf(S[D])==-1&&c.classList.remove(S[D]);for(var H=0;H<A.length;H++)S.indexOf(A[H])==-1&&c.classList.add(A[H]);c.classList.length==0&&c.removeAttribute("class")}if(m.style!=d.style){if(m.style)for(var W=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,oe;oe=W.exec(m.style);)c.style.removeProperty(oe[1]);d.style&&(c.style.cssText+=d.style)}}function Ct(c,m,d){return qe(c,c,ke,je(m,d,c.nodeType!=1))}function $t(c,m){if(c.length!=m.length)return!1;for(var d=0;d<c.length;d++)if(!c[d].type.eq(m[d].type))return!1;return!0}function fr(c){var m=c.nextSibling;return c.parentNode.removeChild(c),m}var Pn=(function(){function c(m,d,g){B(this,c),this.lock=d,this.view=g,this.index=0,this.stack=[],this.changed=!1,this.top=m,this.preMatch=Si(m.node.content,m)}return X(c,[{key:"destroyBetween",value:function(d,g){if(d!=g){for(var k=d;k<g;k++)this.top.children[k].destroy();this.top.children.splice(d,g-d),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(d,g,k,S){for(var A=0,D=this.stack.length>>1,H=Math.min(D,d.length);A<H&&(A==D-1?this.top:this.stack[A+1<<1]).matchesMark(d[A])&&d[A].type.spec.spanning!==!1;)A++;for(;A<D;)this.destroyRest(),this.top.dirty=de,this.index=this.stack.pop(),this.top=this.stack.pop(),D--;for(;D<d.length;){this.stack.push(this.top,this.index+1);var W=-1,oe=this.top.children.length;S<this.preMatch.index&&(oe=Math.min(this.index+3,oe));for(var ve=this.index;ve<oe;ve++){var he=this.top.children[ve];if(he.matchesMark(d[D])&&!this.isLocked(he.dom)){W=ve;break}}if(W>-1)W>this.index&&(this.changed=!0,this.destroyBetween(this.index,W)),this.top=this.top.children[this.index];else{var xe=O.create(this.top,d[D],g,k);this.top.children.splice(this.index,0,xe),this.top=xe,this.changed=!0}this.index=0,D++}}},{key:"findNodeMatch",value:function(d,g,k,S){var A=-1,D;if(S>=this.preMatch.index&&(D=this.preMatch.matches[S-this.preMatch.index]).parent==this.top&&D.matchesNode(d,g,k))A=this.top.children.indexOf(D,this.index);else for(var H=this.index,W=Math.min(this.top.children.length,H+5);H<W;H++){var oe=this.top.children[H];if(oe.matchesNode(d,g,k)&&!this.preMatch.matched.has(oe)){A=H;break}}return A<0?!1:(this.destroyBetween(this.index,A),this.index++,!0)}},{key:"updateNodeAt",value:function(d,g,k,S,A){var D=this.top.children[S];return D.dirty==Re&&D.dom==D.contentDOM&&(D.dirty=Ce),D.update(d,g,k,A)?(this.destroyBetween(this.index,S),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(d){for(;;){var g=d.parentNode;if(!g)return-1;if(g==this.top.contentDOM){var k=d.pmViewDesc;if(k){for(var S=this.index;S<this.top.children.length;S++)if(this.top.children[S]==k)return S}return-1}d=g}}},{key:"updateNextNode",value:function(d,g,k,S,A,D){for(var H=this.index;H<this.top.children.length;H++){var W=this.top.children[H];if(W instanceof y){var oe=this.preMatch.matched.get(W);if(oe!=null&&oe!=A)return!1;var ve=W.dom,he=void 0,xe=this.isLocked(ve)&&!(d.isText&&W.node&&W.node.isText&&W.nodeDOM.nodeValue==d.text&&W.dirty!=Re&&$t(g,W.outerDeco));if(!xe&&W.update(d,g,k,S))return this.destroyBetween(this.index,H),W.dom!=ve&&(this.changed=!0),this.index++,!0;if(!xe&&(he=this.recreateWrapper(W,d,g,k,S,D)))return this.destroyBetween(this.index,H),this.top.children[this.index]=he,he.contentDOM&&(he.dirty=Ce,he.updateChildren(S,D+1),he.dirty=de),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(d,g,k,S,A,D){if(d.dirty||g.isAtom||!d.children.length||!d.node.content.eq(g.content)||!$t(k,d.outerDeco)||!S.eq(d.innerDeco))return null;var H=y.create(this.top,g,k,S,A,D);if(H.contentDOM){H.children=d.children,d.children=[];var W=i(H.children),oe;try{for(W.s();!(oe=W.n()).done;){var ve=oe.value;ve.parent=H}}catch(he){W.e(he)}finally{W.f()}}return d.destroy(),H}},{key:"addNode",value:function(d,g,k,S,A){var D=y.create(this.top,d,g,k,S,A);D.contentDOM&&D.updateChildren(S,A+1),this.top.children.splice(this.index++,0,D),this.changed=!0}},{key:"placeWidget",value:function(d,g,k){var S=this.index<this.top.children.length?this.top.children[this.index]:null;if(S&&S.matchesWidget(d)&&(d==S.widget||!S.widget.type.toDOM.parentNode))this.index++;else{var A=new wt(this.top,d,g,k);this.top.children.splice(this.index++,0,A),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var d=this.top.children[this.index-1],g=this.top;d instanceof O;)g=d,d=g.children[g.children.length-1];(!d||!(d instanceof R)||/\n$/.test(d.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(d.node.text))&&((Pe||ye)&&d&&d.dom.contentEditable=="false"&&this.addHackNode("IMG",g),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(d,g){if(g==this.top&&this.index<g.children.length&&g.children[this.index].matchesHack(d))this.index++;else{var k=document.createElement(d);d=="IMG"&&(k.className="ProseMirror-separator",k.alt=""),d=="BR"&&(k.className="ProseMirror-trailingBreak");var S=new z(this.top,[],k,null);g!=this.top?g.children.push(S):g.children.splice(this.index++,0,S),this.changed=!0}}},{key:"isLocked",value:function(d){return this.lock&&(d==this.lock||d.nodeType==1&&d.contains(this.lock.parentNode))}}]),c})();function Si(c,m){var d=m,g=d.children.length,k=c.childCount,S=new Map,A=[];e:for(;k>0;){for(var D=void 0;;)if(g){var H=d.children[g-1];if(H instanceof O)d=H,g=H.children.length;else{D=H,g--;break}}else{if(d==m)break e;g=d.parent.children.indexOf(d),d=d.parent}var W=D.node;if(W){if(W!=c.child(k-1))break;--k,S.set(D,k),A.push(D)}}return{index:k,matched:S,matches:A.reverse()}}function zi(c,m){return c.type.side-m.type.side}function Ns(c,m,d,g){var k=m.locals(c),S=0;if(k.length==0){for(var A=0;A<c.childCount;A++){var D=c.child(A);g(D,k,m.forChild(S,D),A),S+=D.nodeSize}return}for(var H=0,W=[],oe=null,ve=0;;){for(var he=void 0,xe=void 0;H<k.length&&k[H].to==S;){var Be=k[H++];Be.widget&&(he?(xe||(xe=[he])).push(Be):he=Be)}if(he)if(xe){xe.sort(zi);for(var rt=0;rt<xe.length;rt++)d(xe[rt],ve,!!oe)}else d(he,ve,!!oe);var ct=void 0,Je=void 0;if(oe)Je=-1,ct=oe,oe=null;else if(ve<c.childCount)Je=ve,ct=c.child(ve++);else break;for(var Ut=0;Ut<W.length;Ut++)W[Ut].to<=S&&W.splice(Ut--,1);for(;H<k.length&&k[H].from<=S&&k[H].to>S;)W.push(k[H++]);var Ft=S+ct.nodeSize;if(ct.isText){var Mt=Ft;H<k.length&&k[H].from<Mt&&(Mt=k[H].from);for(var Pt=0;Pt<W.length;Pt++)W[Pt].to<Mt&&(Mt=W[Pt].to);Mt<Ft&&(oe=ct.cut(Mt-S),ct=ct.cut(0,Mt-S),Ft=Mt,Je=-1)}else for(;H<k.length&&k[H].to<Ft;)H++;var tr=ct.isInline&&!ct.isLeaf?W.filter(function(Zt){return!Zt.inline}):W.slice();g(ct,tr,m.forChild(S,ct),Je),S=Ft}}function Do(c){if(c.nodeName=="UL"||c.nodeName=="OL"){var m=c.style.cssText;c.style.cssText=m+"; list-style: square !important",window.getComputedStyle(c).listStyle,c.style.cssText=m}}function fa(c,m,d,g){for(var k=0,S=0;k<c.childCount&&S<=g;){var A=c.child(k++),D=S;if(S+=A.nodeSize,!!A.isText){for(var H=A.text;k<c.childCount;){var W=c.child(k++);if(S+=W.nodeSize,!W.isText)break;H+=W.text}if(S>=d){if(S>=g&&H.slice(g-m.length-D,g-D)==m)return g-m.length;var oe=D<g?H.lastIndexOf(m,g-D-1):-1;if(oe>=0&&oe+m.length+D>=d)return D+oe;if(d==g&&H.length>=g+m.length-D&&H.slice(g-D,g-D+m.length)==m)return g}}}return-1}function li(c,m,d,g,k){for(var S=[],A=0,D=0;A<c.length;A++){var H=c[A],W=D,oe=D+=H.size;W>=d||oe<=m?S.push(H):(W<m&&S.push(H.slice(0,m-W,g)),k&&(S.push(k),k=void 0),oe>d&&S.push(H.slice(d-W,H.size,g)))}return S}function ui(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=c.domSelectionRange(),g=c.state.doc;if(!d.focusNode)return null;var k=c.docView.nearestDesc(d.focusNode),S=k&&k.size==0,A=c.docView.posFromDOM(d.focusNode,d.focusOffset,1);if(A<0)return null;var D=g.resolve(A),H,W;if(lt(d)){for(H=A;k&&!k.node;)k=k.parent;var oe=k.node;if(k&&oe.isAtom&&le.NodeSelection.isSelectable(oe)&&k.parent&&!(oe.isInline&&st(d.focusNode,d.focusOffset,k.dom))){var ve=k.posBefore;W=new le.NodeSelection(A==ve?D:g.resolve(ve))}}else{if(d instanceof c.dom.ownerDocument.defaultView.Selection&&d.rangeCount>1){for(var he=A,xe=A,Be=0;Be<d.rangeCount;Be++){var rt=d.getRangeAt(Be);he=Math.min(he,c.docView.posFromDOM(rt.startContainer,rt.startOffset,1)),xe=Math.max(xe,c.docView.posFromDOM(rt.endContainer,rt.endOffset,-1))}if(he<0)return null;var ct=xe==c.state.selection.anchor?[xe,he]:[he,xe],Je=t(ct,2);H=Je[0],A=Je[1],D=g.resolve(A)}else H=c.docView.posFromDOM(d.anchorNode,d.anchorOffset,1);if(H<0)return null}var Ut=g.resolve(H);if(!W){var Ft=m=="pointer"||c.state.selection.head<D.pos&&!S?1:-1;W=fi(c,Ut,D,Ft)}return W}function Ro(c){return c.editable?c.hasFocus():Rs(c)&&document.activeElement&&document.activeElement.contains(c.dom)}function _n(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=c.state.selection;if(da(c,d),!!Ro(c)){if(!m&&c.input.mouseDown&&c.input.mouseDown.allowDefault&&ye){var g=c.domSelectionRange(),k=c.domObserver.currentSelection;if(g.anchorNode&&k.anchorNode&&Xe(g.anchorNode,g.anchorOffset,k.anchorNode,k.anchorOffset)){c.input.mouseDown.delayedSelectionSync=!0,c.domObserver.setCurSelection();return}}if(c.domObserver.disconnectSelection(),c.cursorWrapper)ci(c);else{var S=d.anchor,A=d.head,D,H;Lo&&!(d instanceof le.TextSelection)&&(d.$from.parent.inlineContent||(D=Ga(c,d.from)),!d.empty&&!d.$from.parent.inlineContent&&(H=Ga(c,d.to))),c.docView.setSelection(S,A,c,m),Lo&&(D&&Ja(D),H&&Ja(H)),d.visible?c.dom.classList.remove("ProseMirror-hideselection"):(c.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Io(c))}c.domObserver.setCurSelection(),c.domObserver.connectSelection()}}var Lo=Pe||ye&&Te<63;function Ga(c,m){var d=c.docView.domFromPos(m,0),g=d.node,k=d.offset,S=k<g.childNodes.length?g.childNodes[k]:null,A=k?g.childNodes[k-1]:null;if(Pe&&S&&S.contentEditable=="false")return Ka(S);if((!S||S.contentEditable=="false")&&(!A||A.contentEditable=="false")){if(S)return Ka(S);if(A)return Ka(A)}}function Ka(c){return c.contentEditable="true",Pe&&c.draggable&&(c.draggable=!1,c.wasDraggable=!0),c}function Ja(c){c.contentEditable="false",c.wasDraggable&&(c.draggable=!0,c.wasDraggable=null)}function Io(c){var m=c.dom.ownerDocument;m.removeEventListener("selectionchange",c.input.hideSelectionGuard);var d=c.domSelectionRange(),g=d.anchorNode,k=d.anchorOffset;m.addEventListener("selectionchange",c.input.hideSelectionGuard=function(){(d.anchorNode!=g||d.anchorOffset!=k)&&(m.removeEventListener("selectionchange",c.input.hideSelectionGuard),setTimeout(function(){(!Ro(c)||c.state.selection.visible)&&c.dom.classList.remove("ProseMirror-hideselection")},20))})}function ci(c){var m=c.domSelection();if(m){var d=c.cursorWrapper.dom,g=d.nodeName=="IMG";g?m.collapse(d.parentNode,Oe(d)+1):m.collapse(d,0),!g&&!c.state.selection.visible&&I&&$<=11&&(d.disabled=!0,d.disabled=!1)}}function da(c,m){if(m instanceof le.NodeSelection){var d=c.docView.descAt(m.from);d!=c.lastSelectedViewDesc&&(Xa(c),d&&d.selectNode(),c.lastSelectedViewDesc=d)}else Xa(c)}function Xa(c){c.lastSelectedViewDesc&&(c.lastSelectedViewDesc.parent&&c.lastSelectedViewDesc.deselectNode(),c.lastSelectedViewDesc=void 0)}function fi(c,m,d,g){return c.someProp("createSelectionBetween",function(k){return k(c,m,d)})||le.TextSelection.between(m,d,g)}function Ds(c){return c.editable&&!c.hasFocus()?!1:Rs(c)}function Rs(c){var m=c.domSelectionRange();if(!m.anchorNode)return!1;try{return c.dom.contains(m.anchorNode.nodeType==3?m.anchorNode.parentNode:m.anchorNode)&&(c.editable||c.dom.contains(m.focusNode.nodeType==3?m.focusNode.parentNode:m.focusNode))}catch{return!1}}function $i(c){var m=c.docView.domFromPos(c.state.selection.anchor,0),d=c.domSelectionRange();return Xe(m.node,m.offset,d.anchorNode,d.anchorOffset)}function di(c,m){var d=c.selection,g=d.$anchor,k=d.$head,S=m>0?g.max(k):g.min(k),A=S.parent.inlineContent?S.depth?c.doc.resolve(m>0?S.after():S.before()):null:S;return A&&le.Selection.findFrom(A,m)}function hi(c,m){return c.dispatch(c.state.tr.setSelection(m).scrollIntoView()),!0}function Ya(c,m,d){var g=c.state.selection;if(g instanceof le.TextSelection)if(d.indexOf("s")>-1){var k=g.$head,S=k.textOffset?null:m<0?k.nodeBefore:k.nodeAfter;if(!S||S.isText||!S.isLeaf)return!1;var A=c.state.doc.resolve(k.pos+S.nodeSize*(m<0?-1:1));return hi(c,new le.TextSelection(g.$anchor,A))}else if(g.empty){if(c.endOfTextblock(m>0?"forward":"backward")){var D=di(c.state,m);return D&&D instanceof le.NodeSelection?hi(c,D):!1}else if(!(_e&&d.indexOf("m")>-1)){var H=g.$head,W=H.textOffset?null:m<0?H.nodeBefore:H.nodeAfter,oe;if(!W||W.isText)return!1;var ve=m<0?H.pos-W.nodeSize:H.pos;return W.isAtom||(oe=c.docView.descAt(ve))&&!oe.contentDOM?le.NodeSelection.isSelectable(W)?hi(c,new le.NodeSelection(m<0?c.state.doc.resolve(H.pos-W.nodeSize):H)):Ye?hi(c,new le.TextSelection(c.state.doc.resolve(m<0?ve:ve+W.nodeSize))):!1:!1}}else return!1;else{if(g instanceof le.NodeSelection&&g.node.isInline)return hi(c,new le.TextSelection(m>0?g.$to:g.$from));var he=di(c.state,m);return he?hi(c,he):!1}}function ha(c){return c.nodeType==3?c.nodeValue.length:c.childNodes.length}function Ui(c,m){var d=c.pmViewDesc;return d&&d.size==0&&(m<0||c.nextSibling||c.nodeName!="BR")}function Xn(c,m){return m<0?Po(c):zl(c)}function Po(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d){var k,S,A=!1;for(Y&&d.nodeType==1&&g<ha(d)&&Ui(d.childNodes[g],-1)&&(A=!0);;)if(g>0){if(d.nodeType!=1)break;var D=d.childNodes[g-1];if(Ui(D,-1))k=d,S=--g;else if(D.nodeType==3)d=D,g=d.nodeValue.length;else break}else{if(Bn(d))break;for(var H=d.previousSibling;H&&Ui(H,-1);)k=d.parentNode,S=Oe(H),H=H.previousSibling;if(H)d=H,g=ha(d);else{if(d=d.parentNode,d==c.dom)break;g=0}}A?Qa(c,d,g):k&&Qa(c,k,S)}}function zl(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d){for(var k=ha(d),S,A;;)if(g<k){if(d.nodeType!=1)break;var D=d.childNodes[g];if(Ui(D,1))S=d,A=++g;else break}else{if(Bn(d))break;for(var H=d.nextSibling;H&&Ui(H,1);)S=H.parentNode,A=Oe(H)+1,H=H.nextSibling;if(H)d=H,g=0,k=ha(d);else{if(d=d.parentNode,d==c.dom)break;g=k=0}}S&&Qa(c,S,A)}}function Bn(c){var m=c.pmViewDesc;return m&&m.node&&m.node.isBlock}function Ls(c,m){for(;c&&m==c.childNodes.length&&!vt(c);)m=Oe(c)+1,c=c.parentNode;for(;c&&m<c.childNodes.length;){var d=c.childNodes[m];if(d.nodeType==3)return d;if(d.nodeType==1&&d.contentEditable=="false")break;c=d,m=0}}function Is(c,m){for(;c&&!m&&!vt(c);)m=Oe(c),c=c.parentNode;for(;c&&m;){var d=c.childNodes[m-1];if(d.nodeType==3)return d;if(d.nodeType==1&&d.contentEditable=="false")break;c=d,m=c.childNodes.length}}function Qa(c,m,d){if(m.nodeType!=3){var g,k;(k=Ls(m,d))?(m=k,d=0):(g=Is(m,d))&&(m=g,d=g.nodeValue.length)}var S=c.domSelection();if(S){if(lt(S)){var A=document.createRange();A.setEnd(m,d),A.setStart(m,d),S.removeAllRanges(),S.addRange(A)}else S.extend&&S.extend(m,d);c.domObserver.setCurSelection();var D=c.state;setTimeout(function(){c.state==D&&_n(c)},50)}}function Ps(c,m){var d=c.state.doc.resolve(m);if(!(ye||Ie)&&d.parent.inlineContent){var g=c.coordsAtPos(m);if(m>d.start()){var k=c.coordsAtPos(m-1),S=(k.top+k.bottom)/2;if(S>g.top&&S<g.bottom&&Math.abs(k.left-g.left)>1)return k.left<g.left?"ltr":"rtl"}if(m<d.end()){var A=c.coordsAtPos(m+1),D=(A.top+A.bottom)/2;if(D>g.top&&D<g.bottom&&Math.abs(A.left-g.left)>1)return A.left>g.left?"ltr":"rtl"}}var H=getComputedStyle(c.dom).direction;return H=="rtl"?"rtl":"ltr"}function ji(c,m,d){var g=c.state.selection;if(g instanceof le.TextSelection&&!g.empty||d.indexOf("s")>-1||_e&&d.indexOf("m")>-1)return!1;var k=g.$from,S=g.$to;if(!k.parent.inlineContent||c.endOfTextblock(m<0?"up":"down")){var A=di(c.state,m);if(A&&A instanceof le.NodeSelection)return hi(c,A)}if(!k.parent.inlineContent){var D=m<0?k:S,H=g instanceof le.AllSelection?le.Selection.near(D,m):le.Selection.findFrom(D,m);return H?hi(c,H):!1}return!1}function Fn(c,m){if(!(c.state.selection instanceof le.TextSelection))return!0;var d=c.state.selection,g=d.$head,k=d.$anchor,S=d.empty;if(!g.sameParent(k))return!0;if(!S)return!1;if(c.endOfTextblock(m>0?"forward":"backward"))return!0;var A=!g.textOffset&&(m<0?g.nodeBefore:g.nodeAfter);if(A&&!A.isText){var D=c.state.tr;return m<0?D.delete(g.pos-A.nodeSize,g.pos):D.delete(g.pos,g.pos+A.nodeSize),c.dispatch(D),!0}return!1}function _o(c,m,d){c.domObserver.stop(),m.contentEditable=d,c.domObserver.start()}function _s(c){if(!Pe||c.state.selection.$head.parentOffset>0)return!1;var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d&&d.nodeType==1&&g==0&&d.firstChild&&d.firstChild.contentEditable=="false"){var k=d.firstChild;_o(c,k,"true"),setTimeout(function(){return _o(c,k,"false")},20)}return!1}function Bs(c){var m="";return c.ctrlKey&&(m+="c"),c.metaKey&&(m+="m"),c.altKey&&(m+="a"),c.shiftKey&&(m+="s"),m}function $l(c,m){var d=m.keyCode,g=Bs(m);if(d==8||_e&&d==72&&g=="c")return Fn(c,-1)||Xn(c,-1);if(d==46&&!m.shiftKey||_e&&d==68&&g=="c")return Fn(c,1)||Xn(c,1);if(d==13||d==27)return!0;if(d==37||_e&&d==66&&g=="c"){var k=d==37?Ps(c,c.state.selection.from)=="ltr"?-1:1:-1;return Ya(c,k,g)||Xn(c,k)}else if(d==39||_e&&d==70&&g=="c"){var S=d==39?Ps(c,c.state.selection.from)=="ltr"?1:-1:1;return Ya(c,S,g)||Xn(c,S)}else{if(d==38||_e&&d==80&&g=="c")return ji(c,-1,g)||Xn(c,-1);if(d==40||_e&&d==78&&g=="c")return _s(c)||ji(c,1,g)||Xn(c,1);if(g==(_e?"m":"c")&&(d==66||d==73||d==89||d==90))return!0}return!1}function kt(c,m){c.someProp("transformCopied",function(Je){m=Je(m,c)});for(var d=[],g=m,k=g.content,S=g.openStart,A=g.openEnd;S>1&&A>1&&k.childCount==1&&k.firstChild.childCount==1;){S--,A--;var D=k.firstChild;d.push(D.type.name,D.attrs!=D.type.defaultAttrs?D.attrs:null),k=D.content}var H=c.someProp("clipboardSerializer")||se.DOMSerializer.fromSchema(c.state.schema),W=Fs(),oe=W.createElement("div");oe.appendChild(H.serializeFragment(k,{document:W}));for(var ve=oe.firstChild,he,xe=0;ve&&ve.nodeType==1&&(he=Wi[ve.nodeName.toLowerCase()]);){for(var Be=he.length-1;Be>=0;Be--){for(var rt=W.createElement(he[Be]);oe.firstChild;)rt.appendChild(oe.firstChild);oe.appendChild(rt),xe++}ve=oe.firstChild}ve&&ve.nodeType==1&&ve.setAttribute("data-pm-slice","".concat(S," ").concat(A).concat(xe?" -".concat(xe):""," ").concat(JSON.stringify(d)));var ct=c.someProp("clipboardTextSerializer",function(Je){return Je(m,c)})||m.content.textBetween(0,m.content.size,`

`);return{dom:oe,text:ct,slice:m}}function be(c,m,d,g,k){var S=k.parent.type.spec.code,A,D;if(!d&&!m)return null;var H=!!m&&(g||S||!d);if(H){if(c.someProp("transformPastedText",function(tr){m=tr(m,S||g,c)}),S)return D=new se.Slice(se.Fragment.from(c.state.schema.text(m.replace(/\r\n?/g,`
`))),0,0),c.someProp("transformPasted",function(tr){D=tr(D,c,!0)}),D;var W=c.someProp("clipboardTextParser",function(tr){return tr(m,k,g,c)});if(W)D=W;else{var oe=k.marks(),ve=c.state.schema,he=se.DOMSerializer.fromSchema(ve);A=document.createElement("div"),m.split(/(?:\r\n?|\n)+/).forEach(function(tr){var Zt=A.appendChild(document.createElement("p"));tr&&Zt.appendChild(he.serializeNode(ve.text(tr,oe)))})}}else c.someProp("transformPastedHTML",function(tr){d=tr(d,c)}),A=uh(d),Ye&&ch(A);var xe=A&&A.querySelector("[data-pm-slice]"),Be=xe&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(xe.getAttribute("data-pm-slice")||"");if(Be&&Be[3])for(var rt=+Be[3];rt>0;rt--){for(var ct=A.firstChild;ct&&ct.nodeType!=1;)ct=ct.nextSibling;if(!ct)break;A=ct}if(!D){var Je=c.someProp("clipboardParser")||c.someProp("domParser")||se.DOMParser.fromSchema(c.state.schema);D=Je.parseSlice(A,{preserveWhitespace:!!(H||Be),context:k,ruleFromNode:function(Zt){return Zt.nodeName=="BR"&&!Zt.nextSibling&&Zt.parentNode&&!Ze.test(Zt.parentNode.nodeName)?{ignore:!0}:null}})}if(Be)D=fh(qn(D,+Be[1],+Be[2]),Be[4]);else if(D=se.Slice.maxOpen(mt(D.content,k),!0),D.openStart||D.openEnd){for(var Ut=0,Ft=0,Mt=D.content.firstChild;Ut<D.openStart&&!Mt.type.spec.isolating;Ut++,Mt=Mt.firstChild);for(var Pt=D.content.lastChild;Ft<D.openEnd&&!Pt.type.spec.isolating;Ft++,Pt=Pt.lastChild);D=qn(D,Ut,Ft)}return c.someProp("transformPasted",function(tr){D=tr(D,c,H)}),D}var Ze=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mt(c,m){if(c.childCount<2)return c;for(var d=function(){var A=m.node(k),D=A.contentMatchAt(m.index(k)),H,W=[];if(c.forEach(function(oe){if(W){var ve=D.findWrapping(oe.type),he;if(!ve)return W=null;if(he=W.length&&H.length&&Or(ve,H,oe,W[W.length-1],0))W[W.length-1]=he;else{W.length&&(W[W.length-1]=Ar(W[W.length-1],H.length));var xe=Jt(oe,ve);W.push(xe),D=D.matchType(xe.type),H=ve}}}),W)return{v:se.Fragment.from(W)}},g,k=m.depth;k>=0;k--)if(g=d(),g)return g.v;return c}function Jt(c,m){for(var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=m.length-1;g>=d;g--)c=m[g].create(null,se.Fragment.from(c));return c}function Or(c,m,d,g,k){if(k<c.length&&k<m.length&&c[k]==m[k]){var S=Or(c,m,d,g.lastChild,k+1);if(S)return g.copy(g.content.replaceChild(g.childCount-1,S));var A=g.contentMatchAt(g.childCount);if(A.matchType(k==c.length-1?d.type:c[k+1]))return g.copy(g.content.append(se.Fragment.from(Jt(d,c,k+1))))}}function Ar(c,m){if(m==0)return c;var d=c.content.replaceChild(c.childCount-1,Ar(c.lastChild,m-1)),g=c.contentMatchAt(c.childCount).fillBefore(se.Fragment.empty,!0);return c.copy(d.append(g))}function Tr(c,m,d,g,k,S){var A=m<0?c.firstChild:c.lastChild,D=A.content;return c.childCount>1&&(S=0),k<g-1&&(D=Tr(D,m,d,g,k+1,S)),k>=d&&(D=m<0?A.contentMatchAt(0).fillBefore(D,S<=k).append(D):D.append(A.contentMatchAt(A.childCount).fillBefore(se.Fragment.empty,!0))),c.replaceChild(m<0?0:c.childCount-1,A.copy(D))}function qn(c,m,d){return m<c.openStart&&(c=new se.Slice(Tr(c.content,-1,m,c.openStart,0,c.openEnd),m,c.openEnd)),d<c.openEnd&&(c=new se.Slice(Tr(c.content,1,d,c.openEnd,0,0),c.openStart,d)),c}var Wi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Bo=null;function Fs(){return Bo||(Bo=document.implementation.createHTMLDocument("title"))}var qs=null;function lh(c){var m=window.trustedTypes;return m?(qs||(qs=m.defaultPolicy||m.createPolicy("ProseMirrorClipboard",{createHTML:function(g){return g}})),qs.createHTML(c)):c}function uh(c){var m=/^(\s*<meta [^>]*>)*/.exec(c);m&&(c=c.slice(m[0].length));var d=Fs().createElement("div"),g=/<([a-z][^>\s]+)/i.exec(c),k;if((k=g&&Wi[g[1].toLowerCase()])&&(c=k.map(function(A){return"<"+A+">"}).join("")+c+k.map(function(A){return"</"+A+">"}).reverse().join("")),d.innerHTML=lh(c),k)for(var S=0;S<k.length;S++)d=d.querySelector(k[S])||d;return d}function ch(c){for(var m=c.querySelectorAll(ye?"span:not([class]):not([style])":"span.Apple-converted-space"),d=0;d<m.length;d++){var g=m[d];g.childNodes.length==1&&g.textContent==""&&g.parentNode&&g.parentNode.replaceChild(c.ownerDocument.createTextNode(" "),g)}}function fh(c,m){if(!c.size)return c;var d=c.content.firstChild.type.schema,g;try{g=JSON.parse(m)}catch{return c}for(var k=c.content,S=c.openStart,A=c.openEnd,D=g.length-2;D>=0;D-=2){var H=d.nodes[g[D]];if(!H||H.hasRequiredAttrs())break;k=se.Fragment.from(H.create(g[D+1],k)),S++,A++}return new se.Slice(k,S,A)}var Zr={},en={},dh={touchstart:!0,touchmove:!0},hh=X(function c(){B(this,c),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function ph(c){var m=function(){var k=Zr[d];c.dom.addEventListener(d,c.input.eventHandlers[d]=function(S){mh(c,S)&&!jl(c,S)&&(c.editable||!(S.type in en))&&k(c,S)},dh[d]?{passive:!0}:void 0)};for(var d in Zr)m();Pe&&c.dom.addEventListener("input",function(){return null}),Ul(c)}function Gi(c,m){c.input.lastSelectionOrigin=m,c.input.lastSelectionTime=Date.now()}function vh(c){c.domObserver.stop();for(var m in c.input.eventHandlers)c.dom.removeEventListener(m,c.input.eventHandlers[m]);clearTimeout(c.input.composingTimeout),clearTimeout(c.input.lastIOSEnterFallbackTimeout)}function Ul(c){c.someProp("handleDOMEvents",function(m){for(var d in m)c.input.eventHandlers[d]||c.dom.addEventListener(d,c.input.eventHandlers[d]=function(g){return jl(c,g)})})}function jl(c,m){return c.someProp("handleDOMEvents",function(d){var g=d[m.type];return g?g(c,m)||m.defaultPrevented:!1})}function mh(c,m){if(!m.bubbles)return!0;if(m.defaultPrevented)return!1;for(var d=m.target;d!=c.dom;d=d.parentNode)if(!d||d.nodeType==11||d.pmViewDesc&&d.pmViewDesc.stopEvent(m))return!1;return!0}function gh(c,m){!jl(c,m)&&Zr[m.type]&&(c.editable||!(m.type in en))&&Zr[m.type](c,m)}en.keydown=function(c,m){var d=m;if(c.input.shiftKey=d.keyCode==16||d.shiftKey,!sc(c,d)&&(c.input.lastKeyCode=d.keyCode,c.input.lastKeyCodeTime=Date.now(),!(et&&ye&&d.keyCode==13)))if(d.keyCode!=229&&c.domObserver.forceFlush(),He&&d.keyCode==13&&!d.ctrlKey&&!d.altKey&&!d.metaKey){var g=Date.now();c.input.lastIOSEnter=g,c.input.lastIOSEnterFallbackTimeout=setTimeout(function(){c.input.lastIOSEnter==g&&(c.someProp("handleKeyDown",function(k){return k(c,At(13,"Enter"))}),c.input.lastIOSEnter=0)},200)}else c.someProp("handleKeyDown",function(k){return k(c,d)})||$l(c,d)?d.preventDefault():Gi(c,"key")},en.keyup=function(c,m){m.keyCode==16&&(c.input.shiftKey=!1)},en.keypress=function(c,m){var d=m;if(!(sc(c,d)||!d.charCode||d.ctrlKey&&!d.altKey||_e&&d.metaKey)){if(c.someProp("handleKeyPress",function(A){return A(c,d)})){d.preventDefault();return}var g=c.state.selection;if(!(g instanceof le.TextSelection)||!g.$from.sameParent(g.$to)){var k=String.fromCharCode(d.charCode),S=function(){return c.state.tr.insertText(k).scrollIntoView()};!/[\r\n]/.test(k)&&!c.someProp("handleTextInput",function(A){return A(c,g.$from.pos,g.$to.pos,k,S)})&&c.dispatch(S()),d.preventDefault()}}};function Hs(c){return{left:c.clientX,top:c.clientY}}function yh(c,m){var d=m.x-c.clientX,g=m.y-c.clientY;return d*d+g*g<100}function Wl(c,m,d,g,k){if(g==-1)return!1;for(var S=c.state.doc.resolve(g),A=function(oe){if(c.someProp(m,function(ve){return oe>S.depth?ve(c,d,S.nodeAfter,S.before(oe),k,!0):ve(c,d,S.node(oe),S.before(oe),k,!1)}))return{v:!0}},D,H=S.depth+1;H>0;H--)if(D=A(H),D)return D.v;return!1}function Za(c,m,d){if(c.focused||c.focus(),!c.state.selection.eq(m)){var g=c.state.tr.setSelection(m);g.setMeta("pointer",!0),c.dispatch(g)}}function bh(c,m){if(m==-1)return!1;var d=c.state.doc.resolve(m),g=d.nodeAfter;return g&&g.isAtom&&le.NodeSelection.isSelectable(g)?(Za(c,new le.NodeSelection(d)),!0):!1}function wh(c,m){if(m==-1)return!1;var d=c.state.selection,g,k;d instanceof le.NodeSelection&&(g=d.node);for(var S=c.state.doc.resolve(m),A=S.depth+1;A>0;A--){var D=A>S.depth?S.nodeAfter:S.node(A);if(le.NodeSelection.isSelectable(D)){g&&d.$from.depth>0&&A>=d.$from.depth&&S.before(d.$from.depth+1)==d.$from.pos?k=S.before(d.$from.depth):k=S.before(A);break}}return k!=null?(Za(c,le.NodeSelection.create(c.state.doc,k)),!0):!1}function kh(c,m,d,g,k){return Wl(c,"handleClickOn",m,d,g)||c.someProp("handleClick",function(S){return S(c,m,g)})||(k?wh(c,d):bh(c,d))}function Ch(c,m,d,g){return Wl(c,"handleDoubleClickOn",m,d,g)||c.someProp("handleDoubleClick",function(k){return k(c,m,g)})}function Th(c,m,d,g){return Wl(c,"handleTripleClickOn",m,d,g)||c.someProp("handleTripleClick",function(k){return k(c,m,g)})||xh(c,d,g)}function xh(c,m,d){if(d.button!=0)return!1;var g=c.state.doc;if(m==-1)return g.inlineContent?(Za(c,le.TextSelection.create(g,0,g.content.size)),!0):!1;for(var k=g.resolve(m),S=k.depth+1;S>0;S--){var A=S>k.depth?k.nodeAfter:k.node(S),D=k.before(S);if(A.inlineContent)Za(c,le.TextSelection.create(g,D+1,D+1+A.content.size));else if(le.NodeSelection.isSelectable(A))Za(c,le.NodeSelection.create(g,D));else continue;return!0}}function Gl(c){return Fo(c)}var oc=_e?"metaKey":"ctrlKey";Zr.mousedown=function(c,m){var d=m;c.input.shiftKey=d.shiftKey;var g=Gl(c),k=Date.now(),S="singleClick";k-c.input.lastClick.time<500&&yh(d,c.input.lastClick)&&!d[oc]&&c.input.lastClick.button==d.button&&(c.input.lastClick.type=="singleClick"?S="doubleClick":c.input.lastClick.type=="doubleClick"&&(S="tripleClick")),c.input.lastClick={time:k,x:d.clientX,y:d.clientY,type:S,button:d.button};var A=c.posAtCoords(Hs(d));A&&(S=="singleClick"?(c.input.mouseDown&&c.input.mouseDown.done(),c.input.mouseDown=new Sh(c,A,d,!!g)):(S=="doubleClick"?Ch:Th)(c,A.pos,A.inside,d)?d.preventDefault():Gi(c,"pointer"))};var Sh=(function(){function c(m,d,g,k){var S=this;B(this,c),this.view=m,this.pos=d,this.event=g,this.flushed=k,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=m.state.doc,this.selectNode=!!g[oc],this.allowDefault=g.shiftKey;var A,D;if(d.inside>-1)A=m.state.doc.nodeAt(d.inside),D=d.inside;else{var H=m.state.doc.resolve(d.pos);A=H.parent,D=H.depth?H.before():0}var W=k?null:g.target,oe=W?m.docView.nearestDesc(W,!0):null;this.target=oe&&oe.nodeDOM.nodeType==1?oe.nodeDOM:null;var ve=m.state.selection;(g.button==0&&A.type.spec.draggable&&A.type.spec.selectable!==!1||ve instanceof le.NodeSelection&&ve.from<=D&&ve.to>D)&&(this.mightDrag={node:A,pos:D,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Y&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){S.view.input.mouseDown==S&&S.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),m.root.addEventListener("mouseup",this.up=this.up.bind(this)),m.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gi(m,"pointer")}return X(c,[{key:"done",value:function(){var d=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return _n(d.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(d){if(this.done(),!!this.view.dom.contains(d.target)){var g=this.pos;this.view.state.doc!=this.startDoc&&(g=this.view.posAtCoords(Hs(d))),this.updateAllowDefault(d),this.allowDefault||!g?Gi(this.view,"pointer"):kh(this.view,g.pos,g.inside,d,this.selectNode)?d.preventDefault():d.button==0&&(this.flushed||Pe&&this.mightDrag&&!this.mightDrag.node.isAtom||ye&&!this.view.state.selection.visible&&Math.min(Math.abs(g.pos-this.view.state.selection.from),Math.abs(g.pos-this.view.state.selection.to))<=2)?(Za(this.view,le.Selection.near(this.view.state.doc.resolve(g.pos))),d.preventDefault()):Gi(this.view,"pointer")}}},{key:"move",value:function(d){this.updateAllowDefault(d),Gi(this.view,"pointer"),d.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(d){!this.allowDefault&&(Math.abs(this.event.x-d.clientX)>4||Math.abs(this.event.y-d.clientY)>4)&&(this.allowDefault=!0)}}]),c})();Zr.touchstart=function(c){c.input.lastTouch=Date.now(),Gl(c),Gi(c,"pointer")},Zr.touchmove=function(c){c.input.lastTouch=Date.now(),Gi(c,"pointer")},Zr.contextmenu=function(c){return Gl(c)};function sc(c,m){return c.composing?!0:Pe&&Math.abs(m.timeStamp-c.input.compositionEndedAt)<500?(c.input.compositionEndedAt=-2e8,!0):!1}var Eh=et?5e3:-1;en.compositionstart=en.compositionupdate=function(c){if(!c.composing){c.domObserver.flush();var m=c.state,d=m.selection.$to;if(m.selection instanceof le.TextSelection&&(m.storedMarks||!d.textOffset&&d.parentOffset&&d.nodeBefore.marks.some(function(H){return H.type.spec.inclusive===!1})||ye&&Ie&&Mh(c)))c.markCursor=c.state.storedMarks||d.marks(),Fo(c,!0),c.markCursor=null;else if(Fo(c,!m.selection.empty),Y&&m.selection.empty&&d.parentOffset&&!d.textOffset&&d.nodeBefore.marks.length)for(var g=c.domSelectionRange(),k=g.focusNode,S=g.focusOffset;k&&k.nodeType==1&&S!=0;){var A=S<0?k.lastChild:k.childNodes[S-1];if(!A)break;if(A.nodeType==3){var D=c.domSelection();D&&D.collapse(A,A.nodeValue.length);break}else k=A,S=-1}c.input.composing=!0}lc(c,Eh)};function Mh(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(!d||d.nodeType!=1||g>=d.childNodes.length)return!1;var k=d.childNodes[g];return k.nodeType==1&&k.contentEditable=="false"}en.compositionend=function(c,m){c.composing&&(c.input.composing=!1,c.input.compositionEndedAt=m.timeStamp,c.input.compositionPendingChanges=c.domObserver.pendingRecords().length?c.input.compositionID:0,c.input.compositionNode=null,c.input.badSafariComposition?c.domObserver.forceFlush():c.input.compositionPendingChanges&&Promise.resolve().then(function(){return c.domObserver.flush()}),c.input.compositionID++,lc(c,20))};function lc(c,m){clearTimeout(c.input.composingTimeout),m>-1&&(c.input.composingTimeout=setTimeout(function(){return Fo(c)},m))}function uc(c){for(c.composing&&(c.input.composing=!1,c.input.compositionEndedAt=Ah());c.input.compositionNodes.length>0;)c.input.compositionNodes.pop().markParentsDirty()}function Oh(c){var m=c.domSelectionRange();if(!m.focusNode)return null;var d=Qe(m.focusNode,m.focusOffset),g=Ht(m.focusNode,m.focusOffset);if(d&&g&&d!=g){var k=g.pmViewDesc,S=c.domObserver.lastChangedTextNode;if(d==S||g==S)return S;if(!k||!k.isText(g.nodeValue))return g;if(c.input.compositionNode==g){var A=d.pmViewDesc;if(!(!A||!A.isText(d.nodeValue)))return g}}return d||g}function Ah(){var c=document.createEvent("Event");return c.initEvent("event",!0,!0),c.timeStamp}function Fo(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(et&&c.domObserver.flushingSoon>=0)){if(c.domObserver.forceFlush(),uc(c),m||c.docView&&c.docView.dirty){var d=ui(c),g=c.state.selection;return d&&!d.eq(g)?c.dispatch(c.state.tr.setSelection(d)):(c.markCursor||m)&&!g.$from.node(g.$from.sharedDepth(g.to)).inlineContent?c.dispatch(c.state.tr.deleteSelection()):c.updateState(c.state),!0}return!1}}function Nh(c,m){if(c.dom.parentNode){var d=c.dom.parentNode.appendChild(document.createElement("div"));d.appendChild(m),d.style.cssText="position: fixed; left: -10000px; top: 10px";var g=getSelection(),k=document.createRange();k.selectNodeContents(m),c.dom.blur(),g.removeAllRanges(),g.addRange(k),setTimeout(function(){d.parentNode&&d.parentNode.removeChild(d),c.focus()},50)}}var qo=I&&$<15||He&&dt<604;Zr.copy=en.cut=function(c,m){var d=m,g=c.state.selection,k=d.type=="cut";if(!g.empty){var S=qo?null:d.clipboardData,A=g.content(),D=kt(c,A),H=D.dom,W=D.text;S?(d.preventDefault(),S.clearData(),S.setData("text/html",H.innerHTML),S.setData("text/plain",W)):Nh(c,H),k&&c.dispatch(c.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Dh(c){return c.openStart==0&&c.openEnd==0&&c.content.childCount==1?c.content.firstChild:null}function Rh(c,m){if(c.dom.parentNode){var d=c.input.shiftKey||c.state.selection.$from.parent.type.spec.code,g=c.dom.parentNode.appendChild(document.createElement(d?"textarea":"div"));d||(g.contentEditable="true"),g.style.cssText="position: fixed; left: -10000px; top: 10px",g.focus();var k=c.input.shiftKey&&c.input.lastKeyCode!=45;setTimeout(function(){c.focus(),g.parentNode&&g.parentNode.removeChild(g),d?Ho(c,g.value,null,k,m):Ho(c,g.textContent,g.innerHTML,k,m)},50)}}function Ho(c,m,d,g,k){var S=be(c,m,d,g,c.state.selection.$from);if(c.someProp("handlePaste",function(H){return H(c,k,S||se.Slice.empty)}))return!0;if(!S)return!1;var A=Dh(S),D=A?c.state.tr.replaceSelectionWith(A,g):c.state.tr.replaceSelection(S);return c.dispatch(D.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function cc(c){var m=c.getData("text/plain")||c.getData("Text");if(m)return m;var d=c.getData("text/uri-list");return d?d.replace(/\r?\n/g," "):""}en.paste=function(c,m){var d=m;if(!(c.composing&&!et)){var g=qo?null:d.clipboardData,k=c.input.shiftKey&&c.input.lastKeyCode!=45;g&&Ho(c,cc(g),g.getData("text/html"),k,d)?d.preventDefault():Rh(c,d)}};var fc=X(function c(m,d,g){B(this,c),this.slice=m,this.move=d,this.node=g}),Lh=_e?"altKey":"ctrlKey";function dc(c,m){var d=c.someProp("dragCopies",function(g){return!g(m)});return d??!m[Lh]}Zr.dragstart=function(c,m){var d=m,g=c.input.mouseDown;if(g&&g.done(),!!d.dataTransfer){var k=c.state.selection,S=k.empty?null:c.posAtCoords(Hs(d)),A;if(!(S&&S.pos>=k.from&&S.pos<=(k instanceof le.NodeSelection?k.to-1:k.to))){if(g&&g.mightDrag)A=le.NodeSelection.create(c.state.doc,g.mightDrag.pos);else if(d.target&&d.target.nodeType==1){var D=c.docView.nearestDesc(d.target,!0);D&&D.node.type.spec.draggable&&D!=c.docView&&(A=le.NodeSelection.create(c.state.doc,D.posBefore))}}var H=(A||c.state.selection).content(),W=kt(c,H),oe=W.dom,ve=W.text,he=W.slice;(!d.dataTransfer.files.length||!ye||Te>120)&&d.dataTransfer.clearData(),d.dataTransfer.setData(qo?"Text":"text/html",oe.innerHTML),d.dataTransfer.effectAllowed="copyMove",qo||d.dataTransfer.setData("text/plain",ve),c.dragging=new fc(he,dc(c,d),A)}},Zr.dragend=function(c){var m=c.dragging;window.setTimeout(function(){c.dragging==m&&(c.dragging=null)},50)},en.dragover=en.dragenter=function(c,m){return m.preventDefault()},en.drop=function(c,m){try{Ih(c,m,c.dragging)}finally{c.dragging=null}};function Ih(c,m,d){if(m.dataTransfer){var g=c.posAtCoords(Hs(m));if(g){var k=c.state.doc.resolve(g.pos),S=d&&d.slice;S?c.someProp("transformPasted",function(rt){S=rt(S,c,!1)}):S=be(c,cc(m.dataTransfer),qo?null:m.dataTransfer.getData("text/html"),!1,k);var A=!!(d&&dc(c,m));if(c.someProp("handleDrop",function(rt){return rt(c,m,S||se.Slice.empty,A)})){m.preventDefault();return}if(S){m.preventDefault();var D=S?ge.dropPoint(c.state.doc,k.pos,S):k.pos;D==null&&(D=k.pos);var H=c.state.tr;if(A){var W=d.node;W?W.replace(H):H.deleteSelection()}var oe=H.mapping.map(D),ve=S.openStart==0&&S.openEnd==0&&S.content.childCount==1,he=H.doc;if(ve?H.replaceRangeWith(oe,oe,S.content.firstChild):H.replaceRange(oe,oe,S),!H.doc.eq(he)){var xe=H.doc.resolve(oe);if(ve&&le.NodeSelection.isSelectable(S.content.firstChild)&&xe.nodeAfter&&xe.nodeAfter.sameMarkup(S.content.firstChild))H.setSelection(new le.NodeSelection(xe));else{var Be=H.mapping.map(D);H.mapping.maps[H.mapping.maps.length-1].forEach(function(rt,ct,Je,Ut){return Be=Ut}),H.setSelection(fi(c,xe,H.doc.resolve(Be)))}c.focus(),c.dispatch(H.setMeta("uiEvent","drop"))}}}}}Zr.focus=function(c){c.input.lastFocus=Date.now(),c.focused||(c.domObserver.stop(),c.dom.classList.add("ProseMirror-focused"),c.domObserver.start(),c.focused=!0,setTimeout(function(){c.docView&&c.hasFocus()&&!c.domObserver.currentSelection.eq(c.domSelectionRange())&&_n(c)},20))},Zr.blur=function(c,m){var d=m;c.focused&&(c.domObserver.stop(),c.dom.classList.remove("ProseMirror-focused"),c.domObserver.start(),d.relatedTarget&&c.dom.contains(d.relatedTarget)&&c.domObserver.currentSelection.clear(),c.focused=!1)},Zr.beforeinput=function(c,m){var d=m;if(ye&&et&&d.inputType=="deleteContentBackward"){c.domObserver.flushSoon();var g=c.input.domChangeCount;setTimeout(function(){if(c.input.domChangeCount==g&&(c.dom.blur(),c.focus(),!c.someProp("handleKeyDown",function(S){return S(c,At(8,"Backspace"))}))){var k=c.state.selection.$cursor;k&&k.pos>0&&c.dispatch(c.state.tr.delete(k.pos-1,k.pos).scrollIntoView())}},50)}};for(var hc in en)Zr[hc]=en[hc];function Vo(c,m){if(c==m)return!0;for(var d in c)if(c[d]!==m[d])return!1;for(var g in m)if(!(g in c))return!1;return!0}var pc=(function(){function c(m,d){B(this,c),this.toDOM=m,this.spec=d||va,this.side=this.spec.side||0}return X(c,[{key:"map",value:function(d,g,k,S){var A=d.mapResult(g.from+S,this.side<0?-1:1),D=A.pos,H=A.deleted;return H?null:new pa(D-k,D-k,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(d){return this==d||d instanceof c&&(this.spec.key&&this.spec.key==d.spec.key||this.toDOM==d.toDOM&&Vo(this.spec,d.spec))}},{key:"destroy",value:function(d){this.spec.destroy&&this.spec.destroy(d)}}]),c})(),zo=(function(){function c(m,d){B(this,c),this.attrs=m,this.spec=d||va}return X(c,[{key:"map",value:function(d,g,k,S){var A=d.map(g.from+S,this.spec.inclusiveStart?-1:1)-k,D=d.map(g.to+S,this.spec.inclusiveEnd?1:-1)-k;return A>=D?null:new pa(A,D,this)}},{key:"valid",value:function(d,g){return g.from<g.to}},{key:"eq",value:function(d){return this==d||d instanceof c&&Vo(this.attrs,d.attrs)&&Vo(this.spec,d.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(d){return d.type instanceof c}}]),c})(),Ph=(function(){function c(m,d){B(this,c),this.attrs=m,this.spec=d||va}return X(c,[{key:"map",value:function(d,g,k,S){var A=d.mapResult(g.from+S,1);if(A.deleted)return null;var D=d.mapResult(g.to+S,-1);return D.deleted||D.pos<=A.pos?null:new pa(A.pos-k,D.pos-k,this)}},{key:"valid",value:function(d,g){var k=d.content.findIndex(g.from),S=k.index,A=k.offset,D;return A==g.from&&!(D=d.child(S)).isText&&A+D.nodeSize==g.to}},{key:"eq",value:function(d){return this==d||d instanceof c&&Vo(this.attrs,d.attrs)&&Vo(this.spec,d.spec)}},{key:"destroy",value:function(){}}]),c})(),pa=(function(){function c(m,d,g){B(this,c),this.from=m,this.to=d,this.type=g}return X(c,[{key:"copy",value:function(d,g){return new c(d,g,this.type)}},{key:"eq",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(d.type)&&this.from+g==d.from&&this.to+g==d.to}},{key:"map",value:function(d,g,k){return this.type.map(d,this,g,k)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof zo}},{key:"widget",get:function(){return this.type instanceof pc}}],[{key:"widget",value:function(d,g,k){return new c(d,d,new pc(g,k))}},{key:"inline",value:function(d,g,k,S){return new c(d,g,new zo(k,S))}},{key:"node",value:function(d,g,k,S){return new c(d,g,new Ph(k,S))}}]),c})(),eo=[],va={},Yn=(function(){function c(m,d){B(this,c),this.local=m.length?m:eo,this.children=d.length?d:eo}return X(c,[{key:"find",value:function(d,g,k){var S=[];return this.findInner(d??0,g??1e9,S,0,k),S}},{key:"findInner",value:function(d,g,k,S,A){for(var D=0;D<this.local.length;D++){var H=this.local[D];H.from<=g&&H.to>=d&&(!A||A(H.spec))&&k.push(H.copy(H.from+S,H.to+S))}for(var W=0;W<this.children.length;W+=3)if(this.children[W]<g&&this.children[W+1]>d){var oe=this.children[W]+1;this.children[W+2].findInner(d-oe,g-oe,k,S+oe,A)}}},{key:"map",value:function(d,g,k){return this==jr||d.maps.length==0?this:this.mapInner(d,g,0,0,k||va)}},{key:"mapInner",value:function(d,g,k,S,A){for(var D,H=0;H<this.local.length;H++){var W=this.local[H].map(d,k,S);W&&W.type.valid(g,W)?(D||(D=[])).push(W):A.onRemove&&A.onRemove(this.local[H].spec)}return this.children.length?_h(this.children,D||[],d,g,k,S,A):D?new c(D.sort(ma),eo):jr}},{key:"add",value:function(d,g){return g.length?this==jr?c.create(d,g):this.addInner(d,g,0):this}},{key:"addInner",value:function(d,g,k){var S=this,A,D=0;d.forEach(function(oe,ve){var he=ve+k,xe;if(xe=gc(g,oe,he)){for(A||(A=S.children.slice());D<A.length&&A[D]<ve;)D+=3;A[D]==ve?A[D+2]=A[D+2].addInner(oe,xe,he+1):A.splice(D,0,ve,ve+oe.nodeSize,Vs(xe,oe,he+1,va)),D+=3}});for(var H=mc(D?yc(g):g,-k),W=0;W<H.length;W++)H[W].type.valid(d,H[W])||H.splice(W--,1);return new c(H.length?this.local.concat(H).sort(ma):this.local,A||this.children)}},{key:"remove",value:function(d){return d.length==0||this==jr?this:this.removeInner(d,0)}},{key:"removeInner",value:function(d,g){for(var k=this.children,S=this.local,A=0;A<k.length;A+=3){for(var D=void 0,H=k[A]+g,W=k[A+1]+g,oe=0,ve;oe<d.length;oe++)(ve=d[oe])&&ve.from>H&&ve.to<W&&(d[oe]=null,(D||(D=[])).push(ve));if(D){k==this.children&&(k=this.children.slice());var he=k[A+2].removeInner(D,H+1);he!=jr?k[A+2]=he:(k.splice(A,3),A-=3)}}if(S.length){for(var xe=0,Be;xe<d.length;xe++)if(Be=d[xe])for(var rt=0;rt<S.length;rt++)S[rt].eq(Be,g)&&(S==this.local&&(S=this.local.slice()),S.splice(rt--,1))}return k==this.children&&S==this.local?this:S.length||k.length?new c(S,k):jr}},{key:"forChild",value:function(d,g){if(this==jr)return this;if(g.isLeaf)return c.empty;for(var k,S,A=0;A<this.children.length;A+=3)if(this.children[A]>=d){this.children[A]==d&&(k=this.children[A+2]);break}for(var D=d+1,H=D+g.content.size,W=0;W<this.local.length;W++){var oe=this.local[W];if(oe.from<H&&oe.to>D&&oe.type instanceof zo){var ve=Math.max(D,oe.from)-D,he=Math.min(H,oe.to)-D;ve<he&&(S||(S=[])).push(oe.copy(ve,he))}}if(S){var xe=new c(S.sort(ma),eo);return k?new vc([xe,k]):xe}return k||jr}},{key:"eq",value:function(d){if(this==d)return!0;if(!(d instanceof c)||this.local.length!=d.local.length||this.children.length!=d.children.length)return!1;for(var g=0;g<this.local.length;g++)if(!this.local[g].eq(d.local[g]))return!1;for(var k=0;k<this.children.length;k+=3)if(this.children[k]!=d.children[k]||this.children[k+1]!=d.children[k+1]||!this.children[k+2].eq(d.children[k+2]))return!1;return!0}},{key:"locals",value:function(d){return Kl(this.localsInner(d))}},{key:"localsInner",value:function(d){if(this==jr)return eo;if(d.inlineContent||!this.local.some(zo.is))return this.local;for(var g=[],k=0;k<this.local.length;k++)this.local[k].type instanceof zo||g.push(this.local[k]);return g}},{key:"forEachSet",value:function(d){d(this)}}],[{key:"create",value:function(d,g){return g.length?Vs(g,d,0,va):jr}}]),c})();Yn.empty=new Yn([],[]),Yn.removeOverlap=Kl;var jr=Yn.empty,vc=(function(){function c(m){B(this,c),this.members=m}return X(c,[{key:"map",value:function(d,g){var k=this.members.map(function(S){return S.map(d,g,va)});return c.from(k)}},{key:"forChild",value:function(d,g){if(g.isLeaf)return Yn.empty;for(var k=[],S=0;S<this.members.length;S++){var A=this.members[S].forChild(d,g);A!=jr&&(A instanceof c?k=k.concat(A.members):k.push(A))}return c.from(k)}},{key:"eq",value:function(d){if(!(d instanceof c)||d.members.length!=this.members.length)return!1;for(var g=0;g<this.members.length;g++)if(!this.members[g].eq(d.members[g]))return!1;return!0}},{key:"locals",value:function(d){for(var g,k=!0,S=0;S<this.members.length;S++){var A=this.members[S].localsInner(d);if(A.length)if(!g)g=A;else{k&&(g=g.slice(),k=!1);for(var D=0;D<A.length;D++)g.push(A[D])}}return g?Kl(k?g:g.sort(ma)):eo}},{key:"forEachSet",value:function(d){for(var g=0;g<this.members.length;g++)this.members[g].forEachSet(d)}}],[{key:"from",value:function(d){switch(d.length){case 0:return jr;case 1:return d[0];default:return new c(d.every(function(g){return g instanceof Yn})?d:d.reduce(function(g,k){return g.concat(k instanceof Yn?k:k.members)},[]))}}}]),c})();function _h(c,m,d,g,k,S,A){for(var D=c.slice(),H=function(Ei){var ga=0;d.maps[W].forEach(function(ya,$o,wr,Yl){for(var vi=Yl-wr-($o-ya),tn=0;tn<D.length;tn+=3){var Dc=D[tn+1];if(!(Dc<0||ya>Dc+Ei-ga)){var Rc=D[tn]+Ei-ga;$o>=Rc?D[tn+1]=ya<=Rc?-2:-1:ya>=Ei&&vi&&(D[tn]+=vi,D[tn+1]+=vi)}}ga+=vi}),Ei=d.maps[W].map(Ei,-1),oe=Ei},W=0,oe=S;W<d.maps.length;W++)H(oe);for(var ve=!1,he=0;he<D.length;he+=3)if(D[he+1]<0){if(D[he+1]==-2){ve=!0,D[he+1]=-1;continue}var xe=d.map(c[he]+S),Be=xe-k;if(Be<0||Be>=g.content.size){ve=!0;continue}var rt=d.map(c[he+1]+S,-1),ct=rt-k,Je=g.content.findIndex(Be),Ut=Je.index,Ft=Je.offset,Mt=g.maybeChild(Ut);if(Mt&&Ft==Be&&Ft+Mt.nodeSize==ct){var Pt=D[he+2].mapInner(d,Mt,xe+1,c[he]+S+1,A);Pt!=jr?(D[he]=Be,D[he+1]=ct,D[he+2]=Pt):(D[he+1]=-2,ve=!0)}else ve=!0}if(ve){var tr=Bh(D,c,m,d,k,S,A),Zt=Vs(tr,g,0,A);m=Zt.local;for(var br=0;br<D.length;br+=3)D[br+1]<0&&(D.splice(br,3),br-=3);for(var xr=0,Sr=0;xr<Zt.children.length;xr+=3){for(var pi=Zt.children[xr];Sr<D.length&&D[Sr]<pi;)Sr+=3;D.splice(Sr,0,Zt.children[xr],Zt.children[xr+1],Zt.children[xr+2])}}return new Yn(m.sort(ma),D)}function mc(c,m){if(!m||!c.length)return c;for(var d=[],g=0;g<c.length;g++){var k=c[g];d.push(new pa(k.from+m,k.to+m,k.type))}return d}function Bh(c,m,d,g,k,S,A){function D(W,oe){for(var ve=0;ve<W.local.length;ve++){var he=W.local[ve].map(g,k,oe);he?d.push(he):A.onRemove&&A.onRemove(W.local[ve].spec)}for(var xe=0;xe<W.children.length;xe+=3)D(W.children[xe+2],W.children[xe]+oe+1)}for(var H=0;H<c.length;H+=3)c[H+1]==-1&&D(c[H+2],m[H]+S+1);return d}function gc(c,m,d){if(m.isLeaf)return null;for(var g=d+m.nodeSize,k=null,S=0,A;S<c.length;S++)(A=c[S])&&A.from>d&&A.to<g&&((k||(k=[])).push(A),c[S]=null);return k}function yc(c){for(var m=[],d=0;d<c.length;d++)c[d]!=null&&m.push(c[d]);return m}function Vs(c,m,d,g){var k=[],S=!1;m.forEach(function(H,W){var oe=gc(c,H,W+d);if(oe){S=!0;var ve=Vs(oe,H,d+W+1,g);ve!=jr&&k.push(W,W+H.nodeSize,ve)}});for(var A=mc(S?yc(c):c,-d).sort(ma),D=0;D<A.length;D++)A[D].type.valid(m,A[D])||(g.onRemove&&g.onRemove(A[D].spec),A.splice(D--,1));return A.length||k.length?new Yn(A,k):jr}function ma(c,m){return c.from-m.from||c.to-m.to}function Kl(c){for(var m=c,d=0;d<m.length-1;d++){var g=m[d];if(g.from!=g.to)for(var k=d+1;k<m.length;k++){var S=m[k];if(S.from==g.from){S.to!=g.to&&(m==c&&(m=c.slice()),m[k]=S.copy(S.from,g.to),bc(m,k+1,S.copy(g.to,S.to)));continue}else{S.from<g.to&&(m==c&&(m=c.slice()),m[d]=g.copy(g.from,S.from),bc(m,k,g.copy(S.from,g.to)));break}}}return m}function bc(c,m,d){for(;m<c.length&&ma(d,c[m])>0;)m++;c.splice(m,0,d)}function Jl(c){var m=[];return c.someProp("decorations",function(d){var g=d(c.state);g&&g!=jr&&m.push(g)}),c.cursorWrapper&&m.push(Yn.create(c.state.doc,[c.cursorWrapper.deco])),vc.from(m)}var Fh={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qh=I&&$<=11,Hh=(function(){function c(){B(this,c),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return X(c,[{key:"set",value:function(d){this.anchorNode=d.anchorNode,this.anchorOffset=d.anchorOffset,this.focusNode=d.focusNode,this.focusOffset=d.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(d){return d.anchorNode==this.anchorNode&&d.anchorOffset==this.anchorOffset&&d.focusNode==this.focusNode&&d.focusOffset==this.focusOffset}}]),c})(),Vh=(function(){function c(m,d){var g=this;B(this,c),this.view=m,this.handleDOMChange=d,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Hh,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(k){for(var S=0;S<k.length;S++)g.queue.push(k[S]);I&&$<=11&&k.some(function(A){return A.type=="childList"&&A.removedNodes.length||A.type=="characterData"&&A.oldValue.length>A.target.nodeValue.length})?g.flushSoon():Pe&&m.composing&&k.some(function(A){return A.type=="childList"&&A.target.nodeName=="TR"})?(m.input.badSafariComposition=!0,g.flushSoon()):g.flush()}),qh&&(this.onCharData=function(k){g.queue.push({target:k.target,type:"characterData",oldValue:k.prevValue}),g.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return X(c,[{key:"flushSoon",value:function(){var d=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){d.flushingSoon=-1,d.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fh)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var d=this;if(this.observer){var g=this.observer.takeRecords();if(g.length){for(var k=0;k<g.length;k++)this.queue.push(g[k]);window.setTimeout(function(){return d.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var d=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return d.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(Ds(this.view)){if(this.suppressingSelectionUpdates)return _n(this.view);if(I&&$<=11&&!this.view.state.selection.empty){var d=this.view.domSelectionRange();if(d.focusNode&&Xe(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(d){if(!d.focusNode)return!0;for(var g=new Set,k,S=d.focusNode;S;S=Ge(S))g.add(S);for(var A=d.anchorNode;A;A=Ge(A))if(g.has(A)){k=A;break}var D=k&&this.view.docView.nearestDesc(k);if(D&&D.ignoreMutation({type:"selection",target:k.nodeType==3?k.parentNode:k}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var d=i(this.observer.takeRecords()),g;try{for(d.s();!(g=d.n()).done;){var k=g.value;this.queue.push(k)}}catch(S){d.e(S)}finally{d.f()}}return this.queue}},{key:"flush",value:function(){var d=this.view;if(!(!d.docView||this.flushingSoon>-1)){var g=this.pendingRecords();g.length&&(this.queue=[]);var k=d.domSelectionRange(),S=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(k)&&Ds(d)&&!this.ignoreSelectionChange(k),A=-1,D=-1,H=!1,W=[];if(d.editable)for(var oe=0;oe<g.length;oe++){var ve=this.registerMutation(g[oe],W);ve&&(A=A<0?ve.from:Math.min(ve.from,A),D=D<0?ve.to:Math.max(ve.to,D),ve.typeOver&&(H=!0))}if(Y&&W.length){var he=W.filter(function(Sr){return Sr.nodeName=="BR"});if(he.length==2){var xe=t(he,2),Be=xe[0],rt=xe[1];Be.parentNode&&Be.parentNode.parentNode==rt.parentNode?rt.remove():Be.remove()}else{var ct=this.currentSelection.focusNode,Je=i(he),Ut;try{for(Je.s();!(Ut=Je.n()).done;){var Ft=Ut.value,Mt=Ft.parentNode;Mt&&Mt.nodeName=="LI"&&(!ct||Uh(d,ct)!=Mt)&&Ft.remove()}}catch(Sr){Je.e(Sr)}finally{Je.f()}}}else if((ye||Pe)&&W.some(function(Sr){return Sr.nodeName=="BR"})&&(d.input.lastKeyCode==8||d.input.lastKeyCode==46)){var Pt=i(W),tr;try{for(Pt.s();!(tr=Pt.n()).done;){var Zt=tr.value;if(Zt.nodeName=="BR"&&Zt.parentNode){var br=Zt.nextSibling;br&&br.nodeType==1&&br.contentEditable=="false"&&Zt.parentNode.removeChild(Zt)}}}catch(Sr){Pt.e(Sr)}finally{Pt.f()}}var xr=null;A<0&&S&&d.input.lastFocus>Date.now()-200&&Math.max(d.input.lastTouch,d.input.lastClick.time)<Date.now()-300&&lt(k)&&(xr=ui(d))&&xr.eq(le.Selection.near(d.state.doc.resolve(0),1))?(d.input.lastFocus=0,_n(d),this.currentSelection.set(k),d.scrollToSelection()):(A>-1||S)&&(A>-1&&(d.docView.markDirty(A,D),zh(d)),d.input.badSafariComposition&&(d.input.badSafariComposition=!1,jh(d,W)),this.handleDOMChange(A,D,H,W),d.docView&&d.docView.dirty?d.updateState(d.state):this.currentSelection.eq(k)||_n(d),this.currentSelection.set(k))}}},{key:"registerMutation",value:function(d,g){if(g.indexOf(d.target)>-1)return null;var k=this.view.docView.nearestDesc(d.target);if(d.type=="attributes"&&(k==this.view.docView||d.attributeName=="contenteditable"||d.attributeName=="style"&&!d.oldValue&&!d.target.getAttribute("style"))||!k||k.ignoreMutation(d))return null;if(d.type=="childList"){for(var S=0;S<d.addedNodes.length;S++){var A=d.addedNodes[S];g.push(A),A.nodeType==3&&(this.lastChangedTextNode=A)}if(k.contentDOM&&k.contentDOM!=k.dom&&!k.contentDOM.contains(d.target))return{from:k.posBefore,to:k.posAfter};var D=d.previousSibling,H=d.nextSibling;if(I&&$<=11&&d.addedNodes.length)for(var W=0;W<d.addedNodes.length;W++){var oe=d.addedNodes[W],ve=oe.previousSibling,he=oe.nextSibling;(!ve||Array.prototype.indexOf.call(d.addedNodes,ve)<0)&&(D=ve),(!he||Array.prototype.indexOf.call(d.addedNodes,he)<0)&&(H=he)}var xe=D&&D.parentNode==d.target?Oe(D)+1:0,Be=k.localPosFromDOM(d.target,xe,-1),rt=H&&H.parentNode==d.target?Oe(H):d.target.childNodes.length,ct=k.localPosFromDOM(d.target,rt,1);return{from:Be,to:ct}}else return d.type=="attributes"?{from:k.posAtStart-k.border,to:k.posAtEnd+k.border}:(this.lastChangedTextNode=d.target,{from:k.posAtStart,to:k.posAtEnd,typeOver:d.target.nodeValue==d.oldValue})}}]),c})(),wc=new WeakMap,kc=!1;function zh(c){if(!wc.has(c)&&(wc.set(c,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(c.dom).whiteSpace)!==-1)){if(c.requiresGeckoHackNode=Y,kc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kc=!0}}function Cc(c,m){var d=m.startContainer,g=m.startOffset,k=m.endContainer,S=m.endOffset,A=c.domAtPos(c.state.selection.anchor);if(Xe(A.node,A.offset,k,S)){var D=[k,S,d,g];d=D[0],g=D[1],k=D[2],S=D[3]}return{anchorNode:d,anchorOffset:g,focusNode:k,focusOffset:S}}function $h(c,m){if(m.getComposedRanges){var d=m.getComposedRanges(c.root)[0];if(d)return Cc(c,d)}var g;function k(S){S.preventDefault(),S.stopImmediatePropagation(),g=S.getTargetRanges()[0]}return c.dom.addEventListener("beforeinput",k,!0),document.execCommand("indent"),c.dom.removeEventListener("beforeinput",k,!0),g?Cc(c,g):null}function Uh(c,m){for(var d=m.parentNode;d&&d!=c.dom;d=d.parentNode){var g=c.docView.nearestDesc(d,!0);if(g&&g.node.isBlock)return d}return null}function jh(c,m){var d,g=c.domSelectionRange(),k=g.focusNode,S=g.focusOffset,A=i(m),D;try{for(A.s();!(D=A.n()).done;){var H=D.value;if(((d=H.parentNode)===null||d===void 0?void 0:d.nodeName)=="TR"){for(var W=H.nextSibling;W&&W.nodeName!="TD"&&W.nodeName!="TH";)W=W.nextSibling;if(W){for(var oe=W;;){var ve=oe.firstChild;if(!ve||ve.nodeType!=1||ve.contentEditable=="false"||/^(BR|IMG)$/.test(ve.nodeName))break;oe=ve}oe.insertBefore(H,oe.firstChild),k==H&&c.domSelection().collapse(H,S)}else H.parentNode.removeChild(H)}}}catch(he){A.e(he)}finally{A.f()}}function Wh(c,m,d){var g=c.docView.parseRange(m,d),k=g.node,S=g.fromOffset,A=g.toOffset,D=g.from,H=g.to,W=c.domSelectionRange(),oe,ve=W.anchorNode;if(ve&&c.dom.contains(ve.nodeType==1?ve:ve.parentNode)&&(oe=[{node:ve,offset:W.anchorOffset}],lt(W)||oe.push({node:W.focusNode,offset:W.focusOffset})),ye&&c.input.lastKeyCode===8)for(var he=A;he>S;he--){var xe=k.childNodes[he-1],Be=xe.pmViewDesc;if(xe.nodeName=="BR"&&!Be){A=he;break}if(!Be||Be.size)break}var rt=c.state.doc,ct=c.someProp("domParser")||se.DOMParser.fromSchema(c.state.schema),Je=rt.resolve(D),Ut=null,Ft=ct.parse(k,{topNode:Je.parent,topMatch:Je.parent.contentMatchAt(Je.index()),topOpen:!0,from:S,to:A,preserveWhitespace:Je.parent.type.whitespace=="pre"?"full":!0,findPositions:oe,ruleFromNode:Gh,context:Je});if(oe&&oe[0].pos!=null){var Mt=oe[0].pos,Pt=oe[1]&&oe[1].pos;Pt==null&&(Pt=Mt),Ut={anchor:Mt+D,head:Pt+D}}return{doc:Ft,sel:Ut,from:D,to:H}}function Gh(c){var m=c.pmViewDesc;if(m)return m.parseRule();if(c.nodeName=="BR"&&c.parentNode){if(Pe&&/^(ul|ol)$/i.test(c.parentNode.nodeName)){var d=document.createElement("div");return d.appendChild(document.createElement("li")),{skip:d}}else if(c.parentNode.lastChild==c||Pe&&/^(tr|table)$/i.test(c.parentNode.nodeName))return{ignore:!0}}else if(c.nodeName=="IMG"&&c.getAttribute("mark-placeholder"))return{ignore:!0};return null}var Kh=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Jh(c,m,d,g,k){var S=c.input.compositionPendingChanges||(c.composing?c.input.compositionID:0);if(c.input.compositionPendingChanges=0,m<0){var A=c.input.lastSelectionTime>Date.now()-50?c.input.lastSelectionOrigin:null,D=ui(c,A);if(D&&!c.state.selection.eq(D)){if(ye&&et&&c.input.lastKeyCode===13&&Date.now()-100<c.input.lastKeyCodeTime&&c.someProp("handleKeyDown",function(wr){return wr(c,At(13,"Enter"))}))return;var H=c.state.tr.setSelection(D);A=="pointer"?H.setMeta("pointer",!0):A=="key"&&H.scrollIntoView(),S&&H.setMeta("composition",S),c.dispatch(H)}return}var W=c.state.doc.resolve(m),oe=W.sharedDepth(d);m=W.before(oe+1),d=c.state.doc.resolve(d).after(oe+1);var ve=c.state.selection,he=Wh(c,m,d),xe=c.state.doc,Be=xe.slice(he.from,he.to),rt,ct;c.input.lastKeyCode===8&&Date.now()-100<c.input.lastKeyCodeTime?(rt=c.state.selection.to,ct="end"):(rt=c.state.selection.from,ct="start"),c.input.lastKeyCode=null;var Je=Qh(Be.content,he.doc.content,he.from,rt,ct);if(Je&&c.input.domChangeCount++,(He&&c.input.lastIOSEnter>Date.now()-225||et)&&k.some(function(wr){return wr.nodeType==1&&!Kh.test(wr.nodeName)})&&(!Je||Je.endA>=Je.endB)&&c.someProp("handleKeyDown",function(wr){return wr(c,At(13,"Enter"))})){c.input.lastIOSEnter=0;return}if(!Je)if(g&&ve instanceof le.TextSelection&&!ve.empty&&ve.$head.sameParent(ve.$anchor)&&!c.composing&&!(he.sel&&he.sel.anchor!=he.sel.head))Je={start:ve.from,endA:ve.to,endB:ve.to};else{if(he.sel){var Ut=Tc(c,c.state.doc,he.sel);if(Ut&&!Ut.eq(c.state.selection)){var Ft=c.state.tr.setSelection(Ut);S&&Ft.setMeta("composition",S),c.dispatch(Ft)}}return}c.state.selection.from<c.state.selection.to&&Je.start==Je.endB&&c.state.selection instanceof le.TextSelection&&(Je.start>c.state.selection.from&&Je.start<=c.state.selection.from+2&&c.state.selection.from>=he.from?Je.start=c.state.selection.from:Je.endA<c.state.selection.to&&Je.endA>=c.state.selection.to-2&&c.state.selection.to<=he.to&&(Je.endB+=c.state.selection.to-Je.endA,Je.endA=c.state.selection.to)),I&&$<=11&&Je.endB==Je.start+1&&Je.endA==Je.start&&Je.start>he.from&&he.doc.textBetween(Je.start-he.from-1,Je.start-he.from+1)==" "&&(Je.start--,Je.endA--,Je.endB--);var Mt=he.doc.resolveNoCache(Je.start-he.from),Pt=he.doc.resolveNoCache(Je.endB-he.from),tr=xe.resolve(Je.start),Zt=Mt.sameParent(Pt)&&Mt.parent.inlineContent&&tr.end()>=Je.endA;if((He&&c.input.lastIOSEnter>Date.now()-225&&(!Zt||k.some(function(wr){return wr.nodeName=="DIV"||wr.nodeName=="P"}))||!Zt&&Mt.pos<he.doc.content.size&&(!Mt.sameParent(Pt)||!Mt.parent.inlineContent)&&Mt.pos<Pt.pos&&!/\S/.test(he.doc.textBetween(Mt.pos,Pt.pos,"","")))&&c.someProp("handleKeyDown",function(wr){return wr(c,At(13,"Enter"))})){c.input.lastIOSEnter=0;return}if(c.state.selection.anchor>Je.start&&Yh(xe,Je.start,Je.endA,Mt,Pt)&&c.someProp("handleKeyDown",function(wr){return wr(c,At(8,"Backspace"))})){et&&ye&&c.domObserver.suppressSelectionUpdates();return}ye&&Je.endB==Je.start&&(c.input.lastChromeDelete=Date.now()),et&&!Zt&&Mt.start()!=Pt.start()&&Pt.parentOffset==0&&Mt.depth==Pt.depth&&he.sel&&he.sel.anchor==he.sel.head&&he.sel.head==Je.endA&&(Je.endB-=2,Pt=he.doc.resolveNoCache(Je.endB-he.from),setTimeout(function(){c.someProp("handleKeyDown",function(wr){return wr(c,At(13,"Enter"))})},20));var br=Je.start,xr=Je.endA,Sr=function(Yl){var vi=Yl||c.state.tr.replace(br,xr,he.doc.slice(Je.start-he.from,Je.endB-he.from));if(he.sel){var tn=Tc(c,vi.doc,he.sel);tn&&!(ye&&c.composing&&tn.empty&&(Je.start!=Je.endB||c.input.lastChromeDelete<Date.now()-100)&&(tn.head==br||tn.head==vi.mapping.map(xr)-1)||I&&tn.empty&&tn.head==br)&&vi.setSelection(tn)}return S&&vi.setMeta("composition",S),vi.scrollIntoView()},pi;if(Zt)if(Mt.pos==Pt.pos){I&&$<=11&&Mt.parentOffset==0&&(c.domObserver.suppressSelectionUpdates(),setTimeout(function(){return _n(c)},20));var zs=Sr(c.state.tr.delete(br,xr)),Ei=xe.resolve(Je.start).marksAcross(xe.resolve(Je.endA));Ei&&zs.ensureMarks(Ei),c.dispatch(zs)}else if(Je.endA==Je.endB&&(pi=Xh(Mt.parent.content.cut(Mt.parentOffset,Pt.parentOffset),tr.parent.content.cut(tr.parentOffset,Je.endA-tr.start())))){var ga=Sr(c.state.tr);pi.type=="add"?ga.addMark(br,xr,pi.mark):ga.removeMark(br,xr,pi.mark),c.dispatch(ga)}else if(Mt.parent.child(Mt.index()).isText&&Mt.index()==Pt.index()-(Pt.textOffset?0:1)){var ya=Mt.parent.textBetween(Mt.parentOffset,Pt.parentOffset),$o=function(){return Sr(c.state.tr.insertText(ya,br,xr))};c.someProp("handleTextInput",function(wr){return wr(c,br,xr,ya,$o)})||c.dispatch($o())}else c.dispatch(Sr());else c.dispatch(Sr())}function Tc(c,m,d){return Math.max(d.anchor,d.head)>m.content.size?null:fi(c,m.resolve(d.anchor),m.resolve(d.head))}function Xh(c,m){for(var d=c.firstChild.marks,g=m.firstChild.marks,k=d,S=g,A,D,H,W=0;W<g.length;W++)k=g[W].removeFromSet(k);for(var oe=0;oe<d.length;oe++)S=d[oe].removeFromSet(S);if(k.length==1&&S.length==0)D=k[0],A="add",H=function(Be){return Be.mark(D.addToSet(Be.marks))};else if(k.length==0&&S.length==1)D=S[0],A="remove",H=function(Be){return Be.mark(D.removeFromSet(Be.marks))};else return null;for(var ve=[],he=0;he<m.childCount;he++)ve.push(H(m.child(he)));if(se.Fragment.from(ve).eq(c))return{mark:D,type:A}}function Yh(c,m,d,g,k){if(d-m<=k.pos-g.pos||Xl(g,!0,!1)<k.pos)return!1;var S=c.resolve(m);if(!g.parent.isTextblock){var A=S.nodeAfter;return A!=null&&d==m+A.nodeSize}if(S.parentOffset<S.parent.content.size||!S.parent.isTextblock)return!1;var D=c.resolve(Xl(S,!0,!0));return!D.parent.isTextblock||D.pos>d||Xl(D,!0,!1)<d?!1:g.parent.content.cut(g.parentOffset).eq(D.parent.content)}function Xl(c,m,d){for(var g=c.depth,k=m?c.end():c.pos;g>0&&(m||c.indexAfter(g)==c.node(g).childCount);)g--,k++,m=!1;if(d)for(var S=c.node(g).maybeChild(c.indexAfter(g));S&&!S.isLeaf;)S=S.firstChild,k++;return k}function Qh(c,m,d,g,k){var S=c.findDiffStart(m,d);if(S==null)return null;var A=c.findDiffEnd(m,d+c.size,d+m.size),D=A.a,H=A.b;if(k=="end"){var W=Math.max(0,S-Math.min(D,H));g-=D+W-S}if(D<S&&c.size<m.size){var oe=g<=S&&g>=D?S-g:0;S-=oe,S&&S<m.size&&xc(m.textBetween(S-1,S+1))&&(S+=oe?1:-1),H=S+(H-D),D=S}else if(H<S){var ve=g<=S&&g>=H?S-g:0;S-=ve,S&&S<c.size&&xc(c.textBetween(S-1,S+1))&&(S+=ve?1:-1),D=S+(D-H),H=S}return{start:S,endA:D,endB:H}}function xc(c){if(c.length!=2)return!1;var m=c.charCodeAt(0),d=c.charCodeAt(1);return m>=56320&&m<=57343&&d>=55296&&d<=56319}var Zh=be,ep=Fo,Sc=(function(){function c(m,d){var g=this;B(this,c),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hh,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=d,this.state=d.state,this.directPlugins=d.plugins||[],this.directPlugins.forEach(Nc),this.dispatch=this.dispatch.bind(this),this.dom=m&&m.mount||document.createElement("div"),m&&(m.appendChild?m.appendChild(this.dom):typeof m=="function"?m(this.dom):m.mount&&(this.mounted=!0)),this.editable=Oc(this),Mc(this),this.nodeViews=Ac(this),this.docView=x(this.state.doc,Ec(this),Jl(this),this.dom,this),this.domObserver=new Vh(this,function(k,S,A,D){return Jh(g,k,S,A,D)}),this.domObserver.start(),ph(this),this.updatePluginViews()}return X(c,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var d=this._props;this._props={};for(var g in d)this._props[g]=d[g];this._props.state=this.state}return this._props}},{key:"update",value:function(d){d.handleDOMEvents!=this._props.handleDOMEvents&&Ul(this);var g=this._props;this._props=d,d.plugins&&(d.plugins.forEach(Nc),this.directPlugins=d.plugins),this.updateStateInner(d.state,g)}},{key:"setProps",value:function(d){var g={};for(var k in this._props)g[k]=this._props[k];g.state=this.state;for(var S in d)g[S]=d[S];this.update(g)}},{key:"updateState",value:function(d){this.updateStateInner(d,this._props)}},{key:"updateStateInner",value:function(d,g){var k,S=this.state,A=!1,D=!1;d.storedMarks&&this.composing&&(uc(this),D=!0),this.state=d;var H=S.plugins!=d.plugins||this._props.plugins!=g.plugins;if(H||this._props.plugins!=g.plugins||this._props.nodeViews!=g.nodeViews){var W=Ac(this);rp(W,this.nodeViews)&&(this.nodeViews=W,A=!0)}(H||g.handleDOMEvents!=this._props.handleDOMEvents)&&Ul(this),this.editable=Oc(this),Mc(this);var oe=Jl(this),ve=Ec(this),he=S.plugins!=d.plugins&&!S.doc.eq(d.doc)?"reset":d.scrollToSelection>S.scrollToSelection?"to selection":"preserve",xe=A||!this.docView.matchesNode(d.doc,ve,oe);(xe||!d.selection.eq(S.selection))&&(D=!0);var Be=he=="preserve"&&D&&this.dom.style.overflowAnchor==null&&ht(this);if(D){this.domObserver.stop();var rt=xe&&(I||ye)&&!this.composing&&!S.selection.empty&&!d.selection.empty&&tp(S.selection,d.selection);if(xe){var ct=ye?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Oh(this)),(A||!this.docView.update(d.doc,ve,oe,this))&&(this.docView.updateOuterDeco(ve),this.docView.destroy(),this.docView=x(d.doc,ve,oe,this.dom,this)),ct&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(rt=!0)}rt||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$i(this))?_n(this,rt):(da(this,d.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(S),!((k=this.dragging)===null||k===void 0)&&k.node&&!S.doc.eq(d.doc)&&this.updateDraggedNode(this.dragging,S),he=="reset"?this.dom.scrollTop=0:he=="to selection"?this.scrollToSelection():Be&&Ot(Be)}},{key:"scrollToSelection",value:function(){var d=this,g=this.domSelectionRange().focusNode;if(!(!g||!this.dom.contains(g.nodeType==1?g:g.parentNode))){if(!this.someProp("handleScrollToSelection",function(S){return S(d)}))if(this.state.selection instanceof le.NodeSelection){var k=this.docView.domAfterPos(this.state.selection.from);k.nodeType==1&&Ue(this,k.getBoundingClientRect(),g)}else Ue(this,this.coordsAtPos(this.state.selection.head,1),g)}}},{key:"destroyPluginViews",value:function(){for(var d;d=this.pluginViews.pop();)d.destroy&&d.destroy()}},{key:"updatePluginViews",value:function(d){if(!d||d.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var g=0;g<this.directPlugins.length;g++){var k=this.directPlugins[g];k.spec.view&&this.pluginViews.push(k.spec.view(this))}for(var S=0;S<this.state.plugins.length;S++){var A=this.state.plugins[S];A.spec.view&&this.pluginViews.push(A.spec.view(this))}}else for(var D=0;D<this.pluginViews.length;D++){var H=this.pluginViews[D];H.update&&H.update(this,d)}}},{key:"updateDraggedNode",value:function(d,g){var k=d.node,S=-1;if(this.state.doc.nodeAt(k.from)==k.node)S=k.from;else{var A=k.from+(this.state.doc.content.size-g.doc.content.size),D=A>0&&this.state.doc.nodeAt(A);D==k.node&&(S=A)}this.dragging=new fc(d.slice,d.move,S<0?void 0:le.NodeSelection.create(this.state.doc,S))}},{key:"someProp",value:function(d,g){var k=this._props&&this._props[d],S;if(k!=null&&(S=g?g(k):k))return S;for(var A=0;A<this.directPlugins.length;A++){var D=this.directPlugins[A].props[d];if(D!=null&&(S=g?g(D):D))return S}var H=this.state.plugins;if(H)for(var W=0;W<H.length;W++){var oe=H[W].props[d];if(oe!=null&&(S=g?g(oe):oe))return S}}},{key:"hasFocus",value:function(){if(I){var d=this.root.activeElement;if(d==this.dom)return!0;if(!d||!this.dom.contains(d))return!1;for(;d&&this.dom!=d&&this.dom.contains(d);){if(d.contentEditable=="false")return!1;d=d.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&ur(this.dom),_n(this),this.domObserver.start()}},{key:"root",get:function(){var d=this,g=this._root;if(g==null){for(var k=function(H){if(H.nodeType==9||H.nodeType==11&&H.host)return H.getSelection||(Object.getPrototypeOf(H).getSelection=function(){return H.ownerDocument.getSelection()}),{v:d._root=H}},S,A=this.dom.parentNode;A;A=A.parentNode)if(S=k(A),S)return S.v}return g||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(d){return xn(this,d)}},{key:"coordsAtPos",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return cr(this,d,g)}},{key:"domAtPos",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(d,g)}},{key:"nodeDOM",value:function(d){var g=this.docView.descAt(d);return g?g.nodeDOM:null}},{key:"posAtDOM",value:function(d,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,S=this.docView.posFromDOM(d,g,k);if(S==null)throw new RangeError("DOM position not inside the editor");return S}},{key:"endOfTextblock",value:function(d,g){return De(this,g||this.state,d)}},{key:"pasteHTML",value:function(d,g){return Ho(this,"",d,!1,g||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(d,g){return Ho(this,d,null,!0,g||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(d){return kt(this,d)}},{key:"destroy",value:function(){this.docView&&(vh(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Tt())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(d){return gh(this,d)}},{key:"domSelectionRange",value:function(){var d=this.domSelection();return d?Pe&&this.root.nodeType===11&&Nt(this.dom.ownerDocument)==this.dom&&$h(this,d)||d:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),c})();Sc.prototype.dispatch=function(c){var m=this._props.dispatchTransaction;m?m.call(this,c):this.updateState(this.state.apply(c))};function Ec(c){var m=Object.create(null);return m.class="ProseMirror",m.contenteditable=String(c.editable),c.someProp("attributes",function(d){if(typeof d=="function"&&(d=d(c.state)),d)for(var g in d)g=="class"?m.class+=" "+d[g]:g=="style"?m.style=(m.style?m.style+";":"")+d[g]:!m[g]&&g!="contenteditable"&&g!="nodeName"&&(m[g]=String(d[g]))}),m.translate||(m.translate="no"),[pa.node(0,c.state.doc.content.size,m)]}function Mc(c){if(c.markCursor){var m=document.createElement("img");m.className="ProseMirror-separator",m.setAttribute("mark-placeholder","true"),m.setAttribute("alt",""),c.cursorWrapper={dom:m,deco:pa.widget(c.state.selection.from,m,{raw:!0,marks:c.markCursor})}}else c.cursorWrapper=null}function Oc(c){return!c.someProp("editable",function(m){return m(c.state)===!1})}function tp(c,m){var d=Math.min(c.$anchor.sharedDepth(c.head),m.$anchor.sharedDepth(m.head));return c.$anchor.start(d)!=m.$anchor.start(d)}function Ac(c){var m=Object.create(null);function d(g){for(var k in g)Object.prototype.hasOwnProperty.call(m,k)||(m[k]=g[k])}return c.someProp("nodeViews",d),c.someProp("markViews",d),m}function rp(c,m){var d=0,g=0;for(var k in c){if(c[k]!=m[k])return!0;d++}for(var S in m)g++;return d!=g}function Nc(c){if(c.spec.state||c.spec.filterTransaction||c.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return Jo.Decoration=pa,Jo.DecorationSet=Yn,Jo.EditorView=Sc,Jo.__endComposition=ep,Jo.__parseFromClipboard=Zh,Jo}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var e0;function Ife(){return e0||(e0=1,(function(t,e){(function(n,i){t.exports=i(Nfe(),Rfe(),qd(),Hd(),Lfe())})(self,function(r,n,i,a,o){return(function(){var s={368:(function(p){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(b,C){p.exports=C()})(this,function(){function b($e){if(Array.isArray($e)){for(var Ue=0,ht=Array($e.length);Ue<$e.length;Ue++)ht[Ue]=$e[Ue];return ht}else return Array.from($e)}var C=Object.hasOwnProperty,T=Object.setPrototypeOf,M=Object.isFrozen,N=Object.getPrototypeOf,B=Object.getOwnPropertyDescriptor,U=Object.freeze,X=Object.seal,Z=Object.create,ce=typeof Reflect<"u"&&Reflect,le=ce.apply,se=ce.construct;le||(le=function(Ue,ht,bt){return Ue.apply(ht,bt)}),U||(U=function(Ue){return Ue}),X||(X=function(Ue){return Ue}),se||(se=function(Ue,ht){return new(Function.prototype.bind.apply(Ue,[null].concat(b(ht))))});var ge=Qe(Array.prototype.forEach),Oe=Qe(Array.prototype.pop),Ge=Qe(Array.prototype.push),pt=Qe(String.prototype.toLowerCase),Ke=Qe(String.prototype.match),Tt=Qe(String.prototype.replace),Xe=Qe(String.prototype.indexOf),Se=Qe(String.prototype.trim),ze=Qe(RegExp.prototype.test),Ve=Ht(TypeError);function Qe($e){return function(Ue){for(var ht=arguments.length,bt=Array(ht>1?ht-1:0),Ot=1;Ot<ht;Ot++)bt[Ot-1]=arguments[Ot];return le($e,Ue,bt)}}function Ht($e){return function(){for(var Ue=arguments.length,ht=Array(Ue),bt=0;bt<Ue;bt++)ht[bt]=arguments[bt];return se($e,ht)}}function st($e,Ue){T&&T($e,null);for(var ht=Ue.length;ht--;){var bt=Ue[ht];if(typeof bt=="string"){var Ot=pt(bt);Ot!==bt&&(M(Ue)||(Ue[ht]=Ot),bt=Ot)}$e[bt]=!0}return $e}function vt($e){var Ue=Z(null),ht=void 0;for(ht in $e)le(C,$e,[ht])&&(Ue[ht]=$e[ht]);return Ue}function lt($e,Ue){for(;$e!==null;){var ht=B($e,Ue);if(ht){if(ht.get)return Qe(ht.get);if(typeof ht.value=="function")return Qe(ht.value)}$e=N($e)}function bt(Ot){return console.warn("fallback value for",Ot),null}return bt}var At=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nt=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qt=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vt=U(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ne=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fe=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ie=U(["#text"]),ee=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ae=U(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=X(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pe=X(/<%[\s\S]*|[\s\S]*%>/gm),ye=X(/^data-[\-\w.\u00B7-\uFFFF]/),Te=X(/^aria-[\-\w]+$/),Pe=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),He=X(/^(?:\w+script|data):/i),_e=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e};function et($e){if(Array.isArray($e)){for(var Ue=0,ht=Array($e.length);Ue<$e.length;Ue++)ht[Ue]=$e[Ue];return ht}else return Array.from($e)}var Ye=function(){return typeof window>"u"?null:window},dt=function(Ue,ht){if((typeof Ue>"u"?"undefined":Ie(Ue))!=="object"||typeof Ue.createPolicy!="function")return null;var bt=null,Ot="data-tt-policy-suffix";ht.currentScript&&ht.currentScript.hasAttribute(Ot)&&(bt=ht.currentScript.getAttribute(Ot));var rr="dompurify"+(bt?"#"+bt:"");try{return Ue.createPolicy(rr,{createHTML:function(ur){return ur}})}catch{return console.warn("TrustedTypes policy "+rr+" could not be created."),null}};function yt(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ye(),Ue=function(be){return yt(be)};if(Ue.version="2.3.3",Ue.removed=[],!$e||!$e.document||$e.document.nodeType!==9)return Ue.isSupported=!1,Ue;var ht=$e.document,bt=$e.document,Ot=$e.DocumentFragment,rr=$e.HTMLTemplateElement,Gt=$e.Node,ur=$e.Element,nr=$e.NodeFilter,mr=$e.NamedNodeMap,gr=mr===void 0?$e.NamedNodeMap||$e.MozNamedAttrMap:mr,Fr=$e.Text,si=$e.Comment,Jn=$e.DOMParser,Ln=$e.trustedTypes,xn=ur.prototype,hn=lt(xn,"cloneNode"),Mr=lt(xn,"nextSibling"),In=lt(xn,"childNodes"),cr=lt(xn,"parentNode");if(typeof rr=="function"){var Ir=bt.createElement("template");Ir.content&&Ir.content.ownerDocument&&(bt=Ir.content.ownerDocument)}var K=dt(Ln,ht),G=K&&zi?K.createHTML(""):"",_=bt,L=_.implementation,q=_.createNodeIterator,V=_.createDocumentFragment,te=_.getElementsByTagName,we=ht.importNode,De={};try{De=vt(bt).documentMode?bt.documentMode:{}}catch{}var de={};Ue.isSupported=typeof cr=="function"&&L&&typeof L.createHTMLDocument<"u"&&De!==9;var re=Y,Ce=pe,Re=ye,it=Te,wt=He,F=_e,O=Pe,y=null,x=st({},[].concat(et(At),et(Nt),et(Qt),et(Ne),et(ie))),R=null,z=st({},[].concat(et(ee),et(ae),et(I),et($))),J=null,ne=null,me=!0,ke=!0,je=!1,qe=!1,tt=!1,Ct=!1,$t=!1,fr=!1,Pn=!1,Si=!0,zi=!1,Ns=!0,Do=!0,fa=!1,li={},ui=null,Ro=st({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),_n=null,Lo=st({},["audio","video","img","source","image","track"]),Ga=null,Ka=st({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ja="http://www.w3.org/1998/Math/MathML",Io="http://www.w3.org/2000/svg",ci="http://www.w3.org/1999/xhtml",da=ci,Xa=!1,fi=void 0,Ds=["application/xhtml+xml","text/html"],Rs="text/html",$i=void 0,di=null,hi=bt.createElement("form"),Ya=function(be){di&&di===be||((!be||(typeof be>"u"?"undefined":Ie(be))!=="object")&&(be={}),be=vt(be),y="ALLOWED_TAGS"in be?st({},be.ALLOWED_TAGS):x,R="ALLOWED_ATTR"in be?st({},be.ALLOWED_ATTR):z,Ga="ADD_URI_SAFE_ATTR"in be?st(vt(Ka),be.ADD_URI_SAFE_ATTR):Ka,_n="ADD_DATA_URI_TAGS"in be?st(vt(Lo),be.ADD_DATA_URI_TAGS):Lo,ui="FORBID_CONTENTS"in be?st({},be.FORBID_CONTENTS):Ro,J="FORBID_TAGS"in be?st({},be.FORBID_TAGS):{},ne="FORBID_ATTR"in be?st({},be.FORBID_ATTR):{},li="USE_PROFILES"in be?be.USE_PROFILES:!1,me=be.ALLOW_ARIA_ATTR!==!1,ke=be.ALLOW_DATA_ATTR!==!1,je=be.ALLOW_UNKNOWN_PROTOCOLS||!1,qe=be.SAFE_FOR_TEMPLATES||!1,tt=be.WHOLE_DOCUMENT||!1,fr=be.RETURN_DOM||!1,Pn=be.RETURN_DOM_FRAGMENT||!1,Si=be.RETURN_DOM_IMPORT!==!1,zi=be.RETURN_TRUSTED_TYPE||!1,$t=be.FORCE_BODY||!1,Ns=be.SANITIZE_DOM!==!1,Do=be.KEEP_CONTENT!==!1,fa=be.IN_PLACE||!1,O=be.ALLOWED_URI_REGEXP||O,da=be.NAMESPACE||ci,fi=Ds.indexOf(be.PARSER_MEDIA_TYPE)===-1?fi=Rs:fi=be.PARSER_MEDIA_TYPE,$i=fi==="application/xhtml+xml"?function(Ze){return Ze}:pt,qe&&(ke=!1),Pn&&(fr=!0),li&&(y=st({},[].concat(et(ie))),R=[],li.html===!0&&(st(y,At),st(R,ee)),li.svg===!0&&(st(y,Nt),st(R,ae),st(R,$)),li.svgFilters===!0&&(st(y,Qt),st(R,ae),st(R,$)),li.mathMl===!0&&(st(y,Ne),st(R,I),st(R,$))),be.ADD_TAGS&&(y===x&&(y=vt(y)),st(y,be.ADD_TAGS)),be.ADD_ATTR&&(R===z&&(R=vt(R)),st(R,be.ADD_ATTR)),be.ADD_URI_SAFE_ATTR&&st(Ga,be.ADD_URI_SAFE_ATTR),be.FORBID_CONTENTS&&(ui===Ro&&(ui=vt(ui)),st(ui,be.FORBID_CONTENTS)),Do&&(y["#text"]=!0),tt&&st(y,["html","head","body"]),y.table&&(st(y,["tbody"]),delete J.tbody),U&&U(be),di=be)},ha=st({},["mi","mo","mn","ms","mtext"]),Ui=st({},["foreignobject","desc","title","annotation-xml"]),Xn=st({},Nt);st(Xn,Qt),st(Xn,Vt);var Po=st({},Ne);st(Po,fe);var zl=function(be){var Ze=cr(be);(!Ze||!Ze.tagName)&&(Ze={namespaceURI:ci,tagName:"template"});var mt=pt(be.tagName),Jt=pt(Ze.tagName);if(be.namespaceURI===Io)return Ze.namespaceURI===ci?mt==="svg":Ze.namespaceURI===Ja?mt==="svg"&&(Jt==="annotation-xml"||ha[Jt]):!!Xn[mt];if(be.namespaceURI===Ja)return Ze.namespaceURI===ci?mt==="math":Ze.namespaceURI===Io?mt==="math"&&Ui[Jt]:!!Po[mt];if(be.namespaceURI===ci){if(Ze.namespaceURI===Io&&!Ui[Jt]||Ze.namespaceURI===Ja&&!ha[Jt])return!1;var Or=st({},["title","style","font","a","script"]);return!Po[mt]&&(Or[mt]||!Xn[mt])}return!1},Bn=function(be){Ge(Ue.removed,{element:be});try{be.parentNode.removeChild(be)}catch{try{be.outerHTML=G}catch{be.remove()}}},Ls=function(be,Ze){try{Ge(Ue.removed,{attribute:Ze.getAttributeNode(be),from:Ze})}catch{Ge(Ue.removed,{attribute:null,from:Ze})}if(Ze.removeAttribute(be),be==="is"&&!R[be])if(fr||Pn)try{Bn(Ze)}catch{}else try{Ze.setAttribute(be,"")}catch{}},Is=function(be){var Ze=void 0,mt=void 0;if($t)be="<remove></remove>"+be;else{var Jt=Ke(be,/^[\r\n\t ]+/);mt=Jt&&Jt[0]}fi==="application/xhtml+xml"&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");var Or=K?K.createHTML(be):be;if(da===ci)try{Ze=new Jn().parseFromString(Or,fi)}catch{}if(!Ze||!Ze.documentElement){Ze=L.createDocument(da,"template",null);try{Ze.documentElement.innerHTML=Xa?"":Or}catch{}}var Ar=Ze.body||Ze.documentElement;return be&&mt&&Ar.insertBefore(bt.createTextNode(mt),Ar.childNodes[0]||null),da===ci?te.call(Ze,tt?"html":"body")[0]:tt?Ze.documentElement:Ar},Qa=function(be){return q.call(be.ownerDocument||be,be,nr.SHOW_ELEMENT|nr.SHOW_COMMENT|nr.SHOW_TEXT,null,!1)},Ps=function(be){return be instanceof Fr||be instanceof si?!1:typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof gr)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"},ji=function(be){return(typeof Gt>"u"?"undefined":Ie(Gt))==="object"?be instanceof Gt:be&&(typeof be>"u"?"undefined":Ie(be))==="object"&&typeof be.nodeType=="number"&&typeof be.nodeName=="string"},Fn=function(be,Ze,mt){de[be]&&ge(de[be],function(Jt){Jt.call(Ue,Ze,mt,di)})},_o=function(be){var Ze=void 0;if(Fn("beforeSanitizeElements",be,null),Ps(be)||Ke(be.nodeName,/[\u0080-\uFFFF]/))return Bn(be),!0;var mt=$i(be.nodeName);if(Fn("uponSanitizeElement",be,{tagName:mt,allowedTags:y}),!ji(be.firstElementChild)&&(!ji(be.content)||!ji(be.content.firstElementChild))&&ze(/<[/\w]/g,be.innerHTML)&&ze(/<[/\w]/g,be.textContent)||mt==="select"&&ze(/<template/i,be.innerHTML))return Bn(be),!0;if(!y[mt]||J[mt]){if(Do&&!ui[mt]){var Jt=cr(be)||be.parentNode,Or=In(be)||be.childNodes;if(Or&&Jt)for(var Ar=Or.length,Tr=Ar-1;Tr>=0;--Tr)Jt.insertBefore(hn(Or[Tr],!0),Mr(be))}return Bn(be),!0}return be instanceof ur&&!zl(be)||(mt==="noscript"||mt==="noembed")&&ze(/<\/no(script|embed)/i,be.innerHTML)?(Bn(be),!0):(qe&&be.nodeType===3&&(Ze=be.textContent,Ze=Tt(Ze,re," "),Ze=Tt(Ze,Ce," "),be.textContent!==Ze&&(Ge(Ue.removed,{element:be.cloneNode()}),be.textContent=Ze)),Fn("afterSanitizeElements",be,null),!1)},_s=function(be,Ze,mt){if(Ns&&(Ze==="id"||Ze==="name")&&(mt in bt||mt in hi))return!1;if(!(ke&&!ne[Ze]&&ze(Re,Ze))){if(!(me&&ze(it,Ze))){if(!R[Ze]||ne[Ze])return!1;if(!Ga[Ze]){if(!ze(O,Tt(mt,F,""))){if(!((Ze==="src"||Ze==="xlink:href"||Ze==="href")&&be!=="script"&&Xe(mt,"data:")===0&&_n[be])){if(!(je&&!ze(wt,Tt(mt,F,"")))){if(mt)return!1}}}}}}return!0},Bs=function(be){var Ze=void 0,mt=void 0,Jt=void 0,Or=void 0;Fn("beforeSanitizeAttributes",be,null);var Ar=be.attributes;if(Ar){var Tr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R};for(Or=Ar.length;Or--;){Ze=Ar[Or];var qn=Ze,Wi=qn.name,Bo=qn.namespaceURI;if(mt=Se(Ze.value),Jt=$i(Wi),Tr.attrName=Jt,Tr.attrValue=mt,Tr.keepAttr=!0,Tr.forceKeepAttr=void 0,Fn("uponSanitizeAttribute",be,Tr),mt=Tr.attrValue,!Tr.forceKeepAttr&&(Ls(Wi,be),!!Tr.keepAttr)){if(ze(/\/>/i,mt)){Ls(Wi,be);continue}qe&&(mt=Tt(mt,re," "),mt=Tt(mt,Ce," "));var Fs=$i(be.nodeName);if(_s(Fs,Jt,mt))try{Bo?be.setAttributeNS(Bo,Wi,mt):be.setAttribute(Wi,mt),Oe(Ue.removed)}catch{}}}Fn("afterSanitizeAttributes",be,null)}},$l=function kt(be){var Ze=void 0,mt=Qa(be);for(Fn("beforeSanitizeShadowDOM",be,null);Ze=mt.nextNode();)Fn("uponSanitizeShadowNode",Ze,null),!_o(Ze)&&(Ze.content instanceof Ot&&kt(Ze.content),Bs(Ze));Fn("afterSanitizeShadowDOM",be,null)};return Ue.sanitize=function(kt,be){var Ze=void 0,mt=void 0,Jt=void 0,Or=void 0,Ar=void 0;if(Xa=!kt,Xa&&(kt="<!-->"),typeof kt!="string"&&!ji(kt)){if(typeof kt.toString!="function")throw Ve("toString is not a function");if(kt=kt.toString(),typeof kt!="string")throw Ve("dirty is not a string, aborting")}if(!Ue.isSupported){if(Ie($e.toStaticHTML)==="object"||typeof $e.toStaticHTML=="function"){if(typeof kt=="string")return $e.toStaticHTML(kt);if(ji(kt))return $e.toStaticHTML(kt.outerHTML)}return kt}if(Ct||Ya(be),Ue.removed=[],typeof kt=="string"&&(fa=!1),!fa)if(kt instanceof Gt)Ze=Is("<!---->"),mt=Ze.ownerDocument.importNode(kt,!0),mt.nodeType===1&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?Ze=mt:Ze.appendChild(mt);else{if(!fr&&!qe&&!tt&&kt.indexOf("<")===-1)return K&&zi?K.createHTML(kt):kt;if(Ze=Is(kt),!Ze)return fr?null:G}Ze&&$t&&Bn(Ze.firstChild);for(var Tr=Qa(fa?kt:Ze);Jt=Tr.nextNode();)Jt.nodeType===3&&Jt===Or||_o(Jt)||(Jt.content instanceof Ot&&$l(Jt.content),Bs(Jt),Or=Jt);if(Or=null,fa)return kt;if(fr){if(Pn)for(Ar=V.call(Ze.ownerDocument);Ze.firstChild;)Ar.appendChild(Ze.firstChild);else Ar=Ze;return Si&&(Ar=we.call(ht,Ar,!0)),Ar}var qn=tt?Ze.outerHTML:Ze.innerHTML;return qe&&(qn=Tt(qn,re," "),qn=Tt(qn,Ce," ")),K&&zi?K.createHTML(qn):qn},Ue.setConfig=function(kt){Ya(kt),Ct=!0},Ue.clearConfig=function(){di=null,Ct=!1},Ue.isValidAttribute=function(kt,be,Ze){di||Ya({});var mt=$i(kt),Jt=$i(be);return _s(mt,Jt,Ze)},Ue.addHook=function(kt,be){typeof be=="function"&&(de[kt]=de[kt]||[],Ge(de[kt],be))},Ue.removeHook=function(kt){de[kt]&&Oe(de[kt])},Ue.removeHooks=function(kt){de[kt]&&(de[kt]=[])},Ue.removeAllHooks=function(){de={}},Ue}var xt=yt();return xt})}),928:(function(p,b,C){var T=C(322);function M(N,B,U){var X,Z;if(U=U||0,!T(B))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(B,N,U);for(Z=B.length,X=U;U>=0&&X<Z;X+=1)if(B[X]===N)return X;return-1}p.exports=M}),690:(function(p,b,C){var T=C(322),M=C(893),N=C(956);function B(U,X,Z){T(U)?M(U,X,Z):N(U,X,Z)}p.exports=B}),893:(function(p){function b(C,T,M){var N=0,B=C.length;for(M=M||null;N<B&&T.call(M,C[N],N,C)!==!1;N+=1);}p.exports=b}),956:(function(p){function b(C,T,M){var N;M=M||null;for(N in C)if(C.hasOwnProperty(N)&&T.call(M,C[N],N,C)===!1)break}p.exports=b}),990:(function(p,b,C){var T=C(893);function M(N){var B;try{B=Array.prototype.slice.call(N)}catch{B=[],T(N,function(X){B.push(X)})}return B}p.exports=M}),755:(function(p){var b="_feEventKey";function C(T,M){var N=T[b],B;return N||(N=T[b]={}),B=N[M],B||(B=N[M]=[]),B}p.exports=C}),349:(function(p,b,C){var T=C(758),M=C(690),N=C(755);function B(Z,ce,le){if(T(ce)){M(ce.split(/\s+/g),function(se){U(Z,se,le)});return}M(ce,function(se,ge){U(Z,ge,se)})}function U(Z,ce,le){var se=N(Z,ce),ge;le?(M(se,function(Oe,Ge){return le===Oe.handler?(X(Z,ce,Oe.wrappedHandler),ge=Ge,!1):!0}),se.splice(ge,1)):(M(se,function(Oe){X(Z,ce,Oe.wrappedHandler)}),se.splice(0,se.length))}function X(Z,ce,le){"removeEventListener"in Z?Z.removeEventListener(ce,le):"detachEvent"in Z&&Z.detachEvent("on"+ce,le)}p.exports=B}),348:(function(p,b,C){var T=C(758),M=C(690),N=C(755);function B(Z,ce,le,se){if(T(ce)){M(ce.split(/\s+/g),function(ge){U(Z,ge,le,se)});return}M(ce,function(ge,Oe){U(Z,Oe,ge,le)})}function U(Z,ce,le,se){function ge(Oe){le.call(se||Z,Oe||window.event)}"addEventListener"in Z?Z.addEventListener(ce,ge):"attachEvent"in Z&&Z.attachEvent("on"+ce,ge),X(Z,ce,le,ge)}function X(Z,ce,le,se){var ge=N(Z,ce),Oe=!1;M(ge,function(Ge){return Ge.handler===le?(Oe=!0,!1):!0}),Oe||ge.push({handler:le,wrappedHandler:se})}p.exports=B}),24:(function(p,b,C){var T=C(322),M=C(929);function N(B,U){if(U=T(U)?U.join(" "):U,U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),M(B.className.baseVal)){B.className=U;return}B.className.baseVal=U}p.exports=N}),204:(function(p,b,C){var T=C(690),M=C(928),N=C(902),B=C(24);function U(X){var Z=Array.prototype.slice.call(arguments,1),ce=X.classList,le=[],se;if(ce){T(Z,function(ge){X.classList.add(ge)});return}se=N(X),se&&(Z=[].concat(se.split(/\s+/),Z)),T(Z,function(ge){M(ge,le)<0&&le.push(ge)}),B(X,le)}p.exports=U}),522:(function(p,b,C){var T=C(758),M=C(690);function N(B,U,X){var Z=B.style;if(T(U)){Z[U]=X;return}M(U,function(ce,le){Z[le]=ce})}p.exports=N}),902:(function(p,b,C){var T=C(929);function M(N){return!N||!N.className?"":T(N.className.baseVal)?N.className:N.className.baseVal}p.exports=M}),714:(function(p,b,C){var T=C(928),M=C(902);function N(B,U){var X;return B.classList?B.classList.contains(U):(X=M(B).split(/\s+/),T(U,X)>-1)}p.exports=N}),471:(function(p,b,C){var T=C(928),M=C(990),N=Element.prototype,B=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.msMatchesSelector||function(X){var Z=this.document||this.ownerDocument;return T(this,M(Z.querySelectorAll(X)))>-1};function U(X,Z){return B.call(X,Z)}p.exports=U}),462:(function(p,b,C){var T=C(893),M=C(928),N=C(902),B=C(24);function U(X){var Z=Array.prototype.slice.call(arguments,1),ce=X.classList,le,se;if(ce){T(Z,function(ge){ce.remove(ge)});return}le=N(X).split(/\s+/),se=[],T(le,function(ge){M(ge,Z)<0&&se.push(ge)}),B(X,se)}p.exports=U}),969:(function(p){function b(C,T){var M=Object.prototype.hasOwnProperty,N,B,U,X;for(U=1,X=arguments.length;U<X;U+=1){N=arguments[U];for(B in N)M.call(N,B)&&(C[B]=N[B])}return C}p.exports=b}),254:(function(p,b,C){var T=C(956);function M(N,B){var U=document.createElement("img"),X="";return T(B,function(Z,ce){X+="&"+ce+"="+Z}),X=X.substring(1),U.src=N+"?"+X,U.style.display="none",document.body.appendChild(U),document.body.removeChild(U),U}p.exports=M}),391:(function(p,b,C){var T=C(929),M=C(254),N=10080*60*1e3;function B(X){var Z=new Date().getTime();return Z-X>N}function U(X,Z){var ce="https://www.google-analytics.com/collect",le=location.hostname,se="event",ge="use",Oe="TOAST UI "+X+" for "+le+": Statistics",Ge=window.localStorage.getItem(Oe);!T(window.tui)&&window.tui.usageStatistics===!1||Ge&&!B(Ge)||(window.localStorage.setItem(Oe,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&M(ce,{v:1,t:se,tid:Z,cid:le,dp:le,dh:X,el:X,ec:ge})},1e3))}p.exports=U}),322:(function(p){function b(C){return C instanceof Array}p.exports=b}),65:(function(p,b,C){var T=C(929),M=C(934);function N(B){return!T(B)&&!M(B)}p.exports=N}),404:(function(p,b,C){var T=C(790);function M(N){return!T(N)}p.exports=M}),294:(function(p){function b(C){return C instanceof Function}p.exports=b}),934:(function(p){function b(C){return C===null}p.exports=b}),758:(function(p){function b(C){return typeof C=="string"||C instanceof String}p.exports=b}),790:(function(p,b,C){var T=C(65);function M(N){return T(N)&&N!==!1}p.exports=M}),929:(function(p){function b(C){return C===void 0}p.exports=b}),479:(function(p){p.exports=r}),481:(function(p){p.exports=n}),43:(function(p){p.exports=i}),814:(function(p){p.exports=a}),311:(function(p){p.exports=o})},l={};function u(p){var b=l[p];if(b!==void 0)return b.exports;var C=l[p]={exports:{}};return s[p].call(C.exports,C,C.exports,u),C.exports}(function(){u.n=function(p){var b=p&&p.__esModule?function(){return p.default}:function(){return p};return u.d(b,{a:b}),b}})(),(function(){u.d=function(p,b){for(var C in b)u.o(b,C)&&!u.o(p,C)&&Object.defineProperty(p,C,{enumerable:!0,get:b[C]})}})(),(function(){u.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})()})(),(function(){u.o=function(p,b){return Object.prototype.hasOwnProperty.call(p,b)}})();var f={};return(function(){u.d(f,{default:function(){return noe}});var p=function(){return p=Object.assign||function(h){for(var w,E=1,P=arguments.length;E<P;E++){w=arguments[E];for(var j in w)Object.prototype.hasOwnProperty.call(w,j)&&(h[j]=w[j])}return h},p.apply(this,arguments)};function b(v,h,w){if(arguments.length===2)for(var E=0,P=h.length,j;E<P;E++)(j||!(E in h))&&(j||(j=Array.prototype.slice.call(h,0,E)),j[E]=h[E]);return v.concat(j||Array.prototype.slice.call(h))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var C=function(v,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(w[P]=E[P])},C(v,h)};function T(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(v,h);function w(){this.constructor=v}v.prototype=h===null?Object.create(h):(w.prototype=h.prototype,new w)}var M=function(){return M=Object.assign||function(h){for(var w,E=1,P=arguments.length;E<P;E++){w=arguments[E];for(var j in w)Object.prototype.hasOwnProperty.call(w,j)&&(h[j]=w[j])}return h},M.apply(this,arguments)};function N(v,h,w){if(arguments.length===2)for(var E=0,P=h.length,j;E<P;E++)(j||!(E in h))&&(j||(j=Array.prototype.slice.call(h,0,E)),j[E]=h[E]);return v.concat(j||Array.prototype.slice.call(h))}var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{},U={};function X(v){var h,w,E=U[v];if(E)return E;for(E=U[v]=[],h=0;h<128;h++)w=String.fromCharCode(h),/^[0-9a-z]$/i.test(w)?E.push(w):E.push("%"+("0"+h.toString(16).toUpperCase()).slice(-2));for(h=0;h<v.length;h++)E[v.charCodeAt(h)]=v[h];return E}function Z(v,h,w){var E,P,j,Q,ue,Le="";for(typeof h!="string"&&(w=h,h=Z.defaultChars),typeof w>"u"&&(w=!0),ue=X(h),E=0,P=v.length;E<P;E++){if(j=v.charCodeAt(E),w&&j===37&&E+2<P&&/^[0-9a-f]{2}$/i.test(v.slice(E+1,E+3))){Le+=v.slice(E,E+3),E+=2;continue}if(j<128){Le+=ue[j];continue}if(j>=55296&&j<=57343){if(j>=55296&&j<=56319&&E+1<P&&(Q=v.charCodeAt(E+1),Q>=56320&&Q<=57343)){Le+=encodeURIComponent(v[E]+v[E+1]),E++;continue}Le+="%EF%BF%BD";continue}Le+=encodeURIComponent(v[E])}return Le}Z.defaultChars=";/?:@&=+$,-_.!~*'()#",Z.componentChars="-_.!~*'()";var ce=Z,le={},se={},ge="",Oe="",Ge="",pt="",Ke="",Tt="",Xe="",Se="",ze="",Ve="",Qe="",Ht="",st="",vt="",lt="",At="",Nt="",Qt="",Vt="",Ne="",fe="",ie="",ee="",ae="",I="",$="",Y="&",pe="&",ye="",Te="",Pe="",He="",_e="",Ie="",et="",Ye="",dt="",yt="",xt="",$e="",Ue="",ht="",bt="",Ot="",rr="",Gt="",ur="",nr="",mr="",gr="",Fr="",si="",Jn="",Ln="",xn="",hn="",Mr="",In="",cr="",Ir="",K="",G="'",_="",L="",q="",V="",te="",we="",De="",de="",re="*",Ce="",Re="",it="",wt="",F="",O="",y="",x="",R="",z="",J="",ne="",me="",ke="",je="",qe="",tt="",Ct="",$t="",fr="",Pn="",Si="",zi="",Ns="",Do="",fa="",li="",ui="",Ro="",_n="",Lo="",Ga="",Ka="",Ja="",Io="",ci="",da="",Xa="",fi="",Ds="",Rs="",$i="",di="",hi="",Ya="",ha="",Ui="",Xn="",Po="",zl="",Bn="",Ls="",Is="",Qa="",Ps="",ji="",Fn="",_o="",_s="",Bs="",$l="",kt="",be="",Ze="=",mt="",Jt="",Or="",Ar="",Tr="",qn="",Wi="",Bo="",Fs="",qs="",lh="",uh="",ch="",fh="",Zr="",en="",dh="",hh="",ph="",Gi="",vh="",Ul="",jl="",mh="",gh="",Hs="",yh="",Wl="",Za="",bh="",wh="",kh="",Ch="",Th="",xh="",Gl="",oc="",Sh="",sc="",Eh="",Mh="",lc="",uc="",Oh="",Ah="",Fo="",Nh="",qo="",Dh="",Rh="",Ho="",cc="",fc="",Lh="",dc="",Ih="",hc="",Vo="",pc="",zo="",Ph="",pa="",eo="\\",va="",Yn="",jr="",vc="",_h="",mc="",Bh="",gc="",yc="",Vs="",ma="",Kl="",bc="",Jl="",Fh="",qh="",Hh="",Vh="",wc="",kc="",zh="",Cc="",$h="",Uh="",jh="",Wh="",Gh="",Kh="",Jh="",Tc="",Xh="",Yh="",Xl="",Qh="",xc="",Zh="",ep="",Sc="",Ec="",Mc="",Oc="",tp="",Ac="",rp="",Nc="",c="",m="",d="",g="",k="",S="",A="",D="",H="",W="",oe="",ve="",he="",xe="",Be="",rt="",ct="",Je="",Ut="",Ft="",Mt="",Pt="",tr="",Zt="",br="",xr="",Sr="",pi=":",zs="",Ei="",ga="",ya="",$o=",",wr="@",Yl="",vi="",tn="",Dc="",Rc="",DM="",RM="",LM="",IM="",PM="",_M="",BM="",FM="",qM="",HM="",VM="",zM="",$M="",UM="",jM="",WM="",GM="",KM="",JM="",XM="",YM="",QM="",ZM="",eO="",tO="",rO="",nO="",iO="",aO="",oO="",sO="",lO="",uO="",cO="",fO="",dO="",hO="",pO="",vO="",mO="",gO="",yO="",bO="",wO="",kO="",CO="",TO="",xO="",SO="",EO="",MO="",OO="",AO="",NO="",DO="",RO="",LO="",IO="",PO="",_O="",BO="",FO="",qO="",HO="",VO="",zO="",$O="",UO="",jO="",WO="",GO="",KO="",JO="",XO="",YO="",QO="",ZO="",eA="",tA="",rA="",nA="",iA="",aA="",oA="",sA="",lA="",uA="",cA="`",fA="",dA="",hA="",pA="",vA="",mA="",gA="",yA="",bA="",wA="",kA="",CA="",TA="",xA="",SA="",EA="",MA="",OA="",AA="$",NA="",DA="",RA="",LA="",IA="",PA="",_A="",BA="",FA="",qA="",HA="",VA="",zA="",$A="",UA="",jA="",WA="",GA="",KA="",JA="",XA="",YA="",QA="",ZA="",eN="",tN="",rN="",nN="",iN="",aN="",oN="",sN="",lN="",uN="",cN="",fN="",dN="",hN="",pN="",vN="",mN="",gN="",yN="",bN="",wN="",kN="",CN="",TN="",xN="",SN="",EN="",MN="",ON="",AN="",NN="",DN="",RN="",LN="",IN="",PN="",_N="",BN="",FN="",qN="",HN="",VN="",zN="",$N="",UN="",jN="",WN="",GN="",KN="",JN="",XN="",YN="",QN="",ZN="",eD="",tD="",rD="",nD="",iD="",aD="",oD="",sD="",lD="",uD="",cD="",fD="",dD="",hD="",pD="",vD="",mD="",gD="",yD="",bD="",wD="",kD="",CD="",TD="",xD="",SD="",ED="",MD="",OD="",AD="",ND="",DD="",RD="",LD="",ID="",PD="",_D="",BD="",FD="",qD="",HD="",VD="",zD="",$D="",UD="",jD="=",WD="",GD="",KD="",JD="",XD="",YD="",QD="",ZD="",eR="",tR="",rR="",nR="",iR="",aR="",oR="",sR="",lR="",uR="",cR="",fR="",dR="!",hR="",pR="",vR="",mR="",gR="",yR="",bR="",wR="",kR="",CR="",TR="",xR="",SR="",ER="",MR="",OR="",AR="",NR="fj",DR="",RR="",LR="",IR="",PR="",_R="",BR="",FR="",qR="",HR="",VR="",zR="",$R="",UR="",jR="",WR="",GR="",KR="",JR="",XR="",YR="",QR="",ZR="",eL="",tL="",rL="",nL="",iL="",aL="",oL="",sL="",lL="",uL="",cL="",fL="",dL="",hL="",pL="",vL="",mL="",gL="",yL="",bL="",wL="",kL="",CL="",TL="",xL="",SL="",EL="",ML="",OL="",AL="",NL="",DL="",RL="",LL="",IL="",PL="",_L="",BL="",FL="",qL="",HL="",VL="",zL="",$L="",UL="",jL="",WL="",GL="",KL="",JL="",XL="",YL="",QL="",ZL="",eI="",tI="",rI="",nI="",iI="`",aI="",oI="",sI="",lI="",uI="",cI="",fI="",dI="",hI="",pI="",vI="",mI="",gI="",yI="",bI=">",wI=">",kI="",CI="",TI="",xI="",SI="",EI="",MI="",OI="",AI="",NI="",DI="",RI="",LI="",II="",PI="",_I="",BI="",FI="",qI="",HI="",VI="",zI="",$I="",UI="^",jI="",WI="",GI="",KI="",JI="",XI="",YI="",QI="",ZI="",eP="",tP="",rP="",nP="",iP="",aP="",oP="",sP="",lP="",uP="",cP="",fP="",dP="",hP="",pP="",vP="",mP="",gP="",yP="",bP="",wP="",kP="",CP="",TP="",xP="",SP="",EP="",MP="",OP="",AP="",NP="",DP="",RP="",LP="",IP="",PP="",_P="",BP="",FP="",qP="",HP="",VP="",zP="",$P="",UP="",jP="",WP="",GP="",KP="",JP="",XP="",YP="",QP="",ZP="",e_="",t_="",r_="",n_="",i_="",a_="",o_="",s_="",l_="",u_="",c_="",f_="",d_="",h_="",p_="",v_="",m_="",g_="",y_="",b_="",w_="",k_="",C_="",T_="",x_="",S_="",E_="",M_="",O_="",A_="",N_="",D_="",R_="",L_="",I_="",P_="",__="",B_="",F_="",q_="",H_="",V_="",z_="",$_="",U_="",j_="",W_="",G_="",K_="",J_="",X_="",Y_="",Q_="",Z_="",eB="",tB="",rB="",nB="",iB="",aB="",oB="",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="",gB="",yB="",bB="",wB="",kB="",CB="",TB="",xB="",SB="",EB="",MB="",OB="",AB="",NB="",DB="",RB="",LB="",IB="",PB="",_B="",BB="",FB="",qB="",HB="",VB="",zB="",$B="",UB="",jB="",WB="",GB="",KB="",JB="",XB="",YB="",QB="{",ZB="[",eF="",tF="",rF="",nF="",iF="",aF="",oF="",sF="",lF="{",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="",gF="",yF="",bF="",wF="",kF="",CF="",TF="",xF="",SF="",EF="",MF="",OF="",AF="",NF="",DF="",RF="",LF="",IF="",PF="",_F="",BF="",FF="",qF="",HF="",VF="",zF="",$F="",UF="",jF="",WF="",GF="",KF="",JF="",XF="",YF="",QF="",ZF="",eq="",tq="",rq="",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",bq="",wq="",kq="",Cq="",Tq="",xq="",Sq="",Eq="",Mq="",Oq="",Aq="",Nq="",Dq="",Rq="",Lq="",Iq="",Pq="",_q="",Bq="",Fq="",qq="",Hq="",Vq="",zq="",$q="",Uq="",jq="",Wq="",Gq="",Kq="",Jq="",Xq="",Yq="",Qq="",Zq="",eH="",tH="",rH="",nH="",iH="",aH="",oH="",sH="",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",bH="",wH="",kH="",CH="",TH="_",xH="",SH="",EH="",MH="",OH="",AH="(",NH="",DH="",RH="",LH="",IH="",PH="",_H="",BH="",FH="",qH="",HH="",VH="",zH="",$H="",UH="",jH="[",WH="",GH="",KH="",JH="",XH="",YH="",QH="<",ZH="<",e2="",t2="",r2="",n2="",i2="",a2="",o2="",s2="",l2="",u2="",c2="",f2="",d2="",h2="",p2="",v2="",m2="",g2="",y2="",b2="",w2="",k2="",C2="",T2="",x2="",S2="",E2="",M2="",O2="",A2="",N2="",D2="",R2="",L2="",I2="",P2="",_2="*",B2="",F2="",q2="",H2="",V2="",z2="",$2="",U2="",j2="",W2="",G2="",K2="",J2="",X2="",Y2="",Q2="",Z2="",eV="",tV="",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",bV="",wV="",kV="",CV="",TV="",xV="",SV="",EV="",MV="",OV="",AV="",NV="",DV="",RV="",LV="",IV="",PV="",_V="",BV="",FV="",qV="",HV="",VV="",zV="",$V="",UV="",jV="",WV=`
`,GV="",KV="",JV="",XV="",YV="",QV="",ZV="",ez="",tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz="",cz="",fz="",dz="",hz="",pz="",vz="",mz="",gz="",yz="",bz="",wz="",kz="",Cz="",Tz="",xz="",Sz="",Ez="",Mz="",Oz="",Az="",Nz="",Dz="",Rz="",Lz="",Iz="",Pz="",_z="",Bz="",Fz="",qz="",Hz="",Vz="",zz="",$z="",Uz="",jz="",Wz="",Gz="",Kz="",Jz="",Xz="",Yz="",Qz="",Zz="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$="",f$="",d$="",h$="",p$="",v$="",m$="",g$="",y$="",b$="",w$="",k$="",C$="",T$="",x$="",S$="",E$="",M$="",O$="",A$="",N$="",D$="",R$="",L$="",I$="",P$="",_$="",B$="",F$="",q$="",H$="",V$="",z$="",$$="",U$="",j$="",W$="",G$="",K$="",J$="",X$="",Y$="",Q$="",Z$="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU="",uU="",cU="",fU="",dU="",hU="",pU="",vU="",mU="",gU="",yU="",bU="",wU="",kU="",CU="",TU="",xU="",SU="",EU="",MU="",OU="",AU="",NU="",DU="",RU="",LU="",IU="",PU="",_U="",BU="",FU="",qU="",HU="",VU="",zU="",$U="",UU="",jU="",WU="",GU="",KU="",JU="",XU="",YU="",QU="",ZU="",e3="",t3="#",r3="",n3="",i3="",a3="",o3="",s3="",l3="",u3="",c3=">",f3="",d3="",h3="",p3="",v3="<",m3="",g3="",y3="",b3="",w3="",k3="",C3="",T3="",x3="",S3="",E3="",M3="",O3="",A3="",N3="",D3="",R3="",L3="",I3="",P3="",_3="",B3="",F3="",q3="",H3="",V3="",z3="",$3="",U3="",j3="",W3="",G3="",K3="",J3="",X3="",Y3="",Q3="",Z3="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="",uj="",cj="",fj="",dj="",hj="",pj="",vj="",mj="",gj="",yj="",bj="",wj="",kj="",Cj="",Tj="",xj="",Sj="",Ej="",Mj="",Oj="",Aj="",Nj="",Dj="",Rj="",Lj="",Ij="",Pj="",_j="",Bj="",Fj="",qj="",Hj="",Vj="",zj="",$j="",Uj="",jj="",Wj="",Gj="",Kj="",Jj="",Xj="",Yj="",Qj="",Zj="",eW="",tW="",rW="%",nW=".",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",bW="",wW="",kW="",CW="",TW="",xW="+",SW="",EW="",MW="",OW="",AW="",NW="",DW="",RW="",LW="",IW="",PW="",_W="",BW="",FW="",qW="",HW="",VW="",zW="",$W="",UW="",jW="",WW="",GW="",KW="",JW="",XW="",YW="",QW="",ZW="",e4="",t4="",r4="",n4="",i4="",a4="",o4="",s4="",l4="",u4="",c4="",f4="",d4="",h4="",p4="",v4="",m4="",g4="",y4="",b4="",w4="",k4="",C4="",T4="",x4="",S4="",E4="",M4="",O4="",A4="",N4="",D4="",R4="",L4="",I4="?",P4="",_4='"',B4='"',F4="",q4="",H4="",V4="",z4="",$4="",U4="",j4="",W4="",G4="",K4="",J4="",X4="",Y4="",Q4="",Z4="",e5="",t5="",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="",h5="",p5="",v5="",m5="",g5="",y5="",b5="}",w5="]",k5="",C5="",T5="",x5="",S5="",E5="",M5="",O5="",A5="}",N5="",D5="",R5="",L5="",I5="",P5="",_5="",B5="",F5="",q5="",H5="",V5="",z5="",$5="",U5="",j5="",W5="",G5="",K5="",J5="",X5="",Y5="",Q5="",Z5="",eG="",tG="",rG="",nG="",iG="",aG="",oG="",sG="",lG="",uG="",cG="",fG="",dG="",hG="",pG="",vG="",mG="",gG="",yG="",bG="",wG="",kG="",CG="",TG="",xG="",SG="",EG="",MG="",OG="",AG="",NG="",DG="",RG="",LG="",IG="",PG="",_G="",BG="",FG="",qG="",HG="",VG="",zG="",$G="",UG="",jG="",WG="",GG="",KG="",JG="",XG="",YG="",QG="",ZG="",e6=")",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="]",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",b6="",w6="",k6="",C6="",T6="",x6="",S6="",E6="",M6="",O6="",A6="",N6="",D6="",R6="",L6="",I6="",P6="",_6="",B6="",F6="",q6="",H6="",V6="",z6="",$6="",U6="",j6="",W6="",G6="",K6="",J6="",X6="",Y6="",Q6=";",Z6="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8="",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="",b8="",w8="",k8="",C8="",T8="",x8="",S8="",E8="",M8="",O8="",A8="",N8="",D8="",R8="",L8="",I8="",P8="",_8="",B8="",F8="",q8="",H8="",V8="",z8="",$8="",U8="",j8="",W8="",G8="/",K8="",J8="",X8="",Y8="",Q8="",Z8="",eK="",tK="",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK="",yK="",bK="",wK="",kK="",CK="",TK="",xK="",SK="",EK="",MK="",OK="",AK="",NK="",DK="",RK="",LK="",IK="",PK="",_K="",BK="",FK="",qK="",HK="",VK="",zK="",$K="",UK="",jK="",WK="",GK="",KK="",JK="",XK="",YK="",QK="",ZK="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",b9="",w9="",k9="",C9="",T9="",x9="",S9="",E9="",M9="",O9="",A9="",N9="",D9="",R9="",L9="",I9="",P9="",_9="",B9="",F9="",q9="",H9="",V9="",z9="",$9="",U9="",j9="",W9="",G9="",K9="",J9="",X9="",Y9="",Q9="	",Z9="",eJ="",tJ="",rJ="",nJ="",iJ="",aJ="",oJ="",sJ="",lJ="",uJ="",cJ="",fJ="",dJ="",hJ="",pJ="",vJ="",mJ="",gJ="",yJ="",bJ="",wJ="",kJ="",CJ="",TJ="",xJ="",SJ="",EJ="",MJ="",OJ="",AJ="",NJ="",DJ="",RJ="",LJ="",IJ="",PJ="",_J="",BJ="",FJ="",qJ="",HJ="",VJ="",zJ="",$J="",UJ="",jJ="",WJ="",GJ="",KJ="",JJ="",XJ="",YJ="",QJ="",ZJ="",e7="",t7="",r7="",n7="",i7="",a7="",o7="",s7="",l7="",u7="",c7="",f7="",d7="",h7="",p7="",v7="",m7="",g7="",y7="",b7="",w7="",k7="",C7="",T7="",x7="",S7="",E7="",M7="",O7="",A7="",N7="",D7="",R7="",L7="",I7="",P7="",_7="",B7="",F7="",q7="",H7="",V7="",z7="",$7="",U7="",j7="",W7="",G7="",K7="",J7="",X7="",Y7="",Q7="",Z7="",eX="",tX="",rX="_",nX="",iX="",aX="",oX="",sX="",lX="",uX="",cX="",fX="",dX="",hX="",pX="",vX="",mX="",gX="",yX="",bX="",wX="",kX="",CX="",TX="",xX="",SX="",EX="",MX="",OX="",AX="",NX="",DX="",RX="",LX="",IX="",PX="",_X="",BX="",FX="",qX="",HX="",VX="",zX="",$X="",UX="",jX="",WX="",GX="",KX="",JX="",XX="",YX="",QX="",ZX="",eY="",tY="",rY="",nY="",iY="",aY="",oY="",sY="",lY="",uY="",cY="",fY="",dY="",hY="",pY="",vY="",mY="",gY="",yY="",bY="",wY="",kY="",CY="",TY="",xY="",SY="",EY="",MY="",OY="",AY="",NY="|",DY="",RY="|",LY="",IY="",PY="|",_Y="",BY="",FY="",qY="",HY="",VY="",zY="",$Y="",UY="",jY="",WY="",GY="",KY="",JY="",XY="",YY="",QY="",ZY="",eQ="",tQ="",rQ="",nQ="",iQ="",aQ="",oQ="",sQ="",lQ="",uQ="",cQ="",fQ="",dQ="",hQ="",pQ="",vQ="",mQ="",gQ="",yQ="",bQ="",wQ="",kQ="",CQ="",TQ="",xQ="",SQ="",EQ="",MQ="",OQ="",AQ="",NQ="",DQ="",RQ="",LQ="",IQ="",PQ="",_Q="",BQ="",FQ="",qQ="",HQ="",VQ="",zQ="",$Q="",UQ="",jQ="",WQ="",GQ="",KQ="",JQ="",XQ="",YQ="",QQ="",ZQ="",eZ="",tZ="",rZ="",nZ="",iZ="",aZ="",oZ="",sZ="",lZ="",uZ="",cZ="",fZ="",dZ="",hZ="",pZ="",vZ="",mZ="",gZ="",yZ="",bZ="",wZ="",kZ="",CZ="",TZ="",xZ="",SZ="",EZ="",MZ="",OZ="",AZ="",NZ="",DZ="",RZ="",LZ="",IZ="",PZ="",vy={Aacute:ge,aacute:Oe,Abreve:Ge,abreve:pt,ac:Ke,acd:Tt,acE:Xe,Acirc:Se,acirc:ze,acute:Ve,Acy:Qe,acy:Ht,AElig:st,aelig:vt,af:lt,Afr:At,afr:Nt,Agrave:Qt,agrave:Vt,alefsym:Ne,aleph:fe,Alpha:ie,alpha:ee,Amacr:ae,amacr:I,amalg:$,amp:Y,AMP:pe,andand:ye,And:Te,and:Pe,andd:He,andslope:_e,andv:Ie,ang:et,ange:Ye,angle:dt,angmsdaa:yt,angmsdab:xt,angmsdac:$e,angmsdad:Ue,angmsdae:ht,angmsdaf:bt,angmsdag:Ot,angmsdah:rr,angmsd:Gt,angrt:ur,angrtvb:nr,angrtvbd:mr,angsph:gr,angst:Fr,angzarr:si,Aogon:Jn,aogon:Ln,Aopf:xn,aopf:hn,apacir:Mr,ap:In,apE:cr,ape:Ir,apid:K,apos:G,ApplyFunction:_,approx:L,approxeq:q,Aring:V,aring:te,Ascr:we,ascr:De,Assign:de,ast:re,asymp:Ce,asympeq:Re,Atilde:it,atilde:wt,Auml:F,auml:O,awconint:y,awint:x,backcong:R,backepsilon:z,backprime:J,backsim:ne,backsimeq:me,Backslash:ke,Barv:je,barvee:qe,barwed:tt,Barwed:Ct,barwedge:$t,bbrk:fr,bbrktbrk:Pn,bcong:Si,Bcy:zi,bcy:Ns,bdquo:Do,becaus:fa,because:li,Because:ui,bemptyv:Ro,bepsi:_n,bernou:Lo,Bernoullis:Ga,Beta:Ka,beta:Ja,beth:Io,between:ci,Bfr:da,bfr:Xa,bigcap:fi,bigcirc:Ds,bigcup:Rs,bigodot:$i,bigoplus:di,bigotimes:hi,bigsqcup:Ya,bigstar:ha,bigtriangledown:Ui,bigtriangleup:Xn,biguplus:Po,bigvee:zl,bigwedge:Bn,bkarow:Ls,blacklozenge:Is,blacksquare:Qa,blacktriangle:Ps,blacktriangledown:ji,blacktriangleleft:Fn,blacktriangleright:_o,blank:_s,blk12:Bs,blk14:$l,blk34:kt,block:be,bne:Ze,bnequiv:mt,bNot:Jt,bnot:Or,Bopf:Ar,bopf:Tr,bot:qn,bottom:Wi,bowtie:Bo,boxbox:Fs,boxdl:qs,boxdL:lh,boxDl:uh,boxDL:ch,boxdr:fh,boxdR:Zr,boxDr:en,boxDR:dh,boxh:hh,boxH:ph,boxhd:Gi,boxHd:vh,boxhD:Ul,boxHD:jl,boxhu:mh,boxHu:gh,boxhU:Hs,boxHU:yh,boxminus:Wl,boxplus:Za,boxtimes:bh,boxul:wh,boxuL:kh,boxUl:Ch,boxUL:Th,boxur:xh,boxuR:Gl,boxUr:oc,boxUR:Sh,boxv:sc,boxV:Eh,boxvh:Mh,boxvH:lc,boxVh:uc,boxVH:Oh,boxvl:Ah,boxvL:Fo,boxVl:Nh,boxVL:qo,boxvr:Dh,boxvR:Rh,boxVr:Ho,boxVR:cc,bprime:fc,breve:Lh,Breve:dc,brvbar:Ih,bscr:hc,Bscr:Vo,bsemi:pc,bsim:zo,bsime:Ph,bsolb:pa,bsol:eo,bsolhsub:va,bull:Yn,bullet:jr,bump:vc,bumpE:_h,bumpe:mc,Bumpeq:Bh,bumpeq:gc,Cacute:yc,cacute:Vs,capand:ma,capbrcup:Kl,capcap:bc,cap:Jl,Cap:Fh,capcup:qh,capdot:Hh,CapitalDifferentialD:Vh,caps:wc,caret:kc,caron:zh,Cayleys:Cc,ccaps:$h,Ccaron:Uh,ccaron:jh,Ccedil:Wh,ccedil:Gh,Ccirc:Kh,ccirc:Jh,Cconint:Tc,ccups:Xh,ccupssm:Yh,Cdot:Xl,cdot:Qh,cedil:xc,Cedilla:Zh,cemptyv:ep,cent:Sc,centerdot:Ec,CenterDot:Mc,cfr:Oc,Cfr:tp,CHcy:Ac,chcy:rp,check:Nc,checkmark:c,Chi:m,chi:d,circ:g,circeq:k,circlearrowleft:S,circlearrowright:A,circledast:D,circledcirc:H,circleddash:W,CircleDot:oe,circledR:ve,circledS:he,CircleMinus:xe,CirclePlus:Be,CircleTimes:rt,cir:ct,cirE:Je,cire:Ut,cirfnint:Ft,cirmid:Mt,cirscir:Pt,ClockwiseContourIntegral:tr,CloseCurlyDoubleQuote:Zt,CloseCurlyQuote:br,clubs:xr,clubsuit:Sr,colon:pi,Colon:zs,Colone:Ei,colone:ga,coloneq:ya,comma:$o,commat:wr,comp:Yl,compfn:vi,complement:tn,complexes:Dc,cong:Rc,congdot:DM,Congruent:RM,conint:LM,Conint:IM,ContourIntegral:PM,copf:_M,Copf:BM,coprod:FM,Coproduct:qM,copy:HM,COPY:VM,copysr:zM,CounterClockwiseContourIntegral:$M,crarr:UM,cross:jM,Cross:WM,Cscr:GM,cscr:KM,csub:JM,csube:XM,csup:YM,csupe:QM,ctdot:ZM,cudarrl:eO,cudarrr:tO,cuepr:rO,cuesc:nO,cularr:iO,cularrp:aO,cupbrcap:oO,cupcap:sO,CupCap:lO,cup:uO,Cup:cO,cupcup:fO,cupdot:dO,cupor:hO,cups:pO,curarr:vO,curarrm:mO,curlyeqprec:gO,curlyeqsucc:yO,curlyvee:bO,curlywedge:wO,curren:kO,curvearrowleft:CO,curvearrowright:TO,cuvee:xO,cuwed:SO,cwconint:EO,cwint:MO,cylcty:OO,dagger:AO,Dagger:NO,daleth:DO,darr:RO,Darr:LO,dArr:IO,dash:PO,Dashv:_O,dashv:BO,dbkarow:FO,dblac:qO,Dcaron:HO,dcaron:VO,Dcy:zO,dcy:$O,ddagger:UO,ddarr:jO,DD:WO,dd:GO,DDotrahd:KO,ddotseq:JO,deg:XO,Del:YO,Delta:QO,delta:ZO,demptyv:eA,dfisht:tA,Dfr:rA,dfr:nA,dHar:iA,dharl:aA,dharr:oA,DiacriticalAcute:sA,DiacriticalDot:lA,DiacriticalDoubleAcute:uA,DiacriticalGrave:cA,DiacriticalTilde:fA,diam:dA,diamond:hA,Diamond:pA,diamondsuit:vA,diams:mA,die:gA,DifferentialD:yA,digamma:bA,disin:wA,div:kA,divide:CA,divideontimes:TA,divonx:xA,DJcy:SA,djcy:EA,dlcorn:MA,dlcrop:OA,dollar:AA,Dopf:NA,dopf:DA,Dot:RA,dot:LA,DotDot:IA,doteq:PA,doteqdot:_A,DotEqual:BA,dotminus:FA,dotplus:qA,dotsquare:HA,doublebarwedge:VA,DoubleContourIntegral:zA,DoubleDot:$A,DoubleDownArrow:UA,DoubleLeftArrow:jA,DoubleLeftRightArrow:WA,DoubleLeftTee:GA,DoubleLongLeftArrow:KA,DoubleLongLeftRightArrow:JA,DoubleLongRightArrow:XA,DoubleRightArrow:YA,DoubleRightTee:QA,DoubleUpArrow:ZA,DoubleUpDownArrow:eN,DoubleVerticalBar:tN,DownArrowBar:rN,downarrow:nN,DownArrow:iN,Downarrow:aN,DownArrowUpArrow:oN,DownBreve:sN,downdownarrows:lN,downharpoonleft:uN,downharpoonright:cN,DownLeftRightVector:fN,DownLeftTeeVector:dN,DownLeftVectorBar:hN,DownLeftVector:pN,DownRightTeeVector:vN,DownRightVectorBar:mN,DownRightVector:gN,DownTeeArrow:yN,DownTee:bN,drbkarow:wN,drcorn:kN,drcrop:CN,Dscr:TN,dscr:xN,DScy:SN,dscy:EN,dsol:MN,Dstrok:ON,dstrok:AN,dtdot:NN,dtri:DN,dtrif:RN,duarr:LN,duhar:IN,dwangle:PN,DZcy:_N,dzcy:BN,dzigrarr:FN,Eacute:qN,eacute:HN,easter:VN,Ecaron:zN,ecaron:$N,Ecirc:UN,ecirc:jN,ecir:WN,ecolon:GN,Ecy:KN,ecy:JN,eDDot:XN,Edot:YN,edot:QN,eDot:ZN,ee:eD,efDot:tD,Efr:rD,efr:nD,eg:iD,Egrave:aD,egrave:oD,egs:sD,egsdot:lD,el:uD,Element:cD,elinters:fD,ell:dD,els:hD,elsdot:pD,Emacr:vD,emacr:mD,empty:gD,emptyset:yD,EmptySmallSquare:bD,emptyv:wD,EmptyVerySmallSquare:kD,emsp13:CD,emsp14:TD,emsp:xD,ENG:SD,eng:ED,ensp:MD,Eogon:OD,eogon:AD,Eopf:ND,eopf:DD,epar:RD,eparsl:LD,eplus:ID,epsi:PD,Epsilon:_D,epsilon:BD,epsiv:FD,eqcirc:qD,eqcolon:HD,eqsim:VD,eqslantgtr:zD,eqslantless:$D,Equal:UD,equals:jD,EqualTilde:WD,equest:GD,Equilibrium:KD,equiv:JD,equivDD:XD,eqvparsl:YD,erarr:QD,erDot:ZD,escr:eR,Escr:tR,esdot:rR,Esim:nR,esim:iR,Eta:aR,eta:oR,ETH:sR,eth:lR,Euml:uR,euml:cR,euro:fR,excl:dR,exist:hR,Exists:pR,expectation:vR,exponentiale:mR,ExponentialE:gR,fallingdotseq:yR,Fcy:bR,fcy:wR,female:kR,ffilig:CR,fflig:TR,ffllig:xR,Ffr:SR,ffr:ER,filig:MR,FilledSmallSquare:OR,FilledVerySmallSquare:AR,fjlig:NR,flat:DR,fllig:RR,fltns:LR,fnof:IR,Fopf:PR,fopf:_R,forall:BR,ForAll:FR,fork:qR,forkv:HR,Fouriertrf:VR,fpartint:zR,frac12:$R,frac13:UR,frac14:jR,frac15:WR,frac16:GR,frac18:KR,frac23:JR,frac25:XR,frac34:YR,frac35:QR,frac38:ZR,frac45:eL,frac56:tL,frac58:rL,frac78:nL,frasl:iL,frown:aL,fscr:oL,Fscr:sL,gacute:lL,Gamma:uL,gamma:cL,Gammad:fL,gammad:dL,gap:hL,Gbreve:pL,gbreve:vL,Gcedil:mL,Gcirc:gL,gcirc:yL,Gcy:bL,gcy:wL,Gdot:kL,gdot:CL,ge:TL,gE:xL,gEl:SL,gel:EL,geq:ML,geqq:OL,geqslant:AL,gescc:NL,ges:DL,gesdot:RL,gesdoto:LL,gesdotol:IL,gesl:PL,gesles:_L,Gfr:BL,gfr:FL,gg:qL,Gg:HL,ggg:VL,gimel:zL,GJcy:$L,gjcy:UL,gla:jL,gl:WL,glE:GL,glj:KL,gnap:JL,gnapprox:XL,gne:YL,gnE:QL,gneq:ZL,gneqq:eI,gnsim:tI,Gopf:rI,gopf:nI,grave:iI,GreaterEqual:aI,GreaterEqualLess:oI,GreaterFullEqual:sI,GreaterGreater:lI,GreaterLess:uI,GreaterSlantEqual:cI,GreaterTilde:fI,Gscr:dI,gscr:hI,gsim:pI,gsime:vI,gsiml:mI,gtcc:gI,gtcir:yI,gt:bI,GT:wI,Gt:kI,gtdot:CI,gtlPar:TI,gtquest:xI,gtrapprox:SI,gtrarr:EI,gtrdot:MI,gtreqless:OI,gtreqqless:AI,gtrless:NI,gtrsim:DI,gvertneqq:RI,gvnE:LI,Hacek:II,hairsp:PI,half:_I,hamilt:BI,HARDcy:FI,hardcy:qI,harrcir:HI,harr:VI,hArr:zI,harrw:$I,Hat:UI,hbar:jI,Hcirc:WI,hcirc:GI,hearts:KI,heartsuit:JI,hellip:XI,hercon:YI,hfr:QI,Hfr:ZI,HilbertSpace:eP,hksearow:tP,hkswarow:rP,hoarr:nP,homtht:iP,hookleftarrow:aP,hookrightarrow:oP,hopf:sP,Hopf:lP,horbar:uP,HorizontalLine:cP,hscr:fP,Hscr:dP,hslash:hP,Hstrok:pP,hstrok:vP,HumpDownHump:mP,HumpEqual:gP,hybull:yP,hyphen:bP,Iacute:wP,iacute:kP,ic:CP,Icirc:TP,icirc:xP,Icy:SP,icy:EP,Idot:MP,IEcy:OP,iecy:AP,iexcl:NP,iff:DP,ifr:RP,Ifr:LP,Igrave:IP,igrave:PP,ii:_P,iiiint:BP,iiint:FP,iinfin:qP,iiota:HP,IJlig:VP,ijlig:zP,Imacr:$P,imacr:UP,image:jP,ImaginaryI:WP,imagline:GP,imagpart:KP,imath:JP,Im:XP,imof:YP,imped:QP,Implies:ZP,incare:e_,in:"",infin:t_,infintie:r_,inodot:n_,intcal:i_,int:a_,Int:o_,integers:s_,Integral:l_,intercal:u_,Intersection:c_,intlarhk:f_,intprod:d_,InvisibleComma:h_,InvisibleTimes:p_,IOcy:v_,iocy:m_,Iogon:g_,iogon:y_,Iopf:b_,iopf:w_,Iota:k_,iota:C_,iprod:T_,iquest:x_,iscr:S_,Iscr:E_,isin:M_,isindot:O_,isinE:A_,isins:N_,isinsv:D_,isinv:R_,it:L_,Itilde:I_,itilde:P_,Iukcy:__,iukcy:B_,Iuml:F_,iuml:q_,Jcirc:H_,jcirc:V_,Jcy:z_,jcy:$_,Jfr:U_,jfr:j_,jmath:W_,Jopf:G_,jopf:K_,Jscr:J_,jscr:X_,Jsercy:Y_,jsercy:Q_,Jukcy:Z_,jukcy:eB,Kappa:tB,kappa:rB,kappav:nB,Kcedil:iB,kcedil:aB,Kcy:oB,kcy:sB,Kfr:lB,kfr:uB,kgreen:cB,KHcy:fB,khcy:dB,KJcy:hB,kjcy:pB,Kopf:vB,kopf:mB,Kscr:gB,kscr:yB,lAarr:bB,Lacute:wB,lacute:kB,laemptyv:CB,lagran:TB,Lambda:xB,lambda:SB,lang:EB,Lang:MB,langd:OB,langle:AB,lap:NB,Laplacetrf:DB,laquo:RB,larrb:LB,larrbfs:IB,larr:PB,Larr:_B,lArr:BB,larrfs:FB,larrhk:qB,larrlp:HB,larrpl:VB,larrsim:zB,larrtl:$B,latail:UB,lAtail:jB,lat:WB,late:GB,lates:KB,lbarr:JB,lBarr:XB,lbbrk:YB,lbrace:QB,lbrack:ZB,lbrke:eF,lbrksld:tF,lbrkslu:rF,Lcaron:nF,lcaron:iF,Lcedil:aF,lcedil:oF,lceil:sF,lcub:lF,Lcy:uF,lcy:cF,ldca:fF,ldquo:dF,ldquor:hF,ldrdhar:pF,ldrushar:vF,ldsh:mF,le:gF,lE:yF,LeftAngleBracket:bF,LeftArrowBar:wF,leftarrow:kF,LeftArrow:CF,Leftarrow:TF,LeftArrowRightArrow:xF,leftarrowtail:SF,LeftCeiling:EF,LeftDoubleBracket:MF,LeftDownTeeVector:OF,LeftDownVectorBar:AF,LeftDownVector:NF,LeftFloor:DF,leftharpoondown:RF,leftharpoonup:LF,leftleftarrows:IF,leftrightarrow:PF,LeftRightArrow:_F,Leftrightarrow:BF,leftrightarrows:FF,leftrightharpoons:qF,leftrightsquigarrow:HF,LeftRightVector:VF,LeftTeeArrow:zF,LeftTee:$F,LeftTeeVector:UF,leftthreetimes:jF,LeftTriangleBar:WF,LeftTriangle:GF,LeftTriangleEqual:KF,LeftUpDownVector:JF,LeftUpTeeVector:XF,LeftUpVectorBar:YF,LeftUpVector:QF,LeftVectorBar:ZF,LeftVector:eq,lEg:tq,leg:rq,leq:nq,leqq:iq,leqslant:aq,lescc:oq,les:sq,lesdot:lq,lesdoto:uq,lesdotor:cq,lesg:fq,lesges:dq,lessapprox:hq,lessdot:pq,lesseqgtr:vq,lesseqqgtr:mq,LessEqualGreater:gq,LessFullEqual:yq,LessGreater:bq,lessgtr:wq,LessLess:kq,lesssim:Cq,LessSlantEqual:Tq,LessTilde:xq,lfisht:Sq,lfloor:Eq,Lfr:Mq,lfr:Oq,lg:Aq,lgE:Nq,lHar:Dq,lhard:Rq,lharu:Lq,lharul:Iq,lhblk:Pq,LJcy:_q,ljcy:Bq,llarr:Fq,ll:qq,Ll:Hq,llcorner:Vq,Lleftarrow:zq,llhard:$q,lltri:Uq,Lmidot:jq,lmidot:Wq,lmoustache:Gq,lmoust:Kq,lnap:Jq,lnapprox:Xq,lne:Yq,lnE:Qq,lneq:Zq,lneqq:eH,lnsim:tH,loang:rH,loarr:nH,lobrk:iH,longleftarrow:aH,LongLeftArrow:oH,Longleftarrow:sH,longleftrightarrow:lH,LongLeftRightArrow:uH,Longleftrightarrow:cH,longmapsto:fH,longrightarrow:dH,LongRightArrow:hH,Longrightarrow:pH,looparrowleft:vH,looparrowright:mH,lopar:gH,Lopf:yH,lopf:bH,loplus:wH,lotimes:kH,lowast:CH,lowbar:TH,LowerLeftArrow:xH,LowerRightArrow:SH,loz:EH,lozenge:MH,lozf:OH,lpar:AH,lparlt:NH,lrarr:DH,lrcorner:RH,lrhar:LH,lrhard:IH,lrm:PH,lrtri:_H,lsaquo:BH,lscr:FH,Lscr:qH,lsh:HH,Lsh:VH,lsim:zH,lsime:$H,lsimg:UH,lsqb:jH,lsquo:WH,lsquor:GH,Lstrok:KH,lstrok:JH,ltcc:XH,ltcir:YH,lt:QH,LT:ZH,Lt:e2,ltdot:t2,lthree:r2,ltimes:n2,ltlarr:i2,ltquest:a2,ltri:o2,ltrie:s2,ltrif:l2,ltrPar:u2,lurdshar:c2,luruhar:f2,lvertneqq:d2,lvnE:h2,macr:p2,male:v2,malt:m2,maltese:g2,Map:"",map:y2,mapsto:b2,mapstodown:w2,mapstoleft:k2,mapstoup:C2,marker:T2,mcomma:x2,Mcy:S2,mcy:E2,mdash:M2,mDDot:O2,measuredangle:A2,MediumSpace:N2,Mellintrf:D2,Mfr:R2,mfr:L2,mho:I2,micro:P2,midast:_2,midcir:B2,mid:F2,middot:q2,minusb:H2,minus:V2,minusd:z2,minusdu:$2,MinusPlus:U2,mlcp:j2,mldr:W2,mnplus:G2,models:K2,Mopf:J2,mopf:X2,mp:Y2,mscr:Q2,Mscr:Z2,mstpos:eV,Mu:tV,mu:rV,multimap:nV,mumap:iV,nabla:aV,Nacute:oV,nacute:sV,nang:lV,nap:uV,napE:cV,napid:fV,napos:dV,napprox:hV,natural:pV,naturals:vV,natur:mV,nbsp:gV,nbump:yV,nbumpe:bV,ncap:wV,Ncaron:kV,ncaron:CV,Ncedil:TV,ncedil:xV,ncong:SV,ncongdot:EV,ncup:MV,Ncy:OV,ncy:AV,ndash:NV,nearhk:DV,nearr:RV,neArr:LV,nearrow:IV,ne:PV,nedot:_V,NegativeMediumSpace:BV,NegativeThickSpace:FV,NegativeThinSpace:qV,NegativeVeryThinSpace:HV,nequiv:VV,nesear:zV,nesim:$V,NestedGreaterGreater:UV,NestedLessLess:jV,NewLine:WV,nexist:GV,nexists:KV,Nfr:JV,nfr:XV,ngE:YV,nge:QV,ngeq:ZV,ngeqq:ez,ngeqslant:tz,nges:rz,nGg:nz,ngsim:iz,nGt:az,ngt:oz,ngtr:sz,nGtv:lz,nharr:uz,nhArr:cz,nhpar:fz,ni:dz,nis:hz,nisd:pz,niv:vz,NJcy:mz,njcy:gz,nlarr:yz,nlArr:bz,nldr:wz,nlE:kz,nle:Cz,nleftarrow:Tz,nLeftarrow:xz,nleftrightarrow:Sz,nLeftrightarrow:Ez,nleq:Mz,nleqq:Oz,nleqslant:Az,nles:Nz,nless:Dz,nLl:Rz,nlsim:Lz,nLt:Iz,nlt:Pz,nltri:_z,nltrie:Bz,nLtv:Fz,nmid:qz,NoBreak:Hz,NonBreakingSpace:Vz,nopf:zz,Nopf:$z,Not:Uz,not:jz,NotCongruent:Wz,NotCupCap:Gz,NotDoubleVerticalBar:Kz,NotElement:Jz,NotEqual:Xz,NotEqualTilde:Yz,NotExists:Qz,NotGreater:Zz,NotGreaterEqual:e$,NotGreaterFullEqual:t$,NotGreaterGreater:r$,NotGreaterLess:n$,NotGreaterSlantEqual:i$,NotGreaterTilde:a$,NotHumpDownHump:o$,NotHumpEqual:s$,notin:l$,notindot:u$,notinE:c$,notinva:f$,notinvb:d$,notinvc:h$,NotLeftTriangleBar:p$,NotLeftTriangle:v$,NotLeftTriangleEqual:m$,NotLess:g$,NotLessEqual:y$,NotLessGreater:b$,NotLessLess:w$,NotLessSlantEqual:k$,NotLessTilde:C$,NotNestedGreaterGreater:T$,NotNestedLessLess:x$,notni:S$,notniva:E$,notnivb:M$,notnivc:O$,NotPrecedes:A$,NotPrecedesEqual:N$,NotPrecedesSlantEqual:D$,NotReverseElement:R$,NotRightTriangleBar:L$,NotRightTriangle:I$,NotRightTriangleEqual:P$,NotSquareSubset:_$,NotSquareSubsetEqual:B$,NotSquareSuperset:F$,NotSquareSupersetEqual:q$,NotSubset:H$,NotSubsetEqual:V$,NotSucceeds:z$,NotSucceedsEqual:$$,NotSucceedsSlantEqual:U$,NotSucceedsTilde:j$,NotSuperset:W$,NotSupersetEqual:G$,NotTilde:K$,NotTildeEqual:J$,NotTildeFullEqual:X$,NotTildeTilde:Y$,NotVerticalBar:Q$,nparallel:Z$,npar:eU,nparsl:tU,npart:rU,npolint:nU,npr:iU,nprcue:aU,nprec:oU,npreceq:sU,npre:lU,nrarrc:uU,nrarr:cU,nrArr:fU,nrarrw:dU,nrightarrow:hU,nRightarrow:pU,nrtri:vU,nrtrie:mU,nsc:gU,nsccue:yU,nsce:bU,Nscr:wU,nscr:kU,nshortmid:CU,nshortparallel:TU,nsim:xU,nsime:SU,nsimeq:EU,nsmid:MU,nspar:OU,nsqsube:AU,nsqsupe:NU,nsub:DU,nsubE:RU,nsube:LU,nsubset:IU,nsubseteq:PU,nsubseteqq:_U,nsucc:BU,nsucceq:FU,nsup:qU,nsupE:HU,nsupe:VU,nsupset:zU,nsupseteq:$U,nsupseteqq:UU,ntgl:jU,Ntilde:WU,ntilde:GU,ntlg:KU,ntriangleleft:JU,ntrianglelefteq:XU,ntriangleright:YU,ntrianglerighteq:QU,Nu:ZU,nu:e3,num:t3,numero:r3,numsp:n3,nvap:i3,nvdash:a3,nvDash:o3,nVdash:s3,nVDash:l3,nvge:u3,nvgt:c3,nvHarr:f3,nvinfin:d3,nvlArr:h3,nvle:p3,nvlt:v3,nvltrie:m3,nvrArr:g3,nvrtrie:y3,nvsim:b3,nwarhk:w3,nwarr:k3,nwArr:C3,nwarrow:T3,nwnear:x3,Oacute:S3,oacute:E3,oast:M3,Ocirc:O3,ocirc:A3,ocir:N3,Ocy:D3,ocy:R3,odash:L3,Odblac:I3,odblac:P3,odiv:_3,odot:B3,odsold:F3,OElig:q3,oelig:H3,ofcir:V3,Ofr:z3,ofr:$3,ogon:U3,Ograve:j3,ograve:W3,ogt:G3,ohbar:K3,ohm:J3,oint:X3,olarr:Y3,olcir:Q3,olcross:Z3,oline:ej,olt:tj,Omacr:rj,omacr:nj,Omega:ij,omega:aj,Omicron:oj,omicron:sj,omid:lj,ominus:uj,Oopf:cj,oopf:fj,opar:dj,OpenCurlyDoubleQuote:hj,OpenCurlyQuote:pj,operp:vj,oplus:mj,orarr:gj,Or:yj,or:bj,ord:wj,order:kj,orderof:Cj,ordf:Tj,ordm:xj,origof:Sj,oror:Ej,orslope:Mj,orv:Oj,oS:Aj,Oscr:Nj,oscr:Dj,Oslash:Rj,oslash:Lj,osol:Ij,Otilde:Pj,otilde:_j,otimesas:Bj,Otimes:Fj,otimes:qj,Ouml:Hj,ouml:Vj,ovbar:zj,OverBar:$j,OverBrace:Uj,OverBracket:jj,OverParenthesis:Wj,para:Gj,parallel:Kj,par:Jj,parsim:Xj,parsl:Yj,part:Qj,PartialD:Zj,Pcy:eW,pcy:tW,percnt:rW,period:nW,permil:iW,perp:aW,pertenk:oW,Pfr:sW,pfr:lW,Phi:uW,phi:cW,phiv:fW,phmmat:dW,phone:hW,Pi:pW,pi:vW,pitchfork:mW,piv:gW,planck:yW,planckh:bW,plankv:wW,plusacir:kW,plusb:CW,pluscir:TW,plus:xW,plusdo:SW,plusdu:EW,pluse:MW,PlusMinus:OW,plusmn:AW,plussim:NW,plustwo:DW,pm:RW,Poincareplane:LW,pointint:IW,popf:PW,Popf:_W,pound:BW,prap:FW,Pr:qW,pr:HW,prcue:VW,precapprox:zW,prec:$W,preccurlyeq:UW,Precedes:jW,PrecedesEqual:WW,PrecedesSlantEqual:GW,PrecedesTilde:KW,preceq:JW,precnapprox:XW,precneqq:YW,precnsim:QW,pre:ZW,prE:e4,precsim:t4,prime:r4,Prime:n4,primes:i4,prnap:a4,prnE:o4,prnsim:s4,prod:l4,Product:u4,profalar:c4,profline:f4,profsurf:d4,prop:h4,Proportional:p4,Proportion:v4,propto:m4,prsim:g4,prurel:y4,Pscr:b4,pscr:w4,Psi:k4,psi:C4,puncsp:T4,Qfr:x4,qfr:S4,qint:E4,qopf:M4,Qopf:O4,qprime:A4,Qscr:N4,qscr:D4,quaternions:R4,quatint:L4,quest:I4,questeq:P4,quot:_4,QUOT:B4,rAarr:F4,race:q4,Racute:H4,racute:V4,radic:z4,raemptyv:$4,rang:U4,Rang:j4,rangd:W4,range:G4,rangle:K4,raquo:J4,rarrap:X4,rarrb:Y4,rarrbfs:Q4,rarrc:Z4,rarr:e5,Rarr:t5,rArr:r5,rarrfs:n5,rarrhk:i5,rarrlp:a5,rarrpl:o5,rarrsim:s5,Rarrtl:l5,rarrtl:u5,rarrw:c5,ratail:f5,rAtail:d5,ratio:h5,rationals:p5,rbarr:v5,rBarr:m5,RBarr:g5,rbbrk:y5,rbrace:b5,rbrack:w5,rbrke:k5,rbrksld:C5,rbrkslu:T5,Rcaron:x5,rcaron:S5,Rcedil:E5,rcedil:M5,rceil:O5,rcub:A5,Rcy:N5,rcy:D5,rdca:R5,rdldhar:L5,rdquo:I5,rdquor:P5,rdsh:_5,real:B5,realine:F5,realpart:q5,reals:H5,Re:V5,rect:z5,reg:$5,REG:U5,ReverseElement:j5,ReverseEquilibrium:W5,ReverseUpEquilibrium:G5,rfisht:K5,rfloor:J5,rfr:X5,Rfr:Y5,rHar:Q5,rhard:Z5,rharu:eG,rharul:tG,Rho:rG,rho:nG,rhov:iG,RightAngleBracket:aG,RightArrowBar:oG,rightarrow:sG,RightArrow:lG,Rightarrow:uG,RightArrowLeftArrow:cG,rightarrowtail:fG,RightCeiling:dG,RightDoubleBracket:hG,RightDownTeeVector:pG,RightDownVectorBar:vG,RightDownVector:mG,RightFloor:gG,rightharpoondown:yG,rightharpoonup:bG,rightleftarrows:wG,rightleftharpoons:kG,rightrightarrows:CG,rightsquigarrow:TG,RightTeeArrow:xG,RightTee:SG,RightTeeVector:EG,rightthreetimes:MG,RightTriangleBar:OG,RightTriangle:AG,RightTriangleEqual:NG,RightUpDownVector:DG,RightUpTeeVector:RG,RightUpVectorBar:LG,RightUpVector:IG,RightVectorBar:PG,RightVector:_G,ring:BG,risingdotseq:FG,rlarr:qG,rlhar:HG,rlm:VG,rmoustache:zG,rmoust:$G,rnmid:UG,roang:jG,roarr:WG,robrk:GG,ropar:KG,ropf:JG,Ropf:XG,roplus:YG,rotimes:QG,RoundImplies:ZG,rpar:e6,rpargt:t6,rppolint:r6,rrarr:n6,Rrightarrow:i6,rsaquo:a6,rscr:o6,Rscr:s6,rsh:l6,Rsh:u6,rsqb:c6,rsquo:f6,rsquor:d6,rthree:h6,rtimes:p6,rtri:v6,rtrie:m6,rtrif:g6,rtriltri:y6,RuleDelayed:b6,ruluhar:w6,rx:k6,Sacute:C6,sacute:T6,sbquo:x6,scap:S6,Scaron:E6,scaron:M6,Sc:O6,sc:A6,sccue:N6,sce:D6,scE:R6,Scedil:L6,scedil:I6,Scirc:P6,scirc:_6,scnap:B6,scnE:F6,scnsim:q6,scpolint:H6,scsim:V6,Scy:z6,scy:$6,sdotb:U6,sdot:j6,sdote:W6,searhk:G6,searr:K6,seArr:J6,searrow:X6,sect:Y6,semi:Q6,seswar:Z6,setminus:e8,setmn:t8,sext:r8,Sfr:n8,sfr:i8,sfrown:a8,sharp:o8,SHCHcy:s8,shchcy:l8,SHcy:u8,shcy:c8,ShortDownArrow:f8,ShortLeftArrow:d8,shortmid:h8,shortparallel:p8,ShortRightArrow:v8,ShortUpArrow:m8,shy:g8,Sigma:y8,sigma:b8,sigmaf:w8,sigmav:k8,sim:C8,simdot:T8,sime:x8,simeq:S8,simg:E8,simgE:M8,siml:O8,simlE:A8,simne:N8,simplus:D8,simrarr:R8,slarr:L8,SmallCircle:I8,smallsetminus:P8,smashp:_8,smeparsl:B8,smid:F8,smile:q8,smt:H8,smte:V8,smtes:z8,SOFTcy:$8,softcy:U8,solbar:j8,solb:W8,sol:G8,Sopf:K8,sopf:J8,spades:X8,spadesuit:Y8,spar:Q8,sqcap:Z8,sqcaps:eK,sqcup:tK,sqcups:rK,Sqrt:nK,sqsub:iK,sqsube:aK,sqsubset:oK,sqsubseteq:sK,sqsup:lK,sqsupe:uK,sqsupset:cK,sqsupseteq:fK,square:dK,Square:hK,SquareIntersection:pK,SquareSubset:vK,SquareSubsetEqual:mK,SquareSuperset:gK,SquareSupersetEqual:yK,SquareUnion:bK,squarf:wK,squ:kK,squf:CK,srarr:TK,Sscr:xK,sscr:SK,ssetmn:EK,ssmile:MK,sstarf:OK,Star:AK,star:NK,starf:DK,straightepsilon:RK,straightphi:LK,strns:IK,sub:PK,Sub:_K,subdot:BK,subE:FK,sube:qK,subedot:HK,submult:VK,subnE:zK,subne:$K,subplus:UK,subrarr:jK,subset:WK,Subset:GK,subseteq:KK,subseteqq:JK,SubsetEqual:XK,subsetneq:YK,subsetneqq:QK,subsim:ZK,subsub:e9,subsup:t9,succapprox:r9,succ:n9,succcurlyeq:i9,Succeeds:a9,SucceedsEqual:o9,SucceedsSlantEqual:s9,SucceedsTilde:l9,succeq:u9,succnapprox:c9,succneqq:f9,succnsim:d9,succsim:h9,SuchThat:p9,sum:v9,Sum:m9,sung:g9,sup1:y9,sup2:b9,sup3:w9,sup:k9,Sup:C9,supdot:T9,supdsub:x9,supE:S9,supe:E9,supedot:M9,Superset:O9,SupersetEqual:A9,suphsol:N9,suphsub:D9,suplarr:R9,supmult:L9,supnE:I9,supne:P9,supplus:_9,supset:B9,Supset:F9,supseteq:q9,supseteqq:H9,supsetneq:V9,supsetneqq:z9,supsim:$9,supsub:U9,supsup:j9,swarhk:W9,swarr:G9,swArr:K9,swarrow:J9,swnwar:X9,szlig:Y9,Tab:Q9,target:Z9,Tau:eJ,tau:tJ,tbrk:rJ,Tcaron:nJ,tcaron:iJ,Tcedil:aJ,tcedil:oJ,Tcy:sJ,tcy:lJ,tdot:uJ,telrec:cJ,Tfr:fJ,tfr:dJ,there4:hJ,therefore:pJ,Therefore:vJ,Theta:mJ,theta:gJ,thetasym:yJ,thetav:bJ,thickapprox:wJ,thicksim:kJ,ThickSpace:CJ,ThinSpace:TJ,thinsp:xJ,thkap:SJ,thksim:EJ,THORN:MJ,thorn:OJ,tilde:AJ,Tilde:NJ,TildeEqual:DJ,TildeFullEqual:RJ,TildeTilde:LJ,timesbar:IJ,timesb:PJ,times:_J,timesd:BJ,tint:FJ,toea:qJ,topbot:HJ,topcir:VJ,top:zJ,Topf:$J,topf:UJ,topfork:jJ,tosa:WJ,tprime:GJ,trade:KJ,TRADE:JJ,triangle:XJ,triangledown:YJ,triangleleft:QJ,trianglelefteq:ZJ,triangleq:e7,triangleright:t7,trianglerighteq:r7,tridot:n7,trie:i7,triminus:a7,TripleDot:o7,triplus:s7,trisb:l7,tritime:u7,trpezium:c7,Tscr:f7,tscr:d7,TScy:h7,tscy:p7,TSHcy:v7,tshcy:m7,Tstrok:g7,tstrok:y7,twixt:b7,twoheadleftarrow:w7,twoheadrightarrow:k7,Uacute:C7,uacute:T7,uarr:x7,Uarr:S7,uArr:E7,Uarrocir:M7,Ubrcy:O7,ubrcy:A7,Ubreve:N7,ubreve:D7,Ucirc:R7,ucirc:L7,Ucy:I7,ucy:P7,udarr:_7,Udblac:B7,udblac:F7,udhar:q7,ufisht:H7,Ufr:V7,ufr:z7,Ugrave:$7,ugrave:U7,uHar:j7,uharl:W7,uharr:G7,uhblk:K7,ulcorn:J7,ulcorner:X7,ulcrop:Y7,ultri:Q7,Umacr:Z7,umacr:eX,uml:tX,UnderBar:rX,UnderBrace:nX,UnderBracket:iX,UnderParenthesis:aX,Union:oX,UnionPlus:sX,Uogon:lX,uogon:uX,Uopf:cX,uopf:fX,UpArrowBar:dX,uparrow:hX,UpArrow:pX,Uparrow:vX,UpArrowDownArrow:mX,updownarrow:gX,UpDownArrow:yX,Updownarrow:bX,UpEquilibrium:wX,upharpoonleft:kX,upharpoonright:CX,uplus:TX,UpperLeftArrow:xX,UpperRightArrow:SX,upsi:EX,Upsi:MX,upsih:OX,Upsilon:AX,upsilon:NX,UpTeeArrow:DX,UpTee:RX,upuparrows:LX,urcorn:IX,urcorner:PX,urcrop:_X,Uring:BX,uring:FX,urtri:qX,Uscr:HX,uscr:VX,utdot:zX,Utilde:$X,utilde:UX,utri:jX,utrif:WX,uuarr:GX,Uuml:KX,uuml:JX,uwangle:XX,vangrt:YX,varepsilon:QX,varkappa:ZX,varnothing:eY,varphi:tY,varpi:rY,varpropto:nY,varr:iY,vArr:aY,varrho:oY,varsigma:sY,varsubsetneq:lY,varsubsetneqq:uY,varsupsetneq:cY,varsupsetneqq:fY,vartheta:dY,vartriangleleft:hY,vartriangleright:pY,vBar:vY,Vbar:mY,vBarv:gY,Vcy:yY,vcy:bY,vdash:wY,vDash:kY,Vdash:CY,VDash:TY,Vdashl:xY,veebar:SY,vee:EY,Vee:MY,veeeq:OY,vellip:AY,verbar:NY,Verbar:DY,vert:RY,Vert:LY,VerticalBar:IY,VerticalLine:PY,VerticalSeparator:_Y,VerticalTilde:BY,VeryThinSpace:FY,Vfr:qY,vfr:HY,vltri:VY,vnsub:zY,vnsup:$Y,Vopf:UY,vopf:jY,vprop:WY,vrtri:GY,Vscr:KY,vscr:JY,vsubnE:XY,vsubne:YY,vsupnE:QY,vsupne:ZY,Vvdash:eQ,vzigzag:tQ,Wcirc:rQ,wcirc:nQ,wedbar:iQ,wedge:aQ,Wedge:oQ,wedgeq:sQ,weierp:lQ,Wfr:uQ,wfr:cQ,Wopf:fQ,wopf:dQ,wp:hQ,wr:pQ,wreath:vQ,Wscr:mQ,wscr:gQ,xcap:yQ,xcirc:bQ,xcup:wQ,xdtri:kQ,Xfr:CQ,xfr:TQ,xharr:xQ,xhArr:SQ,Xi:EQ,xi:MQ,xlarr:OQ,xlArr:AQ,xmap:NQ,xnis:DQ,xodot:RQ,Xopf:LQ,xopf:IQ,xoplus:PQ,xotime:_Q,xrarr:BQ,xrArr:FQ,Xscr:qQ,xscr:HQ,xsqcup:VQ,xuplus:zQ,xutri:$Q,xvee:UQ,xwedge:jQ,Yacute:WQ,yacute:GQ,YAcy:KQ,yacy:JQ,Ycirc:XQ,ycirc:YQ,Ycy:QQ,ycy:ZQ,yen:eZ,Yfr:tZ,yfr:rZ,YIcy:nZ,yicy:iZ,Yopf:aZ,yopf:oZ,Yscr:sZ,yscr:lZ,YUcy:uZ,yucy:cZ,yuml:fZ,Yuml:dZ,Zacute:hZ,zacute:pZ,Zcaron:vZ,zcaron:mZ,Zcy:gZ,zcy:yZ,Zdot:bZ,zdot:wZ,zeetrf:kZ,ZeroWidthSpace:CZ,Zeta:TZ,zeta:xZ,zfr:SZ,Zfr:EZ,ZHcy:MZ,zhcy:OZ,zigrarr:AZ,zopf:NZ,Zopf:DZ,Zscr:RZ,zscr:LZ,zwj:IZ,zwnj:PZ},_Z="",BZ="",FZ="",qZ="",HZ="",VZ="",zZ="",$Z="",UZ="",jZ="&",WZ="&",GZ="",KZ="",JZ="",XZ="",YZ="",QZ="",ZZ="",eee="",tee="",ree="",nee="",iee="",aee="",oee="",see="",lee="",uee="",cee="",fee="",dee="",hee="",pee="",vee="",mee="",gee="",yee="",bee="",wee="",kee="",Cee=">",Tee=">",xee="",See="",Eee="",Mee="",Oee="",Aee="",Nee="",Dee="",Ree="",Lee="",Iee="",Pee="<",_ee="<",Bee="",Fee="",qee="",Hee="",Vee="",zee="",$ee="",Uee="",jee="",Wee="",Gee="",Kee="",Jee="",Xee="",Yee="",Qee="",Zee="",ete="",tte="",rte="",nte="",ite="",ate="",ote="",ste='"',lte='"',ute="",cte="",fte="",dte="",hte="",pte="",vte="",mte="",gte="",yte="",bte="",wte="",kte="",Cte="",Tte="",xte="",Ste="",Ete="",Mte="",Ote="",Ate="",Nte="",Dte="",Rte="",Lte="",Ite={Aacute:_Z,aacute:BZ,Acirc:FZ,acirc:qZ,acute:HZ,AElig:VZ,aelig:zZ,Agrave:$Z,agrave:UZ,amp:jZ,AMP:WZ,Aring:GZ,aring:KZ,Atilde:JZ,atilde:XZ,Auml:YZ,auml:QZ,brvbar:ZZ,Ccedil:eee,ccedil:tee,cedil:ree,cent:nee,copy:iee,COPY:aee,curren:oee,deg:see,divide:lee,Eacute:uee,eacute:cee,Ecirc:fee,ecirc:dee,Egrave:hee,egrave:pee,ETH:vee,eth:mee,Euml:gee,euml:yee,frac12:bee,frac14:wee,frac34:kee,gt:Cee,GT:Tee,Iacute:xee,iacute:See,Icirc:Eee,icirc:Mee,iexcl:Oee,Igrave:Aee,igrave:Nee,iquest:Dee,Iuml:Ree,iuml:Lee,laquo:Iee,lt:Pee,LT:_ee,macr:Bee,micro:Fee,middot:qee,nbsp:Hee,not:Vee,Ntilde:zee,ntilde:$ee,Oacute:Uee,oacute:jee,Ocirc:Wee,ocirc:Gee,Ograve:Kee,ograve:Jee,ordf:Xee,ordm:Yee,Oslash:Qee,oslash:Zee,Otilde:ete,otilde:tte,Ouml:rte,ouml:nte,para:ite,plusmn:ate,pound:ote,quot:ste,QUOT:lte,raquo:ute,reg:cte,REG:fte,sect:dte,shy:hte,sup1:pte,sup2:vte,sup3:mte,szlig:gte,THORN:yte,thorn:bte,times:wte,Uacute:kte,uacute:Cte,Ucirc:Tte,ucirc:xte,Ugrave:Ste,ugrave:Ete,uml:Mte,Uuml:Ote,uuml:Ate,Yacute:Nte,yacute:Dte,yen:Rte,yuml:Lte},Pte="&",_te="'",Bte=">",Fte="<",qte='"',my={amp:Pte,apos:_te,gt:Bte,lt:Fte,quot:qte},np={},Hte={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Vte=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(np,"__esModule",{value:!0});var gy=Vte(Hte),zte=String.fromCodePoint||function(v){var h="";return v>65535&&(v-=65536,h+=String.fromCharCode(v>>>10&1023|55296),v=56320|v&1023),h+=String.fromCharCode(v),h};function $te(v){return v>=55296&&v<=57343||v>1114111?"":(v in gy.default&&(v=gy.default[v]),zte(v))}np.default=$te;var Lc=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(se,"__esModule",{value:!0}),se.decodeHTML=se.decodeHTMLStrict=se.decodeXML=void 0;var ip=Lc(vy),Ute=Lc(Ite),jte=Lc(my),yy=Lc(np),Wte=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;se.decodeXML=by(jte.default),se.decodeHTMLStrict=by(ip.default);function by(v){var h=ky(v);return function(w){return String(w).replace(Wte,h)}}var wy=function(v,h){return v<h?1:-1};se.decodeHTML=(function(){for(var v=Object.keys(Ute.default).sort(wy),h=Object.keys(ip.default).sort(wy),w=0,E=0;w<h.length;w++)v[E]===h[w]?(h[w]+=";?",E++):h[w]+=";";var P=new RegExp("&(?:"+h.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),j=ky(ip.default);function Q(ue){return ue.substr(-1)!==";"&&(ue+=";"),j(ue)}return function(ue){return String(ue).replace(P,Q)}})();function ky(v){return function(w){if(w.charAt(1)==="#"){var E=w.charAt(2);return E==="X"||E==="x"?yy.default(parseInt(w.substr(3),16)):yy.default(parseInt(w.substr(2),10))}return v[w.slice(1,-1)]||w}}var Qn={},Cy=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.escapeUTF8=Qn.escape=Qn.encodeNonAsciiHTML=Qn.encodeHTML=Qn.encodeXML=void 0;var Gte=Cy(my),Ty=Sy(Gte.default),xy=Ey(Ty);Qn.encodeXML=Ay(Ty);var Kte=Cy(vy),ap=Sy(Kte.default),Jte=Ey(ap);Qn.encodeHTML=Yte(ap,Jte),Qn.encodeNonAsciiHTML=Ay(ap);function Sy(v){return Object.keys(v).sort().reduce(function(h,w){return h[v[w]]="&"+w+";",h},{})}function Ey(v){for(var h=[],w=[],E=0,P=Object.keys(v);E<P.length;E++){var j=P[E];j.length===1?h.push("\\"+j):w.push(j)}h.sort();for(var Q=0;Q<h.length-1;Q++){for(var ue=Q;ue<h.length-1&&h[ue].charCodeAt(1)+1===h[ue+1].charCodeAt(1);)ue+=1;var Le=1+ue-Q;Le<3||h.splice(Q,Le,h[Q]+"-"+h[ue])}return w.unshift("["+h.join("")+"]"),new RegExp(w.join("|"),"g")}var My=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,Xte=String.prototype.codePointAt!=null?function(v){return v.codePointAt(0)}:function(v){return(v.charCodeAt(0)-55296)*1024+v.charCodeAt(1)-56320+65536};function Ic(v){return"&#x"+(v.length>1?Xte(v):v.charCodeAt(0)).toString(16).toUpperCase()+";"}function Yte(v,h){return function(w){return w.replace(h,function(E){return v[E]}).replace(My,Ic)}}var Oy=new RegExp(xy.source+"|"+My.source,"g");function Qte(v){return v.replace(Oy,Ic)}Qn.escape=Qte;function Zte(v){return v.replace(xy,Ic)}Qn.escapeUTF8=Zte;function Ay(v){return function(h){return h.replace(Oy,function(w){return v[w]||Ic(w)})}}(function(v){Object.defineProperty(v,"__esModule",{value:!0}),v.decodeXMLStrict=v.decodeHTML5Strict=v.decodeHTML4Strict=v.decodeHTML5=v.decodeHTML4=v.decodeHTMLStrict=v.decodeHTML=v.decodeXML=v.encodeHTML5=v.encodeHTML4=v.escapeUTF8=v.escape=v.encodeNonAsciiHTML=v.encodeHTML=v.encodeXML=v.encode=v.decodeStrict=v.decode=void 0;var h=se,w=Qn;function E(Le,Fe){return(!Fe||Fe<=0?h.decodeXML:h.decodeHTML)(Le)}v.decode=E;function P(Le,Fe){return(!Fe||Fe<=0?h.decodeXML:h.decodeHTMLStrict)(Le)}v.decodeStrict=P;function j(Le,Fe){return(!Fe||Fe<=0?w.encodeXML:w.encodeHTML)(Le)}v.encode=j;var Q=Qn;Object.defineProperty(v,"encodeXML",{enumerable:!0,get:function(){return Q.encodeXML}}),Object.defineProperty(v,"encodeHTML",{enumerable:!0,get:function(){return Q.encodeHTML}}),Object.defineProperty(v,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return Q.encodeNonAsciiHTML}}),Object.defineProperty(v,"escape",{enumerable:!0,get:function(){return Q.escape}}),Object.defineProperty(v,"escapeUTF8",{enumerable:!0,get:function(){return Q.escapeUTF8}}),Object.defineProperty(v,"encodeHTML4",{enumerable:!0,get:function(){return Q.encodeHTML}}),Object.defineProperty(v,"encodeHTML5",{enumerable:!0,get:function(){return Q.encodeHTML}});var ue=se;Object.defineProperty(v,"decodeXML",{enumerable:!0,get:function(){return ue.decodeXML}}),Object.defineProperty(v,"decodeHTML",{enumerable:!0,get:function(){return ue.decodeHTML}}),Object.defineProperty(v,"decodeHTMLStrict",{enumerable:!0,get:function(){return ue.decodeHTMLStrict}}),Object.defineProperty(v,"decodeHTML4",{enumerable:!0,get:function(){return ue.decodeHTML}}),Object.defineProperty(v,"decodeHTML5",{enumerable:!0,get:function(){return ue.decodeHTML}}),Object.defineProperty(v,"decodeHTML4Strict",{enumerable:!0,get:function(){return ue.decodeHTMLStrict}}),Object.defineProperty(v,"decodeHTML5Strict",{enumerable:!0,get:function(){return ue.decodeHTMLStrict}}),Object.defineProperty(v,"decodeXMLStrict",{enumerable:!0,get:function(){return ue.decodeXML}})})(le);var Ny="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",ere=92,tre=/[\\&]/,op="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",rre=new RegExp("\\\\"+op+"|"+Ny,"gi"),nre='[&<>"]',Dy=new RegExp(nre,"g"),ire=function(v){return v.charCodeAt(0)===ere?v.charAt(1):le.decodeHTML(v)};function Ql(v){return tre.test(v)?v.replace(rre,ire):v}function Pc(v){try{return ce(v)}catch{return v}}function are(v){switch(v){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return v}}function $s(v){return Dy.test(v)?v.replace(Dy,are):v}function sp(v,h){for(var w=[],E=0;E<h;E++)w.push(v);return w.join("")}function Ry(v){return v?!/[^ \t]+/.test(v):!0}var ore=(function(){function v(h){this.current=h,this.root=h,this.entering=!0}return v.prototype.next=function(){var h=this.current,w=this.entering;if(h===null)return null;var E=lp(h);return w&&E?h.firstChild?(this.current=h.firstChild,this.entering=!0):this.entering=!1:h===this.root?this.current=null:h.next===null?(this.current=h.parent,this.entering=!1):(this.current=h.next,this.entering=!0),{entering:w,node:h}},v.prototype.resumeAt=function(h,w){this.current=h,this.entering=w===!0},v})();function lp(v){switch(v.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var sre=1,_c={};function lre(v){return _c[v]}function up(v){delete _c[v]}function ure(){_c={}}var Zl=(function(){function v(h,w){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,h==="document"?this.id=-1:this.id=sre++,this.type=h,this.sourcepos=w,_c[this.id]=this}return v.prototype.isContainer=function(){return lp(this)},v.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},v.prototype.replaceWith=function(h){this.insertBefore(h),this.unlink()},v.prototype.insertAfter=function(h){h.unlink(),h.next=this.next,h.next&&(h.next.prev=h),h.prev=this,this.next=h,this.parent&&(h.parent=this.parent,h.next||(h.parent.lastChild=h))},v.prototype.insertBefore=function(h){h.unlink(),h.prev=this.prev,h.prev&&(h.prev.next=h),h.next=this,this.prev=h,h.parent=this.parent,h.prev||(h.parent.firstChild=h)},v.prototype.appendChild=function(h){h.unlink(),h.parent=this,this.lastChild?(this.lastChild.next=h,h.prev=this.lastChild,this.lastChild=h):(this.firstChild=h,this.lastChild=h)},v.prototype.prependChild=function(h){h.unlink(),h.parent=this,this.firstChild?(this.firstChild.prev=h,h.next=this.firstChild,this.firstChild=h):(this.firstChild=h,this.lastChild=h)},v.prototype.walker=function(){return new ore(this)},v})(),ba=(function(v){T(h,v);function h(w,E){var P=v.call(this,w,E)||this;return P.open=!0,P.lineOffsets=null,P.stringContent=null,P.lastLineBlank=!1,P.lastLineChecked=!1,P.type=w,P}return h})(Zl),cre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.listData=null,w}return h})(ba),fre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.level=0,w.headingType="atx",w}return h})(ba),dre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.isFenced=!1,w.fenceChar=null,w.fenceLength=0,w.fenceOffset=-1,w.info=null,w.infoPadding=0,w}return h})(ba),hre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.columns=[],w}return h})(ba),pre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.startIdx=0,w.endIdx=0,w.paddingLeft=0,w.paddingRight=0,w.ignored=!1,w}return h})(ba),vre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.title="",w.dest="",w.label="",w}return h})(ba),mre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.syntaxLength=0,w.offset=-1,w.info="",w}return h})(ba),gre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.htmlBlockType=-1,w}return h})(ba),yre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.destination=null,w.title=null,w.extendedAutolink=!1,w}return h})(Zl),bre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.tickCount=0,w}return h})(Zl),wre=(function(v){T(h,v);function h(){var w=v!==null&&v.apply(this,arguments)||this;return w.info="",w}return h})(Zl);function Nr(v,h){switch(v){case"heading":return new fre(v,h);case"list":case"item":return new cre(v,h);case"link":case"image":return new yre(v,h);case"codeBlock":return new dre(v,h);case"htmlBlock":return new gre(v,h);case"table":return new hre(v,h);case"tableCell":return new pre(v,h);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new ba(v,h);case"code":return new bre(v,h);case"refDef":return new vre(v,h);case"customBlock":return new mre(v,h);case"customInline":return new wre(v,h);default:return new Zl(v,h)}}function Ly(v){return v.type==="codeBlock"}function kre(v){return v.type==="htmlBlock"}function Cre(v){return v.type==="heading"}function Iy(v){return v.type==="list"}function Tre(v){return v.type==="table"}function Us(v){return v.type==="refDef"}function Py(v){return v.type==="customBlock"}function xre(v){return v.type==="customInline"}function qr(v,h){var w=Nr("text",h);return w.literal=v,w}var _y="[A-Za-z][A-Za-z0-9-]*",Sre="[a-zA-Z_:][a-zA-Z0-9:._-]*",Ere="[^\"'=<>`\\x00-\\x20]+",Mre="'[^']*'",Ore='"[^"]*"',Are="(?:"+Ere+"|"+Mre+"|"+Ore+")",Nre="(?:\\s*=\\s*"+Are+")",Dre="(?:\\s+"+Sre+Nre+"?)",By="<"+_y+Dre+"*\\s*/?>",Fy="</"+_y+"\\s*[>]",Rre="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Lre="[<][?].*?[?][>]",Ire="<![A-Z]+\\s+[^>]*>",Pre="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",_re="(?:"+By+"|"+Fy+"|"+Rre+"|"+Lre+"|"+Ire+"|"+Pre+")",Bre=new RegExp("^"+_re,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var cp;if(String.fromCodePoint)cp=function(v){try{return String.fromCodePoint(v)}catch(h){if(h instanceof RangeError)return"";throw h}};else{var Fre=String.fromCharCode,qre=Math.floor;cp=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var w=16384,E=[],P,j,Q=-1,ue=v.length;if(!ue)return"";for(var Le="";++Q<ue;){var Fe=Number(v[Q]);if(!isFinite(Fe)||Fe<0||Fe>1114111||qre(Fe)!==Fe)return"";Fe<=65535?E.push(Fe):(Fe-=65536,P=(Fe>>10)+55296,j=Fe%1024+56320,E.push(P,j)),(Q+1===ue||E.length>w)&&(Le+=Fre.apply(void 0,E),E.length=0)}return Le}}var fp=cp,Hre="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Vre="[^<\\s]*[^<?!.,:*_?~\\s]",zre="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function $re(v){var h=/\)+$/.exec(v);if(h){for(var w=0,E=0,P=v;E<P.length;E++){var j=P[E];j==="("?w<0?w=1:w+=1:j===")"&&(w-=1)}if(w<0){var Q=Math.min(-w,h[0].length);return v.substring(0,v.length-Q)}}return v}function Ure(v){return v.replace(/&[A-Za-z0-9]+;$/,"")}function jre(v){for(var h=new RegExp(zre,"g"),w=[],E;E=h.exec(v);){var P=E[0];/[_-]+$/.test(P)||w.push({text:P,range:[E.index,E.index+P.length-1],url:"mailto:"+P})}return w}function Wre(v){for(var h=new RegExp("(www|https?://)."+Hre+Vre,"g"),w=[],E;E=h.exec(v);){var P=Ure($re(E[0])),j=E[1]==="www"?"http://":"";w.push({text:P,range:[E.index,E.index+P.length-1],url:""+j+P})}return w}function Gre(v){return N(N([],Wre(v)),jre(v)).sort(function(h,w){return h.range[0]-w.range[0]})}function Kre(v,h){typeof h=="boolean"&&(h=Gre);for(var w,E=function(){var P=w.entering,j=w.node;if(P&&j.type==="text"&&j.parent.type!=="link"){var Q=j.literal,ue=h(Q);if(!ue||!ue.length)return"continue";for(var Le=0,Fe=j.sourcepos[0],at=Fe[0],ut=Fe[1],nt=function(Ta,ioe){return[[at,ut+Ta],[at,ut+ioe]]},Et=[],St=0,er=ue;St<er.length;St++){var Dr=er[St],Wr=Dr.range,wa=Dr.url,mi=Dr.text;Wr[0]>Le&&Et.push(qr(Q.substring(Le,Wr[0]),nt(Le,Wr[0]-1)));var ei=Nr("link",nt.apply(void 0,Wr));ei.appendChild(qr(mi,nt.apply(void 0,Wr))),ei.destination=wa,ei.extendedAutolink=!0,Et.push(ei),Le=Wr[1]+1}Le<Q.length&&Et.push(qr(Q.substring(Le),nt(Le,Q.length-1)));for(var Mi=0,ka=Et;Mi<ka.length;Mi++){var Ca=ka[Mi];j.insertBefore(Ca)}j.unlink()}};w=v.next();)E()}function Bc(v){return v[v.length-1]}function qy(v){return v.slice(1,v.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Fc(v,h){Object.keys(v).forEach(function(w){h(w,v[w])})}function Jre(v){for(var h=[],w=1;w<arguments.length;w++)h[w-1]=arguments[w];var E=M({},v);return h.forEach(function(P){delete E[P]}),E}function js(v){return!Object.keys(v).length}function Xre(v){Object.keys(v).forEach(function(h){delete v[h]})}var dp=10,hp=42,qc=95,Yre=96,Hy=91,Qre=93,Hc=126,Vy=60,Zre=33,zy=92,ene=38,$y=40,pp=41,tne=58,Uo=39,jo=34,Wo=36,vp="\\\\"+op,Uy=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),rne=new RegExp('^(?:"('+vp+'|[^"\\x00])*"|'+("'("+vp+"|[^'\\x00])*'")+"|"+("\\(("+vp+"|[^()\\x00])*\\))")),nne=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,jy=new RegExp("^"+op),ine=new RegExp("^"+Ny,"i"),ane=/`+/,one=/^`+/,sne=/\.\.\./g,lne=/--+/g,une=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,cne=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,fne=/^ *(?:\n *)?/,mp=/^[ \t\n\x0b\x0c\x0d]/,Wy=/^\s/,dne=/ *$/,hne=/^ */,Gy=/^ *(?:\n|$)/,pne=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,vne=/^[^\n`\[\]\\!<&*_'"~$]+/m,mne=(function(){function v(h){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=h}return v.prototype.sourcepos=function(h,w){var E=this.linePosOffset+this.lineOffsets[this.lineIdx],P=this.lineStartNum+this.lineIdx,j=[P,h+E];return typeof w=="number"?[j,[P,w+E]]:j},v.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},v.prototype.match=function(h){var w=h.exec(this.subject.slice(this.pos));return w===null?null:(this.pos+=w.index+w[0].length,w[0])},v.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},v.prototype.spnl=function(){return this.match(fne),!0},v.prototype.parseBackticks=function(h){var w=this.pos+1,E=this.match(one);if(E===null)return!1;for(var P=this.pos,j;(j=this.match(ane))!==null;)if(j===E){var Q=this.subject.slice(P,this.pos-E.length),ue=this.sourcepos(w,this.pos),Le=Q.split(`
`);if(Le.length>1){var Fe=Bc(Le);this.lineIdx+=Le.length-1,this.linePosOffset=-(this.pos-Fe.length-E.length),ue[1]=this.sourcepos(this.pos),Q=Le.join(" ")}var at=Nr("code",ue);return Q.length>0&&Q.match(/[^ ]/)!==null&&Q[0]==" "&&Q[Q.length-1]==" "?at.literal=Q.slice(1,Q.length-1):at.literal=Q,at.tickCount=E.length,h.appendChild(at),!0}return this.pos=P,h.appendChild(qr(E,this.sourcepos(w,this.pos-1))),!0},v.prototype.parseBackslash=function(h){var w=this.subject,E;this.pos+=1;var P=this.pos;return this.peek()===dp?(this.pos+=1,E=Nr("linebreak",this.sourcepos(this.pos-1,this.pos)),h.appendChild(E),this.nextLine()):jy.test(w.charAt(this.pos))?(h.appendChild(qr(w.charAt(this.pos),this.sourcepos(P,this.pos))),this.pos+=1):h.appendChild(qr("\\",this.sourcepos(P,P))),!0},v.prototype.parseAutolink=function(h){var w,E,P,j=this.pos+1;return(w=this.match(une))?(E=w.slice(1,w.length-1),P=Nr("link",this.sourcepos(j,this.pos)),P.destination=Pc("mailto:"+E),P.title="",P.appendChild(qr(E,this.sourcepos(j+1,this.pos-1))),h.appendChild(P),!0):(w=this.match(cne))?(E=w.slice(1,w.length-1),P=Nr("link",this.sourcepos(j,this.pos)),P.destination=Pc(E),P.title="",P.appendChild(qr(E,this.sourcepos(j+1,this.pos-1))),h.appendChild(P),!0):!1},v.prototype.parseHtmlTag=function(h){var w=this.pos+1,E=this.match(Bre);if(E===null)return!1;var P=Nr("htmlInline",this.sourcepos(w,this.pos));return P.literal=E,h.appendChild(P),!0},v.prototype.scanDelims=function(h){var w=0,E=this.pos;if(h===Uo||h===jo)w++,this.pos++;else for(;this.peek()===h;)w++,this.pos++;if(w===0||w<2&&(h===Hc||h===Wo))return this.pos=E,null;var P=E===0?`
`:this.subject.charAt(E-1),j=this.peek(),Q;j===-1?Q=`
`:Q=fp(j);var ue=Wy.test(Q),Le=Uy.test(Q),Fe=Wy.test(P),at=Uy.test(P),ut=!ue&&(!Le||Fe||at),nt=!Fe&&(!at||ue||Le),Et,St;return h===qc?(Et=ut&&(!nt||at),St=nt&&(!ut||Le)):h===Uo||h===jo?(Et=ut&&!nt,St=nt):h===Wo?(Et=!ue,St=!Fe):(Et=ut,St=nt),this.pos=E,{numdelims:w,canOpen:Et,canClose:St}},v.prototype.handleDelim=function(h,w){var E=this.scanDelims(h);if(!E)return!1;var P=E.numdelims,j=this.pos+1,Q;this.pos+=P,h===Uo?Q="":h===jo?Q="":Q=this.subject.slice(j-1,this.pos);var ue=qr(Q,this.sourcepos(j,this.pos));return w.appendChild(ue),(E.canOpen||E.canClose)&&(this.options.smart||h!==Uo&&h!==jo)&&(this.delimiters={cc:h,numdelims:P,origdelims:P,node:ue,previous:this.delimiters,next:null,canOpen:E.canOpen,canClose:E.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},v.prototype.removeDelimiter=function(h){h.previous!==null&&(h.previous.next=h.next),h.next===null?this.delimiters=h.previous:h.next.previous=h.previous},v.prototype.removeDelimitersBetween=function(h,w){h.next!==w&&(h.next=w,w.previous=h)},v.prototype.processEmphasis=function(h){var w,E,P,j,Q,ue,Le,Fe=!1,at=(w={},w[qc]=[h,h,h],w[hp]=[h,h,h],w[Uo]=[h],w[jo]=[h],w[Hc]=[h],w[Wo]=[h],w);for(P=this.delimiters;P!==null&&P.previous!==h;)P=P.previous;for(;P!==null;){var ut=P.cc,nt=ut===qc||ut===hp;if(!P.canClose)P=P.next;else{for(E=P.previous,Le=!1;E!==null&&E!==h&&E!==at[ut][nt?P.origdelims%3:0];){if(Fe=nt&&(P.canOpen||E.canClose)&&P.origdelims%3!==0&&(E.origdelims+P.origdelims)%3===0,E.cc===P.cc&&E.canOpen&&!Fe){Le=!0;break}E=E.previous}if(j=P,nt||ut===Hc||ut===Wo){if(!Le)P=P.next;else if(E){var Et=P.numdelims>=2&&E.numdelims>=2?2:1,St=nt?0:1;Q=E.node,ue=P.node;var er=nt?Et===1?"emph":"strong":"strike";ut===Wo&&(er="customInline");var Dr=Nr(er),Wr=Q.sourcepos[1],wa=ue.sourcepos[0];Dr.sourcepos=[[Wr[0],Wr[1]-Et+1],[wa[0],wa[1]+Et-1]],Q.sourcepos[1][1]-=Et,ue.sourcepos[0][1]+=Et,Q.literal=Q.literal.slice(Et),ue.literal=ue.literal.slice(Et),E.numdelims-=Et,P.numdelims-=Et;for(var mi=Q.next,ei=void 0;mi&&mi!==ue;)ei=mi.next,mi.unlink(),Dr.appendChild(mi),mi=ei;if(ut===Wo){var Mi=Dr.firstChild,ka=Mi.literal||"",Ca=ka.split(/\s/)[0];Dr.info=Ca,ka.length<=Ca.length?Mi.unlink():(Mi.sourcepos[0][1]+=Ca.length,Mi.literal=ka.replace(Ca+" ",""))}if(Q.insertAfter(Dr),this.removeDelimitersBetween(E,P),E.numdelims<=St&&(E.numdelims===0&&Q.unlink(),this.removeDelimiter(E)),P.numdelims<=St){P.numdelims===0&&ue.unlink();var Ta=P.next;this.removeDelimiter(P),P=Ta}}}else ut===Uo?(P.node.literal="",Le&&(E.node.literal=""),P=P.next):ut===jo&&(P.node.literal="",Le&&(E.node.literal=""),P=P.next);Le||(at[ut][nt?j.origdelims%3:0]=j.previous,j.canOpen||this.removeDelimiter(j))}}for(;this.delimiters!==null&&this.delimiters!==h;)this.removeDelimiter(this.delimiters)},v.prototype.parseLinkTitle=function(){var h=this.match(rne);return h===null?null:Ql(h.substr(1,h.length-2))},v.prototype.parseLinkDestination=function(){var h=this.match(nne);if(h===null){if(this.peek()===Vy)return null;for(var w=this.pos,E=0,P=void 0;(P=this.peek())!==-1;)if(P===zy&&jy.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(P===$y)this.pos+=1,E+=1;else if(P===pp){if(E<1)break;this.pos+=1,E-=1}else{if(mp.exec(fp(P))!==null)break;this.pos+=1}return this.pos===w&&P!==pp||E!==0?null:(h=this.subject.substr(w,this.pos-w),Pc(Ql(h)))}return Pc(Ql(h.substr(1,h.length-2)))},v.prototype.parseLinkLabel=function(){var h=this.match(pne);return h===null||h.length>1001?0:h.length},v.prototype.parseOpenBracket=function(h){var w=this.pos;this.pos+=1;var E=qr("[",this.sourcepos(this.pos,this.pos));return h.appendChild(E),this.addBracket(E,w,!1),!0},v.prototype.parseBang=function(h){var w=this.pos;if(this.pos+=1,this.peek()===Hy){this.pos+=1;var E=qr("![",this.sourcepos(this.pos-1,this.pos));h.appendChild(E),this.addBracket(E,w+1,!0)}else{var E=qr("!",this.sourcepos(this.pos,this.pos));h.appendChild(E)}return!0},v.prototype.parseCloseBracket=function(h){var w=null,E=null,P=!1;this.pos+=1;var j=this.pos,Q=this.brackets;if(Q===null)return h.appendChild(qr("]",this.sourcepos(j,j))),!0;if(!Q.active)return h.appendChild(qr("]",this.sourcepos(j,j))),this.removeBracket(),!0;var ue=Q.image,Le=this.pos;this.peek()===$y&&(this.pos++,this.spnl()&&(w=this.parseLinkDestination())!==null&&this.spnl()&&(mp.test(this.subject.charAt(this.pos-1))&&(E=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===pp?(this.pos+=1,P=!0):this.pos=Le);var Fe="";if(!P){var at=this.pos,ut=this.parseLinkLabel();if(ut>2?Fe=this.subject.slice(at,at+ut):Q.bracketAfter||(Fe=this.subject.slice(Q.index,j)),ut===0&&(this.pos=Le),Fe){Fe=qy(Fe);var nt=this.refMap[Fe];nt&&(w=nt.destination,E=nt.title,P=!0)}}if(P){var Et=Nr(ue?"image":"link");Et.destination=w,Et.title=E||"",Et.sourcepos=[Q.startpos,this.sourcepos(this.pos)];for(var St=Q.node.next,er=void 0;St;)er=St.next,St.unlink(),Et.appendChild(St),St=er;if(h.appendChild(Et),this.processEmphasis(Q.previousDelimiter),this.removeBracket(),Q.node.unlink(),!ue)for(Q=this.brackets;Q!==null;)Q.image||(Q.active=!1),Q=Q.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[h.id]={node:h,refLabel:Fe}),!0}return this.removeBracket(),this.pos=j,h.appendChild(qr("]",this.sourcepos(j,j))),this.options.referenceDefinition&&(this.refLinkCandidateMap[h.id]={node:h,refLabel:Fe}),!0},v.prototype.addBracket=function(h,w,E){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:h,startpos:this.sourcepos(w+(E?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:w,image:E,active:!0}},v.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},v.prototype.parseEntity=function(h){var w,E=this.pos+1;return(w=this.match(ine))?(h.appendChild(qr(le.decodeHTML(w),this.sourcepos(E,this.pos))),!0):!1},v.prototype.parseString=function(h){var w,E=this.pos+1;if(w=this.match(vne)){if(this.options.smart){var P=w.replace(sne,"").replace(lne,function(Q){var ue=0,Le=0;return Q.length%3===0?Le=Q.length/3:Q.length%2===0?ue=Q.length/2:Q.length%3===2?(ue=1,Le=(Q.length-2)/3):(ue=2,Le=(Q.length-4)/3),sp("",Le)+sp("",ue)});h.appendChild(qr(P,this.sourcepos(E,this.pos)))}else{var j=qr(w,this.sourcepos(E,this.pos));h.appendChild(j)}return!0}return!1},v.prototype.parseNewline=function(h){this.pos+=1;var w=h.lastChild;if(w&&w.type==="text"&&w.literal[w.literal.length-1]===" "){var E=w.literal[w.literal.length-2]===" ",P=w.literal.length;w.literal=w.literal.replace(dne,"");var j=P-w.literal.length;w.sourcepos[1][1]-=j,h.appendChild(Nr(E?"linebreak":"softbreak",this.sourcepos(this.pos-j,this.pos)))}else h.appendChild(Nr("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(hne),!0},v.prototype.parseReference=function(h,w){if(!this.options.referenceDefinition)return 0;this.subject=h.stringContent,this.pos=0;var E=null,P=this.pos,j=this.parseLinkLabel();if(j===0)return 0;var Q=this.subject.substr(0,j);if(this.peek()===tne)this.pos++;else return this.pos=P,0;this.spnl();var ue=this.parseLinkDestination();if(ue===null)return this.pos=P,0;var Le=this.pos;this.spnl(),this.pos!==Le&&(E=this.parseLinkTitle()),E===null&&(E="",this.pos=Le);var Fe=!0;if(this.match(Gy)===null&&(E===""?Fe=!1:(E="",this.pos=Le,Fe=this.match(Gy)!==null)),!Fe)return this.pos=P,0;var at=qy(Q);if(at==="")return this.pos=P,0;var ut=this.getReferenceDefSourcepos(h);h.sourcepos[0][0]=ut[1][0]+1;var nt=Nr("refDef",ut);return nt.title=E,nt.dest=ue,nt.label=at,h.insertBefore(nt),w[at]?this.refDefCandidateMap[nt.id]=nt:w[at]=Cp(nt),this.pos-P},v.prototype.mergeTextNodes=function(h){for(var w,E=[];w=h.next();){var P=w.entering,j=w.node;if(P&&j.type==="text")E.push(j);else if(E.length===1)E=[];else if(E.length>1){var Q=E[0],ue=E[E.length-1];Q.sourcepos&&ue.sourcepos&&(Q.sourcepos[1]=ue.sourcepos[1]),Q.next=ue.next,Q.next&&(Q.next.prev=Q);for(var Le=1;Le<E.length;Le+=1)Q.literal+=E[Le].literal,E[Le].unlink();E=[]}}},v.prototype.getReferenceDefSourcepos=function(h){for(var w=h.stringContent.split(/\n|\r\n/),E=!1,P=0,j={line:0,ch:0},Q=0;Q<w.length;Q+=1){var ue=w[Q];if(mp.test(ue))break;if(/\:/.test(ue)&&P===0){if(E)break;var Le=ue.indexOf(":")===ue.length-1?Q+1:Q;j={line:Le,ch:w[Le].length},E=!0}var Fe=ue.match(/'|"/g);if(Fe&&(P+=Fe.length),P===2){j={line:Q,ch:ue.length};break}}return[[h.sourcepos[0][0],h.sourcepos[0][1]],[h.sourcepos[0][0]+j.line,j.ch]]},v.prototype.parseInline=function(h){var w,E=!1,P=this.peek();if(P===-1)return!1;switch(P){case dp:E=this.parseNewline(h);break;case zy:E=this.parseBackslash(h);break;case Yre:E=this.parseBackticks(h);break;case hp:case qc:case Hc:case Wo:E=this.handleDelim(P,h);break;case Uo:case jo:E=!!(!((w=this.options)===null||w===void 0)&&w.smart)&&this.handleDelim(P,h);break;case Hy:E=this.parseOpenBracket(h);break;case Zre:E=this.parseBang(h);break;case Qre:E=this.parseCloseBracket(h);break;case Vy:E=this.parseAutolink(h)||this.parseHtmlTag(h);break;case ene:h.disabledEntityParse||(E=this.parseEntity(h));break;default:E=this.parseString(h);break}return E||(this.pos+=1,h.appendChild(qr(fp(P),this.sourcepos(this.pos,this.pos+1)))),!0},v.prototype.parse=function(h){for(this.subject=h.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=h.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=h.sourcepos[0][0],Cre(h)&&(this.lineOffsets[0]+=h.level+1);this.parseInline(h););h.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(h.walker());var w=this.options,E=w.extendedAutolinks,P=w.customParser;if(E&&Kre(h.walker(),E),P&&h.firstChild)for(var j,Q=h.firstChild.walker();j=Q.next();){var ue=j.node,Le=j.entering;P[ue.type]&&P[ue.type](ue,{entering:Le,options:this.options})}},v})(),gne=/^\[([ \txX])\][ \t]+/;function yne(v,h){if(h.firstChild&&h.firstChild.type==="paragraph"){var w=h.firstChild,E=w.stringContent.match(gne);if(E){var P=E[0].length;w.stringContent=w.stringContent.substring(P-1),w.sourcepos[0][1]+=P,w.lineOffsets[0]+=P,h.listData.task=!0,h.listData.checked=/[xX]/.test(E[1])}}}var bne={continue:function(){return 0},finalize:function(){},canContain:function(v){return v==="tableHead"||v==="tableBody"},acceptsLines:!1},wne={continue:function(){return 0},finalize:function(){},canContain:function(v){return v==="tableRow"},acceptsLines:!1},kne={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableRow"||v==="tableDelimRow"},acceptsLines:!1},Cne={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableDelimCell"},acceptsLines:!1},Tne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},xne={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableCell"},acceptsLines:!1},Sne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Vc=4,Ky=9,Jy=62,Ene=60,Xy=32,Yy=91,Qy=/[^ \t\f\v\r\n]/,Mne=/^(?:`{3,}|~{3,})(?= *$)/;function Zy(v){for(var h=v;h;){if(h.lastLineBlank)return!0;var w=h.type;if(!h.lastLineChecked&&(w==="list"||w==="item"))h.lastLineChecked=!0,h=h.lastChild;else{h.lastLineChecked=!0;break}}return!1}function Zn(v,h){return h<v.length?v.charCodeAt(h):-1}function eb(v){return!Qy.test(v)}function Ws(v){return v===Xy||v===Ky}var One=/^\$\$$/,Ane={continue:function(v,h){var w=v.currentLine,E=w.match(One);if(E)return v.lastLineLength=E[0].length,v.finalize(h,v.lineNumber),2;for(var P=h.offset;P>0&&Ws(Zn(w,v.offset));)v.advanceOffset(1,!0),P--;return 0},finalize:function(v,h){if(h.stringContent!==null){var w=h.stringContent,E=w.indexOf(`
`),P=w.slice(0,E),j=w.slice(E+1),Q=P.match(/^(\s*)(.*)/);h.info=Ql(Q[2].trim()),h.literal=j,h.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},tb={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Nne={continue:function(){return 0},finalize:function(){},canContain:function(v){return v!=="item"},acceptsLines:!1},Dne={continue:function(){return 0},finalize:function(v,h){for(var w=h.firstChild;w;){if(Zy(w)&&w.next){h.listData.tight=!1;break}for(var E=w.firstChild;E;){if(Zy(E)&&(w.next||E.next)){h.listData.tight=!1;break}E=E.next}w=w.next}},canContain:function(v){return v==="item"},acceptsLines:!1},Rne={continue:function(v){var h=v.currentLine;if(!v.indented&&Zn(h,v.nextNonspace)===Jy)v.advanceNextNonspace(),v.advanceOffset(1,!1),Ws(Zn(h,v.offset))&&v.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(v){return v!=="item"},acceptsLines:!1},Lne={continue:function(v,h){if(v.blank){if(h.firstChild===null)return 1;v.advanceNextNonspace()}else if(v.indent>=h.listData.markerOffset+h.listData.padding)v.advanceOffset(h.listData.markerOffset+h.listData.padding,!0);else return 1;return 0},finalize:yne,canContain:function(v){return v!=="item"},acceptsLines:!1},Ine={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Pne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},_ne={continue:function(v,h){var w=v.currentLine,E=v.indent;if(h.isFenced){var P=E<=3&&w.charAt(v.nextNonspace)===h.fenceChar&&w.slice(v.nextNonspace).match(Mne);if(P&&P[0].length>=h.fenceLength)return v.lastLineLength=v.offset+E+P[0].length,v.finalize(h,v.lineNumber),2;for(var j=h.fenceOffset;j>0&&Ws(Zn(w,v.offset));)v.advanceOffset(1,!0),j--}else if(E>=Vc)v.advanceOffset(Vc,!0);else if(v.blank)v.advanceNextNonspace();else return 1;return 0},finalize:function(v,h){var w;if(h.stringContent!==null){if(h.isFenced){var E=h.stringContent,P=E.indexOf(`
`),j=E.slice(0,P),Q=E.slice(P+1),ue=j.match(/^(\s*)(.*)/);h.infoPadding=ue[1].length,h.info=Ql(ue[2].trim()),h.literal=Q}else h.literal=(w=h.stringContent)===null||w===void 0?void 0:w.replace(/(\n *)+$/,`
`);h.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},Bne={continue:function(v,h){return v.blank&&(h.htmlBlockType===6||h.htmlBlockType===7)?1:0},finalize:function(v,h){var w;h.literal=((w=h.stringContent)===null||w===void 0?void 0:w.replace(/(\n *)+$/,""))||null,h.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Fne={continue:function(v){return v.blank?1:0},finalize:function(v,h){if(h.stringContent!==null){for(var w,E=!1;Zn(h.stringContent,0)===Yy&&(w=v.inlineParser.parseReference(h,v.refMap));)h.stringContent=h.stringContent.slice(w),E=!0;E&&eb(h.stringContent)&&h.unlink()}},canContain:function(){return!1},acceptsLines:!0},qne=tb,Hne=tb,Gs={document:Nne,list:Dne,blockQuote:Rne,item:Lne,heading:Ine,thematicBreak:Pne,codeBlock:_ne,htmlBlock:Bne,paragraph:Fne,table:bne,tableBody:wne,tableHead:kne,tableRow:xne,tableCell:Sne,tableDelimRow:Cne,tableDelimCell:Tne,refDef:qne,customBlock:Ane,frontMatter:Hne};function gp(v){for(var h=0,w=0,E=[],P=0;P<v.length;P+=1)if(v[P]==="|"&&v[P-1]!=="\\"){var j=v.substring(h,P);h===0&&Ry(j)?w=P+1:E.push(j),h=P+1}if(h<v.length){var j=v.substring(h,v.length);Ry(j)||E.push(j)}return[w,E]}function yp(v,h,w,E){for(var P=[],j=0,Q=h;j<Q.length;j++){var ue=Q[j],Le=ue.match(/^[ \t]+/),Fe=Le?Le[0].length:0,at=void 0,ut=void 0;if(Fe===ue.length)Fe=0,at=0,ut="";else{var nt=ue.match(/[ \t]+$/);at=nt?nt[0].length:0,ut=ue.slice(Fe,ue.length-at)}var Et=E+Fe,St=Nr(v,[[w,E],[w,E+ue.length-1]]);St.stringContent=ut.replace(/\\\|/g,"|"),St.startIdx=P.length,St.endIdx=P.length,St.lineOffsets=[Et-1],St.paddingLeft=Fe,St.paddingRight=at,P.push(St),E+=ue.length+1}return P}function Vne(v){var h=null,w=v.stringContent,E=w[0],P=w[w.length-1];return P===":"?h=E===":"?"center":"right":E===":"&&(h="left"),{align:h}}var zne=function(v,h){var w=h.stringContent;if(h.type==="paragraph"&&!v.indented&&!v.blank){var E=w.length-1,P=w.lastIndexOf(`
`,E-1)+1,j=w.slice(P,E),Q=v.currentLine.slice(v.nextNonspace),ue=gp(j),Le=ue[0],Fe=ue[1],at=gp(Q),ut=at[0],nt=at[1],Et=/^[ \t]*:?-+:?[ \t]*$/;if(!Fe.length||!nt.length||nt.some(function(Ta){return!Et.test(Ta)})||nt.length===1&&Q.indexOf("|")!==0)return 0;var St=h.lineOffsets,er=v.lineNumber-1,Dr=Bc(St)+1,Wr=Nr("table",[[er,Dr],[v.lineNumber,v.offset]]);if(Wr.columns=nt.map(function(){return{align:null}}),h.insertAfter(Wr),St.length===1)h.unlink();else{h.stringContent=w.slice(0,P);var wa=w.lastIndexOf(`
`,P-2)+1,mi=P-wa-1;v.lastLineLength=St[St.length-2]+mi,v.finalize(h,er-1)}v.advanceOffset(v.currentLine.length-v.offset,!1);var ei=Nr("tableHead",[[er,Dr],[v.lineNumber,v.offset]]);Wr.appendChild(ei);var Mi=Nr("tableRow",[[er,Dr],[er,Dr+j.length-1]]),ka=Nr("tableDelimRow",[[v.lineNumber,v.nextNonspace+1],[v.lineNumber,v.offset]]);ei.appendChild(Mi),ei.appendChild(ka),yp("tableCell",Fe,er,Dr+Le).forEach(function(Ta){Mi.appendChild(Ta)});var Ca=yp("tableDelimCell",nt,v.lineNumber,v.nextNonspace+1+ut);return Ca.forEach(function(Ta){ka.appendChild(Ta)}),Wr.columns=Ca.map(Vne),v.tip=Wr,2}return 0},$ne=function(v,h){if(h.type!=="table"&&h.type!=="tableBody"||!v.blank&&v.currentLine.indexOf("|")===-1)return 0;if(v.advanceOffset(v.currentLine.length-v.offset,!1),v.blank){var w=h;return h.type==="tableBody"&&(w=h.parent,v.finalize(h,v.lineNumber-1)),v.finalize(w,v.lineNumber-1),0}var E=h;h.type==="table"&&(E=v.addChild("tableBody",v.nextNonspace),E.stringContent=null);var P=Nr("tableRow",[[v.lineNumber,v.nextNonspace+1],[v.lineNumber,v.currentLine.length]]);E.appendChild(P);var j=E.parent,Q=v.currentLine.slice(v.nextNonspace),ue=gp(Q),Le=ue[0],Fe=ue[1];return yp("tableCell",Fe,v.lineNumber,v.nextNonspace+1+Le).forEach(function(at,ut){ut>=j.columns.length&&(at.ignored=!0),P.appendChild(at)}),2},Une=/^(\$\$)(\s*[a-zA-Z])+/,jne=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,Wne=function(v){var h;if(!v.indented&&!jne.test(v.currentLine)&&(h=v.currentLine.match(Une))){var w=h[1].length;v.closeUnmatchedBlocks();var E=v.addChild("customBlock",v.nextNonspace);return E.syntaxLength=w,E.offset=v.indent,v.advanceNextNonspace(),v.advanceOffset(w,!1),2}return 0},Gne=/^`{3,}(?!.*`)|^~{3,}/,Kne=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+By+"|"+Fy+")\\s*$","i")],Jne=/^(?:=+|-+)[ \t]*$/,Xne=/^#{1,6}(?:[ \t]+|$)/,Yne=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,rb=/^[*+-]/,nb=/^(\d{1,9})([.)])/;function Qne(v,h){var w=v.currentLine.slice(v.nextNonspace),E,P,j={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:v.indent,task:!1,checked:!1};if(v.indent>=4)return null;if(E=w.match(rb))j.type="bullet",j.bulletChar=E[0][0];else if((E=w.match(nb))&&(h.type!=="paragraph"||E[1]==="1"))j.type="ordered",j.start=parseInt(E[1],10),j.delimiter=E[2];else return null;if(P=Zn(v.currentLine,v.nextNonspace+E[0].length),!(P===-1||P===Ky||P===Xy)||h.type==="paragraph"&&!v.currentLine.slice(v.nextNonspace+E[0].length).match(Qy))return null;v.advanceNextNonspace(),v.advanceOffset(E[0].length,!0);var Q=v.column,ue=v.offset;do v.advanceOffset(1,!0),P=Zn(v.currentLine,v.offset);while(v.column-Q<5&&Ws(P));var Le=Zn(v.currentLine,v.offset)===-1,Fe=v.column-Q;return Fe>=5||Fe<1||Le?(j.padding=E[0].length+1,v.column=Q,v.offset=ue,Ws(Zn(v.currentLine,v.offset))&&v.advanceOffset(1,!0)):j.padding=E[0].length+Fe,j}function Zne(v,h){return v.type===h.type&&v.delimiter===h.delimiter&&v.bulletChar===h.bulletChar}function ib(v,h){return v.options.disallowDeepHeading&&(h.type==="blockQuote"||h.type==="item")}var eie=function(v){return!v.indented&&Zn(v.currentLine,v.nextNonspace)===Jy?(v.advanceNextNonspace(),v.advanceOffset(1,!1),Ws(Zn(v.currentLine,v.offset))&&v.advanceOffset(1,!0),v.closeUnmatchedBlocks(),v.addChild("blockQuote",v.nextNonspace),1):0},tie=function(v,h){var w;if(!v.indented&&!ib(v,h)&&(w=v.currentLine.slice(v.nextNonspace).match(Xne))){v.advanceNextNonspace(),v.advanceOffset(w[0].length,!1),v.closeUnmatchedBlocks();var E=v.addChild("heading",v.nextNonspace);return E.level=w[0].trim().length,E.headingType="atx",E.stringContent=v.currentLine.slice(v.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),v.advanceOffset(v.currentLine.length-v.offset),2}return 0},rie=function(v){var h;if(!v.indented&&(h=v.currentLine.slice(v.nextNonspace).match(Gne))){var w=h[0].length;v.closeUnmatchedBlocks();var E=v.addChild("codeBlock",v.nextNonspace);return E.isFenced=!0,E.fenceLength=w,E.fenceChar=h[0][0],E.fenceOffset=v.indent,v.advanceNextNonspace(),v.advanceOffset(w,!1),2}return 0},nie=function(v,h){if(!v.indented&&Zn(v.currentLine,v.nextNonspace)===Ene){var w=v.currentLine.slice(v.nextNonspace),E=v.options.disallowedHtmlBlockTags,P=void 0;for(P=1;P<=7;P++){var j=w.match(Kne[P]);if(j){if(P===7){if(h.type==="paragraph")return 0;if(E.length>0){var Q=new RegExp("</?(?:"+E.join("|")+")","i");if(Q.test(j[0]))return 0}}v.closeUnmatchedBlocks();var ue=v.addChild("htmlBlock",v.offset);return ue.htmlBlockType=P,2}}}return 0},iie=function(v,h){var w;if(h.stringContent!==null&&!v.indented&&h.type==="paragraph"&&!ib(v,h.parent)&&(w=v.currentLine.slice(v.nextNonspace).match(Jne))){v.closeUnmatchedBlocks();for(var E=void 0;Zn(h.stringContent,0)===Yy&&(E=v.inlineParser.parseReference(h,v.refMap));)h.stringContent=h.stringContent.slice(E);if(h.stringContent.length>0){var P=Nr("heading",h.sourcepos);return P.level=w[0][0]==="="?1:2,P.headingType="setext",P.stringContent=h.stringContent,h.insertAfter(P),h.unlink(),v.tip=P,v.advanceOffset(v.currentLine.length-v.offset,!1),2}return 0}return 0},aie=function(v){return!v.indented&&Yne.test(v.currentLine.slice(v.nextNonspace))?(v.closeUnmatchedBlocks(),v.addChild("thematicBreak",v.nextNonspace),v.advanceOffset(v.currentLine.length-v.offset,!1),2):0},oie=function(v,h){var w,E=h;return(!v.indented||h.type==="list")&&(w=Qne(v,E))?(v.closeUnmatchedBlocks(),(v.tip.type!=="list"||!Zne(E.listData,w))&&(E=v.addChild("list",v.nextNonspace),E.listData=w),E=v.addChild("item",v.nextNonspace),E.listData=w,1):0},sie=function(v){return v.indented&&v.tip.type!=="paragraph"&&!v.blank?(v.advanceOffset(Vc,!0),v.closeUnmatchedBlocks(),v.addChild("codeBlock",v.offset),2):0},bp=[eie,tie,rie,nie,iie,aie,oie,sie,zne,$ne,Wne],ab=/^(-{3}|\+{3}|;{3})$/,lie=function(v,h){var w=v.currentLine,E=v.lineNumber,P=v.indented;if(E===1&&!P&&h.type==="document"&&ab.test(w)){v.closeUnmatchedBlocks();var j=v.addChild("frontMatter",v.nextNonspace);return j.stringContent=w,v.advanceNextNonspace(),v.advanceOffset(w.length,!1),2}return 0},uie={continue:function(v,h){var w=v.currentLine,E=w.match(ab);return h.type==="frontMatter"&&E?(h.stringContent+=w,v.lastLineLength=E[0].length,v.finalize(h,v.lineNumber),2):0},finalize:function(v,h){h.stringContent!==null&&(h.literal=h.stringContent,h.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},cie=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],fie=/^[#`~*+_=<>0-9-;$]/,die=/\r\n|\n|\r/;function wp(){return Nr("document",[[1,1],[0,0]])}var hie={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},pie=(function(){function v(h){this.options=M(M({},hie),h),this.doc=wp(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Gs.frontMatter=uie,bp.unshift(lie)),this.inlineParser=new mne(this.options)}return v.prototype.advanceOffset=function(h,w){w===void 0&&(w=!1);for(var E=this.currentLine,P,j,Q;h>0&&(Q=E[this.offset]);)Q==="	"?(P=4-this.column%4,w?(this.partiallyConsumedTab=P>h,j=P>h?h:P,this.column+=j,this.offset+=this.partiallyConsumedTab?0:1,h-=j):(this.partiallyConsumedTab=!1,this.column+=P,this.offset+=1,h-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,h-=1)},v.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},v.prototype.findNextNonspace=function(){for(var h=this.currentLine,w=this.offset,E=this.column,P;(P=h.charAt(w))!=="";)if(P===" ")w++,E++;else if(P==="	")w++,E+=4-E%4;else break;this.blank=P===`
`||P==="\r"||P==="",this.nextNonspace=w,this.nextNonspaceColumn=E,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Vc},v.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var h=4-this.column%4;this.tip.stringContent+=sp(" ",h)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},v.prototype.addChild=function(h,w){for(;!Gs[this.tip.type].canContain(h);)this.finalize(this.tip,this.lineNumber-1);var E=w+1,P=Nr(h,[[this.lineNumber,E],[0,0]]);return P.stringContent="",this.tip.appendChild(P),this.tip=P,P},v.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var h=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=h}this.allClosed=!0}},v.prototype.finalize=function(h,w){var E=h.parent;h.open=!1,h.sourcepos[1]=[w,this.lastLineLength],Gs[h.type].finalize(this,h),this.tip=E},v.prototype.processInlines=function(h){var w,E=this.options.customParser,P=h.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;w=P.next();){var j=w.node,Q=w.entering,ue=j.type;E&&E[ue]&&E[ue](j,{entering:Q,options:this.options}),!Q&&(ue==="paragraph"||ue==="heading"||ue==="tableCell"&&!j.ignored)&&this.inlineParser.parse(j)}},v.prototype.incorporateLine=function(h){var w=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,h.indexOf("\0")!==-1&&(h=h.replace(/\0/g,"")),this.currentLine=h;for(var E=!0,P;(P=w.lastChild)&&P.open;){switch(w=P,this.findNextNonspace(),Gs[w.type].continue(this,w)){case 0:break;case 1:E=!1;break;case 2:this.lastLineLength=h.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!E){w=w.parent;break}}this.allClosed=w===this.oldtip,this.lastMatchedContainer=w;for(var j=w.type!=="paragraph"&&Gs[w.type].acceptsLines,Q=bp.length;!j;){if(this.findNextNonspace(),w.type!=="table"&&w.type!=="tableBody"&&w.type!=="paragraph"&&!this.indented&&!fie.test(h.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var ue=0;ue<Q;){var Le=bp[ue](this,w);if(Le===1){w=this.tip;break}else if(Le===2){w=this.tip,j=!0;break}else ue++}if(ue===Q){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&w.lastChild&&(w.lastChild.lastLineBlank=!0);for(var Fe=w.type,at=this.blank&&!(Fe==="blockQuote"||Ly(w)&&w.isFenced||Fe==="item"&&!w.firstChild&&w.sourcepos[0][0]===this.lineNumber),ut=w;ut;)ut.lastLineBlank=at,ut=ut.parent;Gs[Fe].acceptsLines?(this.addLine(),kre(w)&&w.htmlBlockType>=1&&w.htmlBlockType<=5&&cie[w.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=h.length,this.finalize(w,this.lineNumber))):this.offset<h.length&&!this.blank&&(w=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=h.length},v.prototype.parse=function(h,w){this.doc=wp(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var E=h.split(die),P=E.length;this.lines=w||E,this.options.referenceDefinition&&this.clearRefMaps(),h.charCodeAt(h.length-1)===dp&&(P-=1);for(var j=0;j<P;j++)this.incorporateLine(E[j]);for(;this.tip;)this.finalize(this.tip,P);return this.processInlines(this.doc),this.doc},v.prototype.partialParseStart=function(h,w){this.doc=wp(),this.tip=this.doc,this.lineNumber=h-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var E=w.length,P=0;P<E;P++)this.incorporateLine(w[P]);return this.doc},v.prototype.partialParseExtends=function(h){for(var w=0;w<h.length;w++)this.incorporateLine(h[w])},v.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},v.prototype.setRefMaps=function(h,w,E){this.refMap=h,this.refLinkCandidateMap=w,this.refDefCandidateMap=E},v.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(h){Xre(h)})},v})();function ob(v,h){return v[0]<h[0]?1:v[0]>h[0]?-1:v[1]<h[1]?1:v[1]>h[1]?-1:0}function vie(v,h){var w=v[0],E=v[1];return ob(E,h)===1?1:ob(w,h)===-1?-1:0}function mie(v,h){if(!(v.parent!==h.parent||v===h)){for(var w=v.next;w&&w!==h;){for(var E=w.next,P=0,j=["parent","prev","next"];P<j.length;P++){var Q=j[P];w[Q]&&(up(w[Q].id),w[Q]=null)}w=E}v.next=h.next,h.next?h.next.prev=v:v.parent.lastChild=v}}function gie(v){for(var h=[],w=v.firstChild;w;)h.push(w),w=w.next;return h}function sb(v,h){for(var w=0,E=h;w<E.length;w++){var P=E[w];v.insertBefore(P)}}function yie(v,h){for(var w=h.length-1;w>=0;w-=1)v.prependChild(h[w])}function bie(v,h){if(!(!v||!v.parent||h===0)){var w=v.parent.walker();w.resumeAt(v,!0);for(var E;E=w.next();){var P=E.node,j=E.entering;j&&(P.sourcepos[0][0]+=h,P.sourcepos[1][0]+=h)}}}function lb(v,h){var w=v[0],E=v[1];return E[0]<h?1:w[0]>h?-1:0}function zc(v,h){for(var w=v.firstChild;w;){var E=lb(w.sourcepos,h);if(E===0)return w;if(E===-1)return w.prev||w;w=w.next}return v.lastChild}function wie(v){for(;v.lastChild;)v=v.lastChild;return v}function kie(v){for(;v.parent&&v.parent.type!=="document"&&v.parent.sourcepos[0][0]===v.sourcepos[0][0];)v=v.parent;return v}function Cie(v,h){for(var w=v.firstChild,E=null;w;){var P=lb(w.sourcepos,h);if(P===0){if(w.sourcepos[0][0]===h||!w.firstChild)return w;E=w,w=w.firstChild}else{if(P===-1)break;E=w,w=w.next}}return E?kie(wie(E)):null}function Tie(v,h){for(var w=v,E=null;w;){var P=vie(w.sourcepos,h);if(P===0)if(w.firstChild)E=w,w=w.firstChild;else return w;else{if(P===-1)return E;if(w.next)w=w.next;else return E}}return w}function ub(v){return lre(v)||null}function kp(v,h,w){if(w===void 0&&(w=null),h)for(var E=h.walker();h&&h!==w;){v(h);var P=E.next();if(P)h=P.node;else break}}function xie(v){var h=ub(v);if(!h)return!0;for(;h&&h.type!=="document";){if(!h.parent&&!h.prev&&!h.next)return!0;h=h.parent}return!1}var cb=/\r\n|\n|\r/;function Sie(v){var h=v.match(/^[ \t]+/);if(h&&(h[0].length>=2||/\t/.test(h[0])))return!0;var w=h?v.slice(h.length):v;return rb.test(w)||nb.test(w)}function Eie(v){return!eb(v)&&v.indexOf("|")!==-1}function Cp(v){var h=v.id,w=v.title,E=v.sourcepos,P=v.dest;return{id:h,title:w,sourcepos:E,unlinked:!1,destination:P}}var Mie=(function(){function v(h,w){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(w!=null&&w.referenceDefinition),this.parser=new pie(w),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},h=h||"",this.lineTexts=h.split(cb),this.root=this.parser.parse(h,this.lineTexts)}return v.prototype.updateLineTexts=function(h,w,E){var P,j=h[0],Q=h[1],ue=w[0],Le=w[1],Fe=E.split(cb),at=Fe.length,ut=this.lineTexts[j-1],nt=this.lineTexts[ue-1];Fe[0]=ut.slice(0,Q-1)+Fe[0],Fe[at-1]=Fe[at-1]+nt.slice(Le-1);var Et=ue-j+1;return(P=this.lineTexts).splice.apply(P,N([j-1,Et],Fe)),at-Et},v.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var h=this.lineTexts,w=h.length-1;h[w]==="";)w-=1;h.length-2>w&&(w+=1),this.root.sourcepos[1]=[w+1,h[w].length]},v.prototype.replaceRangeNodes=function(h,w,E){h?(sb(h,E),mie(h,w),[h.id,w.id].forEach(function(P){return up(P)}),h.unlink()):w?(sb(w,E),up(w.id),w.unlink()):yie(this.root,E)},v.prototype.getNodeRange=function(h,w){var E=zc(this.root,h[0]),P=zc(this.root,w[0]);return P&&P.next&&w[0]+1===P.next.sourcepos[0][0]&&(P=P.next),[E,P]},v.prototype.trigger=function(h,w){this.eventHandlerMap[h].forEach(function(E){E(w)})},v.prototype.extendEndLine=function(h){for(;this.lineTexts[h]==="";)h+=1;return h},v.prototype.parseRange=function(h,w,E,P){h&&h.prev&&(Iy(h.prev)&&Sie(this.lineTexts[E-1])||Tre(h.prev)&&Eie(this.lineTexts[E-1]))&&(h=h.prev,E=h.sourcepos[0][0]);for(var j=this.lineTexts.slice(E-1,P),Q=this.parser.partialParseStart(E,j),ue=w?w.next:this.root.firstChild,Le=Q.lastChild,Fe=Le&&Ly(Le)&&Le.open,at=Le&&Py(Le)&&Le.open,ut=Le&&Iy(Le);(Fe||at)&&ue||ut&&ue&&(ue.type==="list"||ue.sourcepos[0][1]>=2);){var nt=this.extendEndLine(ue.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(P,nt)),h||(h=w),w=ue,P=nt,ue=ue.next}this.parser.partialParseFinish();var Et=gie(Q);return{newNodes:Et,extStartNode:h,extEndNode:w}},v.prototype.getRemovedNodeRange=function(h,w){return!h||h&&Us(h)||w&&Us(w)?null:{id:[h.id,w.id],line:[h.sourcepos[0][0]-1,w.sourcepos[1][0]-1]}},v.prototype.markDeletedRefMap=function(h,w){var E=this;if(!js(this.refMap)){var P=function(j){if(Us(j)){var Q=E.refMap[j.label];Q&&j.id===Q.id&&(Q.unlinked=!0)}};h&&kp(P,h.parent,w),w&&kp(P,w)}},v.prototype.replaceWithNewRefDefState=function(h){var w=this;if(!js(this.refMap)){var E=function(P){if(Us(P)){var j=P.label,Q=w.refMap[j];(!Q||Q.unlinked)&&(w.refMap[j]=Cp(P))}};h.forEach(function(P){kp(E,P)})}},v.prototype.replaceWithRefDefCandidate=function(){var h=this;js(this.refDefCandidateMap)||Fc(this.refDefCandidateMap,function(w,E){var P=E.label,j=E.sourcepos,Q=h.refMap[P];(!Q||Q.unlinked||Q.sourcepos[0][0]>j[0][0])&&(h.refMap[P]=Cp(E))})},v.prototype.getRangeWithRefDef=function(h,w,E,P,j){if(this.referenceDefinition&&!js(this.refMap)){var Q=zc(this.root,h-1),ue=zc(this.root,w+1);Q&&Us(Q)&&Q!==E&&Q!==P&&(E=Q,h=E.sourcepos[0][0]),ue&&Us(ue)&&ue!==E&&ue!==P&&(P=ue,w=this.extendEndLine(P.sourcepos[1][0]+j))}return[E,P,h,w]},v.prototype.parse=function(h,w,E){E===void 0&&(E=0);var P=this.getNodeRange(h,w),j=P[0],Q=P[1],ue=j?Math.min(j.sourcepos[0][0],h[0]):h[0],Le=this.extendEndLine((Q?Math.max(Q.sourcepos[1][0],w[0]):w[0])+E),Fe=this.parseRange.apply(this,this.getRangeWithRefDef(ue,Le,j,Q,E)),at=Fe.newNodes,ut=Fe.extStartNode,nt=Fe.extEndNode,Et=this.getRemovedNodeRange(ut,nt),St=nt?nt.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(ut,nt),this.replaceRangeNodes(ut,nt,at),this.replaceWithNewRefDefState(at)):this.replaceRangeNodes(ut,nt,at),{nodes:at,removedNodeRange:Et,nextNode:St}},v.prototype.parseRefLink=function(){var h=this,w=[];return js(this.refMap)||Fc(this.refMap,function(E,P){P.unlinked&&delete h.refMap[E],Fc(h.refLinkCandidateMap,function(j,Q){var ue=Q.node,Le=Q.refLabel;Le===E&&w.push(h.parse(ue.sourcepos[0],ue.sourcepos[1]))})}),w},v.prototype.removeUnlinkedCandidate=function(){js(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(h){Fc(h,function(w){xie(w)&&delete h[w]})})},v.prototype.editMarkdown=function(h,w,E){var P=this.updateLineTexts(h,w,E),j=this.parse(h,w,P),Q=Jre(j,"nextNode");bie(j.nextNode,P),this.updateRootNodeState();var ue=[Q];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),ue=ue.concat(this.parseRefLink())),this.trigger("change",ue),ue},v.prototype.getLineTexts=function(){return this.lineTexts},v.prototype.getRootNode=function(){return this.root},v.prototype.findNodeAtPosition=function(h){var w=Tie(this.root,h);return!w||w===this.root?null:w},v.prototype.findFirstNodeAtLine=function(h){return Cie(this.root,h)},v.prototype.on=function(h,w){this.eventHandlerMap[h].push(w)},v.prototype.off=function(h,w){var E=this.eventHandlerMap[h],P=E.indexOf(w);E.splice(P,1)},v.prototype.findNodeById=function(h){return ub(h)},v.prototype.removeAllNode=function(){ure()},v})(),Oie=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],fb=new RegExp("<(/?(?:"+Oie.join("|")+")[^>]*>)","ig");function db(v){return fb.test(v)?v.replace(fb,function(h,w){return"&lt;"+w}):v}var hb={heading:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"h"+v.level,outerNewLine:!0}},text:function(v){return{type:"text",content:v.literal}},softbreak:function(v,h){var w=h.options;return{type:"html",content:w.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"em"}},strong:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"strong"}},paragraph:function(v,h){var w,E=h.entering,P=(w=v.parent)===null||w===void 0?void 0:w.parent;return P&&P.type==="list"&&P.listData.tight?null:{type:E?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(v,h){var w=h.entering,E=v.listData,P=E.type,j=E.start,Q=P==="bullet"?"ul":"ol",ue={};return Q==="ol"&&j!==null&&j!==1&&(ue.start=j.toString()),{type:w?"openTag":"closeTag",tagName:Q,attributes:ue,outerNewLine:!0}},item:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(v,h){var w=h.options,E=w.tagFilter?db(v.literal):v.literal;return{type:"html",content:E}},htmlBlock:function(v,h){var w=h.options,E=w.tagFilter?db(v.literal):v.literal;return w.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:E},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:E,outerNewLine:!0}},code:function(v){return[{type:"openTag",tagName:"code"},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(v){var h=v.info,w=h?h.split(/\s+/):[],E=[];return w.length>0&&w[0].length>0&&E.push("language-"+$s(w[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:E},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(v,h){var w=h.entering;if(w){var E=v,P=E.title,j=E.destination;return{type:"openTag",tagName:"a",attributes:M({href:$s(j)},P&&{title:$s(P)})}}return{type:"closeTag",tagName:"a"}},image:function(v,h){var w=h.getChildrenText,E=h.skipChildren,P=v,j=P.title,Q=P.destination;return E(),{type:"openTag",tagName:"img",selfClose:!0,attributes:M({src:$s(Q),alt:w(v)},j&&{title:$s(j)})}},customBlock:function(v,h,w){var E=v.info.trim().toLowerCase(),P=w[E];if(P)try{return P(v,h)}catch(j){console.warn("[@toast-ui/editor] - The error occurred when "+E+" block node was parsed in markdown renderer: "+j)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:v.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(v){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:v.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(v,h,w){var E=v,P=E.info,j=E.firstChild,Q=P.trim().toLowerCase(),ue=w[Q],Le=h.entering;if(ue)try{return ue(v,h)}catch(Fe){console.warn("[@toast-ui/editor] - The error occurred when "+Q+" inline node was parsed in markdown renderer: "+Fe)}return Le?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+P+(j?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},pb={strike:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"del"}},item:function(v,h){var w=h.entering,E=v.listData,P=E.checked,j=E.task;if(w){var Q={type:"openTag",tagName:"li",outerNewLine:!0};return j?[Q,{type:"openTag",tagName:"input",selfClose:!0,attributes:M(M({},P&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:Q}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(v,h){var w=h.entering;return{type:w?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(v,h){var w=h.entering;if(w)return{type:"openTag",tagName:"tr",outerNewLine:!0};var E=[];if(v.lastChild)for(var P=v.parent.parent.columns.length,j=v.lastChild.endIdx,Q=j+1;Q<P;Q+=1)E.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return E.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),E},tableCell:function(v,h){var w=h.entering;if(v.ignored)return{type:"text",content:""};var E=v.parent.parent,P=E.type==="tableHead"?"th":"td",j=E.parent,Q=j.columns[v.startIdx],ue=Q!=null&&Q.align?{align:Q.align}:null;return w?M({type:"openTag",tagName:P,outerNewLine:!0},ue&&{attributes:ue}):{type:"closeTag",tagName:P,outerNewLine:!0}}},Aie={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function Nie(v){for(var h=[],w=v.walker(),E=null;E=w.next();){var P=E.node;P.type==="text"&&h.push(P.literal)}return h.join("")}var Die=(function(){function v(h){this.buffer=[],this.options=M(M({},Aie),h),this.convertors=this.createConvertors(),delete this.options.convertors}return v.prototype.createConvertors=function(){var h=M({},hb);if(this.options.gfm&&(h=M(M({},h),pb)),this.options.convertors){var w=this.options.convertors,E=Object.keys(w),P=M(M({},hb),pb);E.forEach(function(j){var Q=h[j],ue=w[j],Le=Object.keys(P).indexOf(j)===-1?j.toLowerCase():j;Q?h[Le]=function(Fe,at,ut){return at.origin=function(){return Q(Fe,at,ut)},ue(Fe,at)}:h[Le]=ue})}return h},v.prototype.getConvertors=function(){return this.convertors},v.prototype.getOptions=function(){return this.options},v.prototype.render=function(h){var w=this;this.buffer=[];for(var E=h.walker(),P=null,j=function(){var ue=P.node,Le=P.entering,Fe=Q.convertors[ue.type];if(!Fe)return"continue";var at=!1,ut={entering:Le,leaf:!lp(ue),options:Q.options,getChildrenText:Nie,skipChildren:function(){at=!0}},nt=Py(ue)||xre(ue)?Fe(ue,ut,Q.convertors):Fe(ue,ut);if(nt){var Et=Array.isArray(nt)?nt:[nt];Et.forEach(function(St,er){St.type==="openTag"&&w.options.nodeId&&er===0&&(St.attributes||(St.attributes={}),St.attributes["data-nodeid"]=String(ue.id)),w.renderHTMLNode(St)}),at&&(E.resumeAt(ue,!1),E.next())}},Q=this;P=E.next();)j();return this.addNewLine(),this.buffer.join("")},v.prototype.renderHTMLNode=function(h){switch(h.type){case"openTag":case"closeTag":this.renderElementNode(h);break;case"text":this.renderTextNode(h);break;case"html":this.renderRawHtmlNode(h);break}},v.prototype.generateOpenTagString=function(h){var w=this,E=h.tagName,P=h.classNames,j=h.attributes;this.buffer.push("<"+E),P&&P.length>0&&this.buffer.push(' class="'+P.join(" ")+'"'),j&&Object.keys(j).forEach(function(Q){var ue=j[Q];w.buffer.push(" "+Q+'="'+ue+'"')}),h.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},v.prototype.generateCloseTagString=function(h){var w=h.tagName;this.buffer.push("</"+w+">")},v.prototype.addNewLine=function(){this.buffer.length&&Bc(Bc(this.buffer))!==`
`&&this.buffer.push(`
`)},v.prototype.addOuterNewLine=function(h){h.outerNewLine&&this.addNewLine()},v.prototype.addInnerNewLine=function(h){h.innerNewLine&&this.addNewLine()},v.prototype.renderTextNode=function(h){this.buffer.push($s(h.content))},v.prototype.renderRawHtmlNode=function(h){this.addOuterNewLine(h),this.buffer.push(h.content),this.addOuterNewLine(h)},v.prototype.renderElementNode=function(h){h.type==="openTag"?(this.addOuterNewLine(h),this.generateOpenTagString(h),h.selfClose?this.addOuterNewLine(h):this.addInnerNewLine(h)):(this.addInnerNewLine(h),this.generateCloseTagString(h),this.addOuterNewLine(h))},v})(),Rie=u(956),Lie=u.n(Rie),Iie=u(969),vb=u.n(Iie),Pie=u(348),mb=u.n(Pie),_ie=u(349),gb=u.n(_ie),Bie=u(204),yb=u.n(Bie),Fie=u(462),Tp=u.n(Fie),qie=u(522),bb=u.n(qie),Hie=u(990),Vie=u.n(Hie),zie=u(322),$ie=u.n(zie),Uie=u(758),jie=u.n(Uie),Wie=u(929),$c=u.n(Wie),Gie=u(714),Kie=u.n(Gie);u(471);var wb="[A-Za-z][A-Za-z0-9-]*",Jie="[a-zA-Z_:][a-zA-Z0-9:._-]*",Xie="[^\"'=<>`\\x00-\\x20]+",Yie="'[^']*'",Qie='"[^"]*"',Zie="(?:"+Xie+"|"+Yie+"|"+Qie+")",eae="(?:\\s*=\\s*"+Zie+")",kb="(?:\\s+"+Jie+eae+"?)",tae="<("+wb+")("+kb+")*\\s*/?>",rae="</("+wb+")\\s*[>]",nae="(?:"+tae+"|"+rae+")",Cb=new RegExp("^"+nae,"i");u(934),u(391);function xp(v,h){return v.indexOf(h)!==-1}var iae=["rel","target","hreflang","type"];function aae(v){if(!v)return null;var h={};return iae.forEach(function(w){$c()(v[w])||(h[w]=v[w])}),h}function oae(v){return v[v.length-1]}function Sp(v){return typeof v=="object"&&v!==null}function Ep(v,h){var w=p({},v);return v&&h&&Object.keys(h).forEach(function(E){Sp(w[E])?Array.isArray(h[E])?w[E]=Mp(h[E]):w.hasOwnProperty(E)?w[E]=Ep(w[E],h[E]):w[E]=Op(h[E]):w[E]=h[E]}),w}function Mp(v){return v.map(function(h){return Sp(h)?Array.isArray(h)?Mp(h):Op(h):h})}function Op(v){var h=Object.keys(v);return h.length?h.reduce(function(w,E){return Sp(v[E])?w[E]=Array.isArray(v[E])?Mp(v[E]):Op(v[E]):w[E]=v[E],w},{}):v}function Tb(v,h){return h===void 0&&(h={}),Object.keys(h).forEach(function(w){v.hasOwnProperty(w)&&typeof v[w]=="object"?Array.isArray(h[w])?v[w]=h[w]:Tb(v[w],h[w]):v[w]=h[w]}),v}function xb(v,h){return v>h?[h,v]:[v,h]}function sae(v,h,w){var E=parseInt(v.left,10),P=parseInt(v.top,10),j=parseInt(v.width,10)+parseInt(v.paddingLeft,10)+parseInt(v.paddingRight,10),Q=parseInt(v.height,10)+parseInt(v.paddingTop,10)+parseInt(v.paddingBottom,10);return h>=E&&h<=E+j&&w>=P&&w<=P+Q}var lae="toastui-editor-";function Uc(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];for(var w=[],E=0,P=v;E<P.length;E++){var j=P[E],Q=void 0;Array.isArray(j)?Q=j[0]?j[1]:null:Q=j,Q&&w.push(""+lae+Q)}return w.join(" ")}function Sb(v){v.parentNode&&v.parentNode.removeChild(v)}function Eb(v,h,w){$c()(w)&&(w=!Kie()(v,h));var E=w?yb():Tp();E(v,h)}function uae(v,h){var w=document.createElement("div");jie()(v)?w.innerHTML=v:w.appendChild(v);var E=w.firstChild;return E}function cae(v){var h=/<img class="ProseMirror-separator" alt="">/g,w=/ class="ProseMirror-trailingBreak"/g,E=v;return E=E.replace(h,""),E=E.replace(w,""),E}var fae=u(294),Mb=u.n(fae);function dae(v){return v.sourcepos[0][1]}function hae(v){switch(v.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function pae(v,h,w){for(w===void 0&&(w=!0),v=w?v:v.parent;v&&v.type!=="document";){if(h(v))return v;v=v.parent}return null}function vae(v){var h=v.firstChild.literal;switch(v.type){case"emph":return"*"+h+"*";case"strong":return"**"+h+"**";case"strike":return"~~"+h+"~~";case"code":return"`"+h+"`";case"link":case"image":var w=v,E=w.destination,P=w.title,j=v.type==="link"?"":"!";return j+"["+h+"]("+E+(P?' "'+P+'"':"")+")";default:return null}}var mae={},Ob=/\$\$widget\d+\s/;function Ab(v){var h=v.search(Ob);if(h!==-1){var w=v.substring(h),E=w.replace(Ob,"").replace("$$","");v=v.substring(0,h),v+=Ab(E)}return v}function gae(v,h){var w=mae[v],E=w.rule,P=w.toDOM,j=Ab(h).match(E);return j&&(h=j[0]),P(h)}function yae(v){for(var h,w="",E=v.walker();h=E.next();){var P=h.node,j=h.entering;j&&(P!==v&&P.type!=="text"?(w+=vae(P),E.resumeAt(v,!1),E.next()):P.type==="text"&&(w+=P.literal))}return w}var bae=u(368),wae=u.n(bae),kae=["iframe","embed"],Nb=[];function Cae(v){xp(kae,v)&&Nb.push(v.toLowerCase())}function Tae(v,h){return wae().sanitize(v,p({ADD_TAGS:Nb,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},h))}function xae(v,h){return v.literal.replace(new RegExp("(<\\s*"+h+"[^>]*>)|(</"+h+"\\s*[>])","ig"),"").trim()}function Sae(v){v=v.match(Cb)[0];var h=v.match(new RegExp(kb,"g"));return h?h.reduce(function(w,E){var P=E.trim().split("="),j=P[0],Q=P.slice(1);return Q.length&&(w[j]=Q.join("=").replace(/'|"/g,"").trim()),w},{}):{}}var Eae=/^\s*<\s*\//,Mae={paragraph:function(v,h){var w=h.entering,E=h.origin,P=h.options;return P.nodeId?{type:w?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:E()},softbreak:function(v){var h=v.prev&&v.prev.type==="htmlInline",w=h&&/<br ?\/?>/.test(v.prev.literal),E=w?`
`:`<br>
`;return{type:"html",content:E}},item:function(v,h){var w=h.entering;if(w){var E={},P=[];return v.listData.task&&(E["data-task"]="",P.push("task-list-item"),v.listData.checked&&(P.push("checked"),E["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:P,attributes:E,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(v){var h={"data-backticks":String(v.tickCount)};return[{type:"openTag",tagName:"code",attributes:h},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(v){var h=v,w=h.fenceLength,E=h.info,P=E?E.split(/\s+/):[],j=[],Q={};if(w>3&&(Q["data-backticks"]=w),P.length>0&&P[0].length>0){var ue=P[0];j.push("lang-"+ue),Q["data-language"]=ue}return[{type:"openTag",tagName:"pre",classNames:j},{type:"openTag",tagName:"code",attributes:Q},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(v,h){var w=h.origin,E=h.entering,P=h.skipChildren,j=v.info;if(j.indexOf("widget")!==-1&&E){P();var Q=yae(v),ue=gae(j,Q).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:ue},{type:"closeTag",tagName:"span"}]}return w()}};function Oae(v,h){var w=p({},Mae);return v&&(w.link=function(E,P){var j=P.entering,Q=P.origin,ue=Q();return j&&(ue.attributes=p(p({},ue.attributes),v)),ue}),h&&Object.keys(h).forEach(function(E){var P=w[E],j=h[E];P&&Mb()(j)?w[E]=function(Q,ue){var Le=p({},ue);return Le.origin=function(){return P(Q,ue)},j(Q,Le)}:xp(["htmlBlock","htmlInline"],E)&&!Mb()(j)?w[E]=function(Q,ue){var Le=Q.literal.match(Cb);if(Le){var Fe=Le[0],at=Le[1],ut=Le[3],nt=(at||ut).toLowerCase(),Et=j[nt],St=xae(Q,nt);if(Et){var er=p({},Q);return er.attrs=Sae(Fe),er.childrenHTML=St,er.type=nt,ue.entering=!Eae.test(Q.literal),Et(er,ue)}}return ue.origin()}:w[E]=j}),w}var Aae=["UL","OL","BLOCKQUOTE"];function Nae(v,h){for(var w=0;v&&v!==h&&(xp(Aae,v.tagName)||(w+=v.offsetTop),v.offsetParent!==h.offsetParent);)v=v.parentElement;return w}function Dae(v,h){for(var w=h,E=null;w;){var P=w.firstElementChild;if(!P)break;var j=Db(P,v,Nae(w,h));E=w,w=j}var Q=w||E;return Q===h?null:Q}function Db(v,h,w){return v&&h>w+v.offsetTop?Db(v.nextElementSibling,h,w)||v:null}var Rae={};function Ap(v){v&&(delete Rae[Number(v.getAttribute("data-nodeid"))],Vie()(v.children).forEach(function(h){Ap(h)}))}var Np=Uc("md-preview-highlight");function Lae(v,h){for(var w=v.firstChild;w&&w.next&&!(dae(w.next)>h+1);)w=w.next;return w}var Iae=(function(){function v(h,w){var E=document.createElement("div");this.el=E,this.eventEmitter=h,this.isViewer=!!w.isViewer,this.el.className=Uc("md-preview");var P=w.linkAttributes,j=w.customHTMLRenderer,Q=w.sanitizer,ue=w.highlight,Le=ue===void 0?!1:ue;this.renderer=new Die({gfm:!0,nodeId:!0,convertors:Oae(P,j)}),this.cursorNodeId=null,this.sanitizer=Q,this.initEvent(Le),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return v.prototype.initContentSection=function(){this.previewContent=uae('<div class="'+Uc("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},v.prototype.toggleActive=function(h){Eb(this.el,"active",h)},v.prototype.initEvent=function(h){var w=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(h&&(this.eventEmitter.listen("changeToolbarState",function(E){var P=E.mdNode,j=E.cursorPos;w.updateCursorNode(P,j)}),this.eventEmitter.listen("blur",function(){w.removeHighlight()})),mb()(this.el,"scroll",function(E){w.eventEmitter.emit("scroll","preview",Dae(E.target.scrollTop,w.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return w.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return w.toggleActive(!1)}))},v.prototype.removeHighlight=function(){if(this.cursorNodeId){var h=this.getElementByNodeId(this.cursorNodeId);h&&Tp()(h,Np)}},v.prototype.updateCursorNode=function(h,w){h&&(h=pae(h,function(Q){return!hae(Q)}),h.type==="tableRow"?h=Lae(h,w[1]):h.type==="tableBody"&&(h=null));var E=h?h.id:null;if(this.cursorNodeId!==E){var P=this.getElementByNodeId(this.cursorNodeId),j=this.getElementByNodeId(E);P&&Tp()(P,Np),j&&yb()(j,Np),this.cursorNodeId=E}},v.prototype.getElementByNodeId=function(h){return h?this.previewContent.querySelector('[data-nodeid="'+h+'"]'):null},v.prototype.update=function(h){var w=this;h.forEach(function(E){return w.replaceRangeNodes(E)}),this.eventEmitter.emit("afterPreviewRender",this)},v.prototype.replaceRangeNodes=function(h){var w=this,E=h.nodes,P=h.removedNodeRange,j=this.previewContent,Q=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(E.map(function(St){return w.renderer.render(St)}).join("")));if(!P)j.insertAdjacentHTML("afterbegin",Q);else{var ue=P.id,Le=ue[0],Fe=ue[1],at=this.getElementByNodeId(Le),ut=this.getElementByNodeId(Fe);if(at){at.insertAdjacentHTML("beforebegin",Q);for(var nt=at;nt&&nt!==ut;){var Et=nt.nextElementSibling;Sb(nt),Ap(nt),nt=Et}nt!=null&&nt.parentNode&&(Sb(nt),Ap(nt))}}},v.prototype.getRenderer=function(){return this.renderer},v.prototype.destroy=function(){gb()(this.el,"scroll"),this.el=null},v.prototype.getElement=function(){return this.el},v.prototype.getHTML=function(){return cae(this.previewContent.innerHTML)},v.prototype.setHTML=function(h){this.previewContent.innerHTML=h},v.prototype.setHeight=function(h){bb()(this.el,{height:h+"px"})},v.prototype.setMinHeight=function(h){bb()(this.el,{minHeight:h+"px"})},v})(),Pae=Iae,jc=u(814),Dp=u(479),Rb=u(311),_ae=u(481),Bae=u(43),Fae=u(928),qae=u.n(Fae),Hae=(function(){function v(){this.keys=[],this.values=[]}return v.prototype.getKeyIndex=function(h){return qae()(h,this.keys)},v.prototype.get=function(h){return this.values[this.getKeyIndex(h)]},v.prototype.set=function(h,w){var E=this.getKeyIndex(h);return E>-1?this.values[E]=w:(this.keys.push(h),this.values.push(w)),this},v.prototype.has=function(h){return this.getKeyIndex(h)>-1},v.prototype.delete=function(h){var w=this.getKeyIndex(h);return w>-1?(this.keys.splice(w,1),this.values.splice(w,1),!0):!1},v.prototype.forEach=function(h,w){var E=this;w===void 0&&(w=this),this.values.forEach(function(P,j){P&&E.keys[j]&&h.call(w,P,E.keys[j],E)})},v.prototype.clear=function(){this.keys=[],this.values=[]},v})(),Lb=Hae,Rp="en-US",Vae=(function(){function v(){this.code=Rp,this.langs=new Lb}return v.prototype.setCode=function(h){this.code=h||Rp},v.prototype.setLanguage=function(h,w){var E=this;h=[].concat(h),h.forEach(function(P){if(!E.langs.has(P))E.langs.set(P,w);else{var j=E.langs.get(P);E.langs.set(P,vb()(j,w))}})},v.prototype.get=function(h,w){w||(w=this.code);var E=this.langs.get(w);E||(E=this.langs.get(Rp));var P=E[h];if(!P)throw new Error('There is no text key "'+h+'" in '+w);return P},v})(),zae=new Vae;function $ae(v,h){for(var w=v.depth;w;){var E=v.node(w);if(h(E,w))return{node:E,depth:w,offset:w>0?v.before(w):0};w-=1}return null}var Ib=new Map,Pb=(function(){function v(h,w,E,P){this.table=h,this.tableRows=w,this.tableStartPos=E,this.rowInfo=P}return v.create=function(h){var w=$ae(h,function(St){var er=St.type;return er.name==="table"});if(w){var E=w.node,P=w.depth,j=w.offset,Q=Ib.get(E);if((Q==null?void 0:Q.tableStartPos)===j+1)return Q;var ue=[],Le=h.start(P),Fe=E.child(0),at=E.child(1),ut=Lp(Fe,Le),nt=Lp(at,Le+Fe.nodeSize);Fe.forEach(function(St){return ue.push(St)}),at.forEach(function(St){return ue.push(St)});var Et=new v(E,ue,Le,ut.concat(nt));return Ib.set(E,Et),Et}return null},Object.defineProperty(v.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),v.prototype.getCellInfo=function(h,w){return this.rowInfo[h][w]},v.prototype.posAt=function(h,w){for(var E=0,P=this.tableStartPos;;E+=1){var j=P+this.tableRows[E].nodeSize;if(E===h){for(var Q=w;Q<this.totalColumnCount&&this.rowInfo[E][Q].offset<P;)Q+=1;return Q===this.totalColumnCount?j:this.rowInfo[E][Q].offset}P=j}},v.prototype.getNodeAndPos=function(h,w){var E=this.rowInfo[h][w];return{node:this.table.nodeAt(E.offset-this.tableStartOffset),pos:E.offset}},v.prototype.extendedRowspan=function(h,w){return!1},v.prototype.extendedColspan=function(h,w){return!1},v.prototype.getRowspanCount=function(h,w){return 0},v.prototype.getColspanCount=function(h,w){return 0},v.prototype.decreaseColspanCount=function(h,w){return 0},v.prototype.decreaseRowspanCount=function(h,w){return 0},v.prototype.getColspanStartInfo=function(h,w){return null},v.prototype.getRowspanStartInfo=function(h,w){return null},v.prototype.getCellStartOffset=function(h,w){var E=this.rowInfo[h][w].offset;return this.extendedRowspan(h,w)?this.posAt(h,w):E},v.prototype.getCellEndOffset=function(h,w){var E=this.rowInfo[h][w],P=E.offset,j=E.nodeSize;return this.extendedRowspan(h,w)?this.posAt(h,w):P+j},v.prototype.getCellIndex=function(h){for(var w=0;w<this.totalRowCount;w+=1)for(var E=this.rowInfo[w],P=0;P<this.totalColumnCount;P+=1)if(E[P].offset+1>h.pos)return[w,P];return[0,0]},v.prototype.getRectOffsets=function(h,w){var E,P,j;w===void 0&&(w=h),h.pos>w.pos&&(E=[w,h],h=E[0],w=E[1]);var Q=this.getCellIndex(h),ue=Q[0],Le=Q[1],Fe=this.getCellIndex(w),at=Fe[0],ut=Fe[1];return P=xb(ue,at),ue=P[0],at=P[1],j=xb(Le,ut),Le=j[0],ut=j[1],this.getSpannedOffsets({startRowIdx:ue,startColIdx:Le,endRowIdx:at,endColIdx:ut})},v.prototype.getSpannedOffsets=function(h){return h},v})(),Lp=function(v,h){var w=[];return v.forEach(function(E,P){var j={rowspanMap:{},colspanMap:{},length:0};E.forEach(function(Q,ue){for(var Le=Q.nodeSize,Fe=0;j[Fe];)Fe+=1;j[Fe]={offset:h+P+ue+2,nodeSize:Le},j.length+=1}),w.push(j)}),w};function Uae(v,h){return Tb(Pb.prototype,v),Lp=h,Pb}function jae(v){var h=v.plugin,w=v.eventEmitter,E=v.usageStatistics,P=v.instance,j={Plugin:jc.Plugin,PluginKey:jc.PluginKey,Selection:jc.Selection,TextSelection:jc.TextSelection},Q={Decoration:Rb.Decoration,DecorationSet:Rb.DecorationSet},ue={Fragment:Bae.Fragment},Le={InputRule:Dp.InputRule,inputRules:Dp.inputRules,undoInputRule:Dp.undoInputRule},Fe={keymap:_ae.keymap},at={eventEmitter:w,usageStatistics:E,instance:P,pmState:j,pmView:Q,pmModel:ue,pmRules:Le,pmKeymap:Fe,i18n:zae};if($ie()(h)){var ut=h[0],nt=h[1],Et=nt===void 0?{}:nt;return ut(at,Et)}return h(at)}function Wae(v){var h=v.plugins,w=v.eventEmitter,E=v.usageStatistics,P=v.instance;return w.listen("mixinTableOffsetMapPrototype",Uae),(h??[]).reduce(function(j,Q){var ue=jae({plugin:Q,eventEmitter:w,usageStatistics:E,instance:P});if(!ue)throw new Error("The return value of the executed plugin is empty.");var Le=ue.markdownParsers,Fe=ue.toHTMLRenderers,at=ue.toMarkdownRenderers,ut=ue.markdownPlugins,nt=ue.wysiwygPlugins,Et=ue.wysiwygNodeViews,St=ue.markdownCommands,er=ue.wysiwygCommands,Dr=ue.toolbarItems;return Fe&&(j.toHTMLRenderers=Ep(j.toHTMLRenderers,Fe)),at&&(j.toMarkdownRenderers=Ep(j.toMarkdownRenderers,at)),ut&&(j.mdPlugins=j.mdPlugins.concat(ut)),nt&&(j.wwPlugins=j.wwPlugins.concat(nt)),Et&&(j.wwNodeViews=p(p({},j.wwNodeViews),Et)),St&&(j.mdCommands=p(p({},j.mdCommands),St)),er&&(j.wwCommands=p(p({},j.wwCommands),er)),Dr&&(j.toolbarItems=j.toolbarItems.concat(Dr)),Le&&(j.markdownParsers=p(p({},j.markdownParsers),Le)),j},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Gae=u(404),Kae=u.n(Gae),_b=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],Jae=(function(){function v(){var h=this;this.events=new Lb,this.eventTypes=_b.reduce(function(w,E){return p(p({},w),{type:E})},{}),this.hold=!1,_b.forEach(function(w){h.addEventType(w)})}return v.prototype.listen=function(h,w){var E=this.getTypeInfo(h),P=this.events.get(E.type)||[];if(!this.hasEventType(E.type))throw new Error("There is no event type "+E.type);E.namespace&&(w.namespace=E.namespace),P.push(w),this.events.set(E.type,P)},v.prototype.emit=function(h){for(var w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];var P=this.getTypeInfo(h),j=this.events.get(P.type),Q=[];return!this.hold&&j&&j.forEach(function(ue){var Le=ue.apply(void 0,w);$c()(Le)||Q.push(Le)}),Q},v.prototype.emitReduce=function(h,w){for(var E=[],P=2;P<arguments.length;P++)E[P-2]=arguments[P];var j=this.events.get(h);return!this.hold&&j&&j.forEach(function(Q){var ue=Q.apply(void 0,b([w],E));Kae()(ue)||(w=ue)}),w},v.prototype.getTypeInfo=function(h){var w=h.split(".");return{type:w[0],namespace:w[1]}},v.prototype.hasEventType=function(h){return!$c()(this.eventTypes[this.getTypeInfo(h).type])},v.prototype.addEventType=function(h){if(this.hasEventType(h))throw new Error("There is already have event type "+h);this.eventTypes[h]=h},v.prototype.removeEventHandler=function(h,w){var E=this,P=this.getTypeInfo(h),j=P.type,Q=P.namespace;j&&w?this.removeEventHandlerWithHandler(j,w):j&&!Q?this.events.delete(j):!j&&Q?this.events.forEach(function(ue,Le){E.removeEventHandlerWithTypeInfo(Le,Q)}):j&&Q&&this.removeEventHandlerWithTypeInfo(j,Q)},v.prototype.removeEventHandlerWithHandler=function(h,w){var E=this.events.get(h);if(E){var P=E.indexOf(w);E.indexOf(w)>=0&&E.splice(P,1)}},v.prototype.removeEventHandlerWithTypeInfo=function(h,w){var E=[],P=this.events.get(h);P&&(P.map(function(j){return j.namespace!==w&&E.push(j),null}),this.events.set(h,E))},v.prototype.getEvents=function(){return this.events},v.prototype.holdEventInvoke=function(h){this.hold=!0,h(),this.hold=!1},v})(),Xae=Jae,Yae="data-task",Qae="data-task-disabled",Zae="checked";function eoe(v){["htmlBlock","htmlInline"].forEach(function(h){v[h]&&Object.keys(v[h]).forEach(function(w){return Cae(w)})})}var toe=(function(){function v(h){var w=this;this.options=vb()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},h),this.eventEmitter=new Xae;var E=aae(this.options.linkAttributes),P=Wae({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},j=P.toHTMLRenderers,Q=P.markdownParsers,ue=this.options,Le=ue.customHTMLRenderer,Fe=ue.extendedAutolinks,at=ue.referenceDefinition,ut=ue.frontMatter,nt=ue.customHTMLSanitizer,Et={linkAttributes:E,customHTMLRenderer:p(p({},j),Le),extendedAutolinks:Fe,referenceDefinition:at,frontMatter:ut,sanitizer:nt||Tae};eoe(Et.customHTMLRenderer),this.options.events&&Lie()(this.options.events,function(mi,ei){w.on(ei,mi)});var St=this.options,er=St.el,Dr=St.initialValue,Wr=St.theme,wa=er.innerHTML;Wr!=="light"&&er.classList.add(Uc(Wr)),er.innerHTML="",this.toastMark=new Mie("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:Fe,referenceDefinition:at,disallowDeepHeading:!0,frontMatter:ut,customParser:Q}),this.preview=new Pae(this.eventEmitter,p(p({},Et),{isViewer:!0})),mb()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),Dr?this.setMarkdown(Dr):wa&&this.preview.setHTML(wa),er.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return v.prototype.toggleTask=function(h){var w=h.target,E=getComputedStyle(w,":before");!w.hasAttribute(Qae)&&w.hasAttribute(Yae)&&sae(E,h.offsetX,h.offsetY)&&(Eb(w,Zae),this.eventEmitter.emit("change",{source:"viewer",date:h}))},v.prototype.setMarkdown=function(h){var w=this.toastMark.getLineTexts(),E=w.length,P=oae(w),j=[E,P.length+1],Q=this.toastMark.editMarkdown([1,1],j,h||"");this.eventEmitter.emit("updatePreview",Q)},v.prototype.on=function(h,w){this.eventEmitter.listen(h,w)},v.prototype.off=function(h){this.eventEmitter.removeEventHandler(h)},v.prototype.addHook=function(h,w){this.eventEmitter.removeEventHandler(h),this.eventEmitter.listen(h,w)},v.prototype.destroy=function(){gb()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},v.prototype.isViewer=function(){return!0},v.prototype.isMarkdownMode=function(){return!1},v.prototype.isWysiwygMode=function(){return!1},v})(),roe=toe,noe=roe})(),f=f.default,f})()})})(Qp)),Qp.exports}var Pfe=Ife();const _fe=Ofe(Pfe),Bfe={class:"flex mb-6 text-gray-500 text-sm overflow-x-auto whitespace-nowrap"},Ffe=["onClick"],qfe={key:0,class:"flex items-center text-gray-800"},Hfe={key:0,class:"text-center py-10 text-gray-500"},Vfe={key:1},zfe={key:0,class:"bg-white p-6 rounded-lg shadow-sm mb-6"},$fe={key:1,class:"mb-8"},Ufe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},jfe=["onClick"],Wfe={class:"font-medium truncate"},Gfe={key:0,class:"text-gray-400 italic"},Kfe={class:"grid grid-cols-1 gap-3"},Jfe={class:"flex items-center overflow-hidden"},Xfe={class:"truncate"},Yfe={class:"font-medium text-gray-800 truncate"},Qfe={class:"text-xs text-gray-500"},Zfe=["href"],ede={__name:"HomeView",setup(t){const e=Mfe();yg();const r=dr(null),n=dr([]),i=dr([]),a=dr(!1),o=dr([]),s=dr(null);let l=null;function u(){xd(()=>{var b;!((b=r.value)!=null&&b.description)||!s.value||(l&&l.destroy(),l=new _fe({el:s.value,initialValue:r.value.description}))})}function f(b){return b?new Date(b).toLocaleDateString("de-CH"):""}async function p(b){a.value=!0;try{const C=b?`/api/files.php?folder_id=${b}`:"/api/files.php",T=await jt.get(C);r.value=T.data.current_folder,n.value=T.data.folders,i.value=T.data.files,u()}catch(C){console.error(C)}finally{a.value=!1}}return bu(()=>e.query.folder,b=>{p(b||null)},{immediate:!0}),(b,C)=>{var T,M;return Dt(),qt("div",null,[Me("nav",Bfe,[Me("button",{onClick:C[0]||(C[0]=N=>p(null)),class:_a(["hover:text-elektron-blue font-medium",{"font-bold text-gray-800 cursor-default":!((T=r.value)!=null&&T.parent_id),"hover:text-elektron-blue":(M=r.value)==null?void 0:M.parent_id}])},"Home",2),(Dt(!0),qt(Gr,null,go(o.value,(N,B)=>(Dt(),qt("span",{key:B,class:"flex items-center"},[C[1]||(C[1]=Me("svg",{class:"w-4 h-4 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),Me("button",{onClick:U=>p(N.id),class:"hover:text-elektron-blue font-medium"},an(N.name),9,Ffe)]))),128)),r.value&&r.value.parent_id?(Dt(),qt("span",qfe,[C[2]||(C[2]=Me("svg",{class:"w-4 h-4 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),ta(" "+an(r.value.name),1)])):vn("",!0)]),a.value?(Dt(),qt("div",Hfe,"Lade...")):(Dt(),qt("div",Vfe,[r.value&&r.value.description?(Dt(),qt("div",zfe,[Me("div",{ref_key:"viewerRef",ref:s},null,512)])):vn("",!0),n.value.length>0?(Dt(),qt("div",$fe,[C[4]||(C[4]=Me("h3",{class:"text-sm font-bold text-gray-400 uppercase mb-3 tracking-wider"},"Ordner",-1)),Me("div",Ufe,[(Dt(!0),qt(Gr,null,go(n.value,N=>(Dt(),qt("div",{key:N.id,onClick:B=>p(N.id),class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 cursor-pointer hover:border-elektron-blue hover:shadow-md transition flex items-center"},[C[3]||(C[3]=Me("svg",{class:"w-8 h-8 text-yellow-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[Me("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),Me("span",Wfe,an(N.name),1)],8,jfe))),128))])])):vn("",!0),Me("div",null,[C[7]||(C[7]=Me("h3",{class:"text-sm font-bold text-gray-400 uppercase mb-3 tracking-wider"},"Dateien",-1)),i.value.length===0?(Dt(),qt("div",Gfe,"Keine Dateien vorhanden.")):vn("",!0),Me("div",Kfe,[(Dt(!0),qt(Gr,null,go(i.value,N=>(Dt(),qt("div",{key:N.id,class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 flex items-center justify-between"},[Me("div",Jfe,[C[5]||(C[5]=Me("svg",{class:"w-8 h-8 text-red-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[Me("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"})],-1)),Me("div",Xfe,[Me("div",Yfe,an(N.filename),1),Me("div",Qfe,an(f(N.created_at)),1)])]),Me("a",{href:"/uploads/"+N.path,download:"",target:"_blank",class:"ml-4 p-2 text-elektron-blue hover:bg-blue-50 rounded-full"},[...C[6]||(C[6]=[Me("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,Zfe)]))),128))])])]))])}}},tde={class:"max-w-md mx-auto mt-10 bg-white p-8 rounded-lg shadow-md border border-gray-200"},rde={class:"mb-4"},nde={key:0,class:"text-red-500 mb-4"},ide={__name:"LoginView",setup(t){const e=dr(""),r=dr(""),n=yg();async function i(){try{const a=await jt.post("/api/auth.php",{action:"login",password:e.value});a.data.success?n.push("/admin"):r.value=a.data.error||"Login fehlgeschlagen"}catch{r.value="Netzwerkfehler"}}return(a,o)=>(Dt(),qt("div",tde,[o[3]||(o[3]=Me("h1",{class:"text-2xl font-bold mb-6 text-center text-elektron-blue"},"Admin Login",-1)),Me("form",{onSubmit:mf(i,["prevent"])},[Me("div",rde,[o[1]||(o[1]=Me("label",{class:"block text-gray-700 font-bold mb-2"},"Passwort",-1)),rl(Me("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),type:"password",class:"w-full border rounded px-3 py-2 focus:outline-none focus:border-elektron-blue",required:""},null,512),[[il,e.value]])]),r.value?(Dt(),qt("p",nde,an(r.value),1)):vn("",!0),o[2]||(o[2]=Me("button",{type:"submit",class:"w-full bg-elektron-blue text-white font-bold py-2 px-4 rounded hover:bg-opacity-90"},"Login",-1))],32)]))}};function rn(t){this.content=t}rn.prototype={constructor:rn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new rn(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new rn(r)},addToStart:function(t,e){return new rn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new rn(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new rn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=rn.from(t),t.size?new rn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=rn.from(t),t.size?new rn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=rn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};rn.from=function(t){if(t instanceof rn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new rn(e)};function ox(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)r++;return r}if(i.content.size||a.content.size){let o=ox(i.content,a.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function sx(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let o=t.child(--i),s=e.child(--a),l=o.nodeSize;if(o==s){r-=l,n-=l;continue}if(!o.sameMarkup(s))return{a:r,b:n};if(o.isText&&o.text!=s.text){let u=0,f=Math.min(o.text.length,s.text.length);for(;u<f&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||s.content.size){let u=sx(o.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class We{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let o=0,s=0;s<r;o++){let l=this.content[o],u=s+l.nodeSize;if(u>e&&n(l,i+s,a||null,o)!==!1&&l.content.size){let f=s+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,i+f)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",o=!0;return this.nodesBetween(e,r,(s,l)=>{let u=s.isText?s.text.slice(Math.max(e,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(o?o=!1:a+=n),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new We(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,o=0;o<r;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>r)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,r-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,r-o-1))),n.push(s),i+=s.nodeSize),o=l}return new We(n,i)}cutByIndex(e,r){return e==r?We.empty:e==0&&r==this.content.length?this:new We(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new We(i,a)}addToStart(e){return new We([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new We(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return ox(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return sx(this,e,r,n)}findIndex(e){if(e==0)return Yc(0,e);if(e==this.size)return Yc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),a=n+i.nodeSize;if(a>=e)return a==e?Yc(r+1,a):Yc(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return We.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new We(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return We.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new We(r||e,n)}static from(e){if(!e)return We.empty;if(e instanceof We)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new We([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}We.empty=new We([],0);const tv={index:0,offset:0};function Yc(t,e){return tv.index=t,tv.offset=e,tv}function Hf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Hf(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Hf(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let sr=class om{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return om.none;if(e instanceof om)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};sr.none=[];class Vf extends Error{}class ot{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=ux(this.content,e+this.openStart,r);return n&&new ot(n,this.openStart,this.openEnd)}removeBetween(e,r){return new ot(lx(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return ot.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ot(We.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new ot(e,n,i)}}ot.empty=new ot(We.empty,0,0);function lx(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:o,offset:s}=t.findIndex(r);if(i==e||a.isText){if(s!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(lx(a.content,e-i-1,r-i-1)))}function ux(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),o=t.maybeChild(i);if(a==e||o.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=ux(o.content,e-a-1,r,o);return s&&t.replaceChild(i,o.copy(s))}function ade(t,e,r){if(r.openStart>t.depth)throw new Vf("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Vf("Inconsistent open depths");return cx(t,e,r,0)}function cx(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let o=cx(t,e,r,n+1);return a.copy(a.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,s=o.content;return hs(o,s.cut(0,t.parentOffset).append(r.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=ode(r,t);return hs(a,dx(t,o,s,e,n))}else return hs(a,zf(t,e,n))}function fx(t,e){if(!e.type.compatibleContent(t.type))throw new Vf("Cannot join "+e.type.name+" onto "+t.type.name)}function sm(t,e,r){let n=t.node(r);return fx(n,e.node(r)),n}function ds(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Su(t,e,r,n){let i=(e||t).node(r),a=0,o=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(ds(t.nodeAfter,n),a++));for(let s=a;s<o;s++)ds(i.child(s),n);e&&e.depth==r&&e.textOffset&&ds(e.nodeBefore,n)}function hs(t,e){return t.type.checkContent(e),t.copy(e)}function dx(t,e,r,n,i){let a=t.depth>i&&sm(t,e,i+1),o=n.depth>i&&sm(r,n,i+1),s=[];return Su(null,t,i,s),a&&o&&e.index(i)==r.index(i)?(fx(a,o),ds(hs(a,dx(t,e,r,n,i+1)),s)):(a&&ds(hs(a,zf(t,e,i+1)),s),Su(e,r,i,s),o&&ds(hs(o,zf(r,n,i+1)),s)),Su(n,null,i,s),new We(s)}function zf(t,e,r){let n=[];if(Su(null,t,r,n),t.depth>r){let i=sm(t,e,r+1);ds(hs(i,zf(t,e,r+1)),n)}return Su(e,null,r,n),new We(n)}function ode(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(We.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class Bu{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return sr.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let s=n;n=i,i=s}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new $f(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(n.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Bu(r,n,a)}static resolveCached(e,r){let n=t0.get(e);if(n)for(let a=0;a<n.elts.length;a++){let o=n.elts[a];if(o.pos==r)return o}else t0.set(e,n=new sde);let i=n.elts[n.i]=Bu.resolve(e,r);return n.i=(n.i+1)%lde,i}}class sde{constructor(){this.elts=[],this.i=0}}const lde=12,t0=new WeakMap;class $f{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ude=Object.create(null);let yo=class lm{constructor(e,r,n,i=sr.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||We.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Hf(this.attrs,r||e.defaultAttrs||ude)&&sr.sameSet(this.marks,n||sr.none)}copy(e=null){return e==this.content?this:new lm(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new lm(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return ot.empty;let i=this.resolve(e),a=this.resolve(r),o=n?0:i.sharedDepth(r),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new ot(u,i.depth-o,a.depth-o)}replace(e,r,n){return ade(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Bu.resolveCached(this,e)}resolveNoCache(e){return Bu.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),hx(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=We.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),s=o&&o.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=sr.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!sr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=We.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};yo.prototype.text=void 0;class Uf extends yo{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Uf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Uf(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function hx(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class ys{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new cde(e,r);if(n.next==null)return ys.empty;let i=px(n);n.next&&n.err("Unexpected trailing text");let a=gde(mde(i));return yde(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(o,s){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return We.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:p}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let b=a(p,s.concat(f));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}ys.empty=new ys(!0);class cde{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function px(t){let e=[];do e.push(fde(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fde(t){let e=[];do e.push(dde(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dde(t){let e=vde(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=hde(t,e);else break;return e}function r0(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function hde(t,e){let r=r0(t),n=r;return t.eat(",")&&(t.next!="}"?n=r0(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function pde(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let o=r[a];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function vde(t){if(t.eat("(")){let e=px(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=pde(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mde(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}function n(o,s,l){let u={term:l,to:s};return e[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=r())}else if(o.type=="star"){let l=r();return n(s,l),i(a(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return i(a(o.expr,s),l),i(a(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let f=r();i(a(o.expr,l),f),l=f}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let f=r();n(l,f),i(a(o.expr,l),f),l=f}return[n(l)]}else{if(o.type=="name")return[n(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function vx(t,e){return e-t}function n0(t,e){let r=[];return n(e),r.sort(vx);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&r.indexOf(l)==-1&&n(l)}}}function gde(t){let e=Object.create(null);return r(n0(t,0));function r(n){let i=[];n.forEach(o=>{t[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let f=0;f<i.length;f++)i[f][0]==s&&(u=i[f][1]);n0(t,l).forEach(f=>{u||i.push([s,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let a=e[n.join(",")]=new ys(n.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(vx);a.next.push({type:i[o][0],next:e[s.join(",")]||r(s)})}return a}}function yde(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function mx(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function gx(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function yx(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function bx(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new wde(t,n,e[n]);return r}let i0=class wx{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=bx(e,n.attrs),this.defaultAttrs=mx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ys.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:gx(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new yo(this,this.computeAttrs(e),We.from(r),sr.setFrom(n))}createChecked(e=null,r,n){return r=We.from(r),this.checkContent(r),new yo(this,this.computeAttrs(e),r,sr.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=We.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(We.empty,!0);return a?new yo(this,e,r.append(a),sr.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){yx(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:sr.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,o)=>n[a]=new wx(a,r,o));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function bde(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class wde{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?bde(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Vd{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=bx(e,i.attrs),this.excluded=null;let a=mx(this.attrs);this.instance=a?new sr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new sr(this,gx(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new Vd(a,i++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){yx(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class kx{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=rn.from(e.nodes),r.marks=rn.from(e.marks||{}),this.nodes=i0.compile(this.spec.nodes,this),this.marks=Vd.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;if(a.contentMatch=n[o]||(n[o]=ys.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=s=="_"?null:s?a0(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:a0(this,o.split(" "))}this.nodeFromJSON=i=>yo.fromJSON(this,i),this.markFromJSON=i=>sr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof i0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Uf(n,n.defaultAttrs,e,sr.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function a0(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],o=a;if(a)r.push(a);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function kde(t){return t.tag!=null}function Cde(t){return t.style!=null}class bs{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(kde(i))this.tags.push(i);else if(Cde(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new s0(this,r,!1);return n.addAll(e,sr.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new s0(this,r,!0);return n.addAll(e,sr.none,r.from,r.to),ot.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(Sde(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let s=r[o];if((s.priority==null?50:s.priority)<a)break}r.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=l0(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=l0(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bs(e,bs.schemaRules(e)))}}const Cx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Tde={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Tx={ol:!0,ul:!0},Fu=1,um=2,Eu=4;function o0(t,e,r){return e!=null?(e?Fu:0)|(e==="full"?um:0):t&&t.whitespace=="pre"?Fu|um:r&~Eu}class Qc{constructor(e,r,n,i,a,o){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=sr.none,this.match=a||(o&Eu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(We.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Fu)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=We.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(We.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Cx.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class s0{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,o=o0(null,r.preserveWhitespace,0)|(n?Eu:0);i?a=new Qc(i.type,i.attrs,sr.none,!0,r.topMatch||i.type.contentMatch,o):n?a=new Qc(null,null,sr.none,!0,null,o):a=new Qc(e.schema.topNodeType,null,sr.none,!0,null,o),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&um?"full":this.localPreserveWS||(i.options&Fu)>0,{schema:o}=this.parser;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)if(a==="full")n=n.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(o.linebreakReplacement.create())){let s=n.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),r,!0),s[l]&&this.insertNode(o.text(s[l]),r,!/\S/.test(s[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(o.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),s;Tx.hasOwnProperty(o)&&this.parser.normalizeLists&&xde(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));e:if(l?l.ignore:Tde.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,f=this.needsBlock;if(Cx.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let p=l&&l.skip?r:this.readStyles(e,r);p&&this.addAll(e,p),u&&this.sync(a),this.needsBlock=f}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],o=n.getPropertyValue(a);if(o)for(let s=void 0;;){let l=this.parser.matchStyle(a,o,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return r}addElementByRule(e,r,n,i){let a,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(s)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];o!=s;o=o.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(o,r);this.findAtPoint(e,a)}findPlace(e,r,n){let i,a;for(let o=this.open,s=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+s)&&(i=u,a=l,!u.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(a);for(let o=0;o<i.length;o++)r=this.enterInner(i[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let o=sr.none;for(let s of i.concat(e.marks))(a.type?a.type.allowsMarkType(s.type):u0(s.type,e.type))&&(o=s.addToSet(o));return a.content.push(e.mark(o)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n,!1);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let s=o0(e,a,o.options);o.options&Eu&&o.content.length==0&&(s|=Eu);let l=sr.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):u0(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Qc(e,r,l,i,null,s)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Fu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=r[s];if(u==""){if(s==r.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function xde(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Tx.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Sde(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function l0(t){let e={};for(let r in t)e[r]=t[r];return e}function u0(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:f}=s.edge(l);if(u==e||a.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class Hl{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=rv(r).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],f=this.serializeMark(u,o.isInline,r);f&&(a.push([u,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=wf(rv(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&wf(rv(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return wf(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Hl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=c0(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return c0(e.marks)}}function c0(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function rv(t){return t.document||window.document}const f0=new WeakMap;function Ede(t){let e=f0.get(t);return e===void 0&&f0.set(t,e=Mde(t)),e}function Mde(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function wf(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=Ede(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let p in u)if(u[p]!=null){let b=p.indexOf(" ");b>0?l.setAttributeNS(p.slice(0,b),p.slice(b+1),u[p]):p=="style"&&l.style?l.style.cssText=u[p]:l.setAttribute(p,u[p])}}for(let p=f;p<e.length;p++){let b=e[p];if(b===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:C,contentDOM:T}=wf(t,b,r,n);if(l.appendChild(C),T){if(s)throw new RangeError("Multiple content holes");s=T}}}return{dom:l,contentDOM:s}}const xx=65535,Sx=Math.pow(2,16);function Ode(t,e){return t+e*Sx}function d0(t){return t&xx}function Ade(t){return(t-(t&xx))/Sx}const Ex=1,Mx=2,kf=4,Ox=8;class cm{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&Ox)>0}get deletedBefore(){return(this.delInfo&(Ex|kf))>0}get deletedAfter(){return(this.delInfo&(Mx|kf))>0}get deletedAcross(){return(this.delInfo&kf)>0}}class zn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&zn.empty)return zn.empty}recover(e){let r=0,n=d0(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+Ade(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+a],f=this.ranges[s+o],p=l+u;if(e<=p){let b=u?e==l?-1:e==p?1:r:r,C=l+i+(b<0?0:f);if(n)return C;let T=e==(r<0?l:p)?null:Ode(s/3,e-l),M=e==l?Mx:e==p?Ex:kf;return(r<0?e!=l:e!=p)&&(M|=Ox),new cm(C,M,T)}i+=f-u}return n?e+i:new cm(e+i,0,null)}touches(e,r){let n=0,i=d0(r),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+a],f=l+u;if(e<=f&&s==i*3)return!0;n+=this.ranges[s+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+r],f=this.ranges[i+n];e(s,s+u,l,l+f),a+=f-u}}invert(){return new zn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?zn.empty:new zn(e<0?[0,-e,0]:[0,0,e])}}zn.empty=new zn([]);class qu{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new qu(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new qu;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],s=o.mapResult(e,r);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new cm(e,i,null)}}const nv=Object.create(null);class Cn{getMap(){return zn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=nv[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in nv)throw new RangeError("Duplicate use of step JSON ID "+e);return nv[e]=r,r.prototype.jsonID=e,r}}class Pr{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Pr(e,null)}static fail(e){return new Pr(null,e)}static fromReplace(e,r,n,i){try{return Pr.ok(e.replace(r,n,i))}catch(a){if(a instanceof Vf)return Pr.fail(a.message);throw a}}}function wg(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(wg(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return We.fromArray(n)}class ho extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new ot(wg(r.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return Pr.fromReplace(e,this.from,this.to,a)}invert(){return new ra(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ho(r.pos,n.pos,this.mark)}merge(e){return e instanceof ho&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ho(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ho(r.from,r.to,e.markFromJSON(r.mark))}}Cn.jsonID("addMark",ho);class ra extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new ot(wg(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Pr.fromReplace(e,this.from,this.to,n)}invert(){return new ho(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ra(r.pos,n.pos,this.mark)}merge(e){return e instanceof ra&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ra(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ra(r.from,r.to,e.markFromJSON(r.mark))}}Cn.jsonID("removeMark",ra);class po extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Pr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Pr.fromReplace(e,this.pos,this.pos+1,new ot(We.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new po(this.pos,r.marks[i]);return new po(this.pos,this.mark)}}return new ws(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new po(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new po(r.pos,e.markFromJSON(r.mark))}}Cn.jsonID("addNodeMark",po);class ws extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Pr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Pr.fromReplace(e,this.pos,this.pos+1,new ot(We.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new po(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ws(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ws(r.pos,e.markFromJSON(r.mark))}}Cn.jsonID("removeNodeMark",ws);class gn extends Cn{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&fm(e,this.from,this.to)?Pr.fail("Structure replace would overwrite content"):Pr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new zn([this.from,this.to-this.from,this.slice.size])}invert(e){return new gn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new gn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?ot.empty:new ot(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gn(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?ot.empty:new ot(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gn(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gn(r.from,r.to,ot.fromJSON(e,r.slice),!!r.structure)}}Cn.jsonID("replace",gn);class Xr extends Cn{constructor(e,r,n,i,a,o,s=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&(fm(e,this.from,this.gapFrom)||fm(e,this.gapTo,this.to)))return Pr.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Pr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Pr.fromReplace(e,this.from,this.to,n):Pr.fail("Content does not fit in gap")}getMap(){return new zn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Xr(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new Xr(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xr(r.from,r.to,r.gapFrom,r.gapTo,ot.fromJSON(e,r.slice),r.insert,!!r.structure)}}Cn.jsonID("replaceAround",Xr);function fm(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Nde(t,e,r,n){let i=[],a=[],o,s;t.doc.nodesBetween(e,r,(l,u,f)=>{if(!l.isInline)return;let p=l.marks;if(!n.isInSet(p)&&f.type.allowsMarkType(n.type)){let b=Math.max(u,e),C=Math.min(u+l.nodeSize,r),T=n.addToSet(p);for(let M=0;M<p.length;M++)p[M].isInSet(T)||(o&&o.to==b&&o.mark.eq(p[M])?o.to=C:i.push(o=new ra(b,C,p[M])));s&&s.to==b?s.to=C:a.push(s=new ho(b,C,n))}}),i.forEach(l=>t.step(l)),a.forEach(l=>t.step(l))}function Dde(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(n instanceof Vd){let u=o.marks,f;for(;f=n.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,r);for(let f=0;f<l.length;f++){let p=l[f],b;for(let C=0;C<i.length;C++){let T=i[C];T.step==a-1&&p.eq(i[C].style)&&(b=T)}b?(b.to=u,b.step=a):i.push({style:p,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(o=>t.step(new ra(o.from,o.to,o.style)))}function kg(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<a.childCount;l++){let u=a.child(l),f=s+u.nodeSize,p=n.matchType(u.type);if(!p)o.push(new gn(s,f,ot.empty));else{n=p;for(let b=0;b<u.marks.length;b++)r.allowsMarkType(u.marks[b].type)||t.step(new ra(s,f,u.marks[b]));if(i&&u.isText&&r.whitespace!="pre"){let b,C=/\r?\n|\r/g,T;for(;b=C.exec(u.text);)T||(T=new ot(We.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new gn(s+b.index,s+b.index+b[0].length,T))}}s=f}if(!n.validEnd){let l=n.fillBefore(We.empty,!0);t.replace(s,s,new ot(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Rde(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function zd(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,i=0,a=0;;--n){let o=t.$from.node(n),s=t.$from.index(n)+i,l=t.$to.indexAfter(n)-a;if(n<t.depth&&o.canReplace(s,l,r))return n;if(n==0||o.type.spec.isolating||!Rde(o,s,l))break;s&&(i=1),l<o.childCount&&(a=1)}return null}function Lde(t,e,r){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),s=i.after(a+1),l=o,u=s,f=We.empty,p=0;for(let T=a,M=!1;T>r;T--)M||n.index(T)>0?(M=!0,f=We.from(n.node(T).copy(f)),p++):l--;let b=We.empty,C=0;for(let T=a,M=!1;T>r;T--)M||i.after(T+1)<i.end(T)?(M=!0,b=We.from(i.node(T).copy(b)),C++):u++;t.step(new Xr(l,u,o,s,new ot(f.append(b),p,C),f.size-p,!0))}function Ide(t,e,r=null,n=t){let i=Pde(t,e),a=i&&_de(n,e);return a?i.map(h0).concat({type:e,attrs:r}).concat(a.map(h0)):null}function h0(t){return{type:t,attrs:null}}function Pde(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return r.canReplaceWith(n,i,o)?a:null}function _de(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:o}function Bde(t,e,r){let n=We.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let s=r[o].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=We.from(r[o].type.create(r[o].attrs,n))}let i=e.start,a=e.end;t.step(new Xr(i,a,i,a,new ot(n,0,0),r.length,!0))}function Fde(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(o,s)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&qde(t.doc,t.mapping.slice(a).map(s),n)){let u=null;if(n.schema.linebreakReplacement){let C=n.whitespace=="pre",T=!!n.contentMatch.matchType(n.schema.linebreakReplacement);C&&!T?u=!1:!C&&T&&(u=!0)}u===!1&&Nx(t,o,s,a),kg(t,t.mapping.slice(a).map(s,1),n,void 0,u===null);let f=t.mapping.slice(a),p=f.map(s,1),b=f.map(s+o.nodeSize,1);return t.step(new Xr(p,b,p+1,b-1,new ot(We.from(n.create(l,null,o.marks)),0,0),1,!0)),u===!0&&Ax(t,o,s,a),!1}})}function Ax(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let o,s=/\r?\n|\r/g;for(;o=s.exec(i.text);){let l=t.mapping.slice(n).map(r+1+a+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Nx(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+a);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function qde(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function Hde(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let o=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,o);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Xr(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ot(We.from(o),0,0),1,!0))}function ml(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,f=r-2;u>a;u--,f--){let p=i.node(u),b=i.index(u);if(p.type.spec.isolating)return!1;let C=p.content.cutByIndex(b,p.childCount),T=n&&n[f+1];T&&(C=C.replaceChild(0,T.type.create(T.attrs)));let M=n&&n[f]||p;if(!p.canReplace(b+1,p.childCount)||!M.type.validContent(C))return!1}let s=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function Vde(t,e,r=1,n){let i=t.doc.resolve(e),a=We.empty,o=We.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){a=We.from(i.node(s).copy(a));let f=n&&n[u];o=We.from(f?f.type.create(f.attrs,o):i.node(s).copy(o))}t.step(new gn(e,e,new ot(a.append(o),r,r),!0))}function Dx(t,e){let r=t.resolve(e),n=r.index();return $de(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function zde(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),o=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function $de(t,e){return!!(t&&e&&!t.isLeaf&&zde(t,e))}function Ude(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),o=a.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",p=!!o.contentMatch.matchType(i);f&&!p?n=!1:!f&&p&&(n=!0)}let s=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);Nx(t,f.node(),f.before(),s)}o.inlineContent&&kg(t,e+r-1,o,a.node().contentMatchAt(a.index()),n==null);let l=t.mapping.slice(s),u=l.map(e-r);if(t.step(new gn(u,l.map(e+r,-1),ot.empty,!0)),n===!0){let f=t.doc.resolve(u);Ax(t,f.node(),f.before(),t.steps.length)}return t}function jde(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function Wde(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let o=n.depth;o>=0;o--){let s=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(s>0?1:0),u=n.node(o),f=!1;if(a==1)f=u.canReplace(l,l,i);else{let p=u.contentMatchAt(l).findWrapping(i.firstChild.type);f=p&&u.canReplaceWith(l,l,p[0])}if(f)return s==0?n.pos:s<0?n.before(o+1):n.after(o+1)}return null}function Cg(t,e,r=e,n=ot.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return Rx(i,a,n)?new gn(e,r,n):new Gde(i,a,n).fit()}function Rx(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class Gde{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=We.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=We.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new ot(a,o,s);return e>-1?new Xr(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new gn(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=iv(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],f,p=null;if(r==1&&(o?u.matchType(o.type)||(p=u.fillBefore(We.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:p};if(r==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:f};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=iv(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ot(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=iv(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new ot(fu(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new ot(fu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let M=0;M<a.length;M++)this.openFrontierNode(a[M]);let o=this.unplaced,s=n?n.content:o.content,l=o.openStart-e,u=0,f=[],{match:p,type:b}=this.frontier[r];if(i){for(let M=0;M<i.childCount;M++)f.push(i.child(M));p=p.matchFragment(i)}let C=s.size+e-(o.content.size-o.openEnd);for(;u<s.childCount;){let M=s.child(u),N=p.matchType(M.type);if(!N)break;u++,(u>1||l==0||M.content.size)&&(p=N,f.push(Lx(M.mark(b.allowedMarks(M.marks)),u==1?l:0,u==s.childCount?C:-1)))}let T=u==s.childCount;T||(C=-1),this.placed=du(this.placed,r,We.from(f)),this.frontier[r].match=p,T&&C<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let M=0,N=s;M<C;M++){let B=N.lastChild;this.frontier.push({type:B.type,match:B.contentMatchAt(B.childCount)}),N=B.content}this.unplaced=T?e==0?ot.empty:new ot(fu(o.content,e-1,1),e-1,C<0?o.openEnd:e-1):new ot(fu(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!av(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=av(e,r,i,n,a);if(o){for(let s=r-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],f=av(e,s,u,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=du(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=du(this.placed,this.depth,We.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(We.empty,!0);r.childCount&&(this.placed=du(this.placed,this.frontier.length,r))}}function fu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(fu(t.firstChild.content,e-1,r)))}function du(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(du(t.lastChild.content,e-1,r)))}function iv(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function Lx(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,Lx(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(We.empty,!0)))),t.copy(n)}function av(t,e,r,n,i){let a=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==a.childCount&&!r.compatibleContent(a.type))return null;let s=n.fillBefore(a.content,!0,o);return s&&!Kde(r,a.content,o)?s:null}function Kde(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function Jde(t){return t.spec.defining||t.spec.definingForContent}function Xde(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(Rx(i,a,n))return t.step(new gn(e,r,n));let o=Px(i,a);o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let b=i.depth,C=i.pos-1;b>0;b--,C--){let T=i.node(b).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;o.indexOf(b)>-1?s=b:i.before(b)==C&&o.splice(1,0,-b)}let l=o.indexOf(s),u=[],f=n.openStart;for(let b=n.content,C=0;;C++){let T=b.firstChild;if(u.push(T),C==n.openStart)break;b=T.content}for(let b=f-1;b>=0;b--){let C=u[b],T=Jde(C.type);if(T&&!C.sameMarkup(i.node(Math.abs(s)-1)))f=b;else if(T||!C.type.isTextblock)break}for(let b=n.openStart;b>=0;b--){let C=(b+f+1)%(n.openStart+1),T=u[C];if(T)for(let M=0;M<o.length;M++){let N=o[(M+l)%o.length],B=!0;N<0&&(B=!1,N=-N);let U=i.node(N-1),X=i.index(N-1);if(U.canReplaceWith(X,X,T.type,T.marks))return t.replace(i.before(N),B?a.after(N):r,new ot(Ix(n.content,0,n.openStart,C),C,n.openEnd))}}let p=t.steps.length;for(let b=o.length-1;b>=0&&(t.replace(e,r,n),!(t.steps.length>p));b--){let C=o[b];C<0||(e=i.before(C),r=a.after(C))}}function Ix(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(Ix(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(t).append(t);t=o.append(a.matchFragment(o).fillBefore(We.empty,!0))}return t}function Yde(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=jde(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new ot(We.from(n),0,0))}function Qde(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=Px(n,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return t.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return t.delete(n.before(s),i.after(s))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&i.end(o)-r!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function Px(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}class gl extends Cn{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Pr.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Pr.fromReplace(e,this.pos,this.pos+1,new ot(We.from(i),0,r.isLeaf?0:1))}getMap(){return zn.empty}invert(e){return new gl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new gl(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gl(r.pos,r.attr,r.value)}}Cn.jsonID("attr",gl);class Hu extends Cn{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Pr.ok(n)}getMap(){return zn.empty}invert(e){return new Hu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Hu(r.attr,r.value)}}Cn.jsonID("docAttr",Hu);let xl=class extends Error{};xl=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};xl.prototype=Object.create(Error.prototype);xl.prototype.constructor=xl;xl.prototype.name="TransformError";class Zde{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new xl(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let i=this.mapping.maps[n];n&&(e=i.map(e,1),r=i.map(r,-1)),i.forEach((a,o,s,l)=>{e=Math.min(e,s),r=Math.max(r,l)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=ot.empty){let i=Cg(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new ot(We.from(n),0,0))}delete(e,r){return this.replace(e,r,ot.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Xde(this,e,r,n),this}replaceRangeWith(e,r,n){return Yde(this,e,r,n),this}deleteRange(e,r){return Qde(this,e,r),this}lift(e,r){return Lde(this,e,r),this}join(e,r=1){return Ude(this,e,r),this}wrap(e,r){return Bde(this,e,r),this}setBlockType(e,r=e,n,i=null){return Fde(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return Hde(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new gl(e,r,n)),this}setDocAttribute(e,r){return this.step(new Hu(e,r)),this}addNodeMark(e,r){return this.step(new po(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof sr)r.isInSet(n.marks)&&this.step(new ws(e,r));else{let i=n.marks,a,o=[];for(;a=r.isInSet(i);)o.push(new ws(e,a)),i=a.removeFromSet(i);for(let s=o.length-1;s>=0;s--)this.step(o[s])}return this}split(e,r=1,n){return Vde(this,e,r,n),this}addMark(e,r,n){return Nde(this,e,r,n),this}removeMark(e,r,n){return Dde(this,e,r,n),this}clearIncompatible(e,r,n){return kg(this,e,r,n),this}}const ov=Object.create(null);class Wt{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new _x(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=ot.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],f=e.mapping.slice(a);e.replaceRange(f.map(l.pos),f.map(u.pos),s?ot.empty:r),s==0&&m0(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=e.mapping.slice(n),u=l.map(o.pos),f=l.map(s.pos);a?e.deleteRange(u,f):(e.replaceRangeWith(u,f,r),m0(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Kt(e):ol(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=r<0?ol(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):ol(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new An(e.node(0))}static atStart(e){return ol(e,e,0,0,1)||new An(e)}static atEnd(e){return ol(e,e,e.content.size,e.childCount,-1)||new An(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=ov[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in ov)throw new RangeError("Duplicate use of selection JSON ID "+e);return ov[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Kt.between(this.$anchor,this.$head).getBookmark()}}Wt.prototype.visible=!0;class _x{constructor(e,r){this.$from=e,this.$to=r}}let p0=!1;function v0(t){!p0&&!t.parent.inlineContent&&(p0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Kt extends Wt{constructor(e,r=e){v0(e),v0(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Wt.near(n);let i=e.resolve(r.map(this.anchor));return new Kt(i.parent.inlineContent?i:n,n)}replace(e,r=ot.empty){if(super.replace(e,r),r==ot.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Kt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new $d(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Kt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=Wt.findFrom(r,n,!0)||Wt.findFrom(r,-n,!0);if(a)r=a.$head;else return Wt.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Wt.findFrom(e,-n,!0)||Wt.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Kt(e,r)}}Wt.jsonID("text",Kt);class $d{constructor(e,r){this.anchor=e,this.head=r}map(e){return new $d(e.map(this.anchor),e.map(this.head))}resolve(e){return Kt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Lt extends Wt{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?Wt.near(a):new Lt(a)}content(){return new ot(We.from(this.node),0,0)}eq(e){return e instanceof Lt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tg(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Lt(e.resolve(r.anchor))}static create(e,r){return new Lt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Lt.prototype.visible=!1;Wt.jsonID("node",Lt);class Tg{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new $d(n,n):new Tg(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Lt.isSelectable(n)?new Lt(r):Wt.near(r)}}class An extends Wt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=ot.empty){if(r==ot.empty){e.delete(0,e.doc.content.size);let n=Wt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new An(e)}map(e){return new An(e)}eq(e){return e instanceof An}getBookmark(){return ehe}}Wt.jsonID("all",An);const ehe={map(){return this},resolve(t){return new An(t)}};function ol(t,e,r,n,i,a=!1){if(e.inlineContent)return Kt.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let s=e.child(o);if(s.isAtom){if(!a&&Lt.isSelectable(s))return Lt.create(t,r-(i<0?s.nodeSize:0))}else{let l=ol(t,s,r+i,i<0?s.childCount:0,i,a);if(l)return l}r+=s.nodeSize*i}return null}function m0(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof gn||i instanceof Xr))return;let a=t.mapping.maps[n],o;a.forEach((s,l,u,f)=>{o==null&&(o=f)}),t.setSelection(Wt.near(t.doc.resolve(o),r))}const g0=1,Zc=2,y0=4;class the extends Zde{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|g0)&~Zc,this.storedMarks=null,this}get selectionSet(){return(this.updated&g0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Zc,this}ensureMarks(e){return sr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zc)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Zc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||sr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(r);a=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Wt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=y0,this}get scrolledIntoView(){return(this.updated&y0)>0}}function b0(t,e){return!e||!t?t:t.bind(e)}class hu{constructor(e,r,n){this.name=e,this.init=b0(r.init,n),this.apply=b0(r.apply,n)}}const rhe=[new hu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new hu("selection",{init(t,e){return t.selection||Wt.atStart(e.doc)},apply(t){return t.selection}}),new hu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new hu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class sv{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=rhe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new hu(n.key,n.spec.state,n))})}}class as{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,f=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),a=!0}i&&(i[o]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new as(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new the(this)}static create(e){let r=new sv(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new as(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new sv(this.schema,e.plugins),n=r.fields,i=new as(r);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new sv(e.schema,e.plugins),a=new as(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=yo.fromJSON(e.schema,r.doc);else if(o.name=="selection")a.selection=Wt.fromJSON(a.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){a[o.name]=u.fromJSON.call(l,e,r[s],a);return}}a[o.name]=o.init(e,a)}}),a}}function Bx(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=Bx(i,e,{})),r[n]=i}return r}class Kn{constructor(e){this.spec=e,this.props={},e.props&&Bx(e.props,this,this.props),this.key=e.key?e.key.key:Fx("plugin")}getState(e){return e[this.key]}}const lv=Object.create(null);function Fx(t){return t in lv?t+"$"+ ++lv[t]:(lv[t]=0,t+"$")}class Zu{constructor(e="key"){this.key=Fx(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Sl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let dm=null;const Aa=function(t,e,r){let n=dm||(dm=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},nhe=function(){dm=null},ks=function(t,e,r,n){return r&&(w0(t,e,r,n,-1)||w0(t,e,r,n,1))},ihe=/^(img|br|input|textarea|hr)$/i;function w0(t,e,r,n,i){for(var a;;){if(t==r&&e==n)return!0;if(e==(i<0?0:yi(t))){let o=t.parentNode;if(!o||o.nodeType!=1||ec(t)||ihe.test(t.nodeName)||t.contentEditable=="false")return!1;e=sn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((a=o.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?yi(t):0}else return!1}}function yi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ahe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=yi(t)}else if(t.parentNode&&!ec(t))e=sn(t),t=t.parentNode;else return null}}function ohe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ec(t))e=sn(t)+1,t=t.parentNode;else return null}}function she(t,e,r){for(let n=e==0,i=e==yi(t);n||i;){if(t==r)return!0;let a=sn(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==yi(t)}}function ec(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ud=function(t){return t.focusNode&&ks(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function rs(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function lhe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function uhe(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(yi(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(yi(n.startContainer),n.startOffset)}}}const sa=typeof navigator<"u"?navigator:null,k0=typeof document<"u"?document:null,Ao=sa&&sa.userAgent||"",hm=/Edge\/(\d+)/.exec(Ao),qx=/MSIE \d/.exec(Ao),pm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ao),Wn=!!(qx||pm||hm),bo=qx?document.documentMode:pm?+pm[1]:hm?+hm[1]:0,wi=!Wn&&/gecko\/(\d+)/i.test(Ao);wi&&+(/Firefox\/(\d+)/.exec(Ao)||[0,0])[1];const vm=!Wn&&/Chrome\/(\d+)/.exec(Ao),Jr=!!vm,Hx=vm?+vm[1]:0,fn=!Wn&&!!sa&&/Apple Computer/.test(sa.vendor),El=fn&&(/Mobile\/\w+/.test(Ao)||!!sa&&sa.maxTouchPoints>2),gi=El||(sa?/Mac/.test(sa.platform):!1),Vx=sa?/Win/.test(sa.platform):!1,Ia=/Android \d/.test(Ao),tc=!!k0&&"webkitFontSmoothing"in k0.documentElement.style,che=tc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fhe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ea(t,e){return typeof t=="number"?t:t[e]}function dhe(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function C0(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Sl(o);continue}let s=o,l=s==a.body,u=l?fhe(a):dhe(s),f=0,p=0;if(e.top<u.top+Ea(n,"top")?p=-(u.top-e.top+Ea(i,"top")):e.bottom>u.bottom-Ea(n,"bottom")&&(p=e.bottom-e.top>u.bottom-u.top?e.top+Ea(i,"top")-u.top:e.bottom-u.bottom+Ea(i,"bottom")),e.left<u.left+Ea(n,"left")?f=-(u.left-e.left+Ea(i,"left")):e.right>u.right-Ea(n,"right")&&(f=e.right-u.right+Ea(i,"right")),f||p)if(l)a.defaultView.scrollBy(f,p);else{let C=s.scrollLeft,T=s.scrollTop;p&&(s.scrollTop+=p),f&&(s.scrollLeft+=f);let M=s.scrollLeft-C,N=s.scrollTop-T;e={left:e.left-M,top:e.top-N,right:e.right-M,bottom:e.bottom-N}}let b=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(b))break;o=b=="absolute"?o.offsetParent:Sl(o)}}function hhe(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=t.root.elementFromPoint(a,o);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:zx(t.dom)}}function zx(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Sl(n));return e}function phe({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;$x(r,n==0?0:n-e)}function $x(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let Xs=null;function vhe(t){if(t.setActive)return t.setActive();if(Xs)return t.focus(Xs);let e=zx(t);t.focus(Xs==null?{get preventScroll(){return Xs={preventScroll:!0},!0}}:void 0),Xs||(Xs=!1,$x(e,0))}function Ux(t,e){let r,n=2e8,i,a=0,o=e.top,s=e.top,l,u;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let b;if(f.nodeType==1)b=f.getClientRects();else if(f.nodeType==3)b=Aa(f).getClientRects();else continue;for(let C=0;C<b.length;C++){let T=b[C];if(T.top<=o&&T.bottom>=s){o=Math.max(T.bottom,o),s=Math.min(T.top,s);let M=T.left>e.left?T.left-e.left:T.right<e.left?e.left-T.right:0;if(M<n){r=f,n=M,i=M&&r.nodeType==3?{left:T.right<e.left?T.right:T.left,top:e.top}:e,f.nodeType==1&&M&&(a=p+(e.left>=(T.left+T.right)/2?1:0));continue}}else T.top>e.top&&!l&&T.left<=e.left&&T.right>=e.left&&(l=f,u={left:Math.max(T.left,Math.min(T.right,e.left)),top:T.top});!r&&(e.left>=T.right&&e.top>=T.top||e.left>=T.left&&e.top>=T.bottom)&&(a=p+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?mhe(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:Ux(r,i)}function mhe(t,e){let r=t.nodeValue.length,n=document.createRange(),i;for(let a=0;a<r;a++){n.setEnd(t,a+1),n.setStart(t,a);let o=no(n,1);if(o.top!=o.bottom&&xg(e,o)){i={node:t,offset:a+(e.left>=(o.left+o.right)/2?1:0)};break}}return n.detach(),i||{node:t,offset:0}}function xg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function ghe(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function yhe(t,e,r){let{node:n,offset:i}=Ux(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}function bhe(t,e,r,n){let i=-1;for(let a=e,o=!1;a!=t.dom;){let s=t.docView.nearestDesc(a,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!o&&l.left>n.left||l.top>n.top?i=s.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),o=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;a=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function jx(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let o=t.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(xg(e,u))return jx(o,e,u)}}if((a=(a+1)%n)==i)break}return t}function whe(t,e){let r=t.dom.ownerDocument,n,i=0,a=uhe(r,e.left,e.top);a&&({node:n,offset:i}=a);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!xg(e,u)||(o=jx(t.dom,e,u),!o))return null}if(fn)for(let u=o;n&&u;u=Sl(u))u.draggable&&(n=void 0);if(o=ghe(o,e),n){if(wi&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let u;tc&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=bhe(t,n,i,e))}s==null&&(s=yhe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function T0(t){return t.top<t.bottom||t.left<t.right}function no(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(T0(n))return n}return Array.prototype.find.call(r,T0)||t.getBoundingClientRect()}const khe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Wx(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),o=tc||wi;if(n.nodeType==3)if(o&&(khe.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=no(Aa(n,i,i),r);if(wi&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=no(Aa(n,i-1,i-1),-1);if(u.top==l.top){let f=no(Aa(n,i,i+1),-1);if(f.top!=l.top)return iu(f,f.left<u.left)}}return l}else{let l=i,u=i,f=r<0?1:-1;return r<0&&!i?(u++,f=-1):r>=0&&i==n.nodeValue.length?(l--,f=1):r<0?l--:u++,iu(no(Aa(n,l,u),f),f<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==yi(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return uv(l.getBoundingClientRect(),!1)}if(a==null&&i<yi(n)){let l=n.childNodes[i];if(l.nodeType==1)return uv(l.getBoundingClientRect(),!0)}return uv(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==yi(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Aa(l,yi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return iu(no(u,1),!1)}if(a==null&&i<yi(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Aa(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return iu(no(u,-1),!0)}return iu(no(n.nodeType==3?Aa(n):n,-r),r>=0)}function iu(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function uv(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function Gx(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function Che(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return Gx(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=Wx(t,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Aa(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const The=/[\u0590-\u08ac]/;function xhe(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,s=t.domSelection();return s?!The.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?a:o:Gx(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),b=s.caretBidiLevel;s.modify("move",r,"character");let C=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:T,focusOffset:M}=t.domSelectionRange(),N=T&&!C.contains(T.nodeType==1?T:T.parentNode)||l==T&&u==M;try{s.collapse(f,p),l&&(l!=f||u!=p)&&s.extend&&s.extend(l,u)}catch{}return b!=null&&(s.caretBidiLevel=b),N}):n.pos==n.start()||n.pos==n.end()}let x0=null,S0=null,E0=!1;function She(t,e,r){return x0==e&&S0==r?E0:(x0=e,S0=r,E0=r=="up"||r=="down"?Che(t,e,r):xhe(t,e,r))}const ki=0,M0=1,ss=2,la=3;class rc{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=ki,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!r||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let s=i.children[o];if(s.size){i=s;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],s=a+o.size;if(s>e||o instanceof Jx){i=e-a;break}a=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof Kx&&a.side>=0;n--);if(r<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&r&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?sn(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?sn(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&e<=u){let f=o+l.border;if(e>=f&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=o;for(let p=s;p>0;p--){let b=this.children[p-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=sn(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(u>r||s==this.children.length-1)){r=u;for(let f=s+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){a=sn(p.dom);break}r+=p.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),o=Math.max(e,r);for(let C=0,T=0;C<this.children.length;C++){let M=this.children[C],N=T+M.size;if(a>T&&o<N)return M.setSelection(e-T-M.border,r-T-M.border,n,i);T=N}let s=this.domFromPos(e,e?-1:1),l=r==e?s:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),f=n.domSelectionRange(),p=!1;if((wi||fn)&&e==r){let{node:C,offset:T}=s;if(C.nodeType==3){if(p=!!(T&&C.nodeValue[T-1]==`
`),p&&T==C.nodeValue.length)for(let M=C,N;M;M=M.parentNode){if(N=M.nextSibling){N.nodeName=="BR"&&(s=l={node:N.parentNode,offset:sn(N)+1});break}let B=M.pmViewDesc;if(B&&B.node&&B.node.isBlock)break}}else{let M=C.childNodes[T-1];p=M&&(M.nodeName=="BR"||M.contentEditable=="false")}}if(wi&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let C=f.focusNode.childNodes[f.focusOffset];C&&C.contentEditable=="false"&&(i=!0)}if(!(i||p&&fn)&&ks(s.node,s.offset,f.anchorNode,f.anchorOffset)&&ks(l.node,l.offset,f.focusNode,f.focusOffset))return;let b=!1;if((u.extend||e==r)&&!(p&&wi)){u.collapse(s.node,s.offset);try{e!=r&&u.extend(l.node,l.offset),b=!0}catch{}}if(!b){if(e>r){let T=s;s=l,l=T}let C=document.createRange();C.setEnd(l.node,l.offset),C.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(C)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let s=n+a.border,l=o-a.border;if(e>=s&&r<=l){this.dirty=e==n||r==o?ss:M0,e==s&&r==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=la:a.markDirty(e-s,r-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?ss:la}n=o}this.dirty=ss}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ss:M0;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Kx extends rc{constructor(e,r,n,i){let a,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==ki&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Ehe extends rc{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Cs extends rc{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],o=a&&a(r,i,n);return(!o||!o.dom)&&(o=Hl.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Cs(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&la||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=la&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=ki){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ki}}slice(e,r,n){let i=Cs.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;r<o&&(a=gm(a,r,o,n)),e>0&&(a=gm(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class wo extends rc{constructor(e,r,n,i,a,o,s,l,u){super(e,[],a,o),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,r,n,i,a,o){let s=a.nodeViews[r.type.name],l,u=s&&s(r,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),f=u&&u.dom,p=u&&u.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Hl.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!p&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let b=f;return f=Qx(f,n,r),u?l=new Mhe(e,r,n,i,f,p||null,b,u,a,o+1):r.isText?new jd(e,r,n,i,f,b,a):new wo(e,r,n,i,f,p||null,b,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>We.empty)}return e}matchesNode(e,r,n){return this.dirty==ki&&e.eq(this.node)&&jf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new Ahe(this,o&&o.node,e);Rhe(this.node,this.innerDeco,(u,f,p)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e,f):u.type.side>=0&&!p&&l.syncToMarks(f==this.node.childCount?sr.none:this.node.child(f).marks,n,e,f),l.placeWidget(u,e,i)},(u,f,p,b)=>{l.syncToMarks(u.marks,n,e,b);let C;l.findNodeMatch(u,f,p,b)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(C=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,f,p,C,e)||l.updateNextNode(u,f,p,e,b,i)||l.addNode(u,f,p,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ss)&&(o&&this.protectLocalComposition(e,o),Xx(this.contentDOM,this.children,e),El&&Lhe(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Kt)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,s=Ihe(this.node.content,o,n-r,i-r);return s<0?null:{node:a,pos:s,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new Ehe(this,a,r,i);e.input.compositionNodes.push(o),this.children=gm(this.children,n,n+i.length,e,o)}update(e,r,n,i){return this.dirty==la||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ki}updateOuterDeco(e){if(jf(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Yx(this.dom,this.nodeDOM,mm(this.outerDeco,this.node,r),mm(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function O0(t,e,r,n,i){Qx(n,e,t);let a=new wo(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class jd extends wo{constructor(e,r,n,i,a,o,s){super(e,r,n,i,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==la||this.dirty!=ki&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=ki||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ki,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new jd(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=la)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Jx extends rc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ki&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Mhe extends wo{constructor(e,r,n,i,a,o,s,l,u,f){super(e,r,n,i,a,o,s,u,f),this.spec=l}update(e,r,n,i){if(this.dirty==la)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Xx(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==t){for(;s!=n;)n=A0(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(s,n);if(o instanceof Cs){let l=n?n.previousSibling:t.lastChild;Xx(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=A0(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const Mu=function(t){t&&(this.nodeName=t)};Mu.prototype=Object.create(null);const ls=[new Mu];function mm(t,e,r){if(t.length==0)return ls;let n=r?ls[0]:new Mu,i=[n];for(let a=0;a<t.length;a++){let o=t[a].type.attrs;if(o){o.nodeName&&i.push(n=new Mu(o.nodeName));for(let s in o){let l=o[s];l!=null&&(r&&i.length==1&&i.push(n=new Mu(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function Yx(t,e,r,n){if(r==ls&&n==ls)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],s=r[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=ls[0]),i=l}Ohe(i,s||ls[0],o)}return i}function Ohe(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function Qx(t,e,r){return Yx(t,t,ls,mm(e,r,t.nodeType!=1))}function jf(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function A0(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Ahe{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Nhe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,i){let a=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;a<s&&(a==o-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<o;)this.destroyRest(),this.top.dirty=ki,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1,u=this.top.children.length;i<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let f=this.index;f<u;f++){let p=this.top.children[f];if(p.matchesMark(e[o])&&!this.isLocked(p.dom)){l=f;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let f=Cs.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let o=this.top.children[i];return o.dirty==la&&o.dom==o.contentDOM&&(o.dirty=ss),o.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof wo){let u=this.preMatch.matched.get(l);if(u!=null&&u!=a)return!1;let f=l.dom,p,b=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=la&&jf(r,l.outerDeco));if(!b&&l.update(e,r,n,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!b&&(p=this.recreateWrapper(l,e,r,n,i,o)))return this.destroyBetween(this.index,s),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=ss,p.updateChildren(i,o+1),p.dirty=ki),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!jf(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=wo.create(this.top,r,n,i,a,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,r,n,i,a){let o=wo.create(this.top,e,r,n,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new Kx(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Cs;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof jd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||Jr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new Jx(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Nhe(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof Cs)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function Dhe(t,e){return t.type.side-e.type.side}function Rhe(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);n(f,i,e.forChild(a,f),u),a+=f.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){let f,p;for(;o<i.length&&i[o].to==a;){let N=i[o++];N.widget&&(f?(p||(p=[f])).push(N):f=N)}if(f)if(p){p.sort(Dhe);for(let N=0;N<p.length;N++)r(p[N],u,!!l)}else r(f,u,!!l);let b,C;if(l)C=-1,b=l,l=null;else if(u<t.childCount)C=u,b=t.child(u++);else break;for(let N=0;N<s.length;N++)s[N].to<=a&&s.splice(N--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let T=a+b.nodeSize;if(b.isText){let N=T;o<i.length&&i[o].from<N&&(N=i[o].from);for(let B=0;B<s.length;B++)s[B].to<N&&(N=s[B].to);N<T&&(l=b.cut(N-a),b=b.cut(0,N-a),T=N,C=-1)}else for(;o<i.length&&i[o].to<T;)o++;let M=b.isInline&&!b.isLeaf?s.filter(N=>!N.inline):s.slice();n(b,M,e.forChild(a,b),C),a=T}}function Lhe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ihe(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let o=t.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=r){if(a>=n&&l.slice(n-e.length-s,n-s)==e)return n-e.length;let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=r)return s+u;if(r==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function gm(t,e,r,n,i){let a=[];for(let o=0,s=0;o<t.length;o++){let l=t[o],u=s,f=s+=l.size;u>=r||f<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),f>r&&a.push(l.slice(r-u,l.size,n)))}return a}function Sg(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let s=n.resolve(o),l,u;if(Ud(r)){for(l=o;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&Lt.isSelectable(p)&&i.parent&&!(p.isInline&&she(r.focusNode,r.focusOffset,i.dom))){let b=i.posBefore;u=new Lt(o==b?s:n.resolve(b))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let p=o,b=o;for(let C=0;C<r.rangeCount;C++){let T=r.getRangeAt(C);p=Math.min(p,t.docView.posFromDOM(T.startContainer,T.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(T.endContainer,T.endOffset,-1))}if(p<0)return null;[l,o]=b==t.state.selection.anchor?[b,p]:[p,b],s=n.resolve(o)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!u){let p=e=="pointer"||t.state.selection.head<s.pos&&!a?1:-1;u=Eg(t,f,s,p)}return u}function Zx(t){return t.editable?t.hasFocus():tS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ba(t,e=!1){let r=t.state.selection;if(eS(t,r),!!Zx(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Jr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&ks(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_he(t);else{let{anchor:n,head:i}=r,a,o;N0&&!(r instanceof Kt)&&(r.$from.parent.inlineContent||(a=D0(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=D0(t,r.to))),t.docView.setSelection(n,i,t,e),N0&&(a&&R0(a),o&&R0(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Phe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const N0=fn||Jr&&Hx<63;function D0(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(fn&&i&&i.contentEditable=="false")return cv(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return cv(i);if(a)return cv(a)}}function cv(t){return t.contentEditable="true",fn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function R0(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Phe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Zx(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _he(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,sn(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Wn&&bo<=11&&(r.disabled=!0,r.disabled=!1)}function eS(t,e){if(e instanceof Lt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(L0(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else L0(t)}function L0(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Eg(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||Kt.between(e,r,n)}function I0(t){return t.editable&&!t.hasFocus()?!1:tS(t)}function tS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Bhe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return ks(e.node,e.offset,r.anchorNode,r.anchorOffset)}function ym(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Wt.findFrom(a,e)}function lo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function P0(t,e,r){let n=t.state.selection;if(n instanceof Kt)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return lo(t,new Kt(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ym(t.state,e);return i&&i instanceof Lt?lo(t,i):!1}else if(!(gi&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=t.docView.descAt(s))&&!o.contentDOM?Lt.isSelectable(a)?lo(t,new Lt(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):tc?lo(t,new Kt(t.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Lt&&n.node.isInline)return lo(t,new Kt(e>0?n.$to:n.$from));{let i=ym(t.state,e);return i?lo(t,i):!1}}}function Wf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ou(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ys(t,e){return e<0?Fhe(t):qhe(t)}function Fhe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,o=!1;for(wi&&r.nodeType==1&&n<Wf(r)&&Ou(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Ou(s,-1))i=r,a=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(rS(r))break;{let s=r.previousSibling;for(;s&&Ou(s,-1);)i=r.parentNode,a=sn(s),s=s.previousSibling;if(s)r=s,n=Wf(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?bm(t,r,n):i&&bm(t,i,a)}function qhe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Wf(r),a,o;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Ou(s,1))a=r,o=++n;else break}else{if(rS(r))break;{let s=r.nextSibling;for(;s&&Ou(s,1);)a=s.parentNode,o=sn(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=Wf(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&bm(t,a,o)}function rS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Hhe(t,e){for(;t&&e==t.childNodes.length&&!ec(t);)e=sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function Vhe(t,e){for(;t&&!e&&!ec(t);)e=sn(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function bm(t,e,r){if(e.nodeType!=3){let a,o;(o=Hhe(e,r))?(e=o,r=0):(a=Vhe(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Ud(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ba(t)},50)}function _0(t,e){let r=t.state.doc.resolve(e);if(!(Jr||Vx)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function B0(t,e,r){let n=t.state.selection;if(n instanceof Kt&&!n.empty||r.indexOf("s")>-1||gi&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=ym(t.state,e);if(o&&o instanceof Lt)return lo(t,o)}if(!i.parent.inlineContent){let o=e<0?i:a,s=n instanceof An?Wt.near(o,e):Wt.findFrom(o,e);return s?lo(t,s):!1}return!1}function F0(t,e){if(!(t.state.selection instanceof Kt))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let o=t.state.tr;return e<0?o.delete(r.pos-a.nodeSize,r.pos):o.delete(r.pos,r.pos+a.nodeSize),t.dispatch(o),!0}return!1}function q0(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function zhe(t){if(!fn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;q0(t,n,"true"),setTimeout(()=>q0(t,n,"false"),20)}return!1}function $he(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Uhe(t,e){let r=e.keyCode,n=$he(e);if(r==8||gi&&r==72&&n=="c")return F0(t,-1)||Ys(t,-1);if(r==46&&!e.shiftKey||gi&&r==68&&n=="c")return F0(t,1)||Ys(t,1);if(r==13||r==27)return!0;if(r==37||gi&&r==66&&n=="c"){let i=r==37?_0(t,t.state.selection.from)=="ltr"?-1:1:-1;return P0(t,i,n)||Ys(t,i)}else if(r==39||gi&&r==70&&n=="c"){let i=r==39?_0(t,t.state.selection.from)=="ltr"?1:-1:1;return P0(t,i,n)||Ys(t,i)}else{if(r==38||gi&&r==80&&n=="c")return B0(t,-1,n)||Ys(t,-1);if(r==40||gi&&r==78&&n=="c")return zhe(t)||B0(t,1,n)||Ys(t,1);if(n==(gi?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Mg(t,e){t.someProp("transformCopied",C=>{e=C(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let C=n.firstChild;r.push(C.type.name,C.attrs!=C.type.defaultAttrs?C.attrs:null),n=C.content}let o=t.someProp("clipboardSerializer")||Hl.fromSchema(t.state.schema),s=lS(),l=s.createElement("div");l.appendChild(o.serializeFragment(n,{document:s}));let u=l.firstChild,f,p=0;for(;u&&u.nodeType==1&&(f=sS[u.nodeName.toLowerCase()]);){for(let C=f.length-1;C>=0;C--){let T=s.createElement(f[C]);for(;l.firstChild;)T.appendChild(l.firstChild);l.appendChild(T),p++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${p?` -${p}`:""} ${JSON.stringify(r)}`);let b=t.someProp("clipboardTextSerializer",C=>C(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:b,slice:e}}function nS(t,e,r,n,i){let a=i.parent.type.spec.code,o,s;if(!r&&!e)return null;let l=!!e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",b=>{e=b(e,a||n,t)}),a)return s=new ot(We.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{s=b(s,t,!0)}),s;let p=t.someProp("clipboardTextParser",b=>b(e,i,n,t));if(p)s=p;else{let b=i.marks(),{schema:C}=t.state,T=Hl.fromSchema(C);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(M=>{let N=o.appendChild(document.createElement("p"));M&&N.appendChild(T.serializeNode(C.text(M,b)))})}}else t.someProp("transformPastedHTML",p=>{r=p(r,t)}),o=Khe(r),tc&&Jhe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let b=o.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;o=b}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||bs.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!jhe.test(b.parentNode.nodeName)?{ignore:!0}:null}})),f)s=Xhe(H0(s,+f[1],+f[2]),f[4]);else if(s=ot.maxOpen(Whe(s.content,i),!0),s.openStart||s.openEnd){let p=0,b=0;for(let C=s.content.firstChild;p<s.openStart&&!C.type.spec.isolating;p++,C=C.firstChild);for(let C=s.content.lastChild;b<s.openEnd&&!C.type.spec.isolating;b++,C=C.lastChild);s=H0(s,p,b)}return t.someProp("transformPasted",p=>{s=p(s,t,l)}),s}const jhe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Whe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,o=[];if(t.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&aS(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=oS(o[o.length-1],a.length));let f=iS(s,l);o.push(f),i=i.matchType(f.type),a=l}}),o)return We.from(o)}return t}function iS(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,We.from(t));return t}function aS(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=aS(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(We.from(iS(r,t,i+1))))}}function oS(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,oS(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(We.empty,!0);return t.copy(r.append(n))}function wm(t,e,r,n,i,a){let o=e<0?t.firstChild:t.lastChild,s=o.content;return t.childCount>1&&(a=0),i<n-1&&(s=wm(s,e,r,n,i+1,a)),i>=r&&(s=e<0?o.contentMatchAt(0).fillBefore(s,a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(We.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(s))}function H0(t,e,r){return e<t.openStart&&(t=new ot(wm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new ot(wm(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const sS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let V0=null;function lS(){return V0||(V0=document.implementation.createHTMLDocument("title"))}let fv=null;function Ghe(t){let e=window.trustedTypes;return e?(fv||(fv=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),fv.createHTML(t)):t}function Khe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=lS().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&sS[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=Ghe(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}function Jhe(t){let e=t.querySelectorAll(Jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function Xhe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:o}=t;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=We.from(l.create(n[s+1],i)),a++,o++}return new ot(i,a,o)}const Nn={},Dn={},Yhe={touchstart:!0,touchmove:!0};class Qhe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Zhe(t){for(let e in Nn){let r=Nn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{tpe(t,n)&&!Og(t,n)&&(t.editable||!(n.type in Dn))&&r(t,n)},Yhe[e]?{passive:!0}:void 0)}fn&&t.dom.addEventListener("input",()=>null),km(t)}function vo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function epe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function km(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Og(t,n))})}function Og(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function tpe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function rpe(t,e){!Og(t,e)&&Nn[e.type]&&(t.editable||!(e.type in Dn))&&Nn[e.type](t,e)}Dn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!cS(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ia&&Jr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),El&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,rs(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Uhe(t,r)?r.preventDefault():vo(t,"key")};Dn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Dn.keypress=(t,e)=>{let r=e;if(cS(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||gi&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Kt)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),a=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i,a))&&t.dispatch(a()),r.preventDefault()}};function Wd(t){return{left:t.clientX,top:t.clientY}}function npe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Ag(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(t.someProp(e,s=>o>a.depth?s(t,r,a.nodeAfter,a.before(o),i,!0):s(t,r,a.node(o),a.before(o),i,!1)))return!0;return!1}function yl(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function ipe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Lt.isSelectable(n)?(yl(t,new Lt(r)),!0):!1}function ape(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Lt&&(n=r.node);let a=t.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(Lt.isSelectable(s)){n&&r.$from.depth>0&&o>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(o);break}}return i!=null?(yl(t,Lt.create(t.state.doc,i)),!0):!1}function ope(t,e,r,n,i){return Ag(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?ape(t,r):ipe(t,r))}function spe(t,e,r,n){return Ag(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function lpe(t,e,r,n){return Ag(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||upe(t,r,n)}function upe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(yl(t,Kt.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)yl(t,Kt.create(n,s+1,s+1+o.content.size));else if(Lt.isSelectable(o))yl(t,Lt.create(n,s));else continue;return!0}}function Ng(t){return Gf(t)}const uS=gi?"metaKey":"ctrlKey";Nn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Ng(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&npe(r,t.input.lastClick)&&!r[uS]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a,button:r.button};let o=t.posAtCoords(Wd(r));o&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new cpe(t,o,r,!!n)):(a=="doubleClick"?spe:lpe)(t,o.pos,o.inside,r)?r.preventDefault():vo(t,"pointer"))};class cpe{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[uS],this.allowDefault=n.shiftKey;let a,o;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);a=f.parent,o=f.depth?f.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Lt&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),vo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ba(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Wd(e))),this.updateAllowDefault(e),this.allowDefault||!r?vo(this.view,"pointer"):ope(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||Jr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(yl(this.view,Wt.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):vo(this.view,"pointer")}move(e){this.updateAllowDefault(e),vo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Nn.touchstart=t=>{t.input.lastTouch=Date.now(),Ng(t),vo(t,"pointer")};Nn.touchmove=t=>{t.input.lastTouch=Date.now(),vo(t,"pointer")};Nn.contextmenu=t=>Ng(t);function cS(t,e){return t.composing?!0:fn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const fpe=Ia?5e3:-1;Dn.compositionstart=Dn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Kt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||Jr&&Vx&&dpe(t)))t.markCursor=t.state.storedMarks||r.marks(),Gf(t,!0),t.markCursor=null;else if(Gf(t,!e.selection.empty),wi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){let s=t.domSelection();s&&s.collapse(o,o.nodeValue.length);break}else i=o,a=-1}}t.input.composing=!0}fS(t,fpe)};function dpe(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}Dn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,fS(t,20))};function fS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gf(t),e))}function dS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ppe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function hpe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=ahe(e.focusNode,e.focusOffset),n=ohe(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function ppe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gf(t,e=!1){if(!(Ia&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),dS(t),e||t.docView&&t.docView.dirty){let r=Sg(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function vpe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Vu=Wn&&bo<15||El&&che<604;Nn.copy=Dn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=Vu?null:r.clipboardData,o=n.content(),{dom:s,text:l}=Mg(t,o);a?(r.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):vpe(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mpe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function gpe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?zu(t,n.value,null,i,e):zu(t,n.textContent,n.innerHTML,i,e)},50)}function zu(t,e,r,n,i){let a=nS(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,a||ot.empty)))return!0;if(!a)return!1;let o=mpe(a),s=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(a);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function hS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Dn.paste=(t,e)=>{let r=e;if(t.composing&&!Ia)return;let n=Vu?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&zu(t,hS(n),n.getData("text/html"),i,r)?r.preventDefault():gpe(t,r)};class pS{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const ype=gi?"altKey":"ctrlKey";function vS(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[ype]}Nn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(Wd(r)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Lt?i.to-1:i.to))){if(n&&n.mightDrag)o=Lt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let p=t.docView.nearestDesc(r.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(o=Lt.create(t.state.doc,p.posBefore))}}let s=(o||t.state.selection).content(),{dom:l,text:u,slice:f}=Mg(t,s);(!r.dataTransfer.files.length||!Jr||Hx>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Vu?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Vu||r.dataTransfer.setData("text/plain",u),t.dragging=new pS(f,vS(t,r),o)};Nn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Dn.dragover=Dn.dragenter=(t,e)=>e.preventDefault();Dn.drop=(t,e)=>{try{bpe(t,e,t.dragging)}finally{t.dragging=null}};function bpe(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(Wd(e));if(!n)return;let i=t.state.doc.resolve(n.pos),a=r&&r.slice;a?t.someProp("transformPasted",C=>{a=C(a,t,!1)}):a=nS(t,hS(e.dataTransfer),Vu?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(r&&vS(t,e));if(t.someProp("handleDrop",C=>C(t,e,a||ot.empty,o))){e.preventDefault();return}if(!a)return;e.preventDefault();let s=a?Wde(t.state.doc,i.pos,a):i.pos;s==null&&(s=i.pos);let l=t.state.tr;if(o){let{node:C}=r;C?C.replace(l):l.deleteSelection()}let u=l.mapping.map(s),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=l.doc;if(f?l.replaceRangeWith(u,u,a.content.firstChild):l.replaceRange(u,u,a),l.doc.eq(p))return;let b=l.doc.resolve(u);if(f&&Lt.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new Lt(b));else{let C=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((T,M,N,B)=>C=B),l.setSelection(Eg(t,b,l.doc.resolve(C)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}Nn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ba(t)},20))};Nn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Nn.beforeinput=(t,e)=>{if(Jr&&Ia&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,rs(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Dn)Nn[t]=Dn[t];function $u(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Kf{constructor(e,r){this.toDOM=e,this.spec=r||ps,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new $n(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Kf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$u(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ko{constructor(e,r){this.attrs=e,this.spec=r||ps}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new $n(a,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof ko&&$u(this.attrs,e.attrs)&&$u(this.spec,e.spec)}static is(e){return e.type instanceof ko}destroy(){}}class Dg{constructor(e,r){this.attrs=e,this.spec=r||ps}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=a.pos?null:new $n(a.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof Dg&&$u(this.attrs,e.attrs)&&$u(this.spec,e.spec)}destroy(){}}class $n{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new $n(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new $n(e,e,new Kf(r,n))}static inline(e,r,n,i){return new $n(e,r,new ko(n,i))}static node(e,r,n,i){return new $n(e,r,new Dg(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ko}get widget(){return this.type instanceof Kf}}const sl=[],ps={};class Lr{constructor(e,r){this.local=e.length?e:sl,this.children=r.length?r:sl}static create(e,r){return r.length?Jf(r,e,0,ps):pn}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=r&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,r-s,n,i+s,a)}}map(e,r,n){return this==pn||e.maps.length==0?this:this.mapInner(e,r,0,0,n||ps)}mapInner(e,r,n,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(r,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?wpe(this.children,o||[],e,r,n,i,a):o?new Lr(o.sort(vs),sl):pn}add(e,r){return r.length?this==pn?Lr.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((s,l)=>{let u=l+n,f;if(f=gS(r,s,u)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,f,u+1):i.splice(a,0,l,l+s.nodeSize,Jf(f,s,u+1,ps)),a+=3}});let o=mS(a?yS(r):r,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new Lr(o.length?this.local.concat(o).sort(vs):this.local,i||this.children)}remove(e){return e.length==0||this==pn?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,s=n[a]+r,l=n[a+1]+r;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>s&&p.to<l&&(e[f]=null,(o||(o=[])).push(p));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(o,s+1);u!=pn?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<i.length;s++)i[s].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Lr(i,n):pn}forChild(e,r){if(this==pn)return this;if(r.isLeaf)return Lr.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,o=a+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof ko){let u=Math.max(a,l.from)-a,f=Math.min(o,l.to)-a;u<f&&(i||(i=[])).push(l.copy(u,f))}}if(i){let s=new Lr(i.sort(vs),sl);return n?new co([s,n]):s}return n||pn}eq(e){if(this==e)return!0;if(!(e instanceof Lr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Rg(this.localsInner(e))}localsInner(e){if(this==pn)return sl;if(e.inlineContent||!this.local.some(ko.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ko||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Lr.empty=new Lr([],[]);Lr.removeOverlap=Rg;const pn=Lr.empty;class co{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,ps));return co.from(n)}forChild(e,r){if(r.isLeaf)return Lr.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=pn&&(a instanceof co?n=n.concat(a.members):n.push(a))}return co.from(n)}eq(e){if(!(e instanceof co)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let o=0;o<a.length;o++)r.push(a[o])}}return r?Rg(n?r:r.sort(vs)):sl}static from(e){switch(e.length){case 0:return pn;case 1:return e[0];default:return new co(e.every(r=>r instanceof Lr)?e:e.reduce((r,n)=>r.concat(n instanceof Lr?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function wpe(t,e,r,n,i,a,o){let s=t.slice();for(let u=0,f=a;u<r.maps.length;u++){let p=0;r.maps[u].forEach((b,C,T,M)=>{let N=M-T-(C-b);for(let B=0;B<s.length;B+=3){let U=s[B+1];if(U<0||b>U+f-p)continue;let X=s[B]+f-p;C>=X?s[B+1]=b<=X?-2:-1:b>=f&&N&&(s[B]+=N,s[B+1]+=N)}p+=N}),f=r.maps[u].map(f,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let f=r.map(t[u]+a),p=f-i;if(p<0||p>=n.content.size){l=!0;continue}let b=r.map(t[u+1]+a,-1),C=b-i,{index:T,offset:M}=n.content.findIndex(p),N=n.maybeChild(T);if(N&&M==p&&M+N.nodeSize==C){let B=s[u+2].mapInner(r,N,f+1,t[u]+a+1,o);B!=pn?(s[u]=p,s[u+1]=C,s[u+2]=B):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=kpe(s,t,e,r,i,a,o),f=Jf(u,n,0,o);e=f.local;for(let p=0;p<s.length;p+=3)s[p+1]<0&&(s.splice(p,3),p-=3);for(let p=0,b=0;p<f.children.length;p+=3){let C=f.children[p];for(;b<s.length&&s[b]<C;)b+=3;s.splice(b,0,f.children[p],f.children[p+1],f.children[p+2])}}return new Lr(e.sort(vs),s)}function mS(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new $n(i.from+e,i.to+e,i.type))}return r}function kpe(t,e,r,n,i,a,o){function s(l,u){for(let f=0;f<l.local.length;f++){let p=l.local[f].map(n,i,u);p?r.push(p):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)s(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+a+1);return r}function gS(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,o;a<t.length;a++)(o=t[a])&&o.from>r&&o.to<n&&((i||(i=[])).push(o),t[a]=null);return i}function yS(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Jf(t,e,r,n){let i=[],a=!1;e.forEach((s,l)=>{let u=gS(t,s,l+r);if(u){a=!0;let f=Jf(u,s,r+l+1,n);f!=pn&&i.push(l,l+s.nodeSize,f)}});let o=mS(a?yS(t):t,-r).sort(vs);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(n.onRemove&&n.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new Lr(o,i):pn}function vs(t,e){return t.from-e.from||t.to-e.to}function Rg(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),z0(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),z0(e,i,n.copy(a.from,n.to)));break}}}return e}function z0(t,e,r){for(;e<t.length&&vs(r,t[e])>0;)e++;t.splice(e,0,r)}function dv(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=pn&&e.push(n)}),t.cursorWrapper&&e.push(Lr.create(t.state.doc,[t.cursorWrapper.deco])),co.from(e)}const Cpe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Tpe=Wn&&bo<=11;class xpe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Spe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new xpe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Wn&&bo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():fn&&e.composing&&n.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Tpe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Cpe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(I0(this.view)){if(this.suppressingSelectionUpdates)return Ba(this.view);if(Wn&&bo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ks(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=Sl(a))r.add(a);for(let a=e.anchorNode;a;a=Sl(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&I0(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let p=this.registerMutation(r[f],l);p&&(a=a<0?p.from:Math.min(p.from,a),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(s=!0))}if(wi&&l.length){let f=l.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,b]=f;p.parentNode&&p.parentNode.parentNode==b.parentNode?b.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let b of f){let C=b.parentNode;C&&C.nodeName=="LI"&&(!p||Ope(e,p)!=C)&&b.remove()}}}else if((Jr||fn)&&l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let p=f.nextSibling;p&&p.nodeType==1&&p.contentEditable=="false"&&f.parentNode.removeChild(f)}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ud(n)&&(u=Sg(e))&&u.eq(Wt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ba(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),Epe(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,Ape(e,l)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Ba(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];r.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Wn&&bo<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:b}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let o=i&&i.parentNode==e.target?sn(i)+1:0,s=n.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?sn(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let $0=new WeakMap,U0=!1;function Epe(t){if(!$0.has(t)&&($0.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=wi,U0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),U0=!0}}function j0(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ks(o.node,o.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function Mpe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return j0(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?j0(t,r):null}function Ope(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function Ape(t,e){var r;let{focusNode:n,focusOffset:i}=t.domSelectionRange();for(let a of e)if(((r=a.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let o=a.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let s=o;for(;;){let l=s.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;s=l}s.insertBefore(a,s.firstChild),n==a&&t.domSelection().collapse(a,i)}else a.parentNode.removeChild(a)}}function Npe(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:o,to:s}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],Ud(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Jr&&t.input.lastKeyCode===8)for(let N=a;N>i;N--){let B=n.childNodes[N-1],U=B.pmViewDesc;if(B.nodeName=="BR"&&!U){a=N;break}if(!U||U.size)break}let p=t.state.doc,b=t.someProp("domParser")||bs.fromSchema(t.state.schema),C=p.resolve(o),T=null,M=b.parse(n,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:i,to:a,preserveWhitespace:C.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Dpe,context:C});if(u&&u[0].pos!=null){let N=u[0].pos,B=u[1]&&u[1].pos;B==null&&(B=N),T={anchor:N+o,head:B+o}}return{doc:M,sel:T,from:o,to:s}}function Dpe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||fn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Rpe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Lpe(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let se=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ge=Sg(t,se);if(ge&&!t.state.selection.eq(ge)){if(Jr&&Ia&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ge=>Ge(t,rs(13,"Enter"))))return;let Oe=t.state.tr.setSelection(ge);se=="pointer"?Oe.setMeta("pointer",!0):se=="key"&&Oe.scrollIntoView(),a&&Oe.setMeta("composition",a),t.dispatch(Oe)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(r);e=o.before(s+1),r=t.state.doc.resolve(r).after(s+1);let l=t.state.selection,u=Npe(t,e,r),f=t.state.doc,p=f.slice(u.from,u.to),b,C;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,C="end"):(b=t.state.selection.from,C="start"),t.input.lastKeyCode=null;let T=_pe(p.content,u.doc.content,u.from,b,C);if(T&&t.input.domChangeCount++,(El&&t.input.lastIOSEnter>Date.now()-225||Ia)&&i.some(se=>se.nodeType==1&&!Rpe.test(se.nodeName))&&(!T||T.endA>=T.endB)&&t.someProp("handleKeyDown",se=>se(t,rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!T)if(n&&l instanceof Kt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))T={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let se=W0(t,t.state.doc,u.sel);if(se&&!se.eq(t.state.selection)){let ge=t.state.tr.setSelection(se);a&&ge.setMeta("composition",a),t.dispatch(ge)}}return}t.state.selection.from<t.state.selection.to&&T.start==T.endB&&t.state.selection instanceof Kt&&(T.start>t.state.selection.from&&T.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?T.start=t.state.selection.from:T.endA<t.state.selection.to&&T.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(T.endB+=t.state.selection.to-T.endA,T.endA=t.state.selection.to)),Wn&&bo<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>u.from&&u.doc.textBetween(T.start-u.from-1,T.start-u.from+1)==" "&&(T.start--,T.endA--,T.endB--);let M=u.doc.resolveNoCache(T.start-u.from),N=u.doc.resolveNoCache(T.endB-u.from),B=f.resolve(T.start),U=M.sameParent(N)&&M.parent.inlineContent&&B.end()>=T.endA;if((El&&t.input.lastIOSEnter>Date.now()-225&&(!U||i.some(se=>se.nodeName=="DIV"||se.nodeName=="P"))||!U&&M.pos<u.doc.content.size&&(!M.sameParent(N)||!M.parent.inlineContent)&&M.pos<N.pos&&!/\S/.test(u.doc.textBetween(M.pos,N.pos,"","")))&&t.someProp("handleKeyDown",se=>se(t,rs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>T.start&&Ppe(f,T.start,T.endA,M,N)&&t.someProp("handleKeyDown",se=>se(t,rs(8,"Backspace")))){Ia&&Jr&&t.domObserver.suppressSelectionUpdates();return}Jr&&T.endB==T.start&&(t.input.lastChromeDelete=Date.now()),Ia&&!U&&M.start()!=N.start()&&N.parentOffset==0&&M.depth==N.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==T.endA&&(T.endB-=2,N=u.doc.resolveNoCache(T.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(se){return se(t,rs(13,"Enter"))})},20));let X=T.start,Z=T.endA,ce=se=>{let ge=se||t.state.tr.replace(X,Z,u.doc.slice(T.start-u.from,T.endB-u.from));if(u.sel){let Oe=W0(t,ge.doc,u.sel);Oe&&!(Jr&&t.composing&&Oe.empty&&(T.start!=T.endB||t.input.lastChromeDelete<Date.now()-100)&&(Oe.head==X||Oe.head==ge.mapping.map(Z)-1)||Wn&&Oe.empty&&Oe.head==X)&&ge.setSelection(Oe)}return a&&ge.setMeta("composition",a),ge.scrollIntoView()},le;if(U)if(M.pos==N.pos){Wn&&bo<=11&&M.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ba(t),20));let se=ce(t.state.tr.delete(X,Z)),ge=f.resolve(T.start).marksAcross(f.resolve(T.endA));ge&&se.ensureMarks(ge),t.dispatch(se)}else if(T.endA==T.endB&&(le=Ipe(M.parent.content.cut(M.parentOffset,N.parentOffset),B.parent.content.cut(B.parentOffset,T.endA-B.start())))){let se=ce(t.state.tr);le.type=="add"?se.addMark(X,Z,le.mark):se.removeMark(X,Z,le.mark),t.dispatch(se)}else if(M.parent.child(M.index()).isText&&M.index()==N.index()-(N.textOffset?0:1)){let se=M.parent.textBetween(M.parentOffset,N.parentOffset),ge=()=>ce(t.state.tr.insertText(se,X,Z));t.someProp("handleTextInput",Oe=>Oe(t,X,Z,se,ge))||t.dispatch(ge())}else t.dispatch(ce());else t.dispatch(ce())}function W0(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Eg(t,e.resolve(r.anchor),e.resolve(r.head))}function Ipe(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,o,s,l;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=f=>f.mark(s.addToSet(f.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=f=>f.mark(s.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(l(e.child(f)));if(We.from(u).eq(t))return{mark:s,type:o}}function Ppe(t,e,r,n,i){if(r-e<=i.pos-n.pos||hv(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let s=a.nodeAfter;return s!=null&&r==e+s.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=t.resolve(hv(a,!0,!0));return!o.parent.isTextblock||o.pos>r||hv(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function hv(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function _pe(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:o,b:s}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}if(o<a&&t.size<e.size){let l=n<=a&&n>=o?a-n:0;a-=l,a&&a<e.size&&G0(e.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}else if(s<a){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<t.size&&G0(t.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}return{start:a,endA:o,endB:s}}function G0(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class Gd{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Qhe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Q0),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=X0(this),J0(this),this.nodeViews=Y0(this),this.docView=O0(this.state.doc,K0(this),dv(this),this.dom,this),this.domObserver=new Spe(this,(n,i,a,o)=>Lpe(this,n,i,a,o)),this.domObserver.start(),Zhe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&km(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Q0),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(dS(this),o=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(s||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let C=Y0(this);Fpe(C,this.nodeViews)&&(this.nodeViews=C,a=!0)}(s||r.handleDOMEvents!=this._props.handleDOMEvents)&&km(this),this.editable=X0(this),J0(this);let l=dv(this),u=K0(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=a||!this.docView.matchesNode(e.doc,u,l);(p||!e.selection.eq(i.selection))&&(o=!0);let b=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&hhe(this);if(o){this.domObserver.stop();let C=p&&(Wn||Jr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Bpe(i.selection,e.selection);if(p){let T=Jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=hpe(this)),(a||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=O0(e.doc,u,l,this.dom,this)),T&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Bhe(this))?Ba(this,C):(eS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():b&&phe(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Lt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&C0(this,r.getBoundingClientRect(),e)}else C0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new pS(e.slice,e.move,i<0?void 0:Lt.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(i=r?r(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Wn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&vhe(this.dom),Ba(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return whe(this,e)}coordsAtPos(e,r=1){return Wx(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return She(this,r||this.state,e)}pasteHTML(e,r){return zu(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return zu(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return Mg(this,e)}destroy(){this.docView&&(epe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nhe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return rpe(this,e)}domSelectionRange(){let e=this.domSelection();return e?fn&&this.root.nodeType===11&&lhe(this.dom.ownerDocument)==this.dom&&Mpe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Gd.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function K0(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[$n.node(0,t.state.doc.content.size,e)]}function J0(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$n.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function X0(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Bpe(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function Y0(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function Fpe(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function Q0(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Eo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Hpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ln=0;ln<10;ln++)Eo[48+ln]=Eo[96+ln]=String(ln);for(var ln=1;ln<=24;ln++)Eo[ln+111]="F"+ln;for(var ln=65;ln<=90;ln++)Eo[ln]=String.fromCharCode(ln+32),Xf[ln]=String.fromCharCode(ln);for(var pv in Eo)Xf.hasOwnProperty(pv)||(Xf[pv]=Eo[pv]);function Vpe(t){var e=qpe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Hpe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Xf:Eo)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const zpe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),$pe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Upe(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))zpe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function jpe(t){let e=Object.create(null);for(let r in t)e[Upe(r)]=t[r];return e}function vv(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Uu(t){return new Kn({props:{handleKeyDown:Wpe(t)}})}function Wpe(t){let e=jpe(t);return function(r,n){let i=Vpe(n),a,o=e[vv(i,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=e[vv(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!($pe&&n.ctrlKey&&n.altKey)&&(a=Eo[n.keyCode])&&a!=i){let s=e[vv(a,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}const Lg=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Gpe(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const Kpe=(t,e,r)=>{let n=Gpe(t,r);if(!n)return!1;let i=bS(n);if(!i){let o=n.blockRange(),s=o&&zd(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(xS(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Ml(a,"end")||Lt.isSelectable(a)))for(let o=n.depth;;o--){let s=Cg(t.doc,n.before(o),n.after(o),ot.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ml(a,"end")?Wt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Lt.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ml(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const Jpe=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=bS(n)}let o=a&&a.nodeBefore;return!o||!Lt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Lt.create(t.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function bS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Xpe(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const wS=(t,e,r)=>{let n=Xpe(t,r);if(!n)return!1;let i=kS(n);if(!i)return!1;let a=i.nodeAfter;if(xS(t,i,e,1))return!0;if(n.parent.content.size==0&&(Ml(a,"start")||Lt.isSelectable(a))){let o=Cg(t.doc,n.before(),n.after(),ot.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=t.tr.step(o);s.setSelection(Ml(a,"start")?Wt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Lt.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},Ype=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=kS(n)}let o=a&&a.nodeAfter;return!o||!Lt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Lt.create(t.doc,a.pos)).scrollIntoView()),!0)};function kS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const CS=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ig(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Pg=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),o=Ig(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Wt.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Qpe=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof An||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=Ig(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(o,a.createAndFill());s.setSelection(Kt.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},Zpe=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(ml(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&zd(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function eve(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Lt&&e.selection.node.isBlock)return!n.parentOffset||!ml(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],o,s,l=!1,u=!1;for(let C=n.depth;;C--)if(n.node(C).isBlock){l=n.end(C)==n.pos+(n.depth-C),u=n.start(C)==n.pos-(n.depth-C),s=Ig(n.node(C-1).contentMatchAt(n.indexAfter(C-1))),a.unshift(l&&s?{type:s}:null),o=C;break}else{if(C==1)return!1;a.unshift(null)}let f=e.tr;(e.selection instanceof Kt||e.selection instanceof An)&&f.deleteSelection();let p=f.mapping.map(n.pos),b=ml(f.doc,p,a.length,a);if(b||(a[0]=s?{type:s}:null,b=ml(f.doc,p,a.length,a)),!b)return!1;if(f.split(p,a.length,a),!l&&u&&n.node(o).type!=s){let C=f.mapping.map(n.before(o)),T=f.doc.resolve(C);s&&n.node(o-1).canReplaceWith(T.index(),T.index()+1,s)&&f.setNodeMarkup(f.mapping.map(n.before(o)),s)}return r&&r(f.scrollIntoView()),!0}}const tve=eve(),TS=(t,e)=>(e&&e(t.tr.setSelection(new An(t.doc))),!0);function rve(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Dx(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function xS(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,o,s,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&rve(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(s=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&s.matchType(o[0]||a.type).validEnd){if(r){let C=e.pos+a.nodeSize,T=We.empty;for(let B=o.length-1;B>=0;B--)T=We.from(o[B].create(null,T));T=We.from(i.copy(T));let M=t.tr.step(new Xr(e.pos-1,C,e.pos,C,new ot(T,1,0),o.length,!0)),N=M.doc.resolve(C+2*o.length);N.nodeAfter&&N.nodeAfter.type==i.type&&Dx(M.doc,N.pos)&&M.join(N.pos),r(M.scrollIntoView())}return!0}let f=a.type.spec.isolating||n>0&&l?null:Wt.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),b=p&&zd(p);if(b!=null&&b>=e.depth)return r&&r(t.tr.lift(p,b).scrollIntoView()),!0;if(u&&Ml(a,"start",!0)&&Ml(i,"end")){let C=i,T=[];for(;T.push(C),!C.isTextblock;)C=C.lastChild;let M=a,N=1;for(;!M.isTextblock;M=M.firstChild)N++;if(C.canReplace(C.childCount,C.childCount,M.content)){if(r){let B=We.empty;for(let X=T.length-1;X>=0;X--)B=We.from(T[X].copy(B));let U=t.tr.step(new Xr(e.pos-T.length,e.pos+a.nodeSize,e.pos+N,e.pos+a.nodeSize-N,new ot(B,T.length,0),0,!0));r(U.scrollIntoView())}return!0}}return!1}function SS(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(Kt.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const nve=SS(-1),ive=SS(1);function ave(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,o=i.blockRange(a),s=o&&Ide(o,t,e);return s?(n&&n(r.tr.wrap(o,s).scrollIntoView()),!0):!1}}function _g(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=r.selection.ranges[a];r.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=r.doc.resolve(u),p=f.index();i=f.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[o];a.setBlockType(s,l,t,e)}n(a.scrollIntoView())}return!0}}function ove(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:a,$to:o}=e[i],s=a.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(a.pos,o.pos,(l,u)=>{if(s)return!1;s=l.inlineContent&&l.type.allowsMarkType(r)}),s)return!0}return!1}function nc(t,e=null,r){return function(n,i){let{empty:a,$cursor:o,ranges:s}=n.selection;if(a&&!o||!ove(n.doc,s,t))return!1;if(i)if(o)t.isInSet(n.storedMarks||o.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{let l,u=n.tr;l=!s.some(f=>n.doc.rangeHasMark(f.$from.pos,f.$to.pos,t));for(let f=0;f<s.length;f++){let{$from:p,$to:b}=s[f];if(!l)u.removeMark(p.pos,b.pos,t);else{let C=p.pos,T=b.pos,M=p.nodeAfter,N=b.nodeBefore,B=M&&M.isText?/^\s*/.exec(M.text)[0].length:0,U=N&&N.isText?/\s*$/.exec(N.text)[0].length:0;C+B<T&&(C+=B,T-=U),u.addMark(C,T,t.create(e))}}i(u.scrollIntoView())}return!0}}function Kd(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}let mv=Kd(Lg,Kpe,Jpe),Z0=Kd(Lg,wS,Ype);const Na={Enter:Kd(CS,Qpe,Zpe,tve),"Mod-Enter":Pg,Backspace:mv,"Mod-Backspace":mv,"Shift-Backspace":mv,Delete:Z0,"Mod-Delete":Z0,"Mod-a":TS},ES={"Ctrl-h":Na.Backspace,"Alt-Backspace":Na["Mod-Backspace"],"Ctrl-d":Na.Delete,"Ctrl-Alt-Backspace":Na["Mod-Delete"],"Alt-Delete":Na["Mod-Delete"],"Alt-d":Na["Mod-Delete"],"Ctrl-a":nve,"Ctrl-e":ive};for(let t in Na)ES[t]=Na[t];const sve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ek=sve?ES:Na;class No{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?lve(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}}function lve(t){return function(e,r,n,i){let a=t;if(r[1]){let o=r[0].lastIndexOf(r[1]);a+=r[0].slice(o+r[1].length),n+=o;let s=n-i;s>0&&(a=r[0].slice(o-s,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const uve=500;function MS({rules:t}){let e=new Kn({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,a){return tk(r,n,i,a,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&tk(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function tk(t,e,r,n,i,a){if(t.composing)return!1;let o=t.state,s=o.doc.resolve(e),l=s.parent.textBetween(Math.max(0,s.parentOffset-uve),s.parentOffset,null,"")+n;for(let u=0;u<i.length;u++){let f=i[u];if(!f.inCodeMark&&s.marks().some(T=>T.type.spec.code))continue;if(s.parent.type.spec.code){if(!f.inCode)continue}else if(f.inCode==="only")continue;let p=f.match.exec(l);if(!p||p[0].length<n.length)continue;let b=e-(p[0].length-n.length);if(!f.inCodeMark){let T=!1;if(o.doc.nodesBetween(b,s.pos,M=>{M.isInline&&M.marks.some(N=>N.type.spec.code)&&(T=!0)}),T)continue}let C=f.handler(o,p,b,r);if(C)return f.undoable&&C.setMeta(a,{transform:C,from:e,to:r,text:n}),t.dispatch(C),!0}return!1}const cve=(t,e)=>{let r=t.plugins;for(let n=0;n<r.length;n++){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let o=t.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l--)o.step(s.steps[l].invert(s.docs[l]));if(a.text){let l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new No(/--$/,"",{inCodeMark:!1});new No(/\.\.\.$/,"",{inCodeMark:!1});new No(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new No(/"$/,"",{inCodeMark:!1});new No(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new No(/'$/,"",{inCodeMark:!1});var Yf=200,Yr=function(){};Yr.prototype.append=function(e){return e.length?(e=Yr.from(e),!this.length&&e||e.length<Yf&&this.leafAppend(e)||this.length<Yf&&e.leafPrepend(this)||this.appendInner(e)):this};Yr.prototype.prepend=function(e){return e.length?Yr.from(e).append(this):this};Yr.prototype.appendInner=function(e){return new fve(this,e)};Yr.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Yr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Yr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Yr.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Yr.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},r,n),i};Yr.from=function(e){return e instanceof Yr?e:e&&e.length?new OS(e):Yr.empty};var OS=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Yf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Yf)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Yr);Yr.empty=new OS([]);var fve=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(n,Math.min(i,s),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Yr);const dve=500;class Di{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,s,l,u=[],f=[];return this.items.forEach((p,b)=>{if(!p.step){i||(i=this.remapping(n,b+1),a=i.maps.length),a--,f.push(p);return}if(i){f.push(new Zi(p.map));let C=p.step.map(i.slice(a)),T;C&&o.maybeStep(C).doc&&(T=o.mapping.maps[o.mapping.maps.length-1],u.push(new Zi(T,void 0,void 0,u.length+f.length))),a--,T&&i.appendMap(T,a)}else o.maybeStep(p.step);if(p.selection)return s=i?p.selection.map(i.slice(a)):p.selection,l=new Di(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,r,n,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),b=new Zi(e.mapping.maps[f],p,r),C;(C=l&&l.merge(b))&&(b=C,f?a.pop():s=s.slice(0,s.length-1)),a.push(b),r&&(o++,r=void 0),i||(l=b)}let u=o-n.depth;return u>pve&&(s=hve(s,u),o-=u),new Di(s.append(a),o)}remapping(e,r){let n=new qu;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Di(this.items.append(e.map(r=>new Zi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(b=>{b.selection&&s--},i);let l=r;this.items.forEach(b=>{let C=a.getMirror(--l);if(C==null)return;o=Math.min(o,C);let T=a.maps[C];if(b.step){let M=e.steps[C].invert(e.docs[C]),N=b.selection&&b.selection.map(a.slice(l+1,C));N&&s++,n.push(new Zi(T,M,N))}else n.push(new Zi(T))},i);let u=[];for(let b=r;b<o;b++)u.push(new Zi(a.maps[b]));let f=this.items.slice(0,i).append(u).append(n),p=new Di(f,s);return p.emptyItemCount()>dve&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let f=o.selection&&o.selection.map(r.slice(n));f&&a++;let p=new Zi(u.invert(),l,f),b,C=i.length-1;(b=i.length&&i[C].merge(p))?i[C]=b:i.push(p)}}else o.map&&n--},this.items.length,0),new Di(Yr.from(i.reverse()),a)}}Di.empty=new Di(Yr.empty,0);function hve(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class Zi{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Zi(r.getMap().invert(),r,this.selection)}}}class uo{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const pve=20;function vve(t,e,r,n){let i=r.getMeta(Co),a;if(i)return i.historyState;r.getMeta(yve)&&(t=new uo(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Co))return o.getMeta(Co).redo?new uo(t.done.addTransform(r,void 0,n,Cf(e)),t.undone,rk(r.mapping.maps),t.prevTime,t.prevComposition):new uo(t.done,t.undone.addTransform(r,void 0,n,Cf(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-n.newGroupDelay||!mve(r,t.prevRanges)),u=o?gv(t.prevRanges,r.mapping):rk(r.mapping.maps);return new uo(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Cf(e)),Di.empty,u,r.time,s??t.prevComposition)}else return(a=r.getMeta("rebased"))?new uo(t.done.rebased(r,a),t.undone.rebased(r,a),gv(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new uo(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),gv(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function mve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}function rk(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,o)=>e.push(a,o));return e}function gv(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}function gve(t,e,r){let n=Cf(e),i=Co.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let o=a.selection.resolve(a.transform.doc),s=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new uo(r?s:a.remaining,r?a.remaining:s,null,0,-1);return a.transform.setSelection(o).setMeta(Co,{redo:r,historyState:l})}let yv=!1,nk=null;function Cf(t){let e=t.plugins;if(nk!=e){yv=!1,nk=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){yv=!0;break}}return yv}const Co=new Zu("history"),yve=new Zu("closeHistory");function AS(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Kn({key:Co,state:{init(){return new uo(Di.empty,Di.empty,null,0,-1)},apply(e,r,n){return vve(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Au:n=="historyRedo"?Bg:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function NS(t,e){return(r,n)=>{let i=Co.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=gve(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const Au=NS(!1,!0),Bg=NS(!0,!0);function bve(t){let e=Co.getState(t);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cm=function(t,e){return Cm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cm(t,e)};function ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ae=function(){return Ae=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(this,arguments)};function Gn(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Xt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function wve(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var Ol=wve;function kve(t,e){var r=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)r.call(n,i)&&(t[i]=n[i])}return t}var Fg=kve;function Cve(t){return typeof t=="string"||t instanceof String}var ja=Cve;function Tve(t){return t instanceof Array}var Vl=Tve;function xve(t,e,r){var n=0,i=t.length;for(r=r||null;n<i&&e.call(r,t[n],n,t)!==!1;n+=1);}var Al=xve,Sve=Vl,Eve=Al,Mve=Ol;function Ove(t,e,r){Sve(t)?Eve(t,e,r):Mve(t,e,r)}var Jd=Ove,Ave=ja,Nve=Jd;function Dve(t,e,r){var n=t.style;if(Ave(e)){n[e]=r;return}Nve(e,function(i,a){n[a]=i})}var ua=Dve,Rve=Vl;function Lve(t,e,r){var n,i;if(r=r||0,!Rve(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(i=e.length,n=r;r>=0&&n<i;n+=1)if(e[n]===t)return n;return-1}var Ts=Lve;function Ive(t){return t===void 0}var qi=Ive,Pve=qi;function _ve(t){return!t||!t.className?"":Pve(t.className.baseVal)?t.className:t.className.baseVal}var qg=_ve,Bve=Vl,Fve=qi;function qve(t,e){if(e=Bve(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),Fve(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var DS=qve,ik=Jd,Hve=Ts,Vve=qg,zve=DS;function $ve(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],i;if(r){ik(e,function(a){t.classList.add(a)});return}i=Vve(t),i&&(e=[].concat(i.split(/\s+/),e)),ik(e,function(a){Hve(a,n)<0&&n.push(a)}),zve(t,n)}var ia=$ve,ak=Al,Uve=Ts,jve=qg,Wve=DS;function Gve(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,i;if(r){ak(e,function(a){r.remove(a)});return}n=jve(t).split(/\s+/),i=[],ak(n,function(a){Uve(a,e)<0&&i.push(a)}),Wve(t,i)}var Ri=Gve;function Kve(t){return typeof t=="number"||t instanceof Number}var Da=Kve;function Jve(t){return t===null}var Qf=Jve,Xve=Ol;function Yve(t,e){var r=document.createElement("img"),n="";return Xve(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var Qve=Yve,Zve=qi,eme=Qve,tme=10080*60*1e3;function rme(t){var e=new Date().getTime();return e-t>tme}function nme(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+t+" for "+n+": Statistics",s=window.localStorage.getItem(o);!Zve(window.tui)&&window.tui.usageStatistics===!1||s&&!rme(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&eme(r,{v:1,t:i,tid:e,cid:n,dp:n,dh:t,el:t,ec:a})},1e3))}var ime=nme,ame=/[\u0020]+/g,ome=/[>(){}[\]+-.!#|]/g,ok=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,sk=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,sme=/[*_~`]/g,lk=/!\[.*\]\(.*\)/g,lme=/[[\]]/g,uk=/(?:^|[^\\])\\(?!\\)/g,ume='[&<>"]',ck=new RegExp(ume,"g");function cme(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function ul(t){return ck.test(t)?t.replace(ck,cme):t}function fme(){ime("editor","UA-129966929-1")}function dn(t,e){return t.indexOf(e)!==-1}var dme=["rel","target","hreflang","type"],hme={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function RS(t){if(!t)return null;var e={};return dme.forEach(function(r){qi(t[r])||(e[r]=t[r])}),e}function Zf(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function pme(t){var e=!1;return Ol(hme,function(r){return r.test(t)&&(e=!0),!e}),e}function ed(t){for(var e=[],r=lk.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=lk.exec(t);return t.replace(lme,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function vme(t){var e=function(i){return"\\"+i},r=function(i){return i+"\\"},n=t.replace(ame," ");return sk.test(n)&&(n=n.replace(sk,e)),uk.test(n)&&(n=n.replace(uk,r)),n=n.replace(sme,e),ok.test(n)&&(n=n.replace(ok,e)),pme(n)&&(n=n.replace(ome,e)),n}function mme(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function Tm(t){return Qf(t)||qi(t)}function Hg(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||Tm(t)||Tm(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function kn(t){return t[t.length-1]}function gme(t,e,r){return t>=e&&t<=r}function Vg(t){return typeof t=="object"&&t!==null}function td(t,e){var r=Ae({},t);return t&&e&&Object.keys(e).forEach(function(n){Vg(r[n])?Array.isArray(e[n])?r[n]=zg(e[n]):r.hasOwnProperty(n)?r[n]=td(r[n],e[n]):r[n]=$g(e[n]):r[n]=e[n]}),r}function zg(t){return t.map(function(e){return Vg(e)?Array.isArray(e)?zg(e):$g(e):e})}function $g(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return Vg(t[n])?r[n]=Array.isArray(t[n])?zg(t[n]):$g(t[n]):r[n]=t[n],r},{}):t}function Ug(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:Ug(t[r],e[r]):t[r]=e[r]}),t}function fk(t,e){return t>e?[e,t]:[t,e]}var yme=Al;function bme(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],yme(t,function(n){e.push(n)})}return e}var ca=bme;function rd(t,e){var r=t.nodes.paragraph;return e?r.create(null,ja(e)?t.text(e):e):r.createAndFill()}function un(t,e,r){return t.text(e,r)}function kr(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,i=n>0?n-1:1;return Kt.create(t.doc,Math.min(e,i),Math.min(r,i))}function jg(t,e,r){var n=e.pos;return t.replaceWith(n,n,rd(r)),t.setSelection(kr(t,n+1))}function nd(t){for(var e=t.state,r=t.from,n=t.startIndex,i=t.endIndex,a=t.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var f=s.child(u),p=f.nodeSize,b=f.textContent,C=f.content,T=a(b),M=T?un(l,T):We.empty,N=o.mapping.map(r),B=N+C.size;o.replaceWith(N,B,M),r+=p}return o}function Wg(t,e,r,n){var i=r.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),n).setSelection(kr(t,t.mapping.map(e)-i))}function ic(t){return t.sourcepos[0][0]}function Xd(t){return t.sourcepos[1][0]}function Yd(t){return t.sourcepos[0][1]}function To(t){return t.sourcepos[1][1]}function wme(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function kme(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function Cme(t){return t&&t.type==="codeBlock"}function xs(t){return t&&(t.type==="item"||t.type==="list")}function LS(t){return xs(t)&&t.listData.type==="ordered"}function Tme(t){return xs(t)&&t.listData.type!=="ordered"}function dk(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function xme(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Nl(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function Sme(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function Kr(t,e){return[t[0],t[1]+e]}function xo(t,e){return[t[0],e]}function Eme(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,i=r.title,a=t.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function Mme(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function Ome(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var ju=[],IS={},hk=/\$\$widget\d+\s/;function Qd(t){var e=t.search(hk);if(e!==-1){var r=t.substring(e),n=r.replace(hk,"").replace("$$","");t=t.substring(0,e),t+=Qd(n)}return t}function PS(t,e){return"$$"+t+" "+e+"$$"}function _S(t,e){var r=IS[t],n=r.rule,i=r.toDOM,a=Qd(e).match(n);return a&&(e=a[0]),i(e)}function Ame(){return ju}function Nme(t){ju=t,ju.forEach(function(e,r){IS["widget"+r]=e})}function bv(t,e,r,n){return t.concat(ms(e,r,n))}function ms(t,e,r){r===void 0&&(r=0);var n=[],i=(ju[r]||{}).rule,a=r+1;if(t=Qd(t),i&&i.test(t)){for(var o=void 0;(o=t.search(i))!==-1;){var s=t.substring(0,o);s&&(n=bv(n,s,e,a)),t=t.substring(o);var l=t.match(i)[0],u="widget"+r;n.push(e.nodes.widget.create({info:u},e.text(PS(u,l)))),t=t.substring(l.length)}t&&(n=bv(n,t,e,a))}else t&&(n=r<ju.length-1?bv(n,t,e,a):[e.text(t)]);return n}function BS(t){for(var e,r="",n=t.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==t&&i.type!=="text"?(r+=Eme(i),n.resumeAt(t,!1),n.next()):i.type==="text"&&(r+=i.literal))}return r}function FS(){return{deleteSelection:function(){return Lg},selectAll:function(){return TS},undo:function(){return Au},redo:function(){return Bg}}}function Dme(t){return new Kn({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return ia(n,"placeholder"),t.className&&ia(n,t.className),n.textContent=t.text,Lr.create(r,[$n.widget(1,n)])}return null}}})}var Rme=Ts,Lme=qg;function Ime(t,e){var r;return t.classList?t.classList.contains(e):(r=Lme(t).split(/\s+/),Rme(e,r)>-1)}var qS=Ime,Pme=Ts,_me=ca,ef=Element.prototype,Bme=ef.matches||ef.webkitMatchesSelector||ef.mozMatchesSelector||ef.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return Pme(this,_me(e.querySelectorAll(t)))>-1};function Fme(t,e){return Bme.call(t,e)}var qme=Fme,HS="[A-Za-z][A-Za-z0-9-]*",Hme="[a-zA-Z_:][a-zA-Z0-9:._-]*",Vme="[^\"'=<>`\\x00-\\x20]+",zme="'[^']*'",$me='"[^"]*"',Ume="(?:"+Vme+"|"+zme+"|"+$me+")",jme="(?:\\s*=\\s*"+Ume+")",VS="(?:\\s+"+Hme+jme+"?)",zS="<("+HS+")("+VS+")*\\s*/?>",Wme="</("+HS+")\\s*[>]",$S="(?:"+zS+"|"+Wme+")",Dl=new RegExp("^"+$S,"i"),xm=/<br\s*\/*>/i,Gme=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,US="</p><p>";function Gg(t,e,r){var n=parseInt(t.left,10),i=parseInt(t.top,10),a=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),o=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+a&&r>=i&&r<=i+o}var jS="toastui-editor-";function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&r.push(""+jS+o)}return r.join(" ")}function Ur(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return jS+"md-"+r}).join(" ")}function Kme(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function Zd(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Jme(t,e){var r=ca(t.querySelectorAll(e));return r.length?r:[]}function Xme(t,e){e=Vl(e)?ca(e):[e],e.forEach(function(r){t.appendChild(r)})}function Yme(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function Ss(t){t.parentNode&&t.parentNode.removeChild(t)}function Qme(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return Ss(t),e}function Kg(t,e,r){qi(r)&&(r=!qS(t,e));var n=r?ia:Ri;n(t,e)}function WS(t,e){var r=document.createElement("div");ja(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function Jg(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function aa(t,e){var r;for(ja(e)?r=function(n){return qme(n,e)}:r=function(n){return n===e};t&&t!==document;){if(Zd(t)&&r(t))return t;t=t.parentNode}return null}function GS(t,e){for(var r=0,n=0;t&&t!==e;){var i=t.offsetTop,a=t.offsetLeft,o=t.offsetParent;if(r+=i,n+=a,o===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function Xg(t,e){Object.keys(t).forEach(function(r){Tm(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function Zme(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp($S,"ig"),n=e.match(r);return n==null||n.forEach(function(i,a){if(xm.test(i)){var o=US;if(a){var s=n[a-1],l=s.match(zS);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(xm,o)}}),e}function Yg(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var KS=new Zu("widget"),pk=5,ege=(function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=aa(e.dom.parentElement,"."+gt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=KS.getState(e.state);if(this.removeWidget(),r){var n=r.node,i=r.style,a=e.coordsAtPos(r.pos),o=a.top,s=a.left,l=a.bottom,u=l-o,f=this.rootEl.getBoundingClientRect(),p=o-f.top;ua(n,{opacity:"0"}),this.rootEl.appendChild(n),ua(n,{position:"absolute",left:s-f.left+pk+"px",top:(i==="bottom"?p+u-pk:p-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t})();function tge(t){return new Kn({key:KS,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new ege(e,t)}})}function rge(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(i){var a=i.target;return r(a.result)},n.readAsDataURL(e)})}function Qg(t,e,r){var n=function(i,a){t.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function JS(t){var e=ca(t).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function nge(t){var e=t.eventEmitter;return new Kn({props:{handleDOMEvents:{drop:function(r,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Al(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),Qg(e,o,n.type),!1):!0}),!0}}}})}var yr=(function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t})();function XS(t){var e=document.createElement("span"),r=_S(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function Sm(t){return t.type.name==="widget"}var YS=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e})(yr),QS=(function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return as.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",i)}),n.dom.addEventListener("blur",function(){return r.emit("blur",i)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=Gn(Gn([],this.keymaps),[Uu(Ae({"Shift-Enter":ek.Enter},ek)),AS(),Dme(this.placeholder),tge(this.eventEmitter),nge(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=Ame(),r=e.map(function(n){var i=n.rule;return new No(i,function(a,o,s,l){var u=a.schema,f=a.tr,p=a.doc,b=o.input.match(new RegExp(i,"g")),C=p.resolve(s),T=C.parent,M=0;if(Sm(T)&&(T=C.node(C.depth-1)),T.forEach(function(U){return Sm(U)&&(M+=1)}),b.length>M){var N=kn(b),B=ms(N,u);return f.replaceWith(l-N.length+1,l,B)}return null})});return r.length?MS({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new kx({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=FS(),n=r.undo,i=r.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(Uu(o)):a},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(kr(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(kr(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){ua(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){ua(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t})();function ige(t){return t instanceof Function}var Ti=ige,age=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function tf(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var ZS=(function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return Ae(Ae({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return Ae(Ae({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var s={},l=o.commands();return Ti(l)?s[o.name]=function(u){return tf(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(f){return tf(e,l[u],f)}}),Ae(Ae({},a),s)},{}),i=FS();return Object.keys(i).forEach(function(a){n[a]=function(o){return tf(e,i[a],o)}}),r&&Object.keys(r).forEach(function(a){n[a]=function(o){return tf(e,r[a],o)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(i){dn(age,i)||delete n[i]}),Uu(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t})();function eE(t){var e=t.from,r=t.to;return t instanceof An?[e+1,r-1]:[e,r]}function vk(t){return t.index(0)+1}function Rl(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(i,a){Sm(i)&&a+2<e&&(n+=2*r)}),n}function Tf(t,e,r){r===void 0&&(r=e);var n=e===r,i=t.resolve(e),a=vk(i),o=a,s=i.start(1),l=s;if(!n){var u=t.resolve(r===t.content.size?r-1:r);l=u.start(1),o=vk(u),u.pos===t.content.size&&(r=t.content.size-2)}var f=Math.max(e-s+1,1),p=Math.max(r-l+1,1);return[[a,f+Rl(t.child(a-1),f,-1)],[o,p+Rl(t.child(o-1),p,-1)]]}function tE(t,e){for(var r=[],n=0,i=0;n<e;n+=1){var a=t.child(n);r[n]=i,i+=a.nodeSize}return r}function ts(t,e,r){var n=tE(t,r[0]),i=e[0]-1,a=r[0]-1,o=t.child(i),s=t.child(a),l=n[i],u=n[a];return l+=e[1]+Rl(o,e[1]-1),u+=r[1]+Rl(s,r[1]-1),[l,Math.min(u,t.content.size)]}function zr(t){var e=t.$from,r=t.$to,n=t.from,i=t.to,a=e.doc;return t instanceof An&&(e=a.resolve(n+1),r=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function id(t,e){for(var r=1,n=1,i=0,a=0;i<t.childCount;i+=1){var o=t.child(i).nodeSize;if(r=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:r,endOffset:n}}var mk="heading",oge="blockQuote",sge="listItem",lge="table",uge="tableCell",cge="codeBlock",fge="thematicBreak",xf="link",rf="code",eh="meta",Es="delimiter",dge="taskDelimiter",Zg="markedText",hge="html",pge="customBlock",gk={strong:2,emph:1,strike:2};function lr(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function vge(t,e,r){var n=t.level,i=t.headingType,a=[lr(e,r,mk,{level:n})];return i==="atx"?a.push(lr(e,Kr(e,n),Es)):a.push(lr(xo(r,0),r,mk,{seText:!0})),a}function wv(t,e,r){var n=t.type,i=Kr(e,gk[n]),a=Kr(r,-gk[n]);return[lr(i,a,n),lr(e,i,Es),lr(a,r,Es)]}function rE(t,e,r,n){return[lr(t,e,xf),lr(xo(t,r[1]+1),xo(e,n),xf,{desc:!0}),lr(xo(e,n+2),Kr(e,-1),xf,{url:!0})]}function mge(t,e,r){var n=t.lastChild,i=n?To(n)+1:3,a=Kr(e,1);return Gn([lr(e,a,eh)],rE(e,r,a,i))}function gge(t,e,r){var n=t.lastChild,i=t.extendedAutolink,a=n?To(n)+1:2;return i?[lr(e,r,xf,{desc:!0})]:rE(e,r,e,a)}function yge(t,e,r){var n=t.tickCount,i=Kr(e,n),a=Kr(r,-n);return[lr(e,r,rf),lr(e,i,rf,{start:!0}),lr(i,a,rf,{marked:!0}),lr(a,r,rf,{end:!0})]}function nE(t,e,r,n){var i={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[Ae(Ae({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),Ae(Ae({},i),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function bge(t,e,r,n){var i=t.fenceOffset,a=t.fenceLength,o=t.fenceChar,s=t.info,l=t.infoPadding,u=t.parent,f=i+a,p=[lr(xo(e,1),r,cge)];o&&p.push(lr(e,Kr(e,f),Es)),s&&p.push(lr(Kr(e,a),Kr(e,a+l+s.length),eh));var b="^(\\s{0,4})("+o+"{"+a+",})",C=new RegExp(b);C.test(n)&&p.push(lr(xo(r,1),r,Es));var T=nE(u,e,r,"code-block");return T?p.concat(T):p}function wge(t,e,r){var n=t,i=n.offset,a=n.syntaxLength,o=n.info,s=n.parent,l=i+a,u=[lr(xo(e,1),r,pge)];u.push(lr(e,Kr(e,l),Es)),o&&u.push(lr(Kr(e,l),Kr(e,a+o.length),eh)),u.push(lr(xo(r,1),r,Es));var f=nE(s,e,r,"custom-block");return f?u.concat(f):u}function iE(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(lr([ic(t),Yd(t)-1],[Xd(t),To(t)+1],e)),t=t.next}return r}function kge(t){for(var e=[];t;)e.push(lr([ic(t),Yd(t)],[Xd(t),To(t)+1],Zg)),t=t.next;return e}function Cge(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[lr(e,r,oge)]:[];if(t.firstChild){var i=[];t.firstChild.type==="paragraph"?i=kge(t.firstChild.firstChild):t.firstChild.type==="list"&&(i=iE(t.firstChild,Zg)),n=Gn(Gn([],n),i)}return n}function Tge(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[sge,Ae(Ae({},r),{listStyle:!0})]}function xge(t,e){var r=t.listData,n=r.padding,i=r.task,a=Tge(t),o=[lr.apply(void 0,Gn([e,Kr(e,n)],a))];return i&&(o.push(lr(Kr(e,n),Kr(e,n+3),dge)),o.push(lr(Kr(e,n+1),Kr(e,n+2),eh))),o.concat(iE(t.firstChild,Zg))}var yk={heading:vge,strong:wv,emph:wv,strike:wv,link:gge,image:mge,code:yge,codeBlock:bge,blockQuote:Cge,item:xge,customBlock:wge},bk={thematicBreak:fge,table:lge,tableCell:uge,htmlInline:hge};function Sge(t,e,r,n){var i=t.type;return Ti(yk[i])?yk[i](t,e,r,n):bk[i]?[lr(e,r,bk[i])]:null}var Wu={};function Ege(t){var e=t.schema,r=t.toastMark;return new Kn({appendTransaction:function(n,i,a){var o=n[0],s=a.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(f){var p=f.nodes,b=f.removedNodeRange;if(p.length){l=l.concat(Rge(s,p));for(var C=0,T=p;C<T.length;C++)for(var M=T[C],N=M.walker(),B=N.next();B;){var U=B.node,X=B.entering;X&&(l=l.concat(Lge(U,r))),B=N.next()}}else if(b)for(var Z=s.doc.childCount-1,ce=b.line,le=ce[0],se=ce[1],ge=Math.min(le,Z),Oe=Math.min(se,Z),Ge=ge;Ge<=Oe;Ge+=1)Wu[Ge]=!0}),Age(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function Mge(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function Oge(t,e,r,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,f=a;f<=o;f+=1)delete Wu[f],u=Mge(e,f,i);u&&t.setBlockType(s,l,r,i)}function Age(t,e,r){var n=t.doc,i=e.nodes.paragraph,a=tE(n,n.childCount);r.forEach(function(o){var s=o.start,l=o.end,u=o.spec,f=o.lineBackground,p=Math.min(s[0],n.childCount)-1,b=Math.min(l[0],n.childCount)-1,C=n.child(p),T=n.child(b),M=a[p],N=a[b];if(M+=s[1]+Rl(C,s[1]-1),N+=l[1]+Rl(T,l[1]-1),u)if(f){var B={from:M,to:N,startIndex:p,endIndex:b};Oge(t,n,i,B,u.attrs)}else t.addMark(M,N,e.mark(u.type,u.attrs));else t.removeMark(M,N)}),Nge(t,a,i)}function Nge(t,e,r){Object.keys(Wu).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,t.doc.childCount-1),o=e[i],s=e[a]-1;i===a&&(s+=2),t.setBlockType(o,s,r)})}function Dge(t,e,r){var n=[];Wu={};for(var i=e[0]-1;i<r[0];i+=1){var a=t.child(i),o=a.attrs.codeEnd,s=a.attrs.codeStart;if(s&&o&&!dn(n,s)){n.push(s),o=Math.min(o,t.childCount);for(var l=s-1,u=r[0],f=l;f<u;f+=1)Wu[f]=!0}}}function Rge(t,e){var r=t.doc,n=e[0].sourcepos[0],i=kn(e).sourcepos,a=i[1],o=[n[0],n[1]],s=[a[0],a[1]+1],l=[];return Dge(r,n,a),l.push({start:o,end:s}),l}function Lge(t,e){var r=e.getLineTexts(),n=[ic(t),Yd(t)],i=[Xd(t),To(t)+1],a=Sge(t,n,i,r[i[0]-1]);return a??[]}var Ige=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Pge(t){var e=t.type;return xs(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":dn(Ige,e)?e:null}function _ge(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return Sme(t,function(n){var i=Pge(n);i&&(i==="bulletList"||i==="orderedList"?r&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[i]={active:!0})}),e}function Bge(t){var e=t.toastMark,r=t.eventEmitter;return new Kn({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,s=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(s))){var l=s.from,u=a.doc.resolve(l).start(),f=a.doc.content.findIndex(l).index+1,p=l-u;l===u&&(p+=1);var b=[f,p],C=e.findNodeAtPosition(b),T=_ge(C);r.emit("changeToolbarState",{cursorPos:b,mdNode:C,toolbarState:T}),r.emit("setFocusedNode",C)}}}}})}var Fge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(yr),Cr=(function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t})();function ri(t,e){return Mo(t,e-1)}function Mo(t,e){return t.child(e).textContent}var pu=/^\s*> ?/,qge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(pu,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema,u=zr(a),f=u.endFromOffset,p=u.endToOffset,b=u.endIndex,C=u.to,T=Mo(o,b),M=pu.test(T);if(M&&C>f&&a.empty){var N=!T.replace(pu,"").trim();if(N)s.deleteRange(f,p).split(s.mapping.map(p));else{var B=T.slice(C-f).trim(),U=un(l,r.createBlockQuoteText(B));Wg(s,p,B,U)}return i(s),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,i){var a=n.selection,o=n.doc,s=zr(a),l=s.startFromOffset,u=s.endToOffset,f=s.startIndex,p=s.endIndex,b=pu.test(Mo(o,f)),C=nd({state:n,startIndex:f,endIndex:p,from:l,createText:function(T){return r.createBlockQuoteText(T,b)}});return i(C.setSelection(kr(C,C.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e})(Cr),Ms=/(^\s*)([-*+] |[\d]+\. )/,ey=/(^\s*)([\d])+\.( \[[ xX]])? /,Fa=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,ad=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Hge=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Vge=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,zge=/(^\s*)([-*+])( \[[ xX]]) /;function ty(t){return ey.test(t)?"ordered":"bullet"}function ry(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function Em(t,e,r,n){for(var i=t.getLineTexts(),a=i.length,o=[],s=e;n?s<a:s>1;){s=n?s+1:s-1;var l=t.findFirstNodeAtLine(s),u=ry(l);if(u===r)o.push({line:s,depth:r,mdNode:l});else if(u<r)break}return o}function $ge(t){var e=t.toastMark,r=t.mdNode,n=t.line,i=ry(r),a=Em(e,n,i,!1).reverse(),o=Em(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:r}]).concat(o)}function Uge(t){if(!Ms.test(t))return"* "+t;var e=ty(t);return e==="bullet"&&ad.test(t)?t=t.replace(zge,"$1$2 "):e==="ordered"&&(t=t.replace(ey,"$1* ")),t}function jge(t,e){if(!Ms.test(t))return e+". "+t;var r=ty(t);if(r==="bullet"||r==="ordered"&&ad.test(t))t=t.replace(ad,"$1"+e+". ");else if(r==="ordered"){var n=Fa.exec(t)[3];Number(n)!==e&&(t=t.replace(ey,"$1"+e+". "))}return t}function aE(t,e,r,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),a=Math.max(u-1,a);var f=ri(t,u);return f=r==="bullet"?Uge(f):jge(f,l+1+n),{text:f,line:u}});return{changedResults:o,firstIndex:i,lastIndex:a}}function wk(t,e){var r=$ge(e);return aE(e.doc,r,t)}var Wge={bullet:function(t){return wk("bullet",t)},ordered:function(t){return wk("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,i=ri(r,n);return e.listData.task?i=i.replace(Vge,"$1$2"):xs(e)&&(i=i.replace(Ms,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},Gge={bullet:function(t){var e=t.doc,r=t.line,n=ri(e,r),i=[{text:"* "+n,line:r}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,i=t.startLine,a=ri(r,n),o=1,s=i,l=0,u=i-1;u>0;u-=1){var f=e.findFirstNodeAtLine(u),p=ri(r,u),b=p&&!!Nl(f,function(X){return xs(X)}),C=Fa.exec(ri(r,u));if(!C&&!b)break;if(!C&&b){l+=1;continue}var T=C,M=T[1],N=T[3];if(!M){o=Number(N),s=u;break}}var B=o+n-s-l,U=[{text:B+". "+a,line:n}];return{changedResults:U}},task:function(t){var e=t.doc,r=t.line,n=ri(e,r),i=[{text:"* [ ] "+n,line:r}];return{changedResults:i}}},Kge={bullet:function(t){var e=t.line,r=t.doc,n=ri(r,e),i=Hge.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,i=t.doc,a=ry(n),o=ri(i,r),s=Fa.exec(o),l=s[1],u=s[3],f=s[4],p=Number(u)+1,b=""+l+p+f,C=Em(e,r,a,!0),T=C.filter(function(M){var N=Fa.exec(ri(i,M.line));return N&&N[1].length===l.length&&!!Nl(M.mdNode,function(B){return LS(B)})});return Ae({listSyntax:b},aE(i,T,"ordered",p))}};function oE(t,e,r,n,i){for(var a=[],o=ri(t,r),s=Fa.exec(o);s;){var l=s[1],u=s[4],f=s[5],p=l.length;if(p===i)a.push(un(e,""+l+n+u+f)),n+=1,r+=1;else if(p>i){var b=oE(t,e,r,1,p);r=b.line,a=a.concat(b.nodes)}if(p<i||r>t.childCount)break;o=ri(t,r),s=Fa.exec(o)}return{nodes:a,line:r}}var kk=/(^\s{1,4})(.*)/;function Ck(t,e,r){return t<e||Ms.test(r)||pu.test(r)}function Tk(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function xk(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var i=4;r+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;r-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return kr(t,r,n)}var Jge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:Ur(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var i=this.context,a=i.view,o=i.toastMark,s=i.schema,l=a.state,u=l.tr,f=l.selection,p=l.doc,b=o.findFirstNodeAtLine(r),C=b;b&&!Tme(b)&&b.parent.type!=="document";)if(b=b.parent,LS(b)){C=b;break}C&&(r=C.sourcepos[0][0]);var T=Fa.exec(ri(p,r)),M=T[1],N=T[3],B=M.length,U=oE(p,s,r,Number(N),B),X=U.line,Z=U.nodes;n=Math.max(n,X-1);for(var ce=id(p,r-1).startOffset,le=r-1;le<=n-1;le+=1){var se=p.child(le),ge=se.nodeSize,Oe=se.content,Ge=u.mapping.map(ce),pt=Ge+Oe.size;u.replaceWith(Ge,pt,Z[le-r+1]),ce+=ge}var Ke=kr(u,f.from,f.to);a.dispatch(u.setSelection(Ke))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var o=i.schema,s=i.selection,l=i.doc,u=zr(s),f=u.from,p=u.to,b=u.startFromOffset,C=u.startIndex,T=u.endIndex;if(r&&Tk(l,o,s))return!1;var M=Mo(l,C);if(r&&Ck(f,p,M)||!r&&Ms.test(M)){var N=nd({state:i,from:b,startIndex:C,endIndex:T,createText:function(U){return"    "+U}}),B={type:"indent",from:f,to:p,lineLen:T-C};a(N.setSelection(xk(N,B))),Fa.test(M)&&n.reorderList(C+1,T+1)}else r&&a(i.tr.insert(p,un(o,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var o=i.selection,s=i.doc,l=i.schema,u=zr(o),f=u.from,p=u.to,b=u.startFromOffset,C=u.startIndex,T=u.endIndex;if(r&&Tk(s,l,o))return!1;var M=Mo(s,C);if(r&&Ck(f,p,M)||!r&&Ms.test(M)){var N=[],B=nd({state:i,from:b,startIndex:C,endIndex:T,createText:function(le){var se=kk.exec(le);return N.push(se?se[1].length:0),le.replace(kk,"$2")}}),U={type:"outdent",from:f,to:p,spaceLenList:N};a(B.setSelection(xk(B,U))),Fa.test(M)&&n.reorderList(C+1,T+1)}else if(r){var X=M.slice(0,p-b),Z=X.replace(/\s{1,4}$/,""),ce=p-(X.length-Z.length);a(i.tr.delete(ce,p))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,i){var a=r.context.view,o=zr(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return Kd(u,wS)(n,i,a)}},e.prototype.moveDown=function(){return function(r,n){var i=r.doc,a=r.tr,o=r.selection,s=r.schema,l=zr(o),u=l.startFromOffset,f=l.endToOffset,p=l.endIndex;if(p<i.content.childCount-1){var b=i.child(p+1),C=b.nodeSize,T=b.textContent;return a.delete(f,f+C).split(u).insert(a.mapping.map(u)-2,un(s,T)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var i=r.tr,a=r.doc,o=r.selection,s=r.schema,l=zr(o),u=l.startFromOffset,f=l.endToOffset,p=l.startIndex;if(p>0){var b=a.child(p-1),C=b.nodeSize,T=b.textContent;return i.delete(u-C,u).split(i.mapping.map(f)).insert(i.mapping.map(f),un(s,T)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e})(yr),Xge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e})(yr),Yge=/^#{1,6}\s/,Qge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:Ur.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,i){for(var a=n.replace(i,"").trim(),o="";r>0;)o+="#",r-=1;return o+" "+a},e.prototype.commands=function(){var r=this;return function(n){return function(i,a){var o=n.level,s=zr(i.selection),l=s.startFromOffset,u=s.endToOffset,f=s.startIndex,p=s.endIndex,b=nd({state:i,from:l,startIndex:f,endIndex:p,createText:function(C){var T=C.match(Yge),M=T?T[0]:"";return r.createHeadingText(o,C,M)}});return a(b.setSelection(kr(b,b.mapping.map(u)))),!0}}},e})(Cr),kv="```",Zge=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,o=r.tr,s=zr(i),l=s.startFromOffset,u=s.endToOffset,f=un(a,kv);return o.insert(l,f).split(l+kv.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),f),n(o.setSelection(kr(o,o.mapping.map(u)-(kv.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,i){var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,f=zr(a),p=f.startFromOffset,b=f.endToOffset,C=f.endIndex,T=f.from,M=f.to,N=Mo(s,C);if(T===M&&N.trim()){var B=N.match(/^\s+/),U=u.findFirstNodeAtLine(C+1);if(Cme(U)&&B){var X=B[0],Z=N.slice(M-p),ce=un(l,X+Z);return Wg(o,b,Z,ce),i(o),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e})(Cr),eye=/\||\s/g;function tye(t){return[od(t),od(t,!0)]}function rye(t,e){for(var r=[],n=0;n<e;n+=1)r.push(od(t));return r}function od(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function nye(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var iye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!a.empty)return!1;var u=zr(a),f=u.endFromOffset,p=u.endToOffset,b=u.endIndex,C=u.to,T=Mo(o,b),M=[b+1,C-f+1],N=r.context.toastMark.findNodeAtPosition(M),B=Nl(N,function(le){return dk(le)&&(le.parent.type==="tableDelimRow"||le.parent.parent.type==="tableBody")});if(B){var U=!T.replace(eye,"").trim(),X=B.parent,Z=X.parent.parent.columns.length,ce=od(Z);return U?s.deleteRange(f,p).split(s.mapping.map(p)):s.split(p).insert(s.mapping.map(p),un(l,ce)).setSelection(kr(s,s.mapping.map(p)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=zr(o),u=l.endFromOffset,f=l.endIndex,p=l.to,b=[f+1,p-u],C=n.context.toastMark.findNodeAtPosition(b),T=Nl(C,function(se){return dk(se)});if(T){var M=T.parent,N=nye(r),B=N.type,U=N.parentType,X=N.childType,Z=To(T);if(T[B])Z=To(T[B])-1;else{var ce=!M[B]&&M.parent.type===U?M.parent[B][X]:M[B];if(B==="next"){var le=ce?To(ce[X]):0;Z+=le+2}else B==="prev"&&(Z=ce?-4:0)}return a(s.setSelection(kr(s,u+Z))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=r,u=l.columnCount,f=l.rowCount,p=zr(a).endToOffset,b=tye(u),C=rye(u,f-1),T=Gn(Gn([],b),C);return T.forEach(function(M){o.split(o.mapping.map(p)).insert(o.mapping.map(p),un(s,M))}),i(o.setSelection(kr(o,p+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e})(Cr),aye="***",oye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,o=r.tr,s=zr(i),l=s.from,u=s.to,f=s.endToOffset,p=un(a,aye);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),p).split(o.mapping.map(u)).setSelection(kr(o,o.mapping.map(f))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e})(Cr);function sye(t,e){var r=t.type,n=t.sourcepos,i=n[0][0];return e<=i&&(r==="codeBlock"||r==="heading"||r.match("table"))}var lye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.odd,a=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),a&&(s+="|list-item-even"),["span",{class:Ur.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.schema,l=n.tr,u=r.context.toastMark,f=zr(a),p=f.to,b=f.startFromOffset,C=f.endFromOffset,T=f.endIndex,M=f.endToOffset,N=Mo(o,T),B=Ms.test(N);if(!B||a.from===b||!a.empty)return!1;var U=!N.replace(ad,"").trim();if(U)l.deleteRange(C,M).split(l.mapping.map(M));else{var X=ty(N),Z=u.findFirstNodeAtLine(T+1),ce=N.slice(p-C),le={toastMark:u,mdNode:Z,doc:o,line:T+1},se=Kge[X](le),ge=se.listSyntax,Oe=se.changedResults;if(Oe!=null&&Oe.length){l.split(p),Oe.unshift({text:ge+ce,line:T+1}),r.changeToListPerLine(l,Oe,{from:p,startLine:Oe[0].line,endLine:kn(Oe).line});var Ge=l.mapping.map(M)-ce.length;l.setSelection(kr(l,Ge))}else{var pt=un(s,ge+ce);Wg(l,M,ce,pt)}}return i(l),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(i,a){for(var o=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,f=zr(l),p=f.startIndex+1,b=f.endIndex+1,C=f.endToOffset,T=[],M=p;M<=b;M+=1){var N=u.findFirstNodeAtLine(M);if(N&&sye(N,M))break;if(T.indexOf(M)===-1){var B={toastMark:u,mdNode:N,doc:o,line:M,startLine:p},U=(xs(N)?Wge[r](B):Gge[r](B)).changedResults,X=n.changeToListPerLine(s,U,{from:id(o,U[0].line-1).startOffset,startLine:U[0].line,endLine:kn(U).line,indexDiff:1});C=Math.max(X,C),U&&(T=T.concat(U.map(function(Z){return Z.line})))}}return a(s.setSelection(kr(s,s.mapping.map(C)))),!0}}},e.prototype.changeToListPerLine=function(r,n,i){for(var a=i.from,o=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,f=0,p=function(T){var M=r.doc.child(T),N=M.nodeSize,B=M.content,U=r.mapping.map(a),X=U+B.size,Z=n.filter(function(ce){return ce.line-u===T})[0];Z&&(r.replaceWith(U,X,un(b.context.schema,Z.text)),f=Math.max(f,a+B.size)),a+=N},b=this,C=o-u;C<=s-u;C+=1)p(C);return f},e.prototype.toggleTask=function(){var r=this;return function(n,i){for(var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,f=zr(a),p=f.startIndex,b=f.endIndex,C=null,T=p;T<=b;T+=1){var M=u.findFirstNodeAtLine(T+1);if(xs(M)&&M.listData.task){var N=M.listData,B=N.checked,U=N.padding,X=B?" ":"x",Z=M.sourcepos[0],ce=id(s,Z[0]-1).startOffset;ce+=Z[1]+U,C=o.replaceWith(ce,ce+1,l.text(X))}}return C?(i(C),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e})(Cr);function th(t,e){return function(){return function(r,n){var i=r.tr,a=r.selection,o=Ti(t)?t:function(X){return t.test(X)},s=e.length,l=i.doc,u=eE(a),f=u[0],p=u[1],b=Math.max(f-s,1),C=Math.min(p+s,l.content.size-1),T=a.content(),M=T.content.textBetween(0,T.content.size,`
`),N=l.textBetween(b,f,`
`),B=l.textBetween(p,C,`
`);if(M=""+N+M+B,N&&B&&o(M))i.delete(C-s,C).delete(b,b+s);else{i.insertText(e,p).insertText(e,f);var U=a.empty?kr(i,f+s):kr(i,f+s,p+s);i.setSelection(U)}return n(i),!0}}}var uye=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,cye="**",fye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return th(uye,cye)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e})(Cr),dye=/^(~{2}).*([\s\S]*)\1$/m,hye="~~",pye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return th(dye,hye)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e})(Cr),vye=/^(\*|_).*([\s\S]*)\1$/m,mye="*",gye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return th(vye,mye)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e})(Cr),yye=/^(`).*([\s\S]*)\1$/m,bye="`",wye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.start,a=n.end,o=n.marked,s="code";return i&&(s+="|delimiter|start"),a&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:Ur.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return th(yye,bye)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e})(Cr),kye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:Ur.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(i,a){var o=i.selection,s=i.tr,l=i.schema,u=eE(o),f=u[0],p=u[1],b=n,C=b.linkText,T=b.altText,M=b.linkUrl,N=b.imageUrl,B=C,U=M,X="";return r==="image"&&(B=T,U=N,X="!"),B=ed(B),X+="["+B+"]("+U+")",a(s.replaceWith(f,p,un(l,X))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e})(Cr),Cye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),Tye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("delimiter")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),xye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("meta")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),Sye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("marked-text")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),Eye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("table-cell")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),Mye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("html")},0]}}},enumerable:!1,configurable:!0}),e})(Cr),Cv="$$",Oye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Ur("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=zr(a),u=l.startFromOffset,f=l.endToOffset;if(!(r!=null&&r.info))return!1;var p=""+Cv+r.info,b=un(o,p),C=un(o,Cv);return s.insert(u,b).split(u+p.length),s.split(s.mapping.map(f)).insert(s.mapping.map(f),C),i(s.setSelection(kr(s,s.mapping.map(f)-(Cv.length+2)))),!0}}},e})(Cr),Aye=/x|backspace/i,Nye=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function Dye(t){var e=t.schema,r=t.toastMark;return new Kn({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&Aye.test(i.key)){var f=zr(u),p=f.startIndex,b=f.startFromOffset,C=f.from,T=[p+1,C-b+1],M=r.findNodeAtPosition(T),N=Nl(M,function(pt){var Ke;return pt.type==="paragraph"&&((Ke=pt.parent)===null||Ke===void 0?void 0:Ke.type)==="item"});if(!((a=N==null?void 0:N.firstChild)===null||a===void 0)&&a.literal){var B=N.firstChild,U=B.literal.match(Nye);if(U){var X=B.sourcepos[0],Z=U[1],ce=U[2],le=U[3],se=Z.length+le.length,ge=id(s,X[0]-1).startOffset,Oe=X[1]+ge;if(ce){var Ge=se?se+1:0;l.replaceWith(Oe,Ge+Oe,e.text(ce)),n.dispatch(l)}else se||(l.insertText(" ",Oe),n.dispatch(l))}}}return!1}}}})}var Tv="cut",Sk=/\r\n|\n|\r/,Rye=(function(t){ft(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Ae(Ae({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(f){return i.toggleActive(!0,f)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(r,n){Kg(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=gt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=ca(a).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=JS(a);s&&(n.preventDefault(),Qg(r.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;r.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new ZS([new Fge,new Jge,new YS,new Xge,new Qge,new qge,new Zge,new Oye,new iye,new Eye,new oye,new lye,new fye,new pye,new gye,new wye,new kye,new Tye,new Cye,new Sye,new xye,new Mye])},e.prototype.createPlugins=function(){return Gn([Ege(this.context),Bge(this.context),Dye(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new Gd(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var i=r.view.state.applyTransaction(n).state;r.view.updateState(i),r.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return r.captureCopy(i)},cut:function(n,i){return r.captureCopy(i,Tv)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return r.eventEmitter.emit("keyup",r.editorType,i),!1}},nodeViews:{widget:XS}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var s=this.getChanged(a.content());return r.clipboardData?r.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Tv&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Tv)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Xr)){var o=r.docs[a],s=[i.from,i.to],l=s[0],u=s[1],f=Tf(o,l,u),p=f[0],b=f[1],C=n.getChanged(i.slice);p[0]===b[0]&&p[1]===b[1]&&C===""&&(C=`
`);var T=n.toastMark.editMarkdown(p,b,C);n.eventEmitter.emit("updatePreview",T),r.setMeta("editResult",T).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",i=0,a=r.content.size;return r.content.nodesBetween(i,a,function(o,s){o.isText?n+=o.text.slice(Math.max(i,s)-s,a-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=ts(i.doc,r,n),o=a[0],s=a[1];this.view.dispatch(i.setSelection(kr(i,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,i){var a,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,f=r.split(Sk),p=f.map(function(N){return rd(l,ms(N,l))}),b=new ot(We.from(p),1,1);if(this.focus(),n&&i){var C=ts(u,n,i),T=C[0],M=C[1];a=s.replaceRange(T,M,b)}else a=s.replaceSelection(b);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var i,a=this.view.state,o=a.tr,s=a.doc;if(r&&n){var l=ts(s,r,n),u=l[0],f=l[1];i=o.deleteRange(u,f)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;if(r&&n){var u=ts(a,r,n);s=u[0],l=u[1]}return a.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return Tf(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var i=r.split(Sk),a=this.view.state,o=a.tr,s=a.doc,l=a.schema,u=i.map(function(f){return rd(l,ms(f,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.doc,l=a.selection,u=i?ts(s,i,i)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=a.doc,u=ts(l,r,n),f=ms(i,s);this.view.dispatch(o.replaceWith(u[0],u[1],f))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,o=r||Tf(i,a.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return Qd(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e})(QS),Ek="_feEventKey";function Lye(t,e){var r=t[Ek],n;return r||(r=t[Ek]={}),n=r[e],n||(n=r[e]=[]),n}var sE=Lye,Iye=ja,sd=Jd,Pye=sE;function _ye(t,e,r){if(Iye(e)){sd(e.split(/\s+/g),function(n){Mk(t,n,r)});return}sd(e,function(n,i){Mk(t,i,n)})}function Mk(t,e,r){var n=Pye(t,e),i;r?(sd(n,function(a,o){return r===a.handler?(Ok(t,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(sd(n,function(a){Ok(t,e,a.wrappedHandler)}),n.splice(0,n.length))}function Ok(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var lE=_ye,Bye=ja,Mm=Jd,Fye=sE;function qye(t,e,r,n){if(Bye(e)){Mm(e.split(/\s+/g),function(i){Ak(t,i,r,n)});return}Mm(e,function(i,a){Ak(t,a,i,r)})}function Ak(t,e,r,n){function i(a){r.call(n||t,a||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),Hye(t,e,r,i)}function Hye(t,e,r,n){var i=Fye(t,e),a=!1;Mm(i,function(o){return o.handler===r?(a=!0,!1):!0}),a||i.push({handler:r,wrappedHandler:n})}var uE=qye;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Om=function(t,e){return Om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Om(t,e)};function xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Om(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var on=function(){return on=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},on.apply(this,arguments)};function Am(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nk={};function Vye(t){var e,r,n=Nk[t];if(n)return n;for(n=Nk[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function rh(t,e,r){var n,i,a,o,s,l="";for(typeof e!="string"&&(r=e,e=rh.defaultChars),typeof r>"u"&&(r=!0),s=Vye(e),n=0,i=t.length;n<i;n++){if(a=t.charCodeAt(n),r&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}rh.defaultChars=";/?:@&=+$,-_.!~*'()#";rh.componentChars="-_.!~*'()";var zye=rh,ny={},qa={},$ye="",Uye="",jye="",Wye="",Gye="",Kye="",Jye="",Xye="",Yye="",Qye="",Zye="",ebe="",tbe="",rbe="",nbe="",ibe="",abe="",obe="",sbe="",lbe="",ube="",cbe="",fbe="",dbe="",hbe="",pbe="",vbe="&",mbe="&",gbe="",ybe="",bbe="",wbe="",kbe="",Cbe="",Tbe="",xbe="",Sbe="",Ebe="",Mbe="",Obe="",Abe="",Nbe="",Dbe="",Rbe="",Lbe="",Ibe="",Pbe="",_be="",Bbe="",Fbe="",qbe="",Hbe="",Vbe="",zbe="",$be="",Ube="",jbe="",Wbe="",Gbe="",Kbe="",Jbe="",Xbe="'",Ybe="",Qbe="",Zbe="",ewe="",twe="",rwe="",nwe="",iwe="",awe="*",owe="",swe="",lwe="",uwe="",cwe="",fwe="",dwe="",hwe="",pwe="",vwe="",mwe="",gwe="",ywe="",bwe="",wwe="",kwe="",Cwe="",Twe="",xwe="",Swe="",Ewe="",Mwe="",Owe="",Awe="",Nwe="",Dwe="",Rwe="",Lwe="",Iwe="",Pwe="",_we="",Bwe="",Fwe="",qwe="",Hwe="",Vwe="",zwe="",$we="",Uwe="",jwe="",Wwe="",Gwe="",Kwe="",Jwe="",Xwe="",Ywe="",Qwe="",Zwe="",e0e="",t0e="",r0e="",n0e="",i0e="",a0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",d0e="",h0e="",p0e="",v0e="=",m0e="",g0e="",y0e="",b0e="",w0e="",k0e="",C0e="",T0e="",x0e="",S0e="",E0e="",M0e="",O0e="",A0e="",N0e="",D0e="",R0e="",L0e="",I0e="",P0e="",_0e="",B0e="",F0e="",q0e="",H0e="",V0e="",z0e="",$0e="",U0e="",j0e="",W0e="",G0e="",K0e="",J0e="",X0e="",Y0e="",Q0e="",Z0e="",eke="",tke="",rke="",nke="",ike="",ake="",oke="",ske="",lke="",uke="",cke="",fke="",dke="",hke="",pke="",vke="",mke="",gke="",yke="",bke="",wke="",kke="",Cke="",Tke="",xke="\\",Ske="",Eke="",Mke="",Oke="",Ake="",Nke="",Dke="",Rke="",Lke="",Ike="",Pke="",_ke="",Bke="",Fke="",qke="",Hke="",Vke="",zke="",$ke="",Uke="",jke="",Wke="",Gke="",Kke="",Jke="",Xke="",Yke="",Qke="",Zke="",e1e="",t1e="",r1e="",n1e="",i1e="",a1e="",o1e="",s1e="",l1e="",u1e="",c1e="",f1e="",d1e="",h1e="",p1e="",v1e="",m1e="",g1e="",y1e="",b1e="",w1e="",k1e="",C1e="",T1e="",x1e="",S1e="",E1e="",M1e="",O1e="",A1e="",N1e="",D1e="",R1e="",L1e="",I1e="",P1e="",_1e="",B1e="",F1e="",q1e="",H1e="",V1e="",z1e="",$1e=":",U1e="",j1e="",W1e="",G1e="",K1e=",",J1e="@",X1e="",Y1e="",Q1e="",Z1e="",eCe="",tCe="",rCe="",nCe="",iCe="",aCe="",oCe="",sCe="",lCe="",uCe="",cCe="",fCe="",dCe="",hCe="",pCe="",vCe="",mCe="",gCe="",yCe="",bCe="",wCe="",kCe="",CCe="",TCe="",xCe="",SCe="",ECe="",MCe="",OCe="",ACe="",NCe="",DCe="",RCe="",LCe="",ICe="",PCe="",_Ce="",BCe="",FCe="",qCe="",HCe="",VCe="",zCe="",$Ce="",UCe="",jCe="",WCe="",GCe="",KCe="",JCe="",XCe="",YCe="",QCe="",ZCe="",eTe="",tTe="",rTe="",nTe="",iTe="",aTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",dTe="",hTe="",pTe="",vTe="",mTe="",gTe="",yTe="",bTe="",wTe="",kTe="",CTe="",TTe="",xTe="",STe="",ETe="",MTe="",OTe="",ATe="",NTe="",DTe="",RTe="",LTe="",ITe="`",PTe="",_Te="",BTe="",FTe="",qTe="",HTe="",VTe="",zTe="",$Te="",UTe="",jTe="",WTe="",GTe="",KTe="",JTe="",XTe="",YTe="",QTe="",ZTe="$",exe="",txe="",rxe="",nxe="",ixe="",axe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",dxe="",hxe="",pxe="",vxe="",mxe="",gxe="",yxe="",bxe="",wxe="",kxe="",Cxe="",Txe="",xxe="",Sxe="",Exe="",Mxe="",Oxe="",Axe="",Nxe="",Dxe="",Rxe="",Lxe="",Ixe="",Pxe="",_xe="",Bxe="",Fxe="",qxe="",Hxe="",Vxe="",zxe="",$xe="",Uxe="",jxe="",Wxe="",Gxe="",Kxe="",Jxe="",Xxe="",Yxe="",Qxe="",Zxe="",eSe="",tSe="",rSe="",nSe="",iSe="",aSe="",oSe="",sSe="",lSe="",uSe="",cSe="",fSe="",dSe="",hSe="",pSe="",vSe="",mSe="",gSe="",ySe="",bSe="",wSe="",kSe="",CSe="",TSe="",xSe="",SSe="",ESe="",MSe="",OSe="",ASe="",NSe="",DSe="",RSe="",LSe="",ISe="",PSe="",_Se="",BSe="",FSe="",qSe="",HSe="",VSe="",zSe="",$Se="",USe="",jSe="",WSe="",GSe="",KSe="",JSe="",XSe="",YSe="",QSe="",ZSe="",eEe="",tEe="",rEe="",nEe="",iEe="",aEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",dEe="",hEe="",pEe="",vEe="=",mEe="",gEe="",yEe="",bEe="",wEe="",kEe="",CEe="",TEe="",xEe="",SEe="",EEe="",MEe="",OEe="",AEe="",NEe="",DEe="",REe="",LEe="",IEe="",PEe="",_Ee="!",BEe="",FEe="",qEe="",HEe="",VEe="",zEe="",$Ee="",UEe="",jEe="",WEe="",GEe="",KEe="",JEe="",XEe="",YEe="",QEe="",ZEe="",eMe="fj",tMe="",rMe="",nMe="",iMe="",aMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",dMe="",hMe="",pMe="",vMe="",mMe="",gMe="",yMe="",bMe="",wMe="",kMe="",CMe="",TMe="",xMe="",SMe="",EMe="",MMe="",OMe="",AMe="",NMe="",DMe="",RMe="",LMe="",IMe="",PMe="",_Me="",BMe="",FMe="",qMe="",HMe="",VMe="",zMe="",$Me="",UMe="",jMe="",WMe="",GMe="",KMe="",JMe="",XMe="",YMe="",QMe="",ZMe="",eOe="",tOe="",rOe="",nOe="",iOe="",aOe="",oOe="",sOe="",lOe="",uOe="",cOe="",fOe="",dOe="",hOe="",pOe="",vOe="",mOe="",gOe="",yOe="",bOe="",wOe="",kOe="",COe="",TOe="",xOe="",SOe="",EOe="",MOe="",OOe="`",AOe="",NOe="",DOe="",ROe="",LOe="",IOe="",POe="",_Oe="",BOe="",FOe="",qOe="",HOe="",VOe="",zOe="",$Oe=">",UOe=">",jOe="",WOe="",GOe="",KOe="",JOe="",XOe="",YOe="",QOe="",ZOe="",eAe="",tAe="",rAe="",nAe="",iAe="",aAe="",oAe="",sAe="",lAe="",uAe="",cAe="",fAe="",dAe="",hAe="",pAe="^",vAe="",mAe="",gAe="",yAe="",bAe="",wAe="",kAe="",CAe="",TAe="",xAe="",SAe="",EAe="",MAe="",OAe="",AAe="",NAe="",DAe="",RAe="",LAe="",IAe="",PAe="",_Ae="",BAe="",FAe="",qAe="",HAe="",VAe="",zAe="",$Ae="",UAe="",jAe="",WAe="",GAe="",KAe="",JAe="",XAe="",YAe="",QAe="",ZAe="",eNe="",tNe="",rNe="",nNe="",iNe="",aNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",dNe="",hNe="",pNe="",vNe="",mNe="",gNe="",yNe="",bNe="",wNe="",kNe="",CNe="",TNe="",xNe="",SNe="",ENe="",MNe="",ONe="",ANe="",NNe="",DNe="",RNe="",LNe="",INe="",PNe="",_Ne="",BNe="",FNe="",qNe="",HNe="",VNe="",zNe="",$Ne="",UNe="",jNe="",WNe="",GNe="",KNe="",JNe="",XNe="",YNe="",QNe="",ZNe="",eDe="",tDe="",rDe="",nDe="",iDe="",aDe="",oDe="",sDe="",lDe="",uDe="",cDe="",fDe="",dDe="",hDe="",pDe="",vDe="",mDe="",gDe="",yDe="",bDe="",wDe="",kDe="",CDe="",TDe="",xDe="",SDe="",EDe="",MDe="",ODe="",ADe="",NDe="",DDe="",RDe="",LDe="",IDe="",PDe="",_De="",BDe="",FDe="",qDe="",HDe="",VDe="",zDe="",$De="",UDe="",jDe="",WDe="",GDe="",KDe="",JDe="",XDe="",YDe="",QDe="",ZDe="",eRe="",tRe="",rRe="",nRe="",iRe="",aRe="",oRe="",sRe="",lRe="",uRe="",cRe="",fRe="",dRe="",hRe="",pRe="",vRe="",mRe="",gRe="",yRe="",bRe="",wRe="",kRe="",CRe="{",TRe="[",xRe="",SRe="",ERe="",MRe="",ORe="",ARe="",NRe="",DRe="",RRe="{",LRe="",IRe="",PRe="",_Re="",BRe="",FRe="",qRe="",HRe="",VRe="",zRe="",$Re="",URe="",jRe="",WRe="",GRe="",KRe="",JRe="",XRe="",YRe="",QRe="",ZRe="",eLe="",tLe="",rLe="",nLe="",iLe="",aLe="",oLe="",sLe="",lLe="",uLe="",cLe="",fLe="",dLe="",hLe="",pLe="",vLe="",mLe="",gLe="",yLe="",bLe="",wLe="",kLe="",CLe="",TLe="",xLe="",SLe="",ELe="",MLe="",OLe="",ALe="",NLe="",DLe="",RLe="",LLe="",ILe="",PLe="",_Le="",BLe="",FLe="",qLe="",HLe="",VLe="",zLe="",$Le="",ULe="",jLe="",WLe="",GLe="",KLe="",JLe="",XLe="",YLe="",QLe="",ZLe="",eIe="",tIe="",rIe="",nIe="",iIe="",aIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",dIe="",hIe="",pIe="",vIe="",mIe="",gIe="",yIe="",bIe="",wIe="",kIe="",CIe="",TIe="",xIe="",SIe="",EIe="",MIe="",OIe="",AIe="",NIe="",DIe="",RIe="",LIe="",IIe="",PIe="",_Ie="",BIe="",FIe="",qIe="",HIe="",VIe="",zIe="",$Ie="",UIe="",jIe="",WIe="",GIe="_",KIe="",JIe="",XIe="",YIe="",QIe="",ZIe="(",ePe="",tPe="",rPe="",nPe="",iPe="",aPe="",oPe="",sPe="",lPe="",uPe="",cPe="",fPe="",dPe="",hPe="",pPe="",vPe="[",mPe="",gPe="",yPe="",bPe="",wPe="",kPe="",CPe="<",TPe="<",xPe="",SPe="",EPe="",MPe="",OPe="",APe="",NPe="",DPe="",RPe="",LPe="",IPe="",PPe="",_Pe="",BPe="",FPe="",qPe="",HPe="",VPe="",zPe="",$Pe="",UPe="",jPe="",WPe="",GPe="",KPe="",JPe="",XPe="",YPe="",QPe="",ZPe="",e_e="",t_e="",r_e="",n_e="",i_e="",a_e="",o_e="*",s_e="",l_e="",u_e="",c_e="",f_e="",d_e="",h_e="",p_e="",v_e="",m_e="",g_e="",y_e="",b_e="",w_e="",k_e="",C_e="",T_e="",x_e="",S_e="",E_e="",M_e="",O_e="",A_e="",N_e="",D_e="",R_e="",L_e="",I_e="",P_e="",__e="",B_e="",F_e="",q_e="",H_e="",V_e="",z_e="",$_e="",U_e="",j_e="",W_e="",G_e="",K_e="",J_e="",X_e="",Y_e="",Q_e="",Z_e="",eBe="",tBe="",rBe="",nBe="",iBe="",aBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",dBe="",hBe="",pBe="",vBe="",mBe=`
`,gBe="",yBe="",bBe="",wBe="",kBe="",CBe="",TBe="",xBe="",SBe="",EBe="",MBe="",OBe="",ABe="",NBe="",DBe="",RBe="",LBe="",IBe="",PBe="",_Be="",BBe="",FBe="",qBe="",HBe="",VBe="",zBe="",$Be="",UBe="",jBe="",WBe="",GBe="",KBe="",JBe="",XBe="",YBe="",QBe="",ZBe="",eFe="",tFe="",rFe="",nFe="",iFe="",aFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",dFe="",hFe="",pFe="",vFe="",mFe="",gFe="",yFe="",bFe="",wFe="",kFe="",CFe="",TFe="",xFe="",SFe="",EFe="",MFe="",OFe="",AFe="",NFe="",DFe="",RFe="",LFe="",IFe="",PFe="",_Fe="",BFe="",FFe="",qFe="",HFe="",VFe="",zFe="",$Fe="",UFe="",jFe="",WFe="",GFe="",KFe="",JFe="",XFe="",YFe="",QFe="",ZFe="",eqe="",tqe="",rqe="",nqe="",iqe="",aqe="",oqe="",sqe="",lqe="",uqe="",cqe="",fqe="",dqe="",hqe="",pqe="",vqe="",mqe="",gqe="",yqe="",bqe="",wqe="",kqe="",Cqe="",Tqe="",xqe="",Sqe="",Eqe="",Mqe="",Oqe="",Aqe="",Nqe="",Dqe="",Rqe="",Lqe="",Iqe="",Pqe="",_qe="",Bqe="",Fqe="",qqe="",Hqe="",Vqe="",zqe="",$qe="",Uqe="",jqe="",Wqe="",Gqe="",Kqe="",Jqe="",Xqe="",Yqe="",Qqe="",Zqe="",eHe="",tHe="",rHe="",nHe="",iHe="",aHe="",oHe="",sHe="",lHe="",uHe="",cHe="",fHe="",dHe="",hHe="",pHe="",vHe="",mHe="",gHe="",yHe="",bHe="",wHe="",kHe="",CHe="",THe="",xHe="",SHe="#",EHe="",MHe="",OHe="",AHe="",NHe="",DHe="",RHe="",LHe="",IHe=">",PHe="",_He="",BHe="",FHe="",qHe="<",HHe="",VHe="",zHe="",$He="",UHe="",jHe="",WHe="",GHe="",KHe="",JHe="",XHe="",YHe="",QHe="",ZHe="",e2e="",t2e="",r2e="",n2e="",i2e="",a2e="",o2e="",s2e="",l2e="",u2e="",c2e="",f2e="",d2e="",h2e="",p2e="",v2e="",m2e="",g2e="",y2e="",b2e="",w2e="",k2e="",C2e="",T2e="",x2e="",S2e="",E2e="",M2e="",O2e="",A2e="",N2e="",D2e="",R2e="",L2e="",I2e="",P2e="",_2e="",B2e="",F2e="",q2e="",H2e="",V2e="",z2e="",$2e="",U2e="",j2e="",W2e="",G2e="",K2e="",J2e="",X2e="",Y2e="",Q2e="",Z2e="",eVe="",tVe="",rVe="",nVe="",iVe="",aVe="",oVe="",sVe="",lVe="",uVe="",cVe="",fVe="",dVe="",hVe="",pVe="",vVe="",mVe="",gVe="",yVe="",bVe="",wVe="",kVe="",CVe="",TVe="",xVe="",SVe="",EVe="%",MVe=".",OVe="",AVe="",NVe="",DVe="",RVe="",LVe="",IVe="",PVe="",_Ve="",BVe="",FVe="",qVe="",HVe="",VVe="",zVe="",$Ve="",UVe="",jVe="",WVe="",GVe="",KVe="+",JVe="",XVe="",YVe="",QVe="",ZVe="",eze="",tze="",rze="",nze="",ize="",aze="",oze="",sze="",lze="",uze="",cze="",fze="",dze="",hze="",pze="",vze="",mze="",gze="",yze="",bze="",wze="",kze="",Cze="",Tze="",xze="",Sze="",Eze="",Mze="",Oze="",Aze="",Nze="",Dze="",Rze="",Lze="",Ize="",Pze="",_ze="",Bze="",Fze="",qze="",Hze="",Vze="",zze="",$ze="",Uze="",jze="",Wze="",Gze="",Kze="",Jze="",Xze="",Yze="",Qze="",Zze="",e$e="",t$e="",r$e="",n$e="",i$e="?",a$e="",o$e='"',s$e='"',l$e="",u$e="",c$e="",f$e="",d$e="",h$e="",p$e="",v$e="",m$e="",g$e="",y$e="",b$e="",w$e="",k$e="",C$e="",T$e="",x$e="",S$e="",E$e="",M$e="",O$e="",A$e="",N$e="",D$e="",R$e="",L$e="",I$e="",P$e="",_$e="",B$e="",F$e="",q$e="",H$e="",V$e="",z$e="",$$e="}",U$e="]",j$e="",W$e="",G$e="",K$e="",J$e="",X$e="",Y$e="",Q$e="",Z$e="}",eUe="",tUe="",rUe="",nUe="",iUe="",aUe="",oUe="",sUe="",lUe="",uUe="",cUe="",fUe="",dUe="",hUe="",pUe="",vUe="",mUe="",gUe="",yUe="",bUe="",wUe="",kUe="",CUe="",TUe="",xUe="",SUe="",EUe="",MUe="",OUe="",AUe="",NUe="",DUe="",RUe="",LUe="",IUe="",PUe="",_Ue="",BUe="",FUe="",qUe="",HUe="",VUe="",zUe="",$Ue="",UUe="",jUe="",WUe="",GUe="",KUe="",JUe="",XUe="",YUe="",QUe="",ZUe="",e3e="",t3e="",r3e="",n3e="",i3e="",a3e="",o3e="",s3e="",l3e="",u3e="",c3e="",f3e="",d3e="",h3e="",p3e="",v3e="",m3e="",g3e="",y3e="",b3e="",w3e="",k3e="",C3e="",T3e="",x3e=")",S3e="",E3e="",M3e="",O3e="",A3e="",N3e="",D3e="",R3e="",L3e="",I3e="]",P3e="",_3e="",B3e="",F3e="",q3e="",H3e="",V3e="",z3e="",$3e="",U3e="",j3e="",W3e="",G3e="",K3e="",J3e="",X3e="",Y3e="",Q3e="",Z3e="",eje="",tje="",rje="",nje="",ije="",aje="",oje="",sje="",lje="",uje="",cje="",fje="",dje="",hje="",pje="",vje="",mje="",gje="",yje="",bje="",wje="",kje="",Cje=";",Tje="",xje="",Sje="",Eje="",Mje="",Oje="",Aje="",Nje="",Dje="",Rje="",Lje="",Ije="",Pje="",_je="",Bje="",Fje="",qje="",Hje="",Vje="",zje="",$je="",Uje="",jje="",Wje="",Gje="",Kje="",Jje="",Xje="",Yje="",Qje="",Zje="",eWe="",tWe="",rWe="",nWe="",iWe="",aWe="",oWe="",sWe="",lWe="",uWe="",cWe="",fWe="",dWe="",hWe="",pWe="",vWe="",mWe="",gWe="/",yWe="",bWe="",wWe="",kWe="",CWe="",TWe="",xWe="",SWe="",EWe="",MWe="",OWe="",AWe="",NWe="",DWe="",RWe="",LWe="",IWe="",PWe="",_We="",BWe="",FWe="",qWe="",HWe="",VWe="",zWe="",$We="",UWe="",jWe="",WWe="",GWe="",KWe="",JWe="",XWe="",YWe="",QWe="",ZWe="",e4e="",t4e="",r4e="",n4e="",i4e="",a4e="",o4e="",s4e="",l4e="",u4e="",c4e="",f4e="",d4e="",h4e="",p4e="",v4e="",m4e="",g4e="",y4e="",b4e="",w4e="",k4e="",C4e="",T4e="",x4e="",S4e="",E4e="",M4e="",O4e="",A4e="",N4e="",D4e="",R4e="",L4e="",I4e="",P4e="",_4e="",B4e="",F4e="",q4e="",H4e="",V4e="",z4e="",$4e="",U4e="",j4e="",W4e="",G4e="",K4e="",J4e="",X4e="",Y4e="",Q4e="",Z4e="",e5e="",t5e="",r5e="",n5e="",i5e="",a5e="",o5e="",s5e="",l5e="",u5e="",c5e="",f5e="",d5e="",h5e="",p5e="",v5e="",m5e="",g5e="",y5e="",b5e="",w5e="",k5e="",C5e="	",T5e="",x5e="",S5e="",E5e="",M5e="",O5e="",A5e="",N5e="",D5e="",R5e="",L5e="",I5e="",P5e="",_5e="",B5e="",F5e="",q5e="",H5e="",V5e="",z5e="",$5e="",U5e="",j5e="",W5e="",G5e="",K5e="",J5e="",X5e="",Y5e="",Q5e="",Z5e="",eGe="",tGe="",rGe="",nGe="",iGe="",aGe="",oGe="",sGe="",lGe="",uGe="",cGe="",fGe="",dGe="",hGe="",pGe="",vGe="",mGe="",gGe="",yGe="",bGe="",wGe="",kGe="",CGe="",TGe="",xGe="",SGe="",EGe="",MGe="",OGe="",AGe="",NGe="",DGe="",RGe="",LGe="",IGe="",PGe="",_Ge="",BGe="",FGe="",qGe="",HGe="",VGe="",zGe="",$Ge="",UGe="",jGe="",WGe="",GGe="",KGe="",JGe="",XGe="",YGe="",QGe="",ZGe="",e6e="",t6e="",r6e="",n6e="",i6e="",a6e="",o6e="",s6e="",l6e="",u6e="",c6e="",f6e="",d6e="",h6e="",p6e="",v6e="",m6e="",g6e="",y6e="",b6e="",w6e="",k6e="",C6e="",T6e="",x6e="",S6e="",E6e="_",M6e="",O6e="",A6e="",N6e="",D6e="",R6e="",L6e="",I6e="",P6e="",_6e="",B6e="",F6e="",q6e="",H6e="",V6e="",z6e="",$6e="",U6e="",j6e="",W6e="",G6e="",K6e="",J6e="",X6e="",Y6e="",Q6e="",Z6e="",e8e="",t8e="",r8e="",n8e="",i8e="",a8e="",o8e="",s8e="",l8e="",u8e="",c8e="",f8e="",d8e="",h8e="",p8e="",v8e="",m8e="",g8e="",y8e="",b8e="",w8e="",k8e="",C8e="",T8e="",x8e="",S8e="",E8e="",M8e="",O8e="",A8e="",N8e="",D8e="",R8e="",L8e="",I8e="",P8e="",_8e="",B8e="",F8e="",q8e="",H8e="",V8e="",z8e="",$8e="",U8e="",j8e="",W8e="",G8e="",K8e="",J8e="",X8e="",Y8e="",Q8e="",Z8e="",eKe="|",tKe="",rKe="|",nKe="",iKe="",aKe="|",oKe="",sKe="",lKe="",uKe="",cKe="",fKe="",dKe="",hKe="",pKe="",vKe="",mKe="",gKe="",yKe="",bKe="",wKe="",kKe="",CKe="",TKe="",xKe="",SKe="",EKe="",MKe="",OKe="",AKe="",NKe="",DKe="",RKe="",LKe="",IKe="",PKe="",_Ke="",BKe="",FKe="",qKe="",HKe="",VKe="",zKe="",$Ke="",UKe="",jKe="",WKe="",GKe="",KKe="",JKe="",XKe="",YKe="",QKe="",ZKe="",e9e="",t9e="",r9e="",n9e="",i9e="",a9e="",o9e="",s9e="",l9e="",u9e="",c9e="",f9e="",d9e="",h9e="",p9e="",v9e="",m9e="",g9e="",y9e="",b9e="",w9e="",k9e="",C9e="",T9e="",x9e="",S9e="",E9e="",M9e="",O9e="",A9e="",N9e="",D9e="",R9e="",L9e="",I9e="",P9e="",_9e="",B9e="",F9e="",q9e="",H9e="",V9e="",z9e="",$9e="",U9e="",j9e="",W9e="",G9e="",K9e="",J9e="",X9e="",Y9e="",Q9e="",Z9e="",eJe="",tJe="",rJe="",nJe="",iJe="",aJe="",cE={Aacute:$ye,aacute:Uye,Abreve:jye,abreve:Wye,ac:Gye,acd:Kye,acE:Jye,Acirc:Xye,acirc:Yye,acute:Qye,Acy:Zye,acy:ebe,AElig:tbe,aelig:rbe,af:nbe,Afr:ibe,afr:abe,Agrave:obe,agrave:sbe,alefsym:lbe,aleph:ube,Alpha:cbe,alpha:fbe,Amacr:dbe,amacr:hbe,amalg:pbe,amp:vbe,AMP:mbe,andand:gbe,And:ybe,and:bbe,andd:wbe,andslope:kbe,andv:Cbe,ang:Tbe,ange:xbe,angle:Sbe,angmsdaa:Ebe,angmsdab:Mbe,angmsdac:Obe,angmsdad:Abe,angmsdae:Nbe,angmsdaf:Dbe,angmsdag:Rbe,angmsdah:Lbe,angmsd:Ibe,angrt:Pbe,angrtvb:_be,angrtvbd:Bbe,angsph:Fbe,angst:qbe,angzarr:Hbe,Aogon:Vbe,aogon:zbe,Aopf:$be,aopf:Ube,apacir:jbe,ap:Wbe,apE:Gbe,ape:Kbe,apid:Jbe,apos:Xbe,ApplyFunction:Ybe,approx:Qbe,approxeq:Zbe,Aring:ewe,aring:twe,Ascr:rwe,ascr:nwe,Assign:iwe,ast:awe,asymp:owe,asympeq:swe,Atilde:lwe,atilde:uwe,Auml:cwe,auml:fwe,awconint:dwe,awint:hwe,backcong:pwe,backepsilon:vwe,backprime:mwe,backsim:gwe,backsimeq:ywe,Backslash:bwe,Barv:wwe,barvee:kwe,barwed:Cwe,Barwed:Twe,barwedge:xwe,bbrk:Swe,bbrktbrk:Ewe,bcong:Mwe,Bcy:Owe,bcy:Awe,bdquo:Nwe,becaus:Dwe,because:Rwe,Because:Lwe,bemptyv:Iwe,bepsi:Pwe,bernou:_we,Bernoullis:Bwe,Beta:Fwe,beta:qwe,beth:Hwe,between:Vwe,Bfr:zwe,bfr:$we,bigcap:Uwe,bigcirc:jwe,bigcup:Wwe,bigodot:Gwe,bigoplus:Kwe,bigotimes:Jwe,bigsqcup:Xwe,bigstar:Ywe,bigtriangledown:Qwe,bigtriangleup:Zwe,biguplus:e0e,bigvee:t0e,bigwedge:r0e,bkarow:n0e,blacklozenge:i0e,blacksquare:a0e,blacktriangle:o0e,blacktriangledown:s0e,blacktriangleleft:l0e,blacktriangleright:u0e,blank:c0e,blk12:f0e,blk14:d0e,blk34:h0e,block:p0e,bne:v0e,bnequiv:m0e,bNot:g0e,bnot:y0e,Bopf:b0e,bopf:w0e,bot:k0e,bottom:C0e,bowtie:T0e,boxbox:x0e,boxdl:S0e,boxdL:E0e,boxDl:M0e,boxDL:O0e,boxdr:A0e,boxdR:N0e,boxDr:D0e,boxDR:R0e,boxh:L0e,boxH:I0e,boxhd:P0e,boxHd:_0e,boxhD:B0e,boxHD:F0e,boxhu:q0e,boxHu:H0e,boxhU:V0e,boxHU:z0e,boxminus:$0e,boxplus:U0e,boxtimes:j0e,boxul:W0e,boxuL:G0e,boxUl:K0e,boxUL:J0e,boxur:X0e,boxuR:Y0e,boxUr:Q0e,boxUR:Z0e,boxv:eke,boxV:tke,boxvh:rke,boxvH:nke,boxVh:ike,boxVH:ake,boxvl:oke,boxvL:ske,boxVl:lke,boxVL:uke,boxvr:cke,boxvR:fke,boxVr:dke,boxVR:hke,bprime:pke,breve:vke,Breve:mke,brvbar:gke,bscr:yke,Bscr:bke,bsemi:wke,bsim:kke,bsime:Cke,bsolb:Tke,bsol:xke,bsolhsub:Ske,bull:Eke,bullet:Mke,bump:Oke,bumpE:Ake,bumpe:Nke,Bumpeq:Dke,bumpeq:Rke,Cacute:Lke,cacute:Ike,capand:Pke,capbrcup:_ke,capcap:Bke,cap:Fke,Cap:qke,capcup:Hke,capdot:Vke,CapitalDifferentialD:zke,caps:$ke,caret:Uke,caron:jke,Cayleys:Wke,ccaps:Gke,Ccaron:Kke,ccaron:Jke,Ccedil:Xke,ccedil:Yke,Ccirc:Qke,ccirc:Zke,Cconint:e1e,ccups:t1e,ccupssm:r1e,Cdot:n1e,cdot:i1e,cedil:a1e,Cedilla:o1e,cemptyv:s1e,cent:l1e,centerdot:u1e,CenterDot:c1e,cfr:f1e,Cfr:d1e,CHcy:h1e,chcy:p1e,check:v1e,checkmark:m1e,Chi:g1e,chi:y1e,circ:b1e,circeq:w1e,circlearrowleft:k1e,circlearrowright:C1e,circledast:T1e,circledcirc:x1e,circleddash:S1e,CircleDot:E1e,circledR:M1e,circledS:O1e,CircleMinus:A1e,CirclePlus:N1e,CircleTimes:D1e,cir:R1e,cirE:L1e,cire:I1e,cirfnint:P1e,cirmid:_1e,cirscir:B1e,ClockwiseContourIntegral:F1e,CloseCurlyDoubleQuote:q1e,CloseCurlyQuote:H1e,clubs:V1e,clubsuit:z1e,colon:$1e,Colon:U1e,Colone:j1e,colone:W1e,coloneq:G1e,comma:K1e,commat:J1e,comp:X1e,compfn:Y1e,complement:Q1e,complexes:Z1e,cong:eCe,congdot:tCe,Congruent:rCe,conint:nCe,Conint:iCe,ContourIntegral:aCe,copf:oCe,Copf:sCe,coprod:lCe,Coproduct:uCe,copy:cCe,COPY:fCe,copysr:dCe,CounterClockwiseContourIntegral:hCe,crarr:pCe,cross:vCe,Cross:mCe,Cscr:gCe,cscr:yCe,csub:bCe,csube:wCe,csup:kCe,csupe:CCe,ctdot:TCe,cudarrl:xCe,cudarrr:SCe,cuepr:ECe,cuesc:MCe,cularr:OCe,cularrp:ACe,cupbrcap:NCe,cupcap:DCe,CupCap:RCe,cup:LCe,Cup:ICe,cupcup:PCe,cupdot:_Ce,cupor:BCe,cups:FCe,curarr:qCe,curarrm:HCe,curlyeqprec:VCe,curlyeqsucc:zCe,curlyvee:$Ce,curlywedge:UCe,curren:jCe,curvearrowleft:WCe,curvearrowright:GCe,cuvee:KCe,cuwed:JCe,cwconint:XCe,cwint:YCe,cylcty:QCe,dagger:ZCe,Dagger:eTe,daleth:tTe,darr:rTe,Darr:nTe,dArr:iTe,dash:aTe,Dashv:oTe,dashv:sTe,dbkarow:lTe,dblac:uTe,Dcaron:cTe,dcaron:fTe,Dcy:dTe,dcy:hTe,ddagger:pTe,ddarr:vTe,DD:mTe,dd:gTe,DDotrahd:yTe,ddotseq:bTe,deg:wTe,Del:kTe,Delta:CTe,delta:TTe,demptyv:xTe,dfisht:STe,Dfr:ETe,dfr:MTe,dHar:OTe,dharl:ATe,dharr:NTe,DiacriticalAcute:DTe,DiacriticalDot:RTe,DiacriticalDoubleAcute:LTe,DiacriticalGrave:ITe,DiacriticalTilde:PTe,diam:_Te,diamond:BTe,Diamond:FTe,diamondsuit:qTe,diams:HTe,die:VTe,DifferentialD:zTe,digamma:$Te,disin:UTe,div:jTe,divide:WTe,divideontimes:GTe,divonx:KTe,DJcy:JTe,djcy:XTe,dlcorn:YTe,dlcrop:QTe,dollar:ZTe,Dopf:exe,dopf:txe,Dot:rxe,dot:nxe,DotDot:ixe,doteq:axe,doteqdot:oxe,DotEqual:sxe,dotminus:lxe,dotplus:uxe,dotsquare:cxe,doublebarwedge:fxe,DoubleContourIntegral:dxe,DoubleDot:hxe,DoubleDownArrow:pxe,DoubleLeftArrow:vxe,DoubleLeftRightArrow:mxe,DoubleLeftTee:gxe,DoubleLongLeftArrow:yxe,DoubleLongLeftRightArrow:bxe,DoubleLongRightArrow:wxe,DoubleRightArrow:kxe,DoubleRightTee:Cxe,DoubleUpArrow:Txe,DoubleUpDownArrow:xxe,DoubleVerticalBar:Sxe,DownArrowBar:Exe,downarrow:Mxe,DownArrow:Oxe,Downarrow:Axe,DownArrowUpArrow:Nxe,DownBreve:Dxe,downdownarrows:Rxe,downharpoonleft:Lxe,downharpoonright:Ixe,DownLeftRightVector:Pxe,DownLeftTeeVector:_xe,DownLeftVectorBar:Bxe,DownLeftVector:Fxe,DownRightTeeVector:qxe,DownRightVectorBar:Hxe,DownRightVector:Vxe,DownTeeArrow:zxe,DownTee:$xe,drbkarow:Uxe,drcorn:jxe,drcrop:Wxe,Dscr:Gxe,dscr:Kxe,DScy:Jxe,dscy:Xxe,dsol:Yxe,Dstrok:Qxe,dstrok:Zxe,dtdot:eSe,dtri:tSe,dtrif:rSe,duarr:nSe,duhar:iSe,dwangle:aSe,DZcy:oSe,dzcy:sSe,dzigrarr:lSe,Eacute:uSe,eacute:cSe,easter:fSe,Ecaron:dSe,ecaron:hSe,Ecirc:pSe,ecirc:vSe,ecir:mSe,ecolon:gSe,Ecy:ySe,ecy:bSe,eDDot:wSe,Edot:kSe,edot:CSe,eDot:TSe,ee:xSe,efDot:SSe,Efr:ESe,efr:MSe,eg:OSe,Egrave:ASe,egrave:NSe,egs:DSe,egsdot:RSe,el:LSe,Element:ISe,elinters:PSe,ell:_Se,els:BSe,elsdot:FSe,Emacr:qSe,emacr:HSe,empty:VSe,emptyset:zSe,EmptySmallSquare:$Se,emptyv:USe,EmptyVerySmallSquare:jSe,emsp13:WSe,emsp14:GSe,emsp:KSe,ENG:JSe,eng:XSe,ensp:YSe,Eogon:QSe,eogon:ZSe,Eopf:eEe,eopf:tEe,epar:rEe,eparsl:nEe,eplus:iEe,epsi:aEe,Epsilon:oEe,epsilon:sEe,epsiv:lEe,eqcirc:uEe,eqcolon:cEe,eqsim:fEe,eqslantgtr:dEe,eqslantless:hEe,Equal:pEe,equals:vEe,EqualTilde:mEe,equest:gEe,Equilibrium:yEe,equiv:bEe,equivDD:wEe,eqvparsl:kEe,erarr:CEe,erDot:TEe,escr:xEe,Escr:SEe,esdot:EEe,Esim:MEe,esim:OEe,Eta:AEe,eta:NEe,ETH:DEe,eth:REe,Euml:LEe,euml:IEe,euro:PEe,excl:_Ee,exist:BEe,Exists:FEe,expectation:qEe,exponentiale:HEe,ExponentialE:VEe,fallingdotseq:zEe,Fcy:$Ee,fcy:UEe,female:jEe,ffilig:WEe,fflig:GEe,ffllig:KEe,Ffr:JEe,ffr:XEe,filig:YEe,FilledSmallSquare:QEe,FilledVerySmallSquare:ZEe,fjlig:eMe,flat:tMe,fllig:rMe,fltns:nMe,fnof:iMe,Fopf:aMe,fopf:oMe,forall:sMe,ForAll:lMe,fork:uMe,forkv:cMe,Fouriertrf:fMe,fpartint:dMe,frac12:hMe,frac13:pMe,frac14:vMe,frac15:mMe,frac16:gMe,frac18:yMe,frac23:bMe,frac25:wMe,frac34:kMe,frac35:CMe,frac38:TMe,frac45:xMe,frac56:SMe,frac58:EMe,frac78:MMe,frasl:OMe,frown:AMe,fscr:NMe,Fscr:DMe,gacute:RMe,Gamma:LMe,gamma:IMe,Gammad:PMe,gammad:_Me,gap:BMe,Gbreve:FMe,gbreve:qMe,Gcedil:HMe,Gcirc:VMe,gcirc:zMe,Gcy:$Me,gcy:UMe,Gdot:jMe,gdot:WMe,ge:GMe,gE:KMe,gEl:JMe,gel:XMe,geq:YMe,geqq:QMe,geqslant:ZMe,gescc:eOe,ges:tOe,gesdot:rOe,gesdoto:nOe,gesdotol:iOe,gesl:aOe,gesles:oOe,Gfr:sOe,gfr:lOe,gg:uOe,Gg:cOe,ggg:fOe,gimel:dOe,GJcy:hOe,gjcy:pOe,gla:vOe,gl:mOe,glE:gOe,glj:yOe,gnap:bOe,gnapprox:wOe,gne:kOe,gnE:COe,gneq:TOe,gneqq:xOe,gnsim:SOe,Gopf:EOe,gopf:MOe,grave:OOe,GreaterEqual:AOe,GreaterEqualLess:NOe,GreaterFullEqual:DOe,GreaterGreater:ROe,GreaterLess:LOe,GreaterSlantEqual:IOe,GreaterTilde:POe,Gscr:_Oe,gscr:BOe,gsim:FOe,gsime:qOe,gsiml:HOe,gtcc:VOe,gtcir:zOe,gt:$Oe,GT:UOe,Gt:jOe,gtdot:WOe,gtlPar:GOe,gtquest:KOe,gtrapprox:JOe,gtrarr:XOe,gtrdot:YOe,gtreqless:QOe,gtreqqless:ZOe,gtrless:eAe,gtrsim:tAe,gvertneqq:rAe,gvnE:nAe,Hacek:iAe,hairsp:aAe,half:oAe,hamilt:sAe,HARDcy:lAe,hardcy:uAe,harrcir:cAe,harr:fAe,hArr:dAe,harrw:hAe,Hat:pAe,hbar:vAe,Hcirc:mAe,hcirc:gAe,hearts:yAe,heartsuit:bAe,hellip:wAe,hercon:kAe,hfr:CAe,Hfr:TAe,HilbertSpace:xAe,hksearow:SAe,hkswarow:EAe,hoarr:MAe,homtht:OAe,hookleftarrow:AAe,hookrightarrow:NAe,hopf:DAe,Hopf:RAe,horbar:LAe,HorizontalLine:IAe,hscr:PAe,Hscr:_Ae,hslash:BAe,Hstrok:FAe,hstrok:qAe,HumpDownHump:HAe,HumpEqual:VAe,hybull:zAe,hyphen:$Ae,Iacute:UAe,iacute:jAe,ic:WAe,Icirc:GAe,icirc:KAe,Icy:JAe,icy:XAe,Idot:YAe,IEcy:QAe,iecy:ZAe,iexcl:eNe,iff:tNe,ifr:rNe,Ifr:nNe,Igrave:iNe,igrave:aNe,ii:oNe,iiiint:sNe,iiint:lNe,iinfin:uNe,iiota:cNe,IJlig:fNe,ijlig:dNe,Imacr:hNe,imacr:pNe,image:vNe,ImaginaryI:mNe,imagline:gNe,imagpart:yNe,imath:bNe,Im:wNe,imof:kNe,imped:CNe,Implies:TNe,incare:xNe,in:"",infin:SNe,infintie:ENe,inodot:MNe,intcal:ONe,int:ANe,Int:NNe,integers:DNe,Integral:RNe,intercal:LNe,Intersection:INe,intlarhk:PNe,intprod:_Ne,InvisibleComma:BNe,InvisibleTimes:FNe,IOcy:qNe,iocy:HNe,Iogon:VNe,iogon:zNe,Iopf:$Ne,iopf:UNe,Iota:jNe,iota:WNe,iprod:GNe,iquest:KNe,iscr:JNe,Iscr:XNe,isin:YNe,isindot:QNe,isinE:ZNe,isins:eDe,isinsv:tDe,isinv:rDe,it:nDe,Itilde:iDe,itilde:aDe,Iukcy:oDe,iukcy:sDe,Iuml:lDe,iuml:uDe,Jcirc:cDe,jcirc:fDe,Jcy:dDe,jcy:hDe,Jfr:pDe,jfr:vDe,jmath:mDe,Jopf:gDe,jopf:yDe,Jscr:bDe,jscr:wDe,Jsercy:kDe,jsercy:CDe,Jukcy:TDe,jukcy:xDe,Kappa:SDe,kappa:EDe,kappav:MDe,Kcedil:ODe,kcedil:ADe,Kcy:NDe,kcy:DDe,Kfr:RDe,kfr:LDe,kgreen:IDe,KHcy:PDe,khcy:_De,KJcy:BDe,kjcy:FDe,Kopf:qDe,kopf:HDe,Kscr:VDe,kscr:zDe,lAarr:$De,Lacute:UDe,lacute:jDe,laemptyv:WDe,lagran:GDe,Lambda:KDe,lambda:JDe,lang:XDe,Lang:YDe,langd:QDe,langle:ZDe,lap:eRe,Laplacetrf:tRe,laquo:rRe,larrb:nRe,larrbfs:iRe,larr:aRe,Larr:oRe,lArr:sRe,larrfs:lRe,larrhk:uRe,larrlp:cRe,larrpl:fRe,larrsim:dRe,larrtl:hRe,latail:pRe,lAtail:vRe,lat:mRe,late:gRe,lates:yRe,lbarr:bRe,lBarr:wRe,lbbrk:kRe,lbrace:CRe,lbrack:TRe,lbrke:xRe,lbrksld:SRe,lbrkslu:ERe,Lcaron:MRe,lcaron:ORe,Lcedil:ARe,lcedil:NRe,lceil:DRe,lcub:RRe,Lcy:LRe,lcy:IRe,ldca:PRe,ldquo:_Re,ldquor:BRe,ldrdhar:FRe,ldrushar:qRe,ldsh:HRe,le:VRe,lE:zRe,LeftAngleBracket:$Re,LeftArrowBar:URe,leftarrow:jRe,LeftArrow:WRe,Leftarrow:GRe,LeftArrowRightArrow:KRe,leftarrowtail:JRe,LeftCeiling:XRe,LeftDoubleBracket:YRe,LeftDownTeeVector:QRe,LeftDownVectorBar:ZRe,LeftDownVector:eLe,LeftFloor:tLe,leftharpoondown:rLe,leftharpoonup:nLe,leftleftarrows:iLe,leftrightarrow:aLe,LeftRightArrow:oLe,Leftrightarrow:sLe,leftrightarrows:lLe,leftrightharpoons:uLe,leftrightsquigarrow:cLe,LeftRightVector:fLe,LeftTeeArrow:dLe,LeftTee:hLe,LeftTeeVector:pLe,leftthreetimes:vLe,LeftTriangleBar:mLe,LeftTriangle:gLe,LeftTriangleEqual:yLe,LeftUpDownVector:bLe,LeftUpTeeVector:wLe,LeftUpVectorBar:kLe,LeftUpVector:CLe,LeftVectorBar:TLe,LeftVector:xLe,lEg:SLe,leg:ELe,leq:MLe,leqq:OLe,leqslant:ALe,lescc:NLe,les:DLe,lesdot:RLe,lesdoto:LLe,lesdotor:ILe,lesg:PLe,lesges:_Le,lessapprox:BLe,lessdot:FLe,lesseqgtr:qLe,lesseqqgtr:HLe,LessEqualGreater:VLe,LessFullEqual:zLe,LessGreater:$Le,lessgtr:ULe,LessLess:jLe,lesssim:WLe,LessSlantEqual:GLe,LessTilde:KLe,lfisht:JLe,lfloor:XLe,Lfr:YLe,lfr:QLe,lg:ZLe,lgE:eIe,lHar:tIe,lhard:rIe,lharu:nIe,lharul:iIe,lhblk:aIe,LJcy:oIe,ljcy:sIe,llarr:lIe,ll:uIe,Ll:cIe,llcorner:fIe,Lleftarrow:dIe,llhard:hIe,lltri:pIe,Lmidot:vIe,lmidot:mIe,lmoustache:gIe,lmoust:yIe,lnap:bIe,lnapprox:wIe,lne:kIe,lnE:CIe,lneq:TIe,lneqq:xIe,lnsim:SIe,loang:EIe,loarr:MIe,lobrk:OIe,longleftarrow:AIe,LongLeftArrow:NIe,Longleftarrow:DIe,longleftrightarrow:RIe,LongLeftRightArrow:LIe,Longleftrightarrow:IIe,longmapsto:PIe,longrightarrow:_Ie,LongRightArrow:BIe,Longrightarrow:FIe,looparrowleft:qIe,looparrowright:HIe,lopar:VIe,Lopf:zIe,lopf:$Ie,loplus:UIe,lotimes:jIe,lowast:WIe,lowbar:GIe,LowerLeftArrow:KIe,LowerRightArrow:JIe,loz:XIe,lozenge:YIe,lozf:QIe,lpar:ZIe,lparlt:ePe,lrarr:tPe,lrcorner:rPe,lrhar:nPe,lrhard:iPe,lrm:aPe,lrtri:oPe,lsaquo:sPe,lscr:lPe,Lscr:uPe,lsh:cPe,Lsh:fPe,lsim:dPe,lsime:hPe,lsimg:pPe,lsqb:vPe,lsquo:mPe,lsquor:gPe,Lstrok:yPe,lstrok:bPe,ltcc:wPe,ltcir:kPe,lt:CPe,LT:TPe,Lt:xPe,ltdot:SPe,lthree:EPe,ltimes:MPe,ltlarr:OPe,ltquest:APe,ltri:NPe,ltrie:DPe,ltrif:RPe,ltrPar:LPe,lurdshar:IPe,luruhar:PPe,lvertneqq:_Pe,lvnE:BPe,macr:FPe,male:qPe,malt:HPe,maltese:VPe,Map:"",map:zPe,mapsto:$Pe,mapstodown:UPe,mapstoleft:jPe,mapstoup:WPe,marker:GPe,mcomma:KPe,Mcy:JPe,mcy:XPe,mdash:YPe,mDDot:QPe,measuredangle:ZPe,MediumSpace:e_e,Mellintrf:t_e,Mfr:r_e,mfr:n_e,mho:i_e,micro:a_e,midast:o_e,midcir:s_e,mid:l_e,middot:u_e,minusb:c_e,minus:f_e,minusd:d_e,minusdu:h_e,MinusPlus:p_e,mlcp:v_e,mldr:m_e,mnplus:g_e,models:y_e,Mopf:b_e,mopf:w_e,mp:k_e,mscr:C_e,Mscr:T_e,mstpos:x_e,Mu:S_e,mu:E_e,multimap:M_e,mumap:O_e,nabla:A_e,Nacute:N_e,nacute:D_e,nang:R_e,nap:L_e,napE:I_e,napid:P_e,napos:__e,napprox:B_e,natural:F_e,naturals:q_e,natur:H_e,nbsp:V_e,nbump:z_e,nbumpe:$_e,ncap:U_e,Ncaron:j_e,ncaron:W_e,Ncedil:G_e,ncedil:K_e,ncong:J_e,ncongdot:X_e,ncup:Y_e,Ncy:Q_e,ncy:Z_e,ndash:eBe,nearhk:tBe,nearr:rBe,neArr:nBe,nearrow:iBe,ne:aBe,nedot:oBe,NegativeMediumSpace:sBe,NegativeThickSpace:lBe,NegativeThinSpace:uBe,NegativeVeryThinSpace:cBe,nequiv:fBe,nesear:dBe,nesim:hBe,NestedGreaterGreater:pBe,NestedLessLess:vBe,NewLine:mBe,nexist:gBe,nexists:yBe,Nfr:bBe,nfr:wBe,ngE:kBe,nge:CBe,ngeq:TBe,ngeqq:xBe,ngeqslant:SBe,nges:EBe,nGg:MBe,ngsim:OBe,nGt:ABe,ngt:NBe,ngtr:DBe,nGtv:RBe,nharr:LBe,nhArr:IBe,nhpar:PBe,ni:_Be,nis:BBe,nisd:FBe,niv:qBe,NJcy:HBe,njcy:VBe,nlarr:zBe,nlArr:$Be,nldr:UBe,nlE:jBe,nle:WBe,nleftarrow:GBe,nLeftarrow:KBe,nleftrightarrow:JBe,nLeftrightarrow:XBe,nleq:YBe,nleqq:QBe,nleqslant:ZBe,nles:eFe,nless:tFe,nLl:rFe,nlsim:nFe,nLt:iFe,nlt:aFe,nltri:oFe,nltrie:sFe,nLtv:lFe,nmid:uFe,NoBreak:cFe,NonBreakingSpace:fFe,nopf:dFe,Nopf:hFe,Not:pFe,not:vFe,NotCongruent:mFe,NotCupCap:gFe,NotDoubleVerticalBar:yFe,NotElement:bFe,NotEqual:wFe,NotEqualTilde:kFe,NotExists:CFe,NotGreater:TFe,NotGreaterEqual:xFe,NotGreaterFullEqual:SFe,NotGreaterGreater:EFe,NotGreaterLess:MFe,NotGreaterSlantEqual:OFe,NotGreaterTilde:AFe,NotHumpDownHump:NFe,NotHumpEqual:DFe,notin:RFe,notindot:LFe,notinE:IFe,notinva:PFe,notinvb:_Fe,notinvc:BFe,NotLeftTriangleBar:FFe,NotLeftTriangle:qFe,NotLeftTriangleEqual:HFe,NotLess:VFe,NotLessEqual:zFe,NotLessGreater:$Fe,NotLessLess:UFe,NotLessSlantEqual:jFe,NotLessTilde:WFe,NotNestedGreaterGreater:GFe,NotNestedLessLess:KFe,notni:JFe,notniva:XFe,notnivb:YFe,notnivc:QFe,NotPrecedes:ZFe,NotPrecedesEqual:eqe,NotPrecedesSlantEqual:tqe,NotReverseElement:rqe,NotRightTriangleBar:nqe,NotRightTriangle:iqe,NotRightTriangleEqual:aqe,NotSquareSubset:oqe,NotSquareSubsetEqual:sqe,NotSquareSuperset:lqe,NotSquareSupersetEqual:uqe,NotSubset:cqe,NotSubsetEqual:fqe,NotSucceeds:dqe,NotSucceedsEqual:hqe,NotSucceedsSlantEqual:pqe,NotSucceedsTilde:vqe,NotSuperset:mqe,NotSupersetEqual:gqe,NotTilde:yqe,NotTildeEqual:bqe,NotTildeFullEqual:wqe,NotTildeTilde:kqe,NotVerticalBar:Cqe,nparallel:Tqe,npar:xqe,nparsl:Sqe,npart:Eqe,npolint:Mqe,npr:Oqe,nprcue:Aqe,nprec:Nqe,npreceq:Dqe,npre:Rqe,nrarrc:Lqe,nrarr:Iqe,nrArr:Pqe,nrarrw:_qe,nrightarrow:Bqe,nRightarrow:Fqe,nrtri:qqe,nrtrie:Hqe,nsc:Vqe,nsccue:zqe,nsce:$qe,Nscr:Uqe,nscr:jqe,nshortmid:Wqe,nshortparallel:Gqe,nsim:Kqe,nsime:Jqe,nsimeq:Xqe,nsmid:Yqe,nspar:Qqe,nsqsube:Zqe,nsqsupe:eHe,nsub:tHe,nsubE:rHe,nsube:nHe,nsubset:iHe,nsubseteq:aHe,nsubseteqq:oHe,nsucc:sHe,nsucceq:lHe,nsup:uHe,nsupE:cHe,nsupe:fHe,nsupset:dHe,nsupseteq:hHe,nsupseteqq:pHe,ntgl:vHe,Ntilde:mHe,ntilde:gHe,ntlg:yHe,ntriangleleft:bHe,ntrianglelefteq:wHe,ntriangleright:kHe,ntrianglerighteq:CHe,Nu:THe,nu:xHe,num:SHe,numero:EHe,numsp:MHe,nvap:OHe,nvdash:AHe,nvDash:NHe,nVdash:DHe,nVDash:RHe,nvge:LHe,nvgt:IHe,nvHarr:PHe,nvinfin:_He,nvlArr:BHe,nvle:FHe,nvlt:qHe,nvltrie:HHe,nvrArr:VHe,nvrtrie:zHe,nvsim:$He,nwarhk:UHe,nwarr:jHe,nwArr:WHe,nwarrow:GHe,nwnear:KHe,Oacute:JHe,oacute:XHe,oast:YHe,Ocirc:QHe,ocirc:ZHe,ocir:e2e,Ocy:t2e,ocy:r2e,odash:n2e,Odblac:i2e,odblac:a2e,odiv:o2e,odot:s2e,odsold:l2e,OElig:u2e,oelig:c2e,ofcir:f2e,Ofr:d2e,ofr:h2e,ogon:p2e,Ograve:v2e,ograve:m2e,ogt:g2e,ohbar:y2e,ohm:b2e,oint:w2e,olarr:k2e,olcir:C2e,olcross:T2e,oline:x2e,olt:S2e,Omacr:E2e,omacr:M2e,Omega:O2e,omega:A2e,Omicron:N2e,omicron:D2e,omid:R2e,ominus:L2e,Oopf:I2e,oopf:P2e,opar:_2e,OpenCurlyDoubleQuote:B2e,OpenCurlyQuote:F2e,operp:q2e,oplus:H2e,orarr:V2e,Or:z2e,or:$2e,ord:U2e,order:j2e,orderof:W2e,ordf:G2e,ordm:K2e,origof:J2e,oror:X2e,orslope:Y2e,orv:Q2e,oS:Z2e,Oscr:eVe,oscr:tVe,Oslash:rVe,oslash:nVe,osol:iVe,Otilde:aVe,otilde:oVe,otimesas:sVe,Otimes:lVe,otimes:uVe,Ouml:cVe,ouml:fVe,ovbar:dVe,OverBar:hVe,OverBrace:pVe,OverBracket:vVe,OverParenthesis:mVe,para:gVe,parallel:yVe,par:bVe,parsim:wVe,parsl:kVe,part:CVe,PartialD:TVe,Pcy:xVe,pcy:SVe,percnt:EVe,period:MVe,permil:OVe,perp:AVe,pertenk:NVe,Pfr:DVe,pfr:RVe,Phi:LVe,phi:IVe,phiv:PVe,phmmat:_Ve,phone:BVe,Pi:FVe,pi:qVe,pitchfork:HVe,piv:VVe,planck:zVe,planckh:$Ve,plankv:UVe,plusacir:jVe,plusb:WVe,pluscir:GVe,plus:KVe,plusdo:JVe,plusdu:XVe,pluse:YVe,PlusMinus:QVe,plusmn:ZVe,plussim:eze,plustwo:tze,pm:rze,Poincareplane:nze,pointint:ize,popf:aze,Popf:oze,pound:sze,prap:lze,Pr:uze,pr:cze,prcue:fze,precapprox:dze,prec:hze,preccurlyeq:pze,Precedes:vze,PrecedesEqual:mze,PrecedesSlantEqual:gze,PrecedesTilde:yze,preceq:bze,precnapprox:wze,precneqq:kze,precnsim:Cze,pre:Tze,prE:xze,precsim:Sze,prime:Eze,Prime:Mze,primes:Oze,prnap:Aze,prnE:Nze,prnsim:Dze,prod:Rze,Product:Lze,profalar:Ize,profline:Pze,profsurf:_ze,prop:Bze,Proportional:Fze,Proportion:qze,propto:Hze,prsim:Vze,prurel:zze,Pscr:$ze,pscr:Uze,Psi:jze,psi:Wze,puncsp:Gze,Qfr:Kze,qfr:Jze,qint:Xze,qopf:Yze,Qopf:Qze,qprime:Zze,Qscr:e$e,qscr:t$e,quaternions:r$e,quatint:n$e,quest:i$e,questeq:a$e,quot:o$e,QUOT:s$e,rAarr:l$e,race:u$e,Racute:c$e,racute:f$e,radic:d$e,raemptyv:h$e,rang:p$e,Rang:v$e,rangd:m$e,range:g$e,rangle:y$e,raquo:b$e,rarrap:w$e,rarrb:k$e,rarrbfs:C$e,rarrc:T$e,rarr:x$e,Rarr:S$e,rArr:E$e,rarrfs:M$e,rarrhk:O$e,rarrlp:A$e,rarrpl:N$e,rarrsim:D$e,Rarrtl:R$e,rarrtl:L$e,rarrw:I$e,ratail:P$e,rAtail:_$e,ratio:B$e,rationals:F$e,rbarr:q$e,rBarr:H$e,RBarr:V$e,rbbrk:z$e,rbrace:$$e,rbrack:U$e,rbrke:j$e,rbrksld:W$e,rbrkslu:G$e,Rcaron:K$e,rcaron:J$e,Rcedil:X$e,rcedil:Y$e,rceil:Q$e,rcub:Z$e,Rcy:eUe,rcy:tUe,rdca:rUe,rdldhar:nUe,rdquo:iUe,rdquor:aUe,rdsh:oUe,real:sUe,realine:lUe,realpart:uUe,reals:cUe,Re:fUe,rect:dUe,reg:hUe,REG:pUe,ReverseElement:vUe,ReverseEquilibrium:mUe,ReverseUpEquilibrium:gUe,rfisht:yUe,rfloor:bUe,rfr:wUe,Rfr:kUe,rHar:CUe,rhard:TUe,rharu:xUe,rharul:SUe,Rho:EUe,rho:MUe,rhov:OUe,RightAngleBracket:AUe,RightArrowBar:NUe,rightarrow:DUe,RightArrow:RUe,Rightarrow:LUe,RightArrowLeftArrow:IUe,rightarrowtail:PUe,RightCeiling:_Ue,RightDoubleBracket:BUe,RightDownTeeVector:FUe,RightDownVectorBar:qUe,RightDownVector:HUe,RightFloor:VUe,rightharpoondown:zUe,rightharpoonup:$Ue,rightleftarrows:UUe,rightleftharpoons:jUe,rightrightarrows:WUe,rightsquigarrow:GUe,RightTeeArrow:KUe,RightTee:JUe,RightTeeVector:XUe,rightthreetimes:YUe,RightTriangleBar:QUe,RightTriangle:ZUe,RightTriangleEqual:e3e,RightUpDownVector:t3e,RightUpTeeVector:r3e,RightUpVectorBar:n3e,RightUpVector:i3e,RightVectorBar:a3e,RightVector:o3e,ring:s3e,risingdotseq:l3e,rlarr:u3e,rlhar:c3e,rlm:f3e,rmoustache:d3e,rmoust:h3e,rnmid:p3e,roang:v3e,roarr:m3e,robrk:g3e,ropar:y3e,ropf:b3e,Ropf:w3e,roplus:k3e,rotimes:C3e,RoundImplies:T3e,rpar:x3e,rpargt:S3e,rppolint:E3e,rrarr:M3e,Rrightarrow:O3e,rsaquo:A3e,rscr:N3e,Rscr:D3e,rsh:R3e,Rsh:L3e,rsqb:I3e,rsquo:P3e,rsquor:_3e,rthree:B3e,rtimes:F3e,rtri:q3e,rtrie:H3e,rtrif:V3e,rtriltri:z3e,RuleDelayed:$3e,ruluhar:U3e,rx:j3e,Sacute:W3e,sacute:G3e,sbquo:K3e,scap:J3e,Scaron:X3e,scaron:Y3e,Sc:Q3e,sc:Z3e,sccue:eje,sce:tje,scE:rje,Scedil:nje,scedil:ije,Scirc:aje,scirc:oje,scnap:sje,scnE:lje,scnsim:uje,scpolint:cje,scsim:fje,Scy:dje,scy:hje,sdotb:pje,sdot:vje,sdote:mje,searhk:gje,searr:yje,seArr:bje,searrow:wje,sect:kje,semi:Cje,seswar:Tje,setminus:xje,setmn:Sje,sext:Eje,Sfr:Mje,sfr:Oje,sfrown:Aje,sharp:Nje,SHCHcy:Dje,shchcy:Rje,SHcy:Lje,shcy:Ije,ShortDownArrow:Pje,ShortLeftArrow:_je,shortmid:Bje,shortparallel:Fje,ShortRightArrow:qje,ShortUpArrow:Hje,shy:Vje,Sigma:zje,sigma:$je,sigmaf:Uje,sigmav:jje,sim:Wje,simdot:Gje,sime:Kje,simeq:Jje,simg:Xje,simgE:Yje,siml:Qje,simlE:Zje,simne:eWe,simplus:tWe,simrarr:rWe,slarr:nWe,SmallCircle:iWe,smallsetminus:aWe,smashp:oWe,smeparsl:sWe,smid:lWe,smile:uWe,smt:cWe,smte:fWe,smtes:dWe,SOFTcy:hWe,softcy:pWe,solbar:vWe,solb:mWe,sol:gWe,Sopf:yWe,sopf:bWe,spades:wWe,spadesuit:kWe,spar:CWe,sqcap:TWe,sqcaps:xWe,sqcup:SWe,sqcups:EWe,Sqrt:MWe,sqsub:OWe,sqsube:AWe,sqsubset:NWe,sqsubseteq:DWe,sqsup:RWe,sqsupe:LWe,sqsupset:IWe,sqsupseteq:PWe,square:_We,Square:BWe,SquareIntersection:FWe,SquareSubset:qWe,SquareSubsetEqual:HWe,SquareSuperset:VWe,SquareSupersetEqual:zWe,SquareUnion:$We,squarf:UWe,squ:jWe,squf:WWe,srarr:GWe,Sscr:KWe,sscr:JWe,ssetmn:XWe,ssmile:YWe,sstarf:QWe,Star:ZWe,star:e4e,starf:t4e,straightepsilon:r4e,straightphi:n4e,strns:i4e,sub:a4e,Sub:o4e,subdot:s4e,subE:l4e,sube:u4e,subedot:c4e,submult:f4e,subnE:d4e,subne:h4e,subplus:p4e,subrarr:v4e,subset:m4e,Subset:g4e,subseteq:y4e,subseteqq:b4e,SubsetEqual:w4e,subsetneq:k4e,subsetneqq:C4e,subsim:T4e,subsub:x4e,subsup:S4e,succapprox:E4e,succ:M4e,succcurlyeq:O4e,Succeeds:A4e,SucceedsEqual:N4e,SucceedsSlantEqual:D4e,SucceedsTilde:R4e,succeq:L4e,succnapprox:I4e,succneqq:P4e,succnsim:_4e,succsim:B4e,SuchThat:F4e,sum:q4e,Sum:H4e,sung:V4e,sup1:z4e,sup2:$4e,sup3:U4e,sup:j4e,Sup:W4e,supdot:G4e,supdsub:K4e,supE:J4e,supe:X4e,supedot:Y4e,Superset:Q4e,SupersetEqual:Z4e,suphsol:e5e,suphsub:t5e,suplarr:r5e,supmult:n5e,supnE:i5e,supne:a5e,supplus:o5e,supset:s5e,Supset:l5e,supseteq:u5e,supseteqq:c5e,supsetneq:f5e,supsetneqq:d5e,supsim:h5e,supsub:p5e,supsup:v5e,swarhk:m5e,swarr:g5e,swArr:y5e,swarrow:b5e,swnwar:w5e,szlig:k5e,Tab:C5e,target:T5e,Tau:x5e,tau:S5e,tbrk:E5e,Tcaron:M5e,tcaron:O5e,Tcedil:A5e,tcedil:N5e,Tcy:D5e,tcy:R5e,tdot:L5e,telrec:I5e,Tfr:P5e,tfr:_5e,there4:B5e,therefore:F5e,Therefore:q5e,Theta:H5e,theta:V5e,thetasym:z5e,thetav:$5e,thickapprox:U5e,thicksim:j5e,ThickSpace:W5e,ThinSpace:G5e,thinsp:K5e,thkap:J5e,thksim:X5e,THORN:Y5e,thorn:Q5e,tilde:Z5e,Tilde:eGe,TildeEqual:tGe,TildeFullEqual:rGe,TildeTilde:nGe,timesbar:iGe,timesb:aGe,times:oGe,timesd:sGe,tint:lGe,toea:uGe,topbot:cGe,topcir:fGe,top:dGe,Topf:hGe,topf:pGe,topfork:vGe,tosa:mGe,tprime:gGe,trade:yGe,TRADE:bGe,triangle:wGe,triangledown:kGe,triangleleft:CGe,trianglelefteq:TGe,triangleq:xGe,triangleright:SGe,trianglerighteq:EGe,tridot:MGe,trie:OGe,triminus:AGe,TripleDot:NGe,triplus:DGe,trisb:RGe,tritime:LGe,trpezium:IGe,Tscr:PGe,tscr:_Ge,TScy:BGe,tscy:FGe,TSHcy:qGe,tshcy:HGe,Tstrok:VGe,tstrok:zGe,twixt:$Ge,twoheadleftarrow:UGe,twoheadrightarrow:jGe,Uacute:WGe,uacute:GGe,uarr:KGe,Uarr:JGe,uArr:XGe,Uarrocir:YGe,Ubrcy:QGe,ubrcy:ZGe,Ubreve:e6e,ubreve:t6e,Ucirc:r6e,ucirc:n6e,Ucy:i6e,ucy:a6e,udarr:o6e,Udblac:s6e,udblac:l6e,udhar:u6e,ufisht:c6e,Ufr:f6e,ufr:d6e,Ugrave:h6e,ugrave:p6e,uHar:v6e,uharl:m6e,uharr:g6e,uhblk:y6e,ulcorn:b6e,ulcorner:w6e,ulcrop:k6e,ultri:C6e,Umacr:T6e,umacr:x6e,uml:S6e,UnderBar:E6e,UnderBrace:M6e,UnderBracket:O6e,UnderParenthesis:A6e,Union:N6e,UnionPlus:D6e,Uogon:R6e,uogon:L6e,Uopf:I6e,uopf:P6e,UpArrowBar:_6e,uparrow:B6e,UpArrow:F6e,Uparrow:q6e,UpArrowDownArrow:H6e,updownarrow:V6e,UpDownArrow:z6e,Updownarrow:$6e,UpEquilibrium:U6e,upharpoonleft:j6e,upharpoonright:W6e,uplus:G6e,UpperLeftArrow:K6e,UpperRightArrow:J6e,upsi:X6e,Upsi:Y6e,upsih:Q6e,Upsilon:Z6e,upsilon:e8e,UpTeeArrow:t8e,UpTee:r8e,upuparrows:n8e,urcorn:i8e,urcorner:a8e,urcrop:o8e,Uring:s8e,uring:l8e,urtri:u8e,Uscr:c8e,uscr:f8e,utdot:d8e,Utilde:h8e,utilde:p8e,utri:v8e,utrif:m8e,uuarr:g8e,Uuml:y8e,uuml:b8e,uwangle:w8e,vangrt:k8e,varepsilon:C8e,varkappa:T8e,varnothing:x8e,varphi:S8e,varpi:E8e,varpropto:M8e,varr:O8e,vArr:A8e,varrho:N8e,varsigma:D8e,varsubsetneq:R8e,varsubsetneqq:L8e,varsupsetneq:I8e,varsupsetneqq:P8e,vartheta:_8e,vartriangleleft:B8e,vartriangleright:F8e,vBar:q8e,Vbar:H8e,vBarv:V8e,Vcy:z8e,vcy:$8e,vdash:U8e,vDash:j8e,Vdash:W8e,VDash:G8e,Vdashl:K8e,veebar:J8e,vee:X8e,Vee:Y8e,veeeq:Q8e,vellip:Z8e,verbar:eKe,Verbar:tKe,vert:rKe,Vert:nKe,VerticalBar:iKe,VerticalLine:aKe,VerticalSeparator:oKe,VerticalTilde:sKe,VeryThinSpace:lKe,Vfr:uKe,vfr:cKe,vltri:fKe,vnsub:dKe,vnsup:hKe,Vopf:pKe,vopf:vKe,vprop:mKe,vrtri:gKe,Vscr:yKe,vscr:bKe,vsubnE:wKe,vsubne:kKe,vsupnE:CKe,vsupne:TKe,Vvdash:xKe,vzigzag:SKe,Wcirc:EKe,wcirc:MKe,wedbar:OKe,wedge:AKe,Wedge:NKe,wedgeq:DKe,weierp:RKe,Wfr:LKe,wfr:IKe,Wopf:PKe,wopf:_Ke,wp:BKe,wr:FKe,wreath:qKe,Wscr:HKe,wscr:VKe,xcap:zKe,xcirc:$Ke,xcup:UKe,xdtri:jKe,Xfr:WKe,xfr:GKe,xharr:KKe,xhArr:JKe,Xi:XKe,xi:YKe,xlarr:QKe,xlArr:ZKe,xmap:e9e,xnis:t9e,xodot:r9e,Xopf:n9e,xopf:i9e,xoplus:a9e,xotime:o9e,xrarr:s9e,xrArr:l9e,Xscr:u9e,xscr:c9e,xsqcup:f9e,xuplus:d9e,xutri:h9e,xvee:p9e,xwedge:v9e,Yacute:m9e,yacute:g9e,YAcy:y9e,yacy:b9e,Ycirc:w9e,ycirc:k9e,Ycy:C9e,ycy:T9e,yen:x9e,Yfr:S9e,yfr:E9e,YIcy:M9e,yicy:O9e,Yopf:A9e,yopf:N9e,Yscr:D9e,yscr:R9e,YUcy:L9e,yucy:I9e,yuml:P9e,Yuml:_9e,Zacute:B9e,zacute:F9e,Zcaron:q9e,zcaron:H9e,Zcy:V9e,zcy:z9e,Zdot:$9e,zdot:U9e,zeetrf:j9e,ZeroWidthSpace:W9e,Zeta:G9e,zeta:K9e,zfr:J9e,Zfr:X9e,ZHcy:Y9e,zhcy:Q9e,zigrarr:Z9e,zopf:eJe,Zopf:tJe,Zscr:rJe,zscr:nJe,zwj:iJe,zwnj:aJe},oJe="",sJe="",lJe="",uJe="",cJe="",fJe="",dJe="",hJe="",pJe="",vJe="&",mJe="&",gJe="",yJe="",bJe="",wJe="",kJe="",CJe="",TJe="",xJe="",SJe="",EJe="",MJe="",OJe="",AJe="",NJe="",DJe="",RJe="",LJe="",IJe="",PJe="",_Je="",BJe="",FJe="",qJe="",HJe="",VJe="",zJe="",$Je="",UJe="",jJe="",WJe=">",GJe=">",KJe="",JJe="",XJe="",YJe="",QJe="",ZJe="",e7e="",t7e="",r7e="",n7e="",i7e="",a7e="<",o7e="<",s7e="",l7e="",u7e="",c7e="",f7e="",d7e="",h7e="",p7e="",v7e="",m7e="",g7e="",y7e="",b7e="",w7e="",k7e="",C7e="",T7e="",x7e="",S7e="",E7e="",M7e="",O7e="",A7e="",N7e="",D7e='"',R7e='"',L7e="",I7e="",P7e="",_7e="",B7e="",F7e="",q7e="",H7e="",V7e="",z7e="",$7e="",U7e="",j7e="",W7e="",G7e="",K7e="",J7e="",X7e="",Y7e="",Q7e="",Z7e="",eXe="",tXe="",rXe="",nXe="",iXe={Aacute:oJe,aacute:sJe,Acirc:lJe,acirc:uJe,acute:cJe,AElig:fJe,aelig:dJe,Agrave:hJe,agrave:pJe,amp:vJe,AMP:mJe,Aring:gJe,aring:yJe,Atilde:bJe,atilde:wJe,Auml:kJe,auml:CJe,brvbar:TJe,Ccedil:xJe,ccedil:SJe,cedil:EJe,cent:MJe,copy:OJe,COPY:AJe,curren:NJe,deg:DJe,divide:RJe,Eacute:LJe,eacute:IJe,Ecirc:PJe,ecirc:_Je,Egrave:BJe,egrave:FJe,ETH:qJe,eth:HJe,Euml:VJe,euml:zJe,frac12:$Je,frac14:UJe,frac34:jJe,gt:WJe,GT:GJe,Iacute:KJe,iacute:JJe,Icirc:XJe,icirc:YJe,iexcl:QJe,Igrave:ZJe,igrave:e7e,iquest:t7e,Iuml:r7e,iuml:n7e,laquo:i7e,lt:a7e,LT:o7e,macr:s7e,micro:l7e,middot:u7e,nbsp:c7e,not:f7e,Ntilde:d7e,ntilde:h7e,Oacute:p7e,oacute:v7e,Ocirc:m7e,ocirc:g7e,Ograve:y7e,ograve:b7e,ordf:w7e,ordm:k7e,Oslash:C7e,oslash:T7e,Otilde:x7e,otilde:S7e,Ouml:E7e,ouml:M7e,para:O7e,plusmn:A7e,pound:N7e,quot:D7e,QUOT:R7e,raquo:L7e,reg:I7e,REG:P7e,sect:_7e,shy:B7e,sup1:F7e,sup2:q7e,sup3:H7e,szlig:V7e,THORN:z7e,thorn:$7e,times:U7e,Uacute:j7e,uacute:W7e,Ucirc:G7e,ucirc:K7e,Ugrave:J7e,ugrave:X7e,uml:Y7e,Uuml:Q7e,uuml:Z7e,Yacute:eXe,yacute:tXe,yen:rXe,yuml:nXe},aXe="&",oXe="'",sXe=">",lXe="<",uXe='"',fE={amp:aXe,apos:oXe,gt:sXe,lt:lXe,quot:uXe},iy={},cXe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},fXe=Ll&&Ll.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iy,"__esModule",{value:!0});var Dk=fXe(cXe),dXe=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function hXe(t){return t>=55296&&t<=57343||t>1114111?"":(t in Dk.default&&(t=Dk.default[t]),dXe(t))}iy.default=hXe;var nh=Ll&&Ll.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qa,"__esModule",{value:!0});qa.decodeHTML=qa.decodeHTMLStrict=qa.decodeXML=void 0;var Nm=nh(cE),pXe=nh(iXe),vXe=nh(fE),Rk=nh(iy),mXe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;qa.decodeXML=dE(vXe.default);qa.decodeHTMLStrict=dE(Nm.default);function dE(t){var e=hE(t);return function(r){return String(r).replace(mXe,e)}}var Lk=function(t,e){return t<e?1:-1};qa.decodeHTML=(function(){for(var t=Object.keys(pXe.default).sort(Lk),e=Object.keys(Nm.default).sort(Lk),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=hE(Nm.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),a(s)}return function(s){return String(s).replace(i,o)}})();function hE(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?Rk.default(parseInt(r.substr(3),16)):Rk.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var ni={},pE=Ll&&Ll.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ni,"__esModule",{value:!0});ni.escapeUTF8=ni.escape=ni.encodeNonAsciiHTML=ni.encodeHTML=ni.encodeXML=void 0;var gXe=pE(fE),vE=gE(gXe.default),mE=yE(vE);ni.encodeXML=kE(vE);var yXe=pE(cE),ay=gE(yXe.default),bXe=yE(ay);ni.encodeHTML=kXe(ay,bXe);ni.encodeNonAsciiHTML=kE(ay);function gE(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function yE(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):r.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var bE=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,wXe=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function ih(t){return"&#x"+(t.length>1?wXe(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function kXe(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(bE,ih)}}var wE=new RegExp(mE.source+"|"+bE.source,"g");function CXe(t){return t.replace(wE,ih)}ni.escape=CXe;function TXe(t){return t.replace(mE,ih)}ni.escapeUTF8=TXe;function kE(t){return function(e){return e.replace(wE,function(r){return t[r]||ih(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=qa,r=ni;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}t.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}t.decodeStrict=i;function a(l,u){return(!u||u<=0?r.encodeXML:r.encodeHTML)(l)}t.encode=a;var o=ni;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=qa;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(ny);var CE="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",xXe=92,SXe=/[\\&]/,oy="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",EXe=new RegExp("\\\\"+oy+"|"+CE,"gi"),MXe='[&<>"]',Ik=new RegExp(MXe,"g"),OXe=function(t){return t.charCodeAt(0)===xXe?t.charAt(1):ny.decodeHTML(t)};function Nu(t){return SXe.test(t)?t.replace(EXe,OXe):t}function nf(t){try{return zye(t)}catch{return t}}function AXe(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function ll(t){return Ik.test(t)?t.replace(Ik,AXe):t}function Dm(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function Pk(t){return t?!/[^ \t]+/.test(t):!0}var NXe=(function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=sy(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t})();function sy(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var DXe=1,ah={};function RXe(t){return ah[t]}function Rm(t){delete ah[t]}function LXe(){ah={}}var ac=(function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=DXe++,this.type=e,this.sourcepos=r,ah[this.id]=this}return t.prototype.isContainer=function(){return sy(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new NXe(this)},t})(),Wa=(function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=r,i}return e})(ac),IXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e})(Wa),PXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e})(Wa),_Xe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e})(Wa),BXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e})(Wa),FXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e})(Wa),qXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e})(Wa),HXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e})(Wa),VXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e})(Wa),zXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e})(ac),$Xe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e})(ac),UXe=(function(t){xi(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e})(ac);function Rr(t,e){switch(t){case"heading":return new PXe(t,e);case"list":case"item":return new IXe(t,e);case"link":case"image":return new zXe(t,e);case"codeBlock":return new _Xe(t,e);case"htmlBlock":return new VXe(t,e);case"table":return new BXe(t,e);case"tableCell":return new FXe(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Wa(t,e);case"code":return new $Xe(t,e);case"refDef":return new qXe(t,e);case"customBlock":return new HXe(t,e);case"customInline":return new UXe(t,e);default:return new ac(t,e)}}function TE(t){return t.type==="codeBlock"}function jXe(t){return t.type==="htmlBlock"}function WXe(t){return t.type==="heading"}function _k(t){return t.type==="list"}function GXe(t){return t.type==="table"}function Qs(t){return t.type==="refDef"}function xE(t){return t.type==="customBlock"}function KXe(t){return t.type==="customInline"}function Vr(t,e){var r=Rr("text",e);return r.literal=t,r}var SE="[A-Za-z][A-Za-z0-9-]*",JXe="[a-zA-Z_:][a-zA-Z0-9:._-]*",XXe="[^\"'=<>`\\x00-\\x20]+",YXe="'[^']*'",QXe='"[^"]*"',ZXe="(?:"+XXe+"|"+YXe+"|"+QXe+")",eYe="(?:\\s*=\\s*"+ZXe+")",tYe="(?:\\s+"+JXe+eYe+"?)",EE="<"+SE+tYe+"*\\s*/?>",ME="</"+SE+"\\s*[>]",rYe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",nYe="[<][?].*?[?][>]",iYe="<![A-Z]+\\s+[^>]*>",aYe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",oYe="(?:"+EE+"|"+ME+"|"+rYe+"|"+nYe+"|"+iYe+"|"+aYe+")",sYe=new RegExp("^"+oYe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Lm;if(String.fromCodePoint)Lm=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var lYe=String.fromCharCode,uYe=Math.floor;Lm=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],i,a,o=-1,s=t.length;if(!s)return"";for(var l="";++o<s;){var u=Number(t[o]);if(!isFinite(u)||u<0||u>1114111||uYe(u)!==u)return"";u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,a=u%1024+56320,n.push(i,a)),(o+1===s||n.length>r)&&(l+=lYe.apply(void 0,n),n.length=0)}return l}}var xv=Lm,cYe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",fYe="[^<\\s]*[^<?!.,:*_?~\\s]",dYe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function hYe(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,i=t;n<i.length;n++){var a=i[n];a==="("?r<0?r=1:r+=1:a===")"&&(r-=1)}if(r<0){var o=Math.min(-r,e[0].length);return t.substring(0,t.length-o)}}return t}function pYe(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function vYe(t){for(var e=new RegExp(dYe,"g"),r=[],n;n=e.exec(t);){var i=n[0];/[_-]+$/.test(i)||r.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return r}function mYe(t){for(var e=new RegExp("(www|https?://)."+cYe+fYe,"g"),r=[],n;n=e.exec(t);){var i=pYe(hYe(n[0])),a=n[1]==="www"?"http://":"";r.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return r}function gYe(t){return Am(Am([],mYe(t)),vYe(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function yYe(t,e){typeof e=="boolean"&&(e=gYe);for(var r,n=function(){var i=r.entering,a=r.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=a.sourcepos[0],f=u[0],p=u[1],b=function(ge,Oe){return[[f,p+ge],[f,p+Oe]]},C=[],T=0,M=s;T<M.length;T++){var N=M[T],B=N.range,U=N.url,X=N.text;B[0]>l&&C.push(Vr(o.substring(l,B[0]),b(l,B[0]-1)));var Z=Rr("link",b.apply(void 0,B));Z.appendChild(Vr(X,b.apply(void 0,B))),Z.destination=U,Z.extendedAutolink=!0,C.push(Z),l=B[1]+1}l<o.length&&C.push(Vr(o.substring(l),b(l,o.length-1)));for(var ce=0,le=C;ce<le.length;ce++){var se=le[ce];a.insertBefore(se)}a.unlink()}};r=t.next();)n()}function ld(t){return t[t.length-1]}function Bk(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function af(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function bYe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=on({},t);return e.forEach(function(i){delete n[i]}),n}function Zs(t){return!Object.keys(t).length}function wYe(t){Object.keys(t).forEach(function(e){delete t[e]})}var Im=10,Sv=42,of=95,kYe=96,Fk=91,CYe=93,sf=126,qk=60,TYe=33,Hk=92,xYe=38,Vk=40,Ev=41,SYe=58,Xo=39,Yo=34,Qo=36,Mv="\\\\"+oy,zk=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),EYe=new RegExp('^(?:"('+Mv+'|[^"\\x00])*"|'+("'("+Mv+"|[^'\\x00])*'")+"|"+("\\(("+Mv+"|[^()\\x00])*\\))")),MYe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,$k=new RegExp("^"+oy),OYe=new RegExp("^"+CE,"i"),AYe=/`+/,NYe=/^`+/,DYe=/\.\.\./g,RYe=/--+/g,LYe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,IYe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,PYe=/^ *(?:\n *)?/,Ov=/^[ \t\n\x0b\x0c\x0d]/,Uk=/^\s/,_Ye=/ *$/,BYe=/^ */,jk=/^ *(?:\n|$)/,FYe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,qYe=/^[^\n`\[\]\\!<&*_'"~$]+/m,HYe=(function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof r=="number"?[a,[i,r+n]]:a},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(PYe),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(NYe);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(AYe))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(r,this.pos),l=o.split(`
`);if(l.length>1){var u=ld(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var f=Rr("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?f.literal=o.slice(1,o.length-1):f.literal=o,f.tickCount=n.length,e.appendChild(f),!0}return this.pos=i,e.appendChild(Vr(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===Im?(this.pos+=1,n=Rr("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):$k.test(r.charAt(this.pos))?(e.appendChild(Vr(r.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Vr("\\",this.sourcepos(i,i))),!0},t.prototype.parseAutolink=function(e){var r,n,i,a=this.pos+1;return(r=this.match(LYe))?(n=r.slice(1,r.length-1),i=Rr("link",this.sourcepos(a,this.pos)),i.destination=nf("mailto:"+n),i.title="",i.appendChild(Vr(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(r=this.match(IYe))?(n=r.slice(1,r.length-1),i=Rr("link",this.sourcepos(a,this.pos)),i.destination=nf(n),i.title="",i.appendChild(Vr(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(sYe);if(n===null)return!1;var i=Rr("htmlInline",this.sourcepos(r,this.pos));return i.literal=n,e.appendChild(i),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===Xo||e===Yo)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===sf||e===Qo))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=xv(a);var s=Uk.test(o),l=zk.test(o),u=Uk.test(i),f=zk.test(i),p=!s&&(!l||u||f),b=!u&&(!f||s||l),C,T;return e===of?(C=p&&(!b||f),T=b&&(!p||l)):e===Xo||e===Yo?(C=p&&!b,T=b):e===Qo?(C=!s,T=!u):(C=p,T=b),this.pos=n,{numdelims:r,canOpen:C,canClose:T}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===Xo?o="":e===Yo?o="":o=this.subject.slice(a-1,this.pos);var s=Vr(o,this.sourcepos(a,this.pos));return r.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==Xo&&e!==Yo)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,i,a,o,s,l,u=!1,f=(r={},r[of]=[e,e,e],r[Sv]=[e,e,e],r[Xo]=[e],r[Yo]=[e],r[sf]=[e],r[Qo]=[e],r);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var p=i.cc,b=p===of||p===Sv;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==f[p][b?i.origdelims%3:0];){if(u=b&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(a=i,b||p===sf||p===Qo){if(!l)i=i.next;else if(n){var C=i.numdelims>=2&&n.numdelims>=2?2:1,T=b?0:1;o=n.node,s=i.node;var M=b?C===1?"emph":"strong":"strike";p===Qo&&(M="customInline");var N=Rr(M),B=o.sourcepos[1],U=s.sourcepos[0];N.sourcepos=[[B[0],B[1]-C+1],[U[0],U[1]+C-1]],o.sourcepos[1][1]-=C,s.sourcepos[0][1]+=C,o.literal=o.literal.slice(C),s.literal=s.literal.slice(C),n.numdelims-=C,i.numdelims-=C;for(var X=o.next,Z=void 0;X&&X!==s;)Z=X.next,X.unlink(),N.appendChild(X),X=Z;if(p===Qo){var ce=N.firstChild,le=ce.literal||"",se=le.split(/\s/)[0];N.info=se,le.length<=se.length?ce.unlink():(ce.sourcepos[0][1]+=se.length,ce.literal=le.replace(se+" ",""))}if(o.insertAfter(N),this.removeDelimitersBetween(n,i),n.numdelims<=T&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=T){i.numdelims===0&&s.unlink();var ge=i.next;this.removeDelimiter(i),i=ge}}}else p===Xo?(i.node.literal="",l&&(n.node.literal=""),i=i.next):p===Yo&&(i.node.literal="",l&&(n.node.literal=""),i=i.next);l||(f[p][b?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(EYe);return e===null?null:Nu(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(MYe);if(e===null){if(this.peek()===qk)return null;for(var r=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===Hk&&$k.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===Vk)this.pos+=1,n+=1;else if(i===Ev){if(n<1)break;this.pos+=1,n-=1}else{if(Ov.exec(xv(i))!==null)break;this.pos+=1}return this.pos===r&&i!==Ev||n!==0?null:(e=this.subject.substr(r,this.pos-r),nf(Nu(e)))}return nf(Nu(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(FYe);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=Vr("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===Fk){this.pos+=1;var n=Vr("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=Vr("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(Vr("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(Vr("]",this.sourcepos(a,a))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===Vk&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(Ov.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Ev?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var f=this.pos,p=this.parseLinkLabel();if(p>2?u=this.subject.slice(f,f+p):o.bracketAfter||(u=this.subject.slice(o.index,a)),p===0&&(this.pos=l),u){u=Bk(u);var b=this.refMap[u];b&&(r=b.destination,n=b.title,i=!0)}}if(i){var C=Rr(s?"image":"link");C.destination=r,C.title=n||"",C.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var T=o.node.next,M=void 0;T;)M=T.next,T.unlink(),C.appendChild(T),T=M;if(e.appendChild(C),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=a,e.appendChild(Vr("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(OYe))?(e.appendChild(Vr(ny.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(qYe)){if(this.options.smart){var i=r.replace(DYe,"").replace(RYe,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),Dm("",l)+Dm("",s)});e.appendChild(Vr(i,this.sourcepos(n,this.pos)))}else{var a=Vr(r,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",i=r.literal.length;r.literal=r.literal.replace(_Ye,"");var a=i-r.literal.length;r.sourcepos[1][1]-=a,e.appendChild(Rr(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(Rr("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(BYe),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===SYe)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(jk)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(jk)!==null)),!u)return this.pos=i,0;var f=Bk(o);if(f==="")return this.pos=i,0;var p=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=p[1][0]+1;var b=Rr("refDef",p);return b.title=n,b.dest=s,b.label=f,e.insertBefore(b),r[f]?this.refDefCandidateMap[b.id]=b:r[f]=Bm(b),this.pos-i},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var i=r.entering,a=r.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<r.length;o+=1){var s=r[o];if(Ov.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;a={line:l,ch:r[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){a={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},t.prototype.parseInline=function(e){var r,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case Im:n=this.parseNewline(e);break;case Hk:n=this.parseBackslash(e);break;case kYe:n=this.parseBackticks(e);break;case Sv:case of:case sf:case Qo:n=this.handleDelim(i,e);break;case Xo:case Yo:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(i,e);break;case Fk:n=this.parseOpenBracket(e);break;case TYe:n=this.parseBang(e);break;case CYe:n=this.parseCloseBracket(e);break;case qk:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case xYe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(Vr(xv(i),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],WXe(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,i=r.customParser;if(n&&yYe(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var s=a.node,l=a.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},t})(),VYe=/^\[([ \txX])\][ \t]+/;function zYe(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(VYe);if(n){var i=n[0].length;r.stringContent=r.stringContent.substring(i-1),r.sourcepos[0][1]+=i,r.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var $Ye={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},UYe={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},jYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},WYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},GYe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},KYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},JYe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},ud=4,OE=9,AE=62,XYe=60,NE=32,DE=91,RE=/[^ \t\f\v\r\n]/,YYe=/^(?:`{3,}|~{3,})(?= *$)/;function Wk(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function oi(t,e){return e<t.length?t.charCodeAt(e):-1}function LE(t){return!RE.test(t)}function Il(t){return t===NE||t===OE}var QYe=/^\$\$$/,ZYe={continue:function(t,e){var r=t.currentLine,n=r.match(QYe);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.offset;i>0&&Il(oi(r,t.offset));)t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),i=r.slice(0,n),a=r.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=Nu(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},IE={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},eQe={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},tQe={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(Wk(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(Wk(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},rQe={continue:function(t){var e=t.currentLine;if(!t.indented&&oi(e,t.nextNonspace)===AE)t.advanceNextNonspace(),t.advanceOffset(1,!1),Il(oi(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},nQe={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:zYe,canContain:function(t){return t!=="item"},acceptsLines:!1},iQe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},aQe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},oQe={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(YYe);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+i[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.fenceOffset;a>0&&Il(oi(r,t.offset));)t.advanceOffset(1,!0),a--}else if(n>=ud)t.advanceOffset(ud,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),s=a.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Nu(s[2].trim()),e.literal=o}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},sQe={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},lQe={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;oi(e.stringContent,0)===DE&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&LE(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},uQe=IE,cQe=IE,el={document:eQe,list:tQe,blockQuote:rQe,item:nQe,heading:iQe,thematicBreak:aQe,codeBlock:oQe,htmlBlock:sQe,paragraph:lQe,table:$Ye,tableBody:UYe,tableHead:jYe,tableRow:KYe,tableCell:JYe,tableDelimRow:WYe,tableDelimCell:GYe,refDef:uQe,customBlock:ZYe,frontMatter:cQe};function Pm(t){for(var e=0,r=0,n=[],i=0;i<t.length;i+=1)if(t[i]==="|"&&t[i-1]!=="\\"){var a=t.substring(e,i);e===0&&Pk(a)?r=i+1:n.push(a),e=i+1}if(e<t.length){var a=t.substring(e,t.length);Pk(a)||n.push(a)}return[r,n]}function _m(t,e,r,n){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=s.match(/^[ \t]+/),u=l?l[0].length:0,f=void 0,p=void 0;if(u===s.length)u=0,f=0,p="";else{var b=s.match(/[ \t]+$/);f=b?b[0].length:0,p=s.slice(u,s.length-f)}var C=n+u,T=Rr(t,[[r,n],[r,n+s.length-1]]);T.stringContent=p.replace(/\\\|/g,"|"),T.startIdx=i.length,T.endIdx=i.length,T.lineOffsets=[C-1],T.paddingLeft=u,T.paddingRight=f,i.push(T),n+=s.length+1}return i}function fQe(t){var e=null,r=t.stringContent,n=r[0],i=r[r.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var dQe=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,i=r.lastIndexOf(`
`,n-1)+1,a=r.slice(i,n),o=t.currentLine.slice(t.nextNonspace),s=Pm(a),l=s[0],u=s[1],f=Pm(o),p=f[0],b=f[1],C=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!b.length||b.some(function(ge){return!C.test(ge)})||b.length===1&&o.indexOf("|")!==0)return 0;var T=e.lineOffsets,M=t.lineNumber-1,N=ld(T)+1,B=Rr("table",[[M,N],[t.lineNumber,t.offset]]);if(B.columns=b.map(function(){return{align:null}}),e.insertAfter(B),T.length===1)e.unlink();else{e.stringContent=r.slice(0,i);var U=r.lastIndexOf(`
`,i-2)+1,X=i-U-1;t.lastLineLength=T[T.length-2]+X,t.finalize(e,M-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var Z=Rr("tableHead",[[M,N],[t.lineNumber,t.offset]]);B.appendChild(Z);var ce=Rr("tableRow",[[M,N],[M,N+a.length-1]]),le=Rr("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);Z.appendChild(ce),Z.appendChild(le),_m("tableCell",u,M,N+l).forEach(function(ge){ce.appendChild(ge)});var se=_m("tableDelimCell",b,t.lineNumber,t.nextNonspace+1+p);return se.forEach(function(ge){le.appendChild(ge)}),B.columns=se.map(fQe),t.tip=B,2}return 0},hQe=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var i=Rr("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(i);var a=n.parent,o=t.currentLine.slice(t.nextNonspace),s=Pm(o),l=s[0],u=s[1];return _m("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach(function(f,p){p>=a.columns.length&&(f.ignored=!0),i.appendChild(f)}),2},pQe=/^(\$\$)(\s*[a-zA-Z])+/,vQe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,mQe=function(t){var e;if(!t.indented&&!vQe.test(t.currentLine)&&(e=t.currentLine.match(pQe))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},gQe=/^`{3,}(?!.*`)|^~{3,}/,yQe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+EE+"|"+ME+")\\s*$","i")],bQe=/^(?:=+|-+)[ \t]*$/,wQe=/^#{1,6}(?:[ \t]+|$)/,kQe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,PE=/^[*+-]/,_E=/^(\d{1,9})([.)])/;function CQe(t,e){var r=t.currentLine.slice(t.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match(PE))a.type="bullet",a.bulletChar=n[0][0];else if((n=r.match(_E))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=oi(t.currentLine,t.nextNonspace+n[0].length),!(i===-1||i===OE||i===NE)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(RE))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var o=t.column,s=t.offset;do t.advanceOffset(1,!0),i=oi(t.currentLine,t.offset);while(t.column-o<5&&Il(i));var l=oi(t.currentLine,t.offset)===-1,u=t.column-o;return u>=5||u<1||l?(a.padding=n[0].length+1,t.column=o,t.offset=s,Il(oi(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):a.padding=n[0].length+u,a}function TQe(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function BE(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var xQe=function(t){return!t.indented&&oi(t.currentLine,t.nextNonspace)===AE?(t.advanceNextNonspace(),t.advanceOffset(1,!1),Il(oi(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},SQe=function(t,e){var r;if(!t.indented&&!BE(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(wQe))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},EQe=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(gQe))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},MQe=function(t,e){if(!t.indented&&oi(t.currentLine,t.nextNonspace)===XYe){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=r.match(yQe[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}t.closeUnmatchedBlocks();var s=t.addChild("htmlBlock",t.offset);return s.htmlBlockType=i,2}}}return 0},OQe=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!BE(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(bQe))){t.closeUnmatchedBlocks();for(var n=void 0;oi(e.stringContent,0)===DE&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=Rr("heading",e.sourcepos);return i.level=r[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},AQe=function(t){return!t.indented&&kQe.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},NQe=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=CQe(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!TQe(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},DQe=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(ud,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},Av=[xQe,SQe,EQe,MQe,OQe,AQe,NQe,DQe,dQe,hQe,mQe],FE=/^(-{3}|\+{3}|;{3})$/,RQe=function(t,e){var r=t.currentLine,n=t.lineNumber,i=t.indented;if(n===1&&!i&&e.type==="document"&&FE.test(r)){t.closeUnmatchedBlocks();var a=t.addChild("frontMatter",t.nextNonspace);return a.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},LQe={continue:function(t,e){var r=t.currentLine,n=r.match(FE);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},IQe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],PQe=/^[#`~*+_=<>0-9-;$]/,_Qe=/\r\n|\n|\r/;function Nv(){return Rr("document",[[1,1],[0,0]])}var BQe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},FQe=(function(){function t(e){this.options=on(on({},BQe),e),this.doc=Nv(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(el.frontMatter=LQe,Av.unshift(RQe)),this.inlineParser=new HYe(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,r?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,i;(i=e.charAt(r))!=="";)if(i===" ")r++,n++;else if(i==="	")r++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=ud},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Dm(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!el[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,i=Rr(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],el[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=i.next();){var a=r.node,o=r.entering,s=a.type;n&&n[s]&&n[s](a,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=r.lastChild)&&i.open;){switch(r=i,this.findNextNonspace(),el[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var a=r.type!=="paragraph"&&el[r.type].acceptsLines,o=Av.length;!a;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!PQe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=Av[s](this,r);if(l===1){r=this.tip;break}else if(l===2){r=this.tip,a=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var u=r.type,f=this.blank&&!(u==="blockQuote"||TE(r)&&r.isFenced||u==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),p=r;p;)p.lastLineBlank=f,p=p.parent;el[u].acceptsLines?(this.addLine(),jXe(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&IQe[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=Nv(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(_Qe),i=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===Im&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=Nv(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,i=0;i<n;i++)this.incorporateLine(r[i]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){wYe(e)})},t})();function Gk(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function qQe(t,e){var r=t[0],n=t[1];return Gk(n,e)===1?1:Gk(r,e)===-1?-1:0}function HQe(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];r[o]&&(Rm(r[o].id),r[o]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function VQe(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function Kk(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];t.insertBefore(i)}}function zQe(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function $Qe(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function qE(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function lf(t,e){for(var r=t.firstChild;r;){var n=qE(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function UQe(t){for(;t.lastChild;)t=t.lastChild;return t}function jQe(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function WQe(t,e){for(var r=t.firstChild,n=null;r;){var i=qE(r.sourcepos,e);if(i===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(i===-1)break;n=r,r=r.next}}return n?jQe(UQe(n)):null}function GQe(t,e){for(var r=t,n=null;r;){var i=qQe(r.sourcepos,e);if(i===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(i===-1)return n;if(r.next)r=r.next;else return n}}return r}function HE(t){return RXe(t)||null}function Dv(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var i=n.next();if(i)e=i.node;else break}}function KQe(t){var e=HE(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var Jk=/\r\n|\n|\r/;function JQe(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return PE.test(r)||_E.test(r)}function XQe(t){return!LE(t)&&t.indexOf("|")!==-1}function Bm(t){var e=t.id,r=t.title,n=t.sourcepos,i=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:i}}var VE=(function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new FQe(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(Jk),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var i,a=e[0],o=e[1],s=r[0],l=r[1],u=n.split(Jk),f=u.length,p=this.lineTexts[a-1],b=this.lineTexts[s-1];u[0]=p.slice(0,o-1)+u[0],u[f-1]=u[f-1]+b.slice(l-1);var C=s-a+1;return(i=this.lineTexts).splice.apply(i,Am([a-1,C],u)),f-C},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(Kk(e,n),HQe(e,r),[e.id,r.id].forEach(function(i){return Rm(i)}),e.unlink()):r?(Kk(r,n),Rm(r.id),r.unlink()):zQe(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=lf(this.root,e[0]),i=lf(this.root,r[0]);return i&&i.next&&r[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,i){e&&e.prev&&(_k(e.prev)&&JQe(this.lineTexts[n-1])||GXe(e.prev)&&XQe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),s=r?r.next:this.root.firstChild,l=o.lastChild,u=l&&TE(l)&&l.open,f=l&&xE(l)&&l.open,p=l&&_k(l);(u||f)&&s||p&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var b=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,b)),e||(e=r),r=s,i=b,s=s.next}this.parser.partialParseFinish();var C=VQe(o);return{newNodes:C,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&Qs(e)||r&&Qs(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!Zs(this.refMap)){var i=function(a){if(Qs(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&Dv(i,e.parent,r),r&&Dv(i,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!Zs(this.refMap)){var n=function(i){if(Qs(i)){var a=i.label,o=r.refMap[a];(!o||o.unlinked)&&(r.refMap[a]=Bm(i))}};e.forEach(function(i){Dv(n,i)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;Zs(this.refDefCandidateMap)||af(this.refDefCandidateMap,function(r,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=Bm(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,i,a){if(this.referenceDefinition&&!Zs(this.refMap)){var o=lf(this.root,e-1),s=lf(this.root,r+1);o&&Qs(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),s&&Qs(s)&&s!==n&&s!==i&&(i=s,r=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var i=this.getNodeRange(e,r),a=i[0],o=i[1],s=a?Math.min(a.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],r[0]):r[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,a,o,n)),f=u.newNodes,p=u.extStartNode,b=u.extEndNode,C=this.getRemovedNodeRange(p,b),T=b?b.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(p,b),this.replaceRangeNodes(p,b,f),this.replaceWithNewRefDefState(f)):this.replaceRangeNodes(p,b,f),{nodes:f,removedNodeRange:C,nextNode:T}},t.prototype.parseRefLink=function(){var e=this,r=[];return Zs(this.refMap)||af(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],af(e.refLinkCandidateMap,function(a,o){var s=o.node,l=o.refLabel;l===n&&r.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){Zs(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){af(e,function(r){KQe(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var i=this.updateLineTexts(e,r,n),a=this.parse(e,r,i),o=bYe(a,"nextNode");$Qe(a.nextNode,i),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=GQe(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return WQe(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],i=n.indexOf(r);n.splice(i,1)},t.prototype.findNodeById=function(e){return HE(e)},t.prototype.removeAllNode=function(){LXe()},t})(),YQe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],Xk=new RegExp("<(/?(?:"+YQe.join("|")+")[^>]*>)","ig");function Yk(t){return Xk.test(t)?t.replace(Xk,function(e,r){return"&lt;"+r}):t}var Qk={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,i=(r=t.parent)===null||r===void 0?void 0:r.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",s={};return o==="ol"&&a!==null&&a!==1&&(s.start=a.toString()),{type:r?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?Yk(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?Yk(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+ll(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:on({href:ll(a)},i&&{title:ll(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,i=t,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:on({src:ll(o),alt:r(t)},a&&{title:ll(a)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),i=r[n];if(i)try{return i(t,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),s=r[o],l=e.entering;if(s)try{return s(t,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Zk={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,i=n.checked,a=n.task;if(r){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:on(on({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,a=t.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[t.startIdx],s=o!=null&&o.align?{align:o.align}:null;return r?on({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},QQe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function ZQe(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var ly=(function(){function t(e){this.buffer=[],this.options=on(on({},QQe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=on({},Qk);if(this.options.gfm&&(e=on(on({},e),Zk)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),i=on(on({},Qk),Zk);n.forEach(function(a){var o=e[a],s=r[a],l=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[l]=function(u,f,p){return f.origin=function(){return o(u,f,p)},s(u,f)}:e[l]=s})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type];if(!u)return"continue";var f=!1,p={entering:l,leaf:!sy(s),options:o.options,getChildrenText:ZQe,skipChildren:function(){f=!0}},b=xE(s)||KXe(s)?u(s,p,o.convertors):u(s,p);if(b){var C=Array.isArray(b)?b:[b];C.forEach(function(T,M){T.type==="openTag"&&r.options.nodeId&&M===0&&(T.attributes||(T.attributes={}),T.attributes["data-nodeid"]=String(s.id)),r.renderHTMLNode(T)}),f&&(n.resumeAt(s,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var s=a[o];r.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&ld(ld(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(ll(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t})();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function eZe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var tZe=Object.hasOwnProperty,e1=Object.setPrototypeOf,rZe=Object.isFrozen,nZe=Object.getPrototypeOf,iZe=Object.getOwnPropertyDescriptor,Rn=Object.freeze,$a=Object.seal,aZe=Object.create,zE=typeof Reflect<"u"&&Reflect,cd=zE.apply,Fm=zE.construct;cd||(cd=function(e,r,n){return e.apply(r,n)});Rn||(Rn=function(e){return e});$a||($a=function(e){return e});Fm||(Fm=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(eZe(r))))});var oZe=Hi(Array.prototype.forEach),t1=Hi(Array.prototype.pop),au=Hi(Array.prototype.push),Sf=Hi(String.prototype.toLowerCase),r1=Hi(String.prototype.match),ro=Hi(String.prototype.replace),sZe=Hi(String.prototype.indexOf),lZe=Hi(String.prototype.trim),Ma=Hi(RegExp.prototype.test),n1=uZe(TypeError);function Hi(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return cd(t,e,n)}}function uZe(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return Fm(t,r)}}function zt(t,e){e1&&e1(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var i=Sf(n);i!==n&&(rZe(e)||(e[r]=i),n=i)}t[n]=!0}return t}function Zo(t){var e=aZe(null),r=void 0;for(r in t)cd(tZe,t,[r])&&(e[r]=t[r]);return e}function uf(t,e){for(;t!==null;){var r=iZe(t,e);if(r){if(r.get)return Hi(r.get);if(typeof r.value=="function")return Hi(r.value)}t=nZe(t)}function n(i){return console.warn("fallback value for",i),null}return n}var i1=Rn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rv=Rn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lv=Rn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cZe=Rn(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Iv=Rn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fZe=Rn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),a1=Rn(["#text"]),o1=Rn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Pv=Rn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),s1=Rn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cf=Rn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dZe=$a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),hZe=$a(/<%[\s\S]*|[\s\S]*%>/gm),pZe=$a(/^data-[\-\w.\u00B7-\uFFFF]/),vZe=$a(/^aria-[\-\w]+$/),mZe=$a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gZe=$a(/^(?:\w+script|data):/i),yZe=$a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Xi(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var bZe=function(){return typeof window>"u"?null:window},wZe=function(e,r){if((typeof e>"u"?"undefined":vu(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function $E(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bZe(),e=function(re){return $E(re)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,o=t.Node,s=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,p=t.Text,b=t.Comment,C=t.DOMParser,T=t.trustedTypes,M=s.prototype,N=uf(M,"cloneNode"),B=uf(M,"nextSibling"),U=uf(M,"childNodes"),X=uf(M,"parentNode");if(typeof a=="function"){var Z=n.createElement("template");Z.content&&Z.content.ownerDocument&&(n=Z.content.ownerDocument)}var ce=wZe(T,r),le=ce&&Pe?ce.createHTML(""):"",se=n,ge=se.implementation,Oe=se.createNodeIterator,Ge=se.createDocumentFragment,pt=se.getElementsByTagName,Ke=r.importNode,Tt={};try{Tt=Zo(n).documentMode?n.documentMode:{}}catch{}var Xe={};e.isSupported=typeof X=="function"&&ge&&typeof ge.createHTMLDocument<"u"&&Tt!==9;var Se=dZe,ze=hZe,Ve=pZe,Qe=vZe,Ht=gZe,st=yZe,vt=mZe,lt=null,At=zt({},[].concat(Xi(i1),Xi(Rv),Xi(Lv),Xi(Iv),Xi(a1))),Nt=null,Qt=zt({},[].concat(Xi(o1),Xi(Pv),Xi(s1),Xi(cf))),Vt=null,Ne=null,fe=!0,ie=!0,ee=!1,ae=!1,I=!1,$=!1,Y=!1,pe=!1,ye=!1,Te=!0,Pe=!1,He=!0,_e=!0,Ie=!1,et={},Ye=null,dt=zt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yt=null,xt=zt({},["audio","video","img","source","image","track"]),$e=null,Ue=zt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ht="http://www.w3.org/1998/Math/MathML",bt="http://www.w3.org/2000/svg",Ot="http://www.w3.org/1999/xhtml",rr=Ot,Gt=!1,ur=void 0,nr=["application/xhtml+xml","text/html"],mr="text/html",gr=void 0,Fr=null,si=n.createElement("form"),Jn=function(re){Fr&&Fr===re||((!re||(typeof re>"u"?"undefined":vu(re))!=="object")&&(re={}),re=Zo(re),lt="ALLOWED_TAGS"in re?zt({},re.ALLOWED_TAGS):At,Nt="ALLOWED_ATTR"in re?zt({},re.ALLOWED_ATTR):Qt,$e="ADD_URI_SAFE_ATTR"in re?zt(Zo(Ue),re.ADD_URI_SAFE_ATTR):Ue,yt="ADD_DATA_URI_TAGS"in re?zt(Zo(xt),re.ADD_DATA_URI_TAGS):xt,Ye="FORBID_CONTENTS"in re?zt({},re.FORBID_CONTENTS):dt,Vt="FORBID_TAGS"in re?zt({},re.FORBID_TAGS):{},Ne="FORBID_ATTR"in re?zt({},re.FORBID_ATTR):{},et="USE_PROFILES"in re?re.USE_PROFILES:!1,fe=re.ALLOW_ARIA_ATTR!==!1,ie=re.ALLOW_DATA_ATTR!==!1,ee=re.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=re.SAFE_FOR_TEMPLATES||!1,I=re.WHOLE_DOCUMENT||!1,pe=re.RETURN_DOM||!1,ye=re.RETURN_DOM_FRAGMENT||!1,Te=re.RETURN_DOM_IMPORT!==!1,Pe=re.RETURN_TRUSTED_TYPE||!1,Y=re.FORCE_BODY||!1,He=re.SANITIZE_DOM!==!1,_e=re.KEEP_CONTENT!==!1,Ie=re.IN_PLACE||!1,vt=re.ALLOWED_URI_REGEXP||vt,rr=re.NAMESPACE||Ot,ur=nr.indexOf(re.PARSER_MEDIA_TYPE)===-1?ur=mr:ur=re.PARSER_MEDIA_TYPE,gr=ur==="application/xhtml+xml"?function(Ce){return Ce}:Sf,ae&&(ie=!1),ye&&(pe=!0),et&&(lt=zt({},[].concat(Xi(a1))),Nt=[],et.html===!0&&(zt(lt,i1),zt(Nt,o1)),et.svg===!0&&(zt(lt,Rv),zt(Nt,Pv),zt(Nt,cf)),et.svgFilters===!0&&(zt(lt,Lv),zt(Nt,Pv),zt(Nt,cf)),et.mathMl===!0&&(zt(lt,Iv),zt(Nt,s1),zt(Nt,cf))),re.ADD_TAGS&&(lt===At&&(lt=Zo(lt)),zt(lt,re.ADD_TAGS)),re.ADD_ATTR&&(Nt===Qt&&(Nt=Zo(Nt)),zt(Nt,re.ADD_ATTR)),re.ADD_URI_SAFE_ATTR&&zt($e,re.ADD_URI_SAFE_ATTR),re.FORBID_CONTENTS&&(Ye===dt&&(Ye=Zo(Ye)),zt(Ye,re.FORBID_CONTENTS)),_e&&(lt["#text"]=!0),I&&zt(lt,["html","head","body"]),lt.table&&(zt(lt,["tbody"]),delete Vt.tbody),Rn&&Rn(re),Fr=re)},Ln=zt({},["mi","mo","mn","ms","mtext"]),xn=zt({},["foreignobject","desc","title","annotation-xml"]),hn=zt({},Rv);zt(hn,Lv),zt(hn,cZe);var Mr=zt({},Iv);zt(Mr,fZe);var In=function(re){var Ce=X(re);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:Ot,tagName:"template"});var Re=Sf(re.tagName),it=Sf(Ce.tagName);if(re.namespaceURI===bt)return Ce.namespaceURI===Ot?Re==="svg":Ce.namespaceURI===ht?Re==="svg"&&(it==="annotation-xml"||Ln[it]):!!hn[Re];if(re.namespaceURI===ht)return Ce.namespaceURI===Ot?Re==="math":Ce.namespaceURI===bt?Re==="math"&&xn[it]:!!Mr[Re];if(re.namespaceURI===Ot){if(Ce.namespaceURI===bt&&!xn[it]||Ce.namespaceURI===ht&&!Ln[it])return!1;var wt=zt({},["title","style","font","a","script"]);return!Mr[Re]&&(wt[Re]||!hn[Re])}return!1},cr=function(re){au(e.removed,{element:re});try{re.parentNode.removeChild(re)}catch{try{re.outerHTML=le}catch{re.remove()}}},Ir=function(re,Ce){try{au(e.removed,{attribute:Ce.getAttributeNode(re),from:Ce})}catch{au(e.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(re),re==="is"&&!Nt[re])if(pe||ye)try{cr(Ce)}catch{}else try{Ce.setAttribute(re,"")}catch{}},K=function(re){var Ce=void 0,Re=void 0;if(Y)re="<remove></remove>"+re;else{var it=r1(re,/^[\r\n\t ]+/);Re=it&&it[0]}ur==="application/xhtml+xml"&&(re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+re+"</body></html>");var wt=ce?ce.createHTML(re):re;if(rr===Ot)try{Ce=new C().parseFromString(wt,ur)}catch{}if(!Ce||!Ce.documentElement){Ce=ge.createDocument(rr,"template",null);try{Ce.documentElement.innerHTML=Gt?"":wt}catch{}}var F=Ce.body||Ce.documentElement;return re&&Re&&F.insertBefore(n.createTextNode(Re),F.childNodes[0]||null),rr===Ot?pt.call(Ce,I?"html":"body")[0]:I?Ce.documentElement:F},G=function(re){return Oe.call(re.ownerDocument||re,re,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},_=function(re){return re instanceof p||re instanceof b?!1:typeof re.nodeName!="string"||typeof re.textContent!="string"||typeof re.removeChild!="function"||!(re.attributes instanceof f)||typeof re.removeAttribute!="function"||typeof re.setAttribute!="function"||typeof re.namespaceURI!="string"||typeof re.insertBefore!="function"},L=function(re){return(typeof o>"u"?"undefined":vu(o))==="object"?re instanceof o:re&&(typeof re>"u"?"undefined":vu(re))==="object"&&typeof re.nodeType=="number"&&typeof re.nodeName=="string"},q=function(re,Ce,Re){Xe[re]&&oZe(Xe[re],function(it){it.call(e,Ce,Re,Fr)})},V=function(re){var Ce=void 0;if(q("beforeSanitizeElements",re,null),_(re)||r1(re.nodeName,/[\u0080-\uFFFF]/))return cr(re),!0;var Re=gr(re.nodeName);if(q("uponSanitizeElement",re,{tagName:Re,allowedTags:lt}),!L(re.firstElementChild)&&(!L(re.content)||!L(re.content.firstElementChild))&&Ma(/<[/\w]/g,re.innerHTML)&&Ma(/<[/\w]/g,re.textContent)||Re==="select"&&Ma(/<template/i,re.innerHTML))return cr(re),!0;if(!lt[Re]||Vt[Re]){if(_e&&!Ye[Re]){var it=X(re)||re.parentNode,wt=U(re)||re.childNodes;if(wt&&it)for(var F=wt.length,O=F-1;O>=0;--O)it.insertBefore(N(wt[O],!0),B(re))}return cr(re),!0}return re instanceof s&&!In(re)||(Re==="noscript"||Re==="noembed")&&Ma(/<\/no(script|embed)/i,re.innerHTML)?(cr(re),!0):(ae&&re.nodeType===3&&(Ce=re.textContent,Ce=ro(Ce,Se," "),Ce=ro(Ce,ze," "),re.textContent!==Ce&&(au(e.removed,{element:re.cloneNode()}),re.textContent=Ce)),q("afterSanitizeElements",re,null),!1)},te=function(re,Ce,Re){if(He&&(Ce==="id"||Ce==="name")&&(Re in n||Re in si))return!1;if(!(ie&&!Ne[Ce]&&Ma(Ve,Ce))){if(!(fe&&Ma(Qe,Ce))){if(!Nt[Ce]||Ne[Ce])return!1;if(!$e[Ce]){if(!Ma(vt,ro(Re,st,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&re!=="script"&&sZe(Re,"data:")===0&&yt[re])){if(!(ee&&!Ma(Ht,ro(Re,st,"")))){if(Re)return!1}}}}}}return!0},we=function(re){var Ce=void 0,Re=void 0,it=void 0,wt=void 0;q("beforeSanitizeAttributes",re,null);var F=re.attributes;if(F){var O={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nt};for(wt=F.length;wt--;){Ce=F[wt];var y=Ce,x=y.name,R=y.namespaceURI;if(Re=lZe(Ce.value),it=gr(x),O.attrName=it,O.attrValue=Re,O.keepAttr=!0,O.forceKeepAttr=void 0,q("uponSanitizeAttribute",re,O),Re=O.attrValue,!O.forceKeepAttr&&(Ir(x,re),!!O.keepAttr)){if(Ma(/\/>/i,Re)){Ir(x,re);continue}ae&&(Re=ro(Re,Se," "),Re=ro(Re,ze," "));var z=gr(re.nodeName);if(te(z,it,Re))try{R?re.setAttributeNS(R,x,Re):re.setAttribute(x,Re),t1(e.removed)}catch{}}}q("afterSanitizeAttributes",re,null)}},De=function de(re){var Ce=void 0,Re=G(re);for(q("beforeSanitizeShadowDOM",re,null);Ce=Re.nextNode();)q("uponSanitizeShadowNode",Ce,null),!V(Ce)&&(Ce.content instanceof i&&de(Ce.content),we(Ce));q("afterSanitizeShadowDOM",re,null)};return e.sanitize=function(de,re){var Ce=void 0,Re=void 0,it=void 0,wt=void 0,F=void 0;if(Gt=!de,Gt&&(de="<!-->"),typeof de!="string"&&!L(de)){if(typeof de.toString!="function")throw n1("toString is not a function");if(de=de.toString(),typeof de!="string")throw n1("dirty is not a string, aborting")}if(!e.isSupported){if(vu(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof de=="string")return t.toStaticHTML(de);if(L(de))return t.toStaticHTML(de.outerHTML)}return de}if($||Jn(re),e.removed=[],typeof de=="string"&&(Ie=!1),!Ie)if(de instanceof o)Ce=K("<!---->"),Re=Ce.ownerDocument.importNode(de,!0),Re.nodeType===1&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?Ce=Re:Ce.appendChild(Re);else{if(!pe&&!ae&&!I&&de.indexOf("<")===-1)return ce&&Pe?ce.createHTML(de):de;if(Ce=K(de),!Ce)return pe?null:le}Ce&&Y&&cr(Ce.firstChild);for(var O=G(Ie?de:Ce);it=O.nextNode();)it.nodeType===3&&it===wt||V(it)||(it.content instanceof i&&De(it.content),we(it),wt=it);if(wt=null,Ie)return de;if(pe){if(ye)for(F=Ge.call(Ce.ownerDocument);Ce.firstChild;)F.appendChild(Ce.firstChild);else F=Ce;return Te&&(F=Ke.call(r,F,!0)),F}var y=I?Ce.outerHTML:Ce.innerHTML;return ae&&(y=ro(y,Se," "),y=ro(y,ze," ")),ce&&Pe?ce.createHTML(y):y},e.setConfig=function(de){Jn(de),$=!0},e.clearConfig=function(){Fr=null,$=!1},e.isValidAttribute=function(de,re,Ce){Fr||Jn({});var Re=gr(de),it=gr(re);return te(Re,it,Ce)},e.addHook=function(de,re){typeof re=="function"&&(Xe[de]=Xe[de]||[],au(Xe[de],re))},e.removeHook=function(de){Xe[de]&&t1(Xe[de])},e.removeHooks=function(de){Xe[de]&&(Xe[de]=[])},e.removeAllHooks=function(){Xe={}},e}var kZe=$E(),CZe=["iframe","embed"],UE=[];function jE(t){dn(CZe,t)&&UE.push(t.toLowerCase())}function Os(t,e){return kZe.sanitize(t,Ae({ADD_TAGS:UE,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function WE(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function qm(t){t=t.match(Dl)[0];var e=t.match(new RegExp(VS,"g"));return e?e.reduce(function(r,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(r[a]=o.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function Hm(t){return ca(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function l1(t,e,r,n){var i=n.getToDOMNode(e)(t),a=r(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var s=Hm(i);return{dom:i,htmlAttrs:s}}var TZe={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Hm(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=l1(n,t,e,r),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Gn([t,o],ca(a.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Hm(n)}}}],toDOM:function(n){var i=l1(n,t,e,r).htmlAttrs;return[t,i,0]}}}};function xZe(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){t[i]&&Object.keys(t[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";jE(a),n[o][a]=TZe[i](a,e,r)})}),n}var SZe=/^\s*<\s*\//,EZe={paragraph:function(t,e){var r=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},i=[];return t.listData.task&&(n["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(r>3&&(o["data-backticks"]=r),i.length>0&&i[0].length>0){var s=i[0];a.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,i=e.skipChildren,a=t.info;if(a.indexOf("widget")!==-1&&n){i();var o=BS(t),s=_S(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return r()}};function uy(t,e){var r=Ae({},EZe);return t&&(r.link=function(n,i){var a=i.entering,o=i.origin,s=o();return a&&(s.attributes=Ae(Ae({},s.attributes),t)),s}),e&&Object.keys(e).forEach(function(n){var i=r[n],a=e[n];i&&Ti(a)?r[n]=function(o,s){var l=Ae({},s);return l.origin=function(){return i(o,s)},a(o,l)}:dn(["htmlBlock","htmlInline"],n)&&!Ti(a)?r[n]=function(o,s){var l=o.literal.match(Dl);if(l){var u=l[0],f=l[1],p=l[3],b=(f||p).toLowerCase(),C=a[b],T=WE(o,b);if(C){var M=Ae({},o);return M.attrs=qm(u),M.childrenHTML=T,M.type=b,s.entering=!SZe.test(o.literal),C(M,s)}}return s.origin()}:r[n]=a}),r}var MZe=["list","item","blockQuote"],OZe=["UL","OL","BLOCKQUOTE"];function AZe(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function u1(t,e,r){var n=ic(e)-1,i=Xd(e)-1,a=r[n].getBoundingClientRect(),o=r[i].offsetTop-r[n].offsetTop+r[i].clientHeight;return{height:o<=0?r[n].clientHeight:o+NZe(t,r,Math.min(i+1,t.childCount-1)),rect:a}}function NZe(t,e,r){for(var n=t.childCount-1,i=0;r<=n&&AZe(t,r);)i+=e[r].clientHeight,r+=1;return i}function DZe(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function fd(t,e){for(var r=0;t&&t!==e&&(dn(OZe,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function RZe(t,e){for(var r=e,n=null;r;){var i=r.firstElementChild;if(!i)break;var a=GE(i,t,fd(r,e));n=r,r=a}var o=r||n;return o===e?null:o}function GE(t,e,r){return t&&e>r+t.offsetTop?GE(t.nextElementSibling,e,r)||t:null}function LZe(t,e,r,n){var i=Math.min((t-e)/r,1);return i*n}function _v(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||kme(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return IZe({mdNode:e,el:r})}function IZe(t){for(var e=t.mdNode,r=t.el;(dn(MZe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var Pi={};function PZe(t,e){Pi[t]=Pi[t]||{},Pi[t].height=e}function _Ze(t,e){Pi[t]=Pi[t]||{},Pi[t].offsetTop=e}function BZe(t){return Pi[t]&&Pi[t].height}function FZe(t){return Pi[t]&&Pi[t].offsetTop}function Vm(t){t&&(delete Pi[Number(t.getAttribute("data-nodeid"))],ca(t.children).forEach(function(e){Vm(e)}))}function qZe(t,e,r){var n=BZe(r),i=FZe(r),a=n||t.clientHeight,o=i||fd(t,e)||t.offsetTop;return n||PZe(r,a),i||_Ze(r,o),{nodeHeight:a,offsetTop:o}}var Bv=gt("md-preview-highlight");function HZe(t,e){for(var r=t.firstChild;r&&r.next&&!(Yd(r.next)>e+1);)r=r.next;return r}var KE=(function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=gt("md-preview");var i=r.linkAttributes,a=r.customHTMLRenderer,o=r.sanitizer,s=r.highlight,l=s===void 0?!1:s;this.renderer=new ly({gfm:!0,nodeId:!0,convertors:uy(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=WS('<div class="'+gt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){Kg(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;r.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),uE(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",RZe(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Ri(e,Bv)}},t.prototype.updateCursorNode=function(e,r){e&&(e=Nl(e,function(o){return!xme(o)}),e.type==="tableRow"?e=HZe(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Ri(i,Bv),a&&ia(a,Bv),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(T){return r.renderer.render(T)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var s=i.id,l=s[0],u=s[1],f=this.getElementByNodeId(l),p=this.getElementByNodeId(u);if(f){f.insertAdjacentHTML("beforebegin",o);for(var b=f;b&&b!==p;){var C=b.nextElementSibling;Ss(b),Vm(b),b=C}b!=null&&b.parentNode&&(Ss(b),Vm(b))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){lE(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return Yg(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){ua(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){ua(this.el,{minHeight:e+"px"})},t})();function Pa(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function Pl(t){return!!Pa(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function dd(t){return!!Pa(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function _l(t){return Pa(t,function(e){var r=e.type;return r.name==="listItem"})}function oh(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return Ae({},r&&{rawHTML:r})}}}function JE(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function XE(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(r[n]=dn(["rawHTML","extended"],n)?a:Number(a)),r},{})}}}function Qr(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Br(t){var e=t.htmlAttrs,r=t.classNames;return Ae(Ae({},e),{class:r?r.join(" "):null})}function VZe(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return r.canReplaceWith(n,i,o)?a:null}return null}function zZe(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(r.child(u).type);if(l&&l.validEnd)return o}return null}function $Ze(t,e,r,n){var i=VZe(t,r),a=zZe(e,r);if(i&&a){var o=i.map(function(l){return{type:l}}),s=a.map(function(l){return{type:l,attrs:n}});return o.concat({type:r}).concat(s)}return null}function UZe(t,e,r,n,i){for(var a=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,f=We.empty,p=r.length-1;p>=0;p-=1)f=We.from(r[p].type.create(r[p].attrs,f));t.step(new Xr(a-(n?2:0),o,a,o,new ot(f,0,0),r.length,!0));for(var b=0,p=0;p<r.length;p+=1)if(r[p].type===i){b=p+1;break}for(var C=r.length-b,T=a+r.length-(n?2:0),p=s,M=l;p<M;p+=1){var N=p===s;!N&&ml(t.doc,T,C)&&(t.split(T,C),T+=C*2),T+=u.child(p).nodeSize}return t}function YE(t,e,r,n){var i=e.$from,a=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&i.node(o-1).type.compatibleContent(r)&&e.startIndex===0&&i.index(o-1)){var u=t.doc.resolve(e.start-2);s=new $f(u,u,o),e.endIndex<e.parent.childCount&&(e=new $f(i,t.doc.resolve(a.end(o)),o)),l=!0}var f=$Ze(s,e,r,n);return f?UZe(t,e,f,l,r):t}function QE(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return _l(r)}function jZe(t,e){var r=e.$from,n=e.$to,i=_l(r),a=_l(n);if(i&&a)for(;a;){var o=a.offset,s=a.node,l={task:!s.attrs.task,checked:!1};if(t.setNodeMarkup(o,null,l),o===i.offset)break;a=QE(t.doc,o)}return t}function WZe(t,e,r){var n=e.$from,i=e.$to,a=_l(n),o=_l(i);if(a&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var f=t.doc.resolve(s);if(f.parent.type!==r){var p=f.before(u-1);t.setNodeMarkup(p,r)}if(s===a.offset)break;o=QE(t.doc,s)}return t}function ZE(t){return function(e,r){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,s=a.blockRange(o);if(s){var l=Pl(a)?WZe(i,s,t):YE(i,s,t);return r(l),!0}return!1}}function GZe(){return function(t,e){var r=t.selection,n=t.tr,i=t.schema,a=r.$from,o=r.$to,s=a.blockRange(o);if(s){var l=Pl(a)?jZe(n,s):YE(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function KZe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(M){var N=M.childCount,B=M.firstChild;return!!N&&B.type===t});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==t)return!1;var f=u.lastChild&&u.lastChild.type===l.type,p=f?We.from(t.create()):null,b=new ot(We.from(t.create(null,We.from(l.type.create(null,p)))),f?3:1,0),C=s.start,T=s.end;return n.step(new Xr(C-(f?3:1),T,C,T,b,1,!0)),r(n),!0}return!1}}function JZe(t,e,r){var n=e.$from,i=e.$to,a=e.end,o=e.depth,s=e.parent,l=i.end(o);return a<l&&(t.step(new Xr(a-1,l,a,l,new ot(We.from(r.create(null,s.copy())),1,0),1,!0)),e=new $f(t.doc.resolve(n.pos),t.doc.resolve(l),o)),t.lift(e,zd(e)),t}function XZe(t,e){for(var r=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=r.child(i).nodeSize,t.delete(n-1,n+1);var o=t.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===r.childCount,f=o.node(-1),p=o.index(-1),b=f.canReplace(p+(l?0:1),p+1,s==null?void 0:s.content.append(u?We.empty:We.from(r)));if(s&&b){var C=o.pos,T=C+s.nodeSize;t.step(new Xr(C-(l?1:0),T+(u?1:0),C+1,T-1,new ot((l?We.empty:We.from(r.copy(We.empty))).append(u?We.empty:We.from(r.copy(We.empty))),l?0:1,u?0:1),l?0:1))}return t}function YZe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(f){var p=f.childCount,b=f.firstChild;return!!p&&b.type===t});if(s){var l=a.node(s.depth-1).type===t,u=l?JZe(n,s,t):XZe(n,s);return r(u),!0}return!1}}function QZe(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var s=a.node(-1);if(s.type!==t)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==t||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var l=a.index(-1)>0,u=We.empty,f=a.depth-(l?1:2);f>=a.depth-3;f-=1)u=We.from(a.node(f).copy(u));return u=u.append(We.from(t.createAndFill())),n.replace(l?a.before():a.before(-1),a.after(-3),new ot(u,l?3:2,2)),n.setSelection(Wt.near(n.doc.resolve(a.pos+(l?3:2)))),r(n),!0}var p=o.pos===a.end()?s.contentMatchAt(0).defaultType:null,b=p&&[null,{type:p}];return n.delete(a.pos,o.pos),ml(n.doc,a.pos,2,b)?(n.split(a.pos,2,b),r(n),!0):!1}}function ZZe(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,o=i.blockRange(a);return o&&Pl(i)?KZe(n.nodes.listItem)(t,e):!1}}}function eet(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,o=i.blockRange(a);return o&&Pl(i)?YZe(n.nodes.listItem)(t,e):!1}}}function cy(){return{indent:ZZe(),outdent:eet()}}var c1=new Map,nn=(function(){function t(e,r,n,i){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=i}return t.create=function(e){var r=Pa(e,function(T){var M=T.type;return M.name==="table"});if(r){var n=r.node,i=r.depth,a=r.offset,o=c1.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var s=[],l=e.start(i),u=n.child(0),f=n.child(1),p=zm(u,l),b=zm(f,l+u.nodeSize);u.forEach(function(T){return s.push(T)}),f.forEach(function(T){return s.push(T)});var C=new t(n,s,l,p.concat(b));return c1.set(n,C),C}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=r;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):i+a},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[r,i];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,i,a;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(r),f=u[0],p=u[1];return i=fk(s,f),s=i[0],f=i[1],a=fk(l,p),l=a[0],p=a[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:f,endColIdx:p})},t.prototype.getSpannedOffsets=function(e){return e},t})(),zm=function(t,e){var r=[];return t.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;a[u];)u+=1;a[u]={offset:e+i+s+2,nodeSize:l},a.length+=1}),r.push(a)}),r};function tet(t,e){return Ug(nn.prototype,t),zm=e,nn}function ret(t,e,r){for(var n=r.startRowIdx,i=r.startColIdx,a=r.endRowIdx,o=r.endColIdx,s=[],l=n;l<=a;l+=1)for(var u=i;u<=o;u+=1){var f=e.getCellInfo(l,u),p=f.offset,b=f.nodeSize;s.push(new _x(t.resolve(p+1),t.resolve(p+b-1)))}return s}function net(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),We.from(r)}var fy=(function(t){ft(e,t);function e(r,n){n===void 0&&(n=r);var i=this,a=r.node(0),o=nn.create(r),s=o.getRectOffsets(r,n),l=ret(a,o,s);return i=t.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=r,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(r,n){var i=this.startCell.pos,a=this.endCell.pos,o=r.resolve(n.map(i)),s=r.resolve(n.map(a)),l=nn.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},f=u[s.parent.type.name],p=s.end(s.depth-f),b=Math.min(p-4,s.pos);return Kt.create(r,b)}return new e(o,s)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),i=r.child(1).firstChild,a=r.child(0).type.create(),o=r.child(1).type.create(),s=nn.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,f=l.startColIdx,p=l.endRowIdx,b=l.endColIdx,C=!1,T=u;T<=p;T+=1){for(var M=[],N=f;N<=b;N+=1){var B=s.getCellInfo(T,N).offset,U=r.nodeAt(B-n);U&&(C=U.type.name==="tableHeadCell",s.extendedRowspan(T,N)||s.extendedColspan(T,N)?M.push(U.type.create({extended:!0})):M.push(U.copy(U.content)))}var X=i.copy(We.from(M)),Z=C?a:o;Z.content=Z.content.append(We.from(X))}return new ot(net(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e})(Wt);function iet(t,e,r){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<t;l+=1){var u=r&&r[l],f=o.create(null,u?e.text(u):[]);s.push(a.create(null,f))}return[i.create(null,s)]}function eM(t,e,r,n){for(var i=r.nodes,a=i.tableRow,o=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<t;u+=1){for(var f=[],p=0;p<e;p+=1){var b=n&&n[u*e+p],C=s.create(null,b?r.text(b):[]);f.push(o.create(null,C))}l.push(a.create(null,f))}return l}function Ef(t,e,r,n){n===void 0&&(n=null);for(var i=r.nodes,a=i.tableHeadCell,o=i.tableBodyCell,s=i.paragraph,l=e===0?a:o,u=[],f=0;f<t;f+=1)u.push(l.create(n,s.create()));return u}function tM(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function rM(t){return Pa(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Yi(t){if(t instanceof Kt){var e=t.$anchor,r=rM(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var i=t,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function nM(t){var e;if(t.size){var r=t.content,n=t.openStart,i=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&i>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function cl(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,i=t.endColIdx,a=n-e+1,o=i-r+1;return{rowCount:a,columnCount:o}}function aet(t,e){return Ae(Ae({},t.attrs),e)}var fo=new Zu("cellSelection"),oet=2,set=(function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=tM(e.target,this.view.dom);if(e.button===oet){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=fo.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;r?a=this.view.state.doc.resolve(r):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),fo.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(fo,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:r,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),s=rM(o);if(s){var l=o.before(s.depth);return a.resolve(l)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,i=n.selection,a=n.tr,o=fo.getState(this.view.state)===null,s=new fy(e,r);if(o||!i.eq(s)){var l=a.setSelection(s);o&&l.setMeta(fo,r.pos),this.view.dispatch(l)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t})(),uet=gt("cell-selected");function cet(t){var e=t.selection,r=t.doc;if(e instanceof fy){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,s=a.$to;n.push($n.node(o.pos-1,s.pos+1,{class:uet}))}),Lr.create(r,n)}return null}function fet(){return new Kn({key:fo,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(fo);if(r)return r===-1?null:r;if(Qf(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:cet,createSelectionBetween:function(t){var e=t.state;return Qf(fo.getState(e))?null:e.selection}},view:function(t){return new set(t)}})}var iM=(function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return Ts(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(r,i,n.keys[a],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t})(),Fv="en-US",det=(function(){function t(){this.code=Fv,this.langs=new iM}return t.prototype.setCode=function(e){this.code=e||Fv},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,r);else{var a=n.langs.get(i);n.langs.set(i,Fg(a,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(Fv));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+r);return i},t})(),_t=new det,het=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function pet(t,e){return het.map(function(r){return r.map(function(n){var i=n.action,a=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:_t.get(i),onClick:function(){t.emit("command",a,o)},disabled:e&&!!s,className:l}})}).concat()}function vet(t){return new Kn({props:{handleDOMEvents:{contextmenu:function(e,r){var n=tM(r.target,e.dom);if(n){r.preventDefault();var i=r,a=i.clientX,o=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,f=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:a-l+10+"px",top:o-u+30+"px"},menuGroups:pet(t,f),tableCell:n}),!0}return!1}}}})}function met(){return new Kn({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,i=r.clientY,a=t.posAtCoords({left:n,top:i});if(a){var o=t.state,s=o.doc,l=o.tr,u=s.resolve(a.pos),f=_l(u),p=e.target,b=getComputedStyle(p,":before"),C=e,T=C.offsetX,M=C.offsetY;if(!f||!Gg(b,T,M))return!1;e.preventDefault();var N=u.before(f.depth),B=f.node.attrs;return l.setNodeMarkup(N,null,Ae(Ae({},B),{checked:!B.checked})),t.dispatch(l),!0}return!1}}}})}var get=["image","link","customBlock","frontMatter"],yet=["strong","strike","emph","code"],aM=["bulletList","orderedList","taskList"];function bet(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function wet(t,e){e[t]={active:!0},aM.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function ket(t,e,r,n){yet.forEach(function(i){var a=r.marks[i],o=t.marksAcross(e)||[],s=!!a.isInSet(o);s&&(n[i]={active:!0})})}function Cet(t,e,r){var n=t.$from,i=t.$to,a=t.from,o=t.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(l,u,f){var p=bet(l,f);dn(get,p)||(dn(aM,p)?(wet(p,s),s.indent.disabled=!1,s.outdent.disabled=!1):p==="paragraph"||p==="text"?ket(n,i,r,s):s[p]={active:!0})}),s}function Tet(t){return new Kn({view:function(){return{update:function(e){var r=e.state,n=r.selection,i=r.doc,a=r.schema;t.emit("changeToolbarState",{toolbarState:Cet(n,i,a)})}}}})}var xet=(function(){function t(e,r,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new Gd(a.innerViewContainer,{state:as.create({doc:a.node,plugins:[Uu({"Mod-z":function(){return Au(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Bg(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:CS,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),AS()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=gt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=gt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(i),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=gt("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(kr(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=bve(this.innerEditorView.state);for(this.canceled=!0;e--;)Au(this.innerEditorView.state,this.innerEditorView.dispatch),Au(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Kt.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,i=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ti(this.getPos)){for(var a=this.editorView.state.tr,o=zn.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)a.step(l[u].map(o));a.docChanged&&this.editorView.dispatch(a)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t})(),f1="image-link",Eet=(function(){function t(e,r,n,i){var a=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,f=s.offsetY;if(a.imageLink&&Ti(a.getPos)&&qS(l,f1)){var p=getComputedStyle(l,":before");if(s.stopPropagation(),Gg(p,u,f)){var b=a.view.state.tr,C=a.getPos();b.setSelection(kr(b,C,C+1)),a.view.dispatch(b),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=f1,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=Br(e.attrs);return r.src=i,a&&(r.alt=a),Xg(o,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t})(),Met="toastui-editor-ww-code-block",Oet="toastui-editor-ww-code-block-language",Aet=(function(){function t(e,r,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Ti(a.getPos)){var u=a.view.coordsAtPos(a.getPos()),f=u.top,p=u.right;a.createLanguageEditor({top:f,right:p})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=Met;var n=this.createCodeBlockElement(),i=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=i},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,i=Br(this.node.attrs);return n&&r.setAttribute("data-language",n),Xg(i,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,i=e.right,a=document.createElement("span");a.className=Oet;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var s=a.clientWidth;ua(a,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&Ti(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,Ss(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t})(),Net=/MsoListParagraph/,oM=/style=(.|\n)*mso-/,sM=/mso-list:(.*)/,Det=/O:P/,Ret=/^(n|u|l)/,Let="p.MsoListParagraph";function Iet(t){return oM.test(t)}function Pet(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(Zd(n)){var i=n,a=i.outerHTML,o=i.textContent,s=oM.test(a),l=sM.test(a);s&&!l&&o?e.push([n,!0]):(Det.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var f=u[0],p=u[1];p?Qme(f):Ss(f)}),t.innerHTML.trim()}function _et(t,e){var r=t.getAttribute("style");if(r){var n=r.match(sM),i=n[1],a=i.trim().split(" "),o=a[1],s=parseInt(o.replace("level",""),10),l=Ret.test(t.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:Pet(t)}}return null}function Bet(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function Fet(t){var e=[];return t.forEach(function(r,n){var i=e[n-1],a=_et(r,n);a&&(i&&Bet(a,i),e.push(a))}),e}function lM(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,r.appendChild(o),i.length&&r.appendChild(lM(i))}),r}function qet(t){var e=Fet(t),r=e.filter(function(n){var i=n.parent;return!i});return lM(r)}function Het(t){for(;t&&!Zd(t);)t=t.nextSibling;return t?!Net.test(t.className):!0}function Vet(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=Jme(e,Let);n.forEach(function(a){var o=Het(a.nextSibling);if(r.push(a),o){var s=qet(r),l=a.nextSibling;l?Yme(s,l):Xme(e,s),r=[]}Ss(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var d1="<!--StartFragment-->",zet="<!--EndFragment-->";function $et(t){var e=t.indexOf(d1),r=t.lastIndexOf(zet);return e>-1&&r>-1&&(t=t.slice(e+d1.length,r)),t.replace(/<br[^>]*>/g,US)}function Uet(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function jet(t){return t=$et(t),t=Uet(t),Iet(t)&&(t=Vet(t)),t}function Wet(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function uM(t,e,r){for(var n=[],i=t.childCount,a=0;a<i;a+=1)if(!t.child(a).attrs.extended){var o=a<i?r.create(t.child(a).attrs,t.child(a).content):r.createAndFill();n.push(o)}return n}function cM(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableHeadCell,o=uM(t,e,a);return i.create(null,o)}function fM(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableBodyCell,o=uM(t,e,a);return i.create(null,o)}function Get(t,e){for(var r=e.nodes,n=r.tableRow,i=r.tableBodyCell,a=[],o=0;o<t;o+=1){var s=i.createAndFill();a.push(s)}return n.create({dummyRowForPasting:!0},a)}function dM(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(a){return e.push(a)})}if(t.lastChild.type.name==="tableBody"){var i=t.lastChild;i.forEach(function(a){return r.push(a)})}return Gn(Gn([],e),r)}function Ket(t,e,r){var n=cM(t,e,r);return r.nodes.tableHead.create(null,n)}function h1(t,e,r){var n=t.map(function(a){return fM(a,e,r)});if(!t.length){var i=Get(e,r);n.push(i)}return r.nodes.tableBody.create(null,n)}function Jet(t,e,r,n){var i=Wet(t);if(r&&n)return e.nodes.table.create(null,[h1(t,i,e)]);var a=t[0],o=t.slice(1),s=[Ket(a,i,e)];return o.length&&s.push(h1(o,i,e)),e.nodes.table.create(null,s)}function Xet(t,e,r){var n=[],i=t.content,a=t.openStart,o=t.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=nM(new ot(We.from(s),0,0));if(l){var u=dM(l),f=l.firstChild.type.name==="tableBody",p=Jet(u,e,f,r);n.push(p)}}else n.push(s)}),new ot(We.from(n),a,o)}var Yet=4,Qet=2;function Mf(t){return t*Yet}function Zet(t,e,r){var n=[],i=dM(t),a=i[0].childCount,o=i.length,s=e.startRowIdx===0,l=i.slice(0,o);if(s){var u=l.shift();if(u){var f=cM(u,a,r).content;n.push(f)}}return l.forEach(function(p){if(!p.attrs.dummyRowForPasting){var b=fM(p,a,r).content;n.push(b)}}),n}function ett(t,e,r){for(var n=e.startRowIdx,i=e.startColIdx,a=r.length,o=0,s=function(C){var T=r[C].childCount;r[C].forEach(function(M){var N=M.attrs,B=N.colspan;B>1&&(T+=B-1)}),o=Math.max(o,T)},l=0;l<a;l+=1)s(l);var u=n+a-1,f=i+o-1,p=Math.max(u+1-t.totalRowCount,0),b=Math.max(f+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:f,addedRowCount:p,addedColumnCount:b}}function ttt(t,e){for(var r=t.startRowIdx,n=t.startColIdx,i=t.endRowIdx,a=t.endColIdx,o=t.addedRowCount,s=t.addedColumnCount,l=r;l<=i-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:a-s})}function rtt(t,e,r,n,i){for(var a=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,f=n.addedColumnCount,p=r.totalRowCount,b=0,C=0;C<p;C+=1){var T=r.getCellInfo(C,l-f),M=T.offset,N=T.nodeSize,B=t.mapping.map(M+N),U=Ef(f,C,e);if(t.insert(B,U),C>=a&&C<=s-u){var X=r.getCellInfo(C,l-f),Z=t.mapping.map(X.offset),ce=B+Mf(f);i[b]={rowIdx:C,startColIdx:o,endColIdx:l,dummyOffsets:[Z,ce]},b+=1}}}function ntt(t,e,r,n,i){var a=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=t.mapping.maps.length,f=r.tableEndOffset-2,p=eM(a,r.totalColumnCount+o,e),b=f;t.insert(t.mapping.slice(u).map(b),p);for(var C=0;C<a;C+=1){var T=b+Mf(s)+1,M=b+Mf(l+1)+1,N=b+Mf(r.totalColumnCount+o)+Qet;i.push({rowIdx:C+r.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[T,M]}),b=N}}function itt(t,e,r,n){var i=t.mapping.maps.length;r.forEach(function(a,o){var s=a.rowIdx,l=a.startColIdx,u=a.endColIdx,f=a.dummyOffsets,p=t.mapping.slice(i),b=new ot(e[o],0,0),C=f?f[0]:n.getCellStartOffset(s,l),T=f?f[1]:n.getCellEndOffset(s,u);t.replace(p.map(C),p.map(T),b)})}function att(t,e){var r=t.state,n=r.selection,i=r.schema,a=r.tr,o=Yi(n),s=o.anchor,l=o.head;if(s&&l){var u=nM(e);if(!u)return!1;var f=nn.create(s),p=f.getRectOffsets(s,l),b=Zet(u,p,i),C=ett(f,p,b),T=[];return stt(f,C)&&(ttt(C,T),C.addedColumnCount&&rtt(a,i,f,C,T),C.addedRowCount&&ntt(a,i,f,C,T),itt(a,b,T,f),t.dispatch(a),ott(t,T,f.getCellInfo(0,0).offset)),!0}return!1}function ott(t,e,r){var n=t.state,i=n.tr,a=n.doc,o=nn.create(a.resolve(r)),s=e[0],l=s.rowIdx,u=s.startColIdx,f=kn(e),p=f.rowIdx,b=f.endColIdx,C=o.getCellInfo(l,u).offset,T=o.getCellInfo(p,b).offset;t.dispatch(i.setSelection(new fy(a.resolve(C),a.resolve(T))))}function stt(t,e){var r=t.getSpannedOffsets(e),n=cl(r),i=n.rowCount,a=n.columnCount,o=cl(e),s=o.rowCount,l=o.columnCount;return i===s&&a===l}var ltt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(yr),utt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:Ae({},Qr()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",Br(n),0]}}},enumerable:!1,configurable:!0}),e})(yr),ctt=/\s{1,4}$/,ftt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,o=i.$from,s=i.$to,l=o.blockRange(s);return l&&!Pl(o)&&!dd(o)?(n(a.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,o=i.$from,s=i.$to,l=i.from,u=o.blockRange(s);if(u&&!Pl(o)&&!dd(o)){var f=o.nodeBefore;if(f&&f.isText){var p=f.text,b=p.replace(ctt,""),C=p.length-b.length;return n(a.delete(l-C,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e})(yr),dtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({level:n},a&&{rawHTML:a})}}});return{attrs:Ae({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Qr()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var i=n.attrs;return["h"+i.level,Br(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.schema.nodes[r.level?"heading":"paragraph"];return _g(a,r)(n,i)}}},e})(yr),htt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Ae({language:{default:null},rawHTML:{default:null}},Qr()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),i=r.firstElementChild;return Ae({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",Ae({"data-language":n.language},Br(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return _g(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(i,a){var o=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,f=n.context.view;if(f.endOfTextblock(r)&&u.node().type.name==="codeBlock"){var p=u.parent.textContent.split(`
`),b=r==="up"?u.start():u.end(),C=r==="up"?[b,p[0].length+b]:[b-kn(p).length,b],T=s.resolve(r==="up"?u.before():u.after()),M=r==="up"?T.nodeBefore:T.nodeAfter;if(gme(u.pos,C[0],C[1])&&!M){var N=jg(o,T,l);if(N)return a(N),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e})(yr),ptt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[oh("ul")],toDOM:function(r){var n=r.attrs;return["ul",Br(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return ZE(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:GZe}},e.prototype.keymaps=function(){var r=this.changeList(),n=cy(),i=n.indent,a=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:i(),"Shift-Tab":a()}},e})(yr),vtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ae({order:{default:1},rawHTML:{default:null}},Qr()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),i=r.getAttribute("data-raw-html");return Ae({order:r.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",Ae({start:n.order===1?null:n.order},Br(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ZE(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=cy(),i=n.indent,a=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:i(),"Shift-Tab":a()}},e})(yr),mtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return Ae({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",Ae({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var i=r.selection,a=r.tr,o=r.schema,s=i.$from,l=i.empty,u=o.nodes.listItem,f=s.parent,p=s.node(-1);if(l&&!f.childCount&&p.type===u){if(s.index(-2)>=1)return a.delete(s.start(-1)-1,s.end(-1)),n(a),!0;var b=s.node(-3);if(b.type===u)return a.delete(s.start(-2)-1,s.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,i){return QZe(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e})(yr),gtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},Qr()),content:"block+",group:"block",parseDOM:[oh("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",Br(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return ave(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e})(yr),ytt={left:Ett,right:Stt,up:Mtt,down:Ott};function btt(t,e,r){var n=r[0],i=r[1],a=e.resolve(t.before(n-1));return i===n&&!a.nodeBefore}function wtt(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=t.node(r-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}r-=1}return!1}function ktt(t,e,r,n,i){var a=e[0],o=e[1],s=e[2];if(t==="left"||t==="up"){if(i&&!btt(r,n,[a,o]))return!1;var l=r.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function Ctt(t,e,r,n,i){if(t==="right"||t==="down"){if(i&&!wtt(r))return!1;var a=r.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function Ttt(t,e,r,n){var i=e[0],a=e[1],o=i+3,s=a>=o,l=s?i+1:a,u=ktt(t,[a,o,l],r,n,s),f=Ctt(t,l,r,n,s);return u&&f}function p1(t,e,r){var n=r[0],i=r[1],a=e.getRowspanStartInfo(n,i),o=t==="up"&&n===0,s=t==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||s}function xtt(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Wt.near(n,-1)):jg(t,n,r)}function qv(t,e,r,n){n===void 0&&(n=!1);var i=t.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?jg(t,i,r):t.setSelection(Wt.near(i,1))}function Stt(t,e){var r=t[0],n=t[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,s=r===i-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(r,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===a)&&(r+=1,l=0);var f=e.getCellInfo(r,l).offset;return f+2}return null}function Ett(t,e){var r=t[0],n=t[1],i=e.totalColumnCount,a=n===0,o=r===0&&a;if(!o){n-=1,a&&(r-=1,n=i-1);var s=e.getCellInfo(r,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function Mtt(t,e){var r=t[0],n=t[1];if(r>0){var i=e.getCellInfo(r-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function Ott(t,e){var r=t[0],n=t[1],i=e.totalRowCount;if(r<i-1){var a=r+1,o=e.getRowspanStartInfo(r,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var s=e.getCellInfo(a,n).offset;return s+2}return null}function v1(t,e,r,n){var i=ytt[t],a=i(r,n);if(a){var o=t==="right"||t==="down"?1:-1;return e.setSelection(Wt.near(e.doc.resolve(a),o))}return null}function Att(t,e,r){var n=r[0],i=r[1];if(t==="up"||t==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,f=t==="left"?a:o,p=t==="left"?l-2:l+u+3;return f===p}function Ntt(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new Lt(n))}function Dtt(t,e,r){var n,i,a;return t==="up"?(n=r.startRowIdx,i=0,a=-1):(n=r.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function Rtt(t,e,r){var n=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,r-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var Ltt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[oh("table")],toDOM:function(r){var n=r.attrs;return["table",Br(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=r.rowCount,o=r.columnCount,s=r.data,l=n.schema,u=n.selection,f=n.tr,p=u.from,b=u.to,C=u.$from,T=p===b;if(T&&!dd(C)){var M=l.nodes,N=M.tableHead,B=M.tableBody,U=s==null?void 0:s.slice(0,o),X=s==null?void 0:s.slice(o,s.length),Z=iet(o,l,U),ce=eM(a-1,o,l,X),le=l.nodes.table.create(null,[N.create(null,Z),B.create(null,ce)]);return i(f.replaceSelectionWith(le)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=nn.create(i.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,f=kr(a.delete(u,l),u);return n(a.setSelection(f)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=Yi(a),u=l.anchor,f=l.head;if(u&&f){for(var p=nn.create(u),b=p.getRectOffsets(u,f),C=r==="left"?b.startColIdx:b.endColIdx+1,T=cl(b).columnCount,M=p.totalRowCount,N=0;N<M;N+=1){var B=Ef(T,N,s);o.insert(o.mapping.map(p.posAt(N,C)),B)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=Yi(i),s=o.anchor,l=o.head;if(s&&l){var u=nn.create(s),f=u.getRectOffsets(s,l),p=u.totalColumnCount,b=u.totalRowCount,C=cl(f).columnCount,T=C===p;if(T)return!1;for(var M=f.startColIdx,N=f.endColIdx,B=a.mapping.maps.length,U=0;U<b;U+=1)for(var X=N;X>=M;X-=1){var Z=u.getCellInfo(U,X),ce=Z.offset,le=Z.nodeSize,se=a.mapping.slice(B).map(ce),ge=se+le;a.delete(se,ge)}return n(a),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=Yi(a),u=l.anchor,f=l.head;if(u&&f){var p=nn.create(u),b=p.totalColumnCount,C=p.getRectOffsets(u,f),T=cl(C).rowCount,M=Dtt(r,p,C),N=M.targetRowIdx,B=M.insertColIdx,U=M.nodeSize,X=N===0;if(!X){for(var Z=[],ce=s.mapping.map(p.posAt(N,B))+U,le=[],se=0;se<b;se+=1)le=le.concat(Ef(1,N,o));for(var ge=0;ge<T;ge+=1)Z.push(o.nodes.tableRow.create(null,le));return i(s.insert(ce,Z)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=Yi(i),s=o.anchor,l=o.head;if(s&&l){var u=nn.create(s),f=u.totalRowCount,p=u.totalColumnCount,b=u.getRectOffsets(s,l),C=cl(b).rowCount,T=b.startRowIdx,M=b.endRowIdx,N=T===0,B=C===f-1;if(B||N)return!1;for(var U=M;U>=T;U-=1){var X=Rtt(u,U,p),Z=X.from,ce=X.to;a.delete(Z-1,ce+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,i){var a=r.align,o=n.selection,s=n.tr,l=Yi(o),u=l.anchor,f=l.head;if(u&&f){for(var p=nn.create(u),b=p.totalRowCount,C=p.getRectOffsets(u,f),T=C.startColIdx,M=C.endColIdx,N=0;N<b;N+=1)for(var B=T;B<=M;B+=1)if(!p.extendedRowspan(N,B)&&!p.extendedColspan(N,B)){var U=p.getNodeAndPos(N,B),X=U.node,Z=U.pos,ce=aet(X,{align:a});s.setNodeMarkup(Z,null,ce)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=Yi(a),u=l.anchor,f=l.head;if(u&&f){var p=nn.create(u),b=p.getCellIndex(u),C=void 0;if(p1(r,p,b)?C=qv(o,p,s):C=v1(r,o,b,p),C)return i(C),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=i.doc,u=i.schema,f=o.$from,p=n.context.view;if(!p.endOfTextblock(r))return!1;var b=Pa(f,function(X){var Z=X.type;return Z.name==="tableHeadCell"||Z.name==="tableBodyCell"});if(b){var C=Pa(f,function(X){var Z=X.type;return Z.name==="paragraph"}),T=b.depth;if(C&&Ttt(r,[T,C.depth],f,l)){var M=Yi(o).anchor,N=nn.create(M),B=N.getCellIndex(M),U=void 0;if(Att(r,N,B)?U=Ntt(s,f,T):p1(r,N,B)?r==="up"?U=xtt(s,N,u):r==="down"&&(U=qv(s,N,u)):U=v1(r,s,B,N),U)return a(U),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var i=r.schema,a=r.selection,o=r.tr,s=Yi(a),l=s.anchor,u=s.head,f=a instanceof Kt;if(l&&u&&!f){for(var p=nn.create(l),b=p.getRectOffsets(l,u),C=b.startRowIdx,T=b.startColIdx,M=b.endRowIdx,N=b.endColIdx,B=C;B<=M;B+=1)for(var U=T;U<=N;U+=1)if(!p.extendedRowspan(B,U)&&!p.extendedColspan(B,U)){var X=p.getNodeAndPos(B,U),Z=X.node,ce=X.pos,le=Ef(1,B,i,Z.attrs);o.replaceWith(o.mapping.map(ce),o.mapping.map(ce+Z.nodeSize),le)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var i=r.selection,a=r.tr,o=r.schema,s=i.$from,l=Pa(s,function(b){var C=b.type;return C.name==="tableHeadCell"||C.name==="tableBodyCell"});if(l){var u=Pa(s,function(b){var C=b.type;return C.name==="paragraph"});if(u){var f=Yi(i).anchor,p=nn.create(f);return n(qv(a,p,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e})(yr),Itt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[oh("thead")],toDOM:function(r){var n=r.attrs;return["thead",Br(n),0]}}},enumerable:!1,configurable:!0}),e})(yr),Ptt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),i=n[0].children.length,a=r.getAttribute("data-raw-html");return i?Ae({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",Br(n),0]}}},enumerable:!1,configurable:!0}),e})(yr),_tt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,i=r.getAttribute("data-raw-html");return n?Ae({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",Br(n),0]}}},enumerable:!1,configurable:!0}),e})(yr),Btt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Ae({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Qr()),isolating:!0,parseDOM:[XE("th")],toDOM:function(r){var n=r.attrs,i=JE(n);return["th",Ae(Ae({},i),Br(n)),0]}}},enumerable:!1,configurable:!0}),e})(yr),Ftt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[XE("td")],toDOM:function(r){var n=r.attrs,i=JE(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e})(yr),qtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:Ae({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Qr()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=Os(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return Ae({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",Ae(Ae({src:ul(n.imageUrl)},n.altText&&{alt:n.altText}),Br(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,i){var a=n.schema,o=n.tr,s=r,l=s.imageUrl,u=s.altText;if(!l)return!1;var f=a.nodes.image.createAndFill(Ae({imageUrl:l},u&&{altText:u}));return i(o.replaceSelectionWith(f).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e})(yr),m1=1,Htt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},Qr()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",Br(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,i){var a,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,f=n.schema.nodes,p=f.thematicBreak,b=f.paragraph,C=[p.create()],T=s.node(m1),M=u.child(u.childCount-1)===T,N=u.resolve(s.after(m1)),B=((a=s.nodeAfter)===null||a===void 0?void 0:a.type.name)===r.name;return(M||B)&&C.push(b.create()),i(n.tr.insert(N.pos,C).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e})(yr),Vtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",Br(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return nc(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e})(Cr),ztt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",Br(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return nc(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e})(Cr),$tt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",Br(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return nc(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e})(Cr),Utt=(function(t){ft(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:Ae({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Qr()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Os(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return Ae({linkUrl:a,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",Ae(Ae({href:ul(i.linkUrl)},r.linkAttributes),Br(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,i){var a=r,o=a.linkUrl,s=a.linkText,l=s===void 0?"":s,u=n.schema,f=n.tr,p=n.selection,b=p.empty,C=p.from,T=p.to;if(C&&T&&o){var M={linkUrl:o},N=u.mark("link",M);if(b&&l){var B=un(u,l,N);f.replaceRangeWith(C,T,B)}else f.addMark(C,T,N);return i(f.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,i){return nc(n.schema.marks.link,r)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e})(Cr),jtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},Qr()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return Ae({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",Br(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return nc(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e})(Cr),Wtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){return r!=null&&r.info?_g(n.schema.nodes.customBlock,r)(n,i):!1}}},e})(yr),Gtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?Pg(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(yr),Ktt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?Pg(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(yr);function Jtt(t){return new ZS([new ltt,new utt,new ftt,new dtt,new htt,new ptt,new vtt,new mtt,new gtt,new Ltt,new Itt,new Ptt,new _tt,new Btt,new Ftt,new qtt,new Htt,new Vtt,new ztt,new $tt,new Utt(t),new jtt,new Wtt,new Gtt,new YS,new Ktt])}var Xtt=gt("contents"),Ytt=(function(t){ft(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,f=n.useCommandShortcut,p=f===void 0?!0:f,b=n.wwPlugins,C=b===void 0?[]:b,T=n.wwNodeViews,M=T===void 0?{}:T;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=u,i.extraPlugins=C,i.pluginNodeViews=M,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(p),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Ae(Ae({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return Jtt(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new kx({nodes:Ae(Ae({},this.specs.nodes),r.nodes),marks:Ae(Ae({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return Gn([fet(),vet(this.eventEmitter),met(),Tet(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,i=r.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(s,l,u){return i[o](s,l,u,n)}}),a},e.prototype.createView=function(){var r=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new Gd(this.el,{state:this.createState(),attributes:{class:Xtt},nodeViews:Ae({customBlock:function(o,s,l){return new xet(o,s,l,i)},image:function(o,s,l){return new Eet(o,s,l,a)},codeBlock:function(o,s,l){return new Aet(o,s,l,a)},widget:XS},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=r.view.state.applyTransaction(o).state;r.view.updateState(s),r.emitChangeEvent(o.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:jet,transformPasted:function(o){return Xet(o,r.schema,dd(r.view.state.selection.$from))},handlePaste:function(o,s,l){return att(o,l)},handleKeyDown:function(o,s){return r.eventEmitter.emit("keydown",r.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var f=ca(u).some(function(b){return b.kind==="string"&&b.type==="text/rtf"});if(!f){var p=JS(u);p&&(s.preventDefault(),Qg(r.eventEmitter,p,s.type))}}return!1},keyup:function(o,s){return r.eventEmitter.emit("keyup",r.editorType,s),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,cy())},e.prototype.getHTML=function(){return Yg(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,i){var a=this.view.state,o=a.schema,s=a.tr,l=r.split(`
`),u=l.map(function(b){return rd(o,ms(b,o))}),f=new ot(We.from(u),1,1),p=Da(n)&&Da(i)?s.replaceRange(n,i,f):s.replaceSelection(f);this.view.dispatch(p),this.focus()},e.prototype.deleteSelection=function(r,n){var i=this.view.state.tr,a=Da(r)&&Da(n)?i.deleteRange(r,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;return Da(r)&&Da(n)&&(s=r,l=n),a.textBetween(s,l,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=kr(i,r,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(r,n,i){var a=this.view,o=a.dispatch,s=a.state;o(s.tr.setMeta("widget",{pos:i??s.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=ms(i,s);this.view.dispatch(o.replaceWith(r,n,l))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,o=r?i.resolve(r):a.$from,s=o.marks(),l=o.node(),u=o.start(),f=o.end(),p=l.type.name;if(s.length||p==="paragraph"){var b=s[s.length-1],C=function(T){return T.length?dn(T,b):!0};p=b?b.type.name:"text",l.forEach(function(T,M){var N=T.isText,B=T.nodeSize,U=T.marks,X=o.pos-u;N&&M<=X&&M+B>=X&&C(U)&&(u=u+M,f=u+B)})}return{range:[u,f],type:p}},e})(QS),Qtt=qi,Ztt=Qf;function ert(t){return!Qtt(t)&&!Ztt(t)}var trt=ert,rrt=trt;function nrt(t){return rrt(t)&&t!==!1}var irt=nrt,art=irt;function ort(t){return!art(t)}var srt=ort,g1=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],hM=(function(){function t(){var e=this;this.events=new iM,this.eventTypes=g1.reduce(function(r,n){return Ae(Ae({},r),{type:n})},{}),this.hold=!1,g1.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),i.push(r),this.events.set(n.type,i)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(s){var l=s.apply(void 0,r);qi(l)||o.push(l)}),o},t.prototype.emitReduce=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var s=o.apply(void 0,Gn([r],n));srt(s)||(r=s)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!qi(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&r?this.removeEventHandlerWithHandler(a,r):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var i=n.indexOf(r);n.indexOf(r)>=0&&n.splice(i,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==r&&n.push(a),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t})(),lrt=(function(){function t(e,r,n,i){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t})();function Of(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function $m(t,e){var r=t.schema,n=e.literal,i=n.match(Dl);if(i){var a=i[1],o=i[3],s=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[s]||r.nodes[s])}return!1}function Um(t){var e=t.type;return dn(["text","strong","emph","strike","image","link","code"],e)}function y1(t){return(t==null?void 0:t.type)==="softbreak"}function ou(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(Dl);if(n){var i=n[1],a=n[3],o=i||a;if(o)return dn(["ul","ol","li"],o.toLowerCase())}return!1}function urt(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function b1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=Os(t);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function crt(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=t[r]})}),e}var frt={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,i=t.schema.marks.link;if(r){var a=b1(n,"href")[0];t.openMark(i.create({linkUrl:a,rawHTML:r}))}else t.closeMark(i)},img:function(t,e,r){var n=e.literal;if(r){var i=b1(n,"src","alt"),a=i[0],o=i[1],s=t.schema.nodes.image;t.addNode(s,Ae({rawHTML:r,imageUrl:a},o&&{altText:o}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(y1(i)&&t.openNode(r),y1(a)?t.closeNode():a&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(i&&(Um(i)||$m(t,i))&&t.closeNode(),a&&(Um(a)||$m(t,a))&&t.openNode(r))},pre:function(t,e,r){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Of(o)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,s=r==="ul"?i:a;r?(e.prev&&!ou(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:r})):(t.closeNode(),e.next&&!ou(e.next)&&t.openNode(o))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=t.schema.nodes,a=i.listItem,o=i.paragraph;if(r){var s=urt(e);e.prev&&!ou(e.prev)&&t.closeNode(),t.openNode(a,Ae({rawHTML:r},s)),e.next&&!ou(e.next)&&t.openNode(o)}else e.prev&&!ou(e.prev)&&t.closeNode(),t.closeNode()}}},drt=crt(frt);function w1(t){return t.type==="htmlInline"&&xm.test(t.literal)}function pM(t){ca(t.childNodes).forEach(function(e){if(Zd(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&pM(e)}})}var k1={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var i,a=r.entering;if(a){var o=t.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(t.openNode(o,n),t.closeNode()),t.openNode(o,n)}else t.closeNode()},heading:function(t,e,r,n){var i=r.entering;if(i){var a=e,o=a.level,s=a.headingType;t.openNode(t.schema.nodes.heading,Ae({level:o,headingType:s},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;t.openNode(n,Ae({language:a},r)),t.addText(Of(o||"")),t.closeNode()},list:function(t,e,r,n){var i=r.entering;if(i){var a=t.schema.nodes,o=a.bulletList,s=a.orderedList,l=e.listData,u=l.type,f=l.start;u==="bullet"?t.openNode(o,n):t.openNode(s,Ae({order:f},n))}else t.closeNode()},item:function(t,e,r,n){var i=r.entering,a=t.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(i){var u=Ae(Ae(Ae({},s&&{task:s}),l&&{checked:l}),n);t.openNode(a,u)}else t.closeNode()},blockQuote:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var i=r.entering,a=r.skipChildren,o=t.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&a&&a(),t.addNode(o,Ae(Ae({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strong;i?t.openMark(a.create(n)):t.closeMark(a)},emph:function(t,e,r,n){var i=r.entering,a=t.schema.marks.emph;i?t.openMark(a.create(n)):t.closeMark(a)},link:function(t,e,r,n){var i=r.entering,a=t.schema.marks.link,o=e,s=o.destination,l=o.title;if(i){var u=Ae({linkUrl:s,title:l},n);t.openMark(a.create(u))}else t.closeMark(a)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!w1(r)&&t.closeNode(),n&&!w1(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var i=function(T){return T&&(Um(T)||$m(t,T))};if(n){var a=t.schema.nodes,o=a.tableHeadCell,s=a.tableBodyCell,l=a.paragraph,u=e.parent.parent,f=u.type==="tableHead"?o:s,p=u.parent,b=(p.columns[e.startIdx]||{}).align,C=Ae({},e.attrs);b&&(C.align=b),t.openNode(f,C),i(e.firstChild)&&t.openNode(l)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strike;i?t.openMark(a.create(n)):t.closeMark(a)},code:function(t,e,r,n){var i=t.schema.marks.code;t.openMark(i.create(n)),t.addText(Of(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,i=r.paragraph,a=e,o=a.info,s=a.literal;t.openNode(n,{info:o}),t.addText(Of(s||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(Dl),i=n[1],a=n[3],o=(i||a).toLowerCase(),s=t.schema.marks[o],l=Os(r);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=qm(l);t.openMark(s.create({htmlAttrs:u}))}else t.closeMark(s);else{var f=drt[o];f&&f(t,e,i)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),i=Gme.test(r);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var a=r.match(Dl),o=a[1],s=a[3],l=(o||s).toLowerCase(),u=t.schema.nodes[l],f=Os(r);if(u!=null&&u.spec.attrs.htmlBlock){var p=qm(f),b=WE(e,l);t.addNode(u,{htmlAttrs:p,childrenHTML:b})}else n.innerHTML=f,pM(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,i=r.skipChildren,a=e,o=a.info,s=a.firstChild,l=t.schema;if(o.indexOf("widget")!==-1&&n){var u=BS(e);i(),t.addNode(l.nodes.widget,{info:o},[l.text(PS(o,u))])}else{var f="$$";n&&(f+=s?o+" ":o),t.addText(f)}}};function hrt(t){var e=Object.keys(t),r=Ae({},k1),n=new ly({gfm:!0,nodeId:!0,convertors:t}),i=n.getConvertors();return e.forEach(function(a){var o=k1[a];o&&!dn(["htmlBlock","htmlInline"],a)&&(r[a]=function(s,l,u){u.origin=function(){return i[a](l,u,i)};var f=t[a](l,u),p;if(f){var b=Array.isArray(f)?f[0]:f,C=b.attributes,T=b.classNames;p={htmlAttrs:C,classNames:T}}o(s,l,u,p)})}),r}function prt(t,e){return t.isText&&e.isText&&sr.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var vrt=(function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=sr.none}return t.prototype.top=function(){return kn(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=kn(r),i=this.schema.text(e,this.marks),a=n&&prt(n,i);a?r[r.length-1]=a:r.push(i)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var i=e.createAndFill(r,n,this.marks);return i?(this.push(i),i):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=sr.none);var e=this.stack.pop(),r=e.type,n=e.attrs,i=e.content;return this.addNode(r,n,i)},t.prototype.convertByDOMParser=function(e){var r=this,n=bs.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return r.push(i)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),i=n.next(),a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type],f=!1;if(u){var p={entering:l,leaf:!Mme(s),getChildrenText:Ome,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){f=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,p),(r==null?void 0:r.node)===s){var b=o.stack.reduce(function(C,T){return C+T.content.reduce(function(M,N){return M+N.nodeSize},0)},0)+1;r.setMappedPos(b)}}f&&(n.resumeAt(s,!1),n.next()),i=n.next()},o=this;i;)a()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t})();function mrt(t,e,r){var n=r[0],i=r[1];t.write(n),t.convertInline(e),t.write(i)}function grt(t,e,r){var n=e.node,i=e.parent,a=r[0],o=r[1];t.stopNewline=!0,t.write(a),t.convertNode(n),t.write(o),(i==null?void 0:i.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function yrt(t,e){var r=t.length,n="",i="";return e==="left"?(n=":",r-=1):e==="right"?(i=":",r-=1):e==="center"&&(n=":",i=":",r-=2),""+n+Zf("-",Math.max(r,3))+i}var jm={text:function(t,e){var r,n=e.node,i=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?t.text(ed(i),!1):t.text(i)},paragraph:function(t,e){var r=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(t.stopNewline)t.convertInline(r);else{var o=a===0,s=!o&&n.child(a-1),l=s&&s.childCount===0,u=a<n.childCount-1&&n.child(a+1),f=u&&u.type.name==="paragraph",p=r.childCount===0;if(p&&l)t.write(`<br>
`);else if(p&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var b=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(b)}t.write(`
`)}else t.convertInline(r),f?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,i=r.delim,a=n.attrs.headingType;a==="atx"?(t.write(i+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(i),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,o=i,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,i=e.parent,a=r.delim;(i==null?void 0:i.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(a,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,i=r.delim;t.convertList(n,Zf(" ",4),function(){return i+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,Zf(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,i=n.task,a=n.checked;i&&t.write("["+(a?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,i=r.delim;t.write(i),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,i=r.delim,a=n.firstChild;t.convertNode(n);var o=i??"";!i&&a&&a.forEach(function(s){var l=s.textContent,u=s.attrs,f=yrt(l,u.align);o+="| "+f+" "}),t.write(o+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,o=i,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,i=r.text;t.text(i,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,i=r.text;t.write(i),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,i=r.text;t.write(i),t.closeBlock(n)}};function brt(t,e){var r=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Ts(t,["heading","codeBlock"])>-1?mrt(r,n.node,a):Ts(t,["image","thematicBreak"])>-1?r.write(a):grt(r,n,a):jm[t](r,n,i)}function C1(t,e){var r=t.text,n=/`+/g,i=0;if(t.isText&&r)for(var a=n.exec(r);a;)i=Math.max(i,a[0].length),a=n.exec(r);for(var o=i>0&&e>0?" `":"`",s=0;s<i;s+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function Ai(t){return t?["<"+t+">","</"+t+">"]:null}function su(t){return t?"<"+t+">":null}function lu(t){return t?"</"+t+">":null}var uu={heading:function(t){var e=t.node,r=e.attrs,n=r.level,i=Zf("#",n);return r.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Ai(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Ai(n.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:Ai(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Ai(i)}},orderedList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Ai(i)}},listItem:function(t,e){var r=t.node,n=e.inTable,i=r.attrs,a=i.task,o=i.checked,s=r.attrs.rawHTML;n&&(s=s||"li");var l=a?' class="task-list-item'+(o?" checked":"")+'"':"",u=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:Ai(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,i=r.altText,a=r.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+ul(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+ul(a)+'"'+o+">":null,attrs:{altText:ed(i||""),imageUrl:a}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:su(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"**",rawHTML:n?su(i):lu(i)}},emph:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"*",rawHTML:n?su(i):lu(i)}},strike:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?su(i):lu(i)}},link:function(t,e){var r=t.node,n=e.entering,i=r.attrs,a=i.title,o=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=a?' title="'+ul(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+ul(s)+'"'+l+">":null}:{delim:"]("+s+(a?" "+mme(ed(a)):"")+")",rawHTML:lu(o)}},code:function(t,e){var r=t.node,n=t.parent,i=t.index,a=i===void 0?0:i,o=e.entering,s=o?C1(n.child(a),-1):C1(n.child(a-1),1),l=o?su(r.attrs.rawHTML):lu(r.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,i=r.type.name,a=r.attrs.htmlAttrs,o="<"+i,s="</"+i+">";return Object.keys(a).forEach(function(l){o+=" "+l+'="'+a[l].replace(/"/g,"'")+'"'}),o+=">",r.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+r.attrs.childrenHTML+s}}},T1={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function wrt(t){var e={},r=Object.keys(jm);return r.forEach(function(n){e[n]=function(i,a){var o=jm[n];if(o){var s=t[n],l=s?s(a,{inTable:i.inTable}):{};brt(n,{state:i,nodeInfo:a,params:l})}}}),e}function krt(t){var e={},r=Object.keys(T1);return r.forEach(function(n){e[n]=function(i,a){var o=T1[n],s=t[n],l=s&&i&&!qi(a),u=l?s(i,{entering:a}):{};return Ae(Ae({},u),o)}}),e}function Crt(t){var e=Object.keys(t);e.forEach(function(i){var a=uu[i],o=t[i];a?uu[i]=function(s,l){return l.origin=function(){return a(s,l)},o(s,l)}:uu[i]=o,delete t[i]});var r=wrt(uu),n=krt(uu);return{nodeTypeConvertors:r,markTypeConvertors:n}}var Trt=(function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,i){var a=this.getMarkConvertor(e);if(a){var o=a({node:e,parent:n,index:i},r),s=o.delim,l=o.rawHTML;return l||s}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,i){var a=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=r?vme(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},t.prototype.convertInline=function(e){var r=this,n=[],i="",a=function(o,s,l){var u=o?o.marks:[],f=i;i="";var p=o&&o.isText&&u.some(function(Ge){var pt=r.getMarkConvertor(Ge),Ke=pt&&pt();return Ke&&Ke.removedEnclosingWhitespace});if(p&&o&&o.text){var b=/^(\s*)(.*?)(\s*)$/m.exec(o.text),C=b[1],T=b[2],M=b[3];f+=C,i=M,(C||M)&&(o=T?o.withText(T):null,o||(u=n))}for(var N=u.length&&kn(u),B=N&&r.getMarkConvertor(N),U=B&&B(),X=U&&U.escape===!1,Z=u.length-(X?1:0),ce=0;ce<Z;ce+=1){var T=u[ce];if(U&&!U.mixable)break;for(var le=0;le<n.length;le+=1){var se=n[le];if(U&&!U.mixable)break;if(T.eq(se)){ce>le?u=u.slice(0,le).concat(T).concat(u.slice(le,ce)).concat(u.slice(ce+1,Z)):le>ce&&(u=u.slice(0,ce).concat(u.slice(ce+1,le)).concat(T).concat(u.slice(le,Z)));break}}}for(var ge=0;ge<Math.min(n.length,Z)&&u[ge].eq(n[ge]);)ge+=1;for(;ge<n.length;){var Oe=n.pop();Oe&&r.text(r.markText(Oe,!1,e,l),!1)}if(f&&r.text(f),o){for(;n.length<Z;){var T=u[n.length];n.push(T),r.text(r.markText(T,!0,e,l),!1)}X&&o.isText?r.text(r.markText(N,!0,e,l)+o.text+r.markText(N,!1,e,l+1),!1):r.convertBlock(o,e,l)}};e.forEach(a),a(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,f){f&&o&&i.flushClose(1),i.wrapBlock(r,n(f),e,function(){return i.convertBlock(l,e,f)})}),this.tightList=s},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(dn(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,a),r.closed=!1;else if(r.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(r==null?void 0:r.node)===i){var s=n.result.split(`
`);r.setMappedPos([s.length,kn(s).length+1])}}),this.result},t})(),xrt=(function(){function t(e,r,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=hrt(n),this.toMdConvertors=Crt(r||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new vrt(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new Trt(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t})();function Srt(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,i=t.instance,a={Plugin:Kn,PluginKey:Zu,Selection:Wt,TextSelection:Kt},o={Decoration:$n,DecorationSet:Lr},s={Fragment:We},l={InputRule:No,inputRules:MS,undoInputRule:cve},u={keymap:Uu},f={eventEmitter:r,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:_t};if(Vl(e)){var p=e[0],b=e[1],C=b===void 0?{}:b;return p(f,C)}return e(f)}function vM(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,i=t.instance;return r.listen("mixinTableOffsetMapPrototype",tet),(e??[]).reduce(function(a,o){var s=Srt({plugin:o,eventEmitter:r,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,f=s.toMarkdownRenderers,p=s.markdownPlugins,b=s.wysiwygPlugins,C=s.wysiwygNodeViews,T=s.markdownCommands,M=s.wysiwygCommands,N=s.toolbarItems;return u&&(a.toHTMLRenderers=td(a.toHTMLRenderers,u)),f&&(a.toMarkdownRenderers=td(a.toMarkdownRenderers,f)),p&&(a.mdPlugins=a.mdPlugins.concat(p)),b&&(a.wwPlugins=a.wwPlugins.concat(b)),C&&(a.wwNodeViews=Ae(Ae({},a.wwNodeViews),C)),T&&(a.mdCommands=Ae(Ae({},a.mdCommands),T)),M&&(a.wwCommands=Ae(Ae({},a.wwCommands),M)),N&&(a.toolbarItems=a.toolbarItems.concat(N)),l&&(a.markdownParsers=Ae(Ae({},a.markdownParsers),l)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var Ert="data-task",Mrt="data-task-disabled",Ort="checked";function Art(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return jE(r)})})}var mM=(function(){function t(e){var r=this;this.options=Fg({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new hM;var n=RS(this.options.linkAttributes),i=vM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,f=s.referenceDefinition,p=s.frontMatter,b=s.customHTMLSanitizer,C={linkAttributes:n,customHTMLRenderer:Ae(Ae({},a),l),extendedAutolinks:u,referenceDefinition:f,frontMatter:p,sanitizer:b||Os};Art(C.customHTMLRenderer),this.options.events&&Ol(this.options.events,function(X,Z){r.on(Z,X)});var T=this.options,M=T.el,N=T.initialValue,B=T.theme,U=M.innerHTML;B!=="light"&&M.classList.add(gt(B)),M.innerHTML="",this.toastMark=new VE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:f,disallowDeepHeading:!0,frontMatter:p,customParser:o}),this.preview=new KE(this.eventEmitter,Ae(Ae({},C),{isViewer:!0})),uE(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),N?this.setMarkdown(N):U&&this.preview.setHTML(U),M.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(Mrt)&&r.hasAttribute(Ert)&&Gg(n,e.offsetX,e.offsetY)&&(Kg(r,Ort),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,i=kn(r),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){lE(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t})();function Af(t){return t instanceof yo}function gM(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return dn(e,t)}function Nrt(t){var e=t.attrs,r=t.type,n=r.name,i={type:n,wysiwygNode:!0,literal:!gM(n)&&Af(t)?t.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],s=Ae(Ae({},i),o),l=t.attrs,u=l.htmlAttrs,f=l.childrenHTML;return u?Ae(Ae({},s),{attrs:u,childrenHTML:f}):s}var Drt={openTag:function(t,e){var r=t,n=r.tagName,i=r.classNames,a=r.attributes,o=document.createElement(n),s={};i&&(o.className=i.join(" ")),a&&(s=Ae(Ae({},s),a)),Xg(s,o),e.push(o)},closeTag:function(t,e){if(e.length>1){var r=e.pop();kn(e).appendChild(r)}},html:function(t,e){kn(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);kn(e).appendChild(r)}},Rrt=(function(){function t(e,r){var n=uy(e,r),i=Ae(Ae({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(i)),this.renderer=new ly({gfm:!0,convertors:Ae(Ae({},n),i)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=Nrt(e),n={entering:!0,leaf:Af(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return Af(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(r,n,this.convertors),o=Vl(a)?a:[a];return(gM(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Af(e)?e.textContent:""}),o=o.concat(i(r,n,this.convertors))),o},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(i){return Drt[i.type](i,n)}),n[0]},t.prototype.getToDOMNode=function(e){return dn(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t})(),Lrt=100,Irt=15,ff=null,Hv=null;function x1(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;Hv&&clearTimeout(Hv),r(t),Hv=setTimeout(function(){n()},Irt)}function Prt(t,e,r){var n=e-t,i=Date.now(),a=function(){var o=Date.now(),s=(o-i)/Lrt,l;ff&&clearTimeout(ff),s<1?(l=t+n*Math.cos((1-s)*Math.PI/2),x1(Math.ceil(l),r),ff=setTimeout(a,1)):(x1(e,r),ff=null)};a()}var _rt=18,Brt=(function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=r.previewContent,a=r.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=_v(this.previewRoot,r).el,a=fd(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,s=a+o-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,i=r.previewEl,a=r.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),f=n.state.doc,p=this.getMdNodeAtPos(f,u);if(!(!p||wme(p))){var b=i.scrollTop,C=n.dom,T=C.scrollTop,M=C.scrollHeight,N=C.clientHeight,B=C.children,U=M-T<=N+_rt,X=U?i.scrollHeight:0;if(T&&!U){if(e){var Z=this.getScrollTopByCaretPos();if(!Z)return;X=Z}else{var ce=_v(this.previewRoot,p),le=ce.el,se=ce.mdNode,ge=u1(f,se,B),Oe=ge.height,Ge=ge.rect,pt=fd(le,a)||le.offsetTop,Ke=le.clientHeight,Tt=l>Ge.top?Math.min((l-Ge.top)/Oe,1):0;X=pt+Ke*Tt}X=this.getResolvedScrollTop("editor",T,X,b),this.latestEditorScrollTop=T}X!==b&&this.run("editor",X,b)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,i=r.editorView,a=r.previewRoot,o=r.previewEl,s=i.dom,l=i.state,u=o.scrollTop,f=o.clientHeight,p=o.scrollHeight,b=p-u<=f,C=s.scrollTop,T=b?s.scrollHeight:0;if(u&&e&&!b){if(e=DZe(e,a),!e.getAttribute("data-nodeid"))return;var M=s.children,N=Number(e.getAttribute("data-nodeid")),B=_v(this.previewRoot,n.findNodeById(N)),U=B.mdNode,X=B.el,Z=ic(U);T=M[Z-1].offsetTop;var ce=u1(l.doc,U,M).height,le=qZe(X,a,N),se=le.nodeHeight,ge=le.offsetTop;T+=LZe(u,ge,se,ce),T=this.getResolvedScrollTop("preview",u,T,C),this.latestPreviewScrollTop=u}T!==C&&this.run("preview",T,C)},t.prototype.getResolvedScrollTop=function(e,r,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<r?Math.max(n,i):Math.min(n,i)},t.prototype.run=function(e,r,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return a.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};Prt(n,r,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t})(),Frt={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function qrt(t){t.eventEmitter.listen("query",function(e,r){return Frt[e](t,r)})}var yM=(function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Fg({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,f=n.initialEditType,p=n.widgetRules,b=n.customHTMLSanitizer;this.mode=f||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=_t,this.i18n.setCode(this.options.language),this.eventEmitter=new hM,Nme(p);var C=RS(this.options.linkAttributes);this.pluginInfo=vM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var T=this.pluginInfo,M=T.toHTMLRenderers,N=T.toMarkdownRenderers,B=T.mdPlugins,U=T.wwPlugins,X=T.wwNodeViews,Z=T.mdCommands,ce=T.wwCommands,le=T.markdownParsers,se={linkAttributes:C,customHTMLRenderer:td(M,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:s,sanitizer:b||Os},ge=new Rrt(C,se.customHTMLRenderer),Oe=xZe(se.customHTMLRenderer,se.sanitizer,ge);this.toastMark=new VE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:le}),this.mdEditor=new Rye(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:B}),this.preview=new KE(this.eventEmitter,Ae(Ae({},se),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Ytt(this.eventEmitter,{toDOMAdaptor:ge,useCommandShortcut:u,htmlSchemaMap:Oe,linkAttributes:C,wwPlugins:U,wwNodeViews:X}),this.convertor=new xrt(this.wwEditor.getSchema(),Ae(Ae({},N),l),uy(C,se.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new lrt(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&fme(),this.scrollSync=new Brt(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(Z,ce),qrt(this),this.options.hooks&&Ol(this.options.hooks,function(Ge,pt){return r.addHook(pt,Ge)}),this.options.events&&Ol(this.options.events,function(Ge,pt){return r.on(pt,Ge)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),rge(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,i=function(a,o){Object.keys(o).forEach(function(s){n.addCommand(a,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new mM(e):new t(e)},t.setLanguage=function(e,r){_t.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var i=this,a=function(o){o===void 0&&(o={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,r,a)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=Zme(e);var i=bs.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),r):this.wwEditor.setModel(i,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var r=Yg(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;ja(e)&&(e==="auto"?ia(r,"auto-height"):Ri(r,"auto-height"),this.setMinHeight(this.getMinHeight())),ua(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+gt("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Da(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var i,a;r===void 0&&(r=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(r),u=e,f=r;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=Tf(o,e,r),u=i[0],f=i[1]):n==="wysiwyg"&&s&&l&&(a=ts(o,e,r),u=a[0],f=a[1]),[u,f]},t})();function Hrt(t){for(var e,r,n=arguments,i=1,a="",o="",s=[0],l=function(f){i===1&&(f||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(f?n[f]:a):i===3&&(f||a)?(s[1]=f?n[f]:a,i=2):i===2&&a==="..."&&f?s[2]=Ug(s[2]||{},n[f]):i===2&&a&&!f?(s[2]=s[2]||{})[a]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[r]=f?a?a+n[f]:n[f]:a,i=6):(f||a)&&(s[2][r]+=f?a+n[f]:a)),a=""},u=0;u<t.length;u++){u&&(i===1&&l(),l(u));for(let f=0;f<t[u].length;f++)e=t[u][f],i===1?e==="<"?(l(),s=[s,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,r=a,a=""):e==="/"&&(i<5||t[u][f+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):a+=e),i===3&&a==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function Vrt(t){return typeof t=="boolean"||t instanceof Boolean}var zrt=Vrt,$rt=(function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t})(),_i=(function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new $rt(this)},t.removalNodes=[],t})();function Urt(t){return new _i("TEXT_NODE",{nodeValue:t},[])}function S1(t,e){var r=t;zrt(t)||t==null?r=null:(ja(t)||Da(t))&&(r=Urt(String(t))),r&&e.push(r)}function jrt(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=[];return r.forEach(function(a){Array.isArray(a)?a.forEach(function(o){S1(o,i)}):S1(a,i)}),new _i(t,e||{},i)}var Yt=Hrt.bind(jrt);function Wrt(t){return t===Object(t)}var Grt=Wrt;function Krt(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),wM(e,{},t.props)),e}function bM(t,e){t.node?e.removeChild(t.node):bM(t.firstChild,e)}function Jrt(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var i=n.slice(2).toLowerCase();t.removeEventListener(i,e[n])}}else n!=="children"&&!r[n]&&!Kme(t)&&t.removeAttribute(n)}),wM(t,e,r,function(n){return!Hg(e[n],r[n])})}var Xrt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function wM(t,e,r,n){Object.keys(r).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();t.addEventListener(a,r[i])}else i==="nodeValue"?t[i]=r[i]:i==="style"&&Grt(r[i])?Yrt(t,e[i],r[i]):i!=="children"&&(r[i]===!1?t.removeAttribute(i):t.setAttribute(i,r[i]))})}function Yrt(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var i=r[n];t.style[n]=Da(i)&&!Xrt.test(n)?i+"px":i})}function dy(t){if(_i.removalNodes.forEach(function(a){return M1(a)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)M1(t);else if(Ti(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function E1(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function M1(t){if(!(!t||!t.parent)){if(t.node){var e=E1(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&Jrt(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(Ti(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=E1(t);bM(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function Qrt(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function kM(t){for(var e=t;t&&!t.skip;){if(Ti(t.type)){var r=Qrt(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],O1(t)}else t.node||(t.node=Krt(t)),O1(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function Zrt(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function O1(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(a,o){var s=Zrt(r,a);s&&(a.old=r,a.parent=t,a.node=r.node,a.component=r.component,a.effect="U"),a&&!s&&(a.old=null,a.parent=t,a.node=null,a.effect="A"),r&&!s&&(_i.removalNodes.push(r),r.effect="D"),r&&(r=r.next),o===0?t.firstChild=a:a&&(n.next=a),n=a});var i=kn(e);if(!e.length)for(;r;)_i.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&i;)r&&i.old!==r&&(_i.removalNodes.push(r),r.effect="D",r=r.next)}function ent(t){t.effect="D",_i.removalNodes=[t],dy(),_i.removalNodes=[]}function tnt(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),_i.removalNodes=[],kM(e),dy(e),e.next&&(e.next.skip=!1)}function rnt(t,e){var r=new _i(t.tagName.toLowerCase(),{},[e]);return r.node=t,_i.removalNodes=[],kM(r),dy(r),function(){return ent(r.firstChild)}}var Tn=(function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=Ae(Ae({},this.state),e);Hg(this.state,r)||(this.state=r,tnt(this))},t})(),nnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,i=r.eventEmitter;return Yt(A1||(A1=Xt([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),gt("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},_t.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},_t.get("WYSIWYG"))},e})(Tn),A1;function int(t,e){var r,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return i}var ant=int,ont=ant;function snt(t,e){var r,n=!0,i=function(f){t.apply(null,f),r=null},a,o,s;e=e||0,a=ont(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}o=Number(new Date),r=r||o,a(s),o-r>=e&&i(s)}function u(){n=!0,r=null}return l.reset=u,l}var lnt=snt,CM=(function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},e})()})(),Wm=typeof window<"u"&&typeof document<"u"&&window.document===document,hd=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),unt=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hd):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),cnt=2;function fnt(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&s()}function o(){unt(a)}function s(){var l=Date.now();if(r){if(l-i<cnt)return;n=!0}else r=!0,n=!1,setTimeout(o,e);i=l}return s}var dnt=20,hnt=["top","right","bottom","left","width","height","size","weight"],pnt=typeof MutationObserver<"u",vnt=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=fnt(this.refresh.bind(this),dnt)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Wm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pnt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Wm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=hnt.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),TM=(function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Bl=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||hd}),xM=sh(0,0,0,0);function pd(t){return parseFloat(t)||0}function N1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+pd(a)},0)}function mnt(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=pd(o)}return r}function gnt(t){var e=t.getBBox();return sh(0,0,e.width,e.height)}function ynt(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return xM;var n=Bl(t).getComputedStyle(t),i=mnt(n),a=i.left+i.right,o=i.top+i.bottom,s=pd(n.width),l=pd(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=N1(n,"left","right")+a),Math.round(l+o)!==r&&(l-=N1(n,"top","bottom")+o)),!wnt(t)){var u=Math.round(s+a)-e,f=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(f)!==1&&(l-=f)}return sh(i.left,i.top,s,l)}var bnt=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Bl(t).SVGGraphicsElement}:function(t){return t instanceof Bl(t).SVGElement&&typeof t.getBBox=="function"}})();function wnt(t){return t===Bl(t).document.documentElement}function knt(t){return Wm?bnt(t)?gnt(t):ynt(t):xM}function Cnt(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return TM(o,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),o}function sh(t,e,r,n){return{x:t,y:e,width:r,height:n}}var Tnt=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=knt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),xnt=(function(){function t(e,r){var n=Cnt(r);TM(this,{target:e,contentRect:n})}return t})(),Snt=(function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new CM,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new Tnt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new xnt(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),SM=typeof WeakMap<"u"?new WeakMap:new CM,EM=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=vnt.getInstance(),n=new Snt(e,r,this);SM.set(this,n)}return t})();["observe","unobserve","disconnect"].forEach(function(t){EM.prototype[t]=function(){var e;return(e=SM.get(this))[t].apply(e,arguments)}});var Ent=(function(){return typeof hd.ResizeObserver<"u"?hd.ResizeObserver:EM})(),Mnt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=aa(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return Yt(R1||(R1=Xt([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},_t.get("Headings"),[1,2,3,4,5,6].map(function(n){return Yt(D1||(D1=Xt([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,_t.get("Heading"),n)}),_t.get("Paragraph"))},e})(Tn),D1,R1,MM=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return Yt(I1||(I1=Xt([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),gt("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=r.props.activeTab===i;return Yt(L1||(L1=Xt([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return r.toggleTab(s,i)},_t.get(a),o?"true":"false",o?"0":"-1",_t.get(a))}))},e})(Tn),L1,I1,Ont="ui",Ant=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Ri(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),s=function(l,u){return r.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,Ont)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,i=r.value,a=n.value||"image";if(Ri(r,"wrong"),!i.length){ia(r,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return Yt(P1||(P1=Xt([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),_t.get("Insert image"),MM,this.tabs,i,this.toggleTab,i==="url"?"block":"none",_t.get("Image URL"),function(s){return r.refs.url=s},i==="file"?"block":"none",_t.get("Select image file"),gt("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:_t.get("No file"),gt("file-select-button"),this.showFileSelectBox,_t.get("Choose a file"),this.changeFile,function(s){return r.refs.file=s},_t.get("Description"),function(s){return r.refs.altText=s},gt("button-container"),gt("close-button"),this.props.hidePopup,_t.get("Cancel"),gt("ok-button"),this.execCommand,_t.get("OK"))},e})(Tn),P1,Nnt=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,i=r.refs.text;if(Ri(n,"wrong"),Ri(i,"wrong"),n.value.length<1){ia(n,"wrong");return}var a=qi(r.props.initialValues.linkUrl);if(a&&i.value.length<1){ia(i,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,i=r.linkText,a=this.refs.url,o=this.refs.text;Ri(a,"wrong"),Ri(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(ia(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return Yt(_1||(_1=Xt([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),_t.get("Insert link"),_t.get("URL"),function(n){return r.refs.url=n},_t.get("Link text"),function(n){return r.refs.text=n},gt("button-container"),gt("close-button"),this.props.hidePopup,_t.get("Cancel"),gt("ok-button"),this.execCommand,_t.get("OK"))},e})(Tn),_1,B1=20,F1=20,q1=5,H1=14,V1=5,z1=9,Dnt=1,Rnt=1,$1=1,Lnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,s=a-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(Ae({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*B1,height:(n+1)*F1}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/B1),rowIdx:Math.floor(n/F1)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,i=r.rowIdx,a=Math.max(n,V1),o=Math.max(i,q1);return n>=V1&&a<z1&&(a+=1),i>=q1&&o<H1&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,i=r.height;return!n&&!i?{display:"none"}:{width:n-$1,height:i-$1,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var i=this.getRangeByOffset(r,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,Dnt),H1),i.colIdx=Math.min(Math.max(i.colIdx,Rnt),z1),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,i=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,i=r.rowIdx,a=[],o=0;o<i;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+gt("table-cell")+(o>0?"":" header");s.push(Yt(U1||(U1=Xt(['<div class="','"></div>'],['<div class="','"></div>'])),u))}a.push(Yt(j1||(j1=Xt(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),gt("table-row"),s))}return Yt(W1||(W1=Xt(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),gt("table"),a)},e.prototype.render=function(){var r=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Yt(G1||(G1=Xt([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),_t.get("Insert table"),gt("table-selection"),function(a){return r.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),gt("table-selection-layer"),i,gt("table-description"),this.getDescription())},e})(Tn),U1,j1,W1,G1,Int=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return Yt(K1||(K1=Xt(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e})(Tn),K1;function Gm(t){return ja(t)?_nt(t):t}function Pnt(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?ia(t,"active"):Ri(t,"active"),i("toggleScrollSync",{active:o})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function _nt(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:_t.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:_t.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:_t.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:_t.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:_t.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:_t.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:_t.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:_t.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:_t.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:_t.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:_t.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:_t.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:_t.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:_t.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:_t.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:_t.get("Outdent"),state:"outdent"};break;case"scrollSync":e=Pnt();break;case"more":e={name:"more",className:"more",tooltip:_t.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+gt("toolbar-icons")),e}function hy(t,e){var r=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(t){case"heading":return{render:function(o){return Yt(J1||(J1=Xt(["<"," ..."," />"],["<"," ..."," />"])),Mnt,o)},className:gt("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(o){return Yt(X1||(X1=Xt(["<"," ..."," />"],["<"," ..."," />"])),Nnt,o)},className:gt("popup-add-link"),fromEl:r,pos:n,initialValues:a};case"image":return{render:function(o){return Yt(Y1||(Y1=Xt(["<"," ..."," />"],["<"," ..."," />"])),Ant,o)},className:gt("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(o){return Yt(Q1||(Q1=Xt(["<"," ..."," />"],["<"," ..."," />"])),Lnt,o)},className:gt("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return i?Ae({render:function(o){return Yt(Z1||(Z1=Xt(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Int,o,i.body)},fromEl:r,pos:n},i):null;default:return null}}function vd(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function Bnt(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,i){n.push(i.map(function(o){return r(Gm(o))}));var a=n[(n.length||1)-1];return a&&vd(a),n},[])}function Fnt(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),vd(r)})}var J1,X1,Y1,Q1,Z1,qnt=20,Hnt=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!aa(n.target,"."+gt("popup"))&&!aa(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&r.show!==i){var o=Ae({},a.pos),s=this.refs.el.offsetWidth,l=aa(this.refs.el,"."+gt("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-qnt),Hg(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var r=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},f=u.className,p=f===void 0?"":f,b=u.style,C=u.render,T=u.initialValues,M=T===void 0?{}:T,N=Ae(Ae({display:a?"block":"none"},b),this.state.popupPos);return Yt(eC||(eC=Xt([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),gt("popup"),p,N,function(B){return r.refs.el=B},gt("popup-body"),C&&C({eventEmitter:s,show:a,hidePopup:o,execCommand:l,initialValues:M}))},e})(Tn),eC,tC=6;function py(t){return(function(e){ft(r,e);function r(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var s=i.getBound(a),l=s.left+tC+"px",u=s.top+tC+"px";ua(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){ua(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return r.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,f=(l=u[a.state])!==null&&l!==void 0?l:{},p=f.active,b=f.disabled;n.setState({active:!!p,disabled:b??n.props.disabled})})},r.prototype.getBound=function(n){var i=GS(n,aa(n,"."+gt("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},r.prototype.render=function(){return Yt(rC||(rC=Xt([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r})(Tn)}var rC,Vnt=80,znt=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,f=i.name,p=i.popup;if(u)a(u);else{var b=p?"customPopupBody":f,C=l.emit("query","getPopupInitialValues",{popupName:b})[0],T=hy(b,{el:r.refs.el,pos:s(r.refs.el),popup:p,initialValues:C});T&&o(T)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,i=r.item;n&&n(i.name,Jg(this.refs.el)+(i.hidden?Vnt:0))},e.prototype.render=function(){var r=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,s=n.active,l=Ae({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return Yt(nC||(nC=Xt([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(f){return r.refs.el=f},l,u,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e})(Tn),$nt=py(znt),nC,Unt=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=hy("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,i=r.item;this.refs.el.appendChild(i.el),n&&n(i.name,Jg(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,i=this.props,a=i.item,o=i.active,s=i.disabled;(r.active!==o||r.disabled!==s)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:s}))},e.prototype.render=function(){var r=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},s=function(l){return i?null:l};return Yt(iC||(iC=Xt([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return r.refs.el=l},o,gt("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e})(Tn),jnt=py(Unt),iC,OM=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,s=a?{display:"none"}:null;return Yt(oC||(oC=Xt([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),gt("toolbar-group"),o,i.map(function(l){var u=l.el?jnt:$nt;return Yt(aC||(aC=Xt(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,r.props,l)}),gt("toolbar-divider"),s)},e})(Tn),aC,oC,Wnt=4,Gnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){var a=i.target;!aa(a,"."+gt("dropdown-toolbar"))&&!aa(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=Wnt,Ae(Ae({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,f=o.hideTooltip,p=u.filter(function(T){return!T.hidden}),b=p.length?null:{display:"none"},C=i?null:{display:"none"};return Yt(lC||(lC=Xt([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),gt("toolbar-group"),b,function(T){return r.refs.el=T},l.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,f,s,gt("dropdown-toolbar"),Ae(Ae({},C),a),function(T){return r.refs.dropdownEl=T},p.length?p.map(function(T,M){var N;return Yt(sC||(sC=Xt([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),OM,T,M===p.length-1||((N=p[M+1])===null||N===void 0?void 0:N.hidden),r.props)}):null)},e})(Tn),Knt=py(Gnt),sC,lC,Jnt=50,Xnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var s=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+gt("toolbar-group")+" ."+i);if(o){var s=GS(o,aa(o,"."+gt("toolbar"))),l=s.offsetLeft,u=s.offsetTop,f=hy(i,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:a});f&&n.setPopupInfo(f)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Bnt(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new Ent(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var i=r.groupIndex,a=r.itemIndex,o=this.initialItems[i];n=Gm(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Al(this.initialItems,function(i){var a=!1;return Al(i,function(o,s){return o.name===r?(a=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=lnt(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+gt("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=WS(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,i,a){var o=function(l){var u=l.pop();u&&a.push(u)};if(r>1)o(i);else{var s=kn(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+gt("toolbar-divider")),o=a?Jg(a):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(f,p){var b=[],C=[];f.forEach(function(T,M){T.hidden||(n+=r.itemWidthMap[T.name],n>i-Jnt?(u||(r.movePrevItemToDropdownToolbar(M,s,b,C),u=!0),C.push(T)):b.push(T))}),b.length&&(vd(b),s.push(b)),C.length&&(vd(C),l.push(C)),p<r.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,s=a!==r.previewStyle,l=i!==r.editorType;if(s||l){Fnt(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Ss(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,f=s.activeTab,p=s.items,b=s.dropdownItems,C={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&f==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},T=i==="tab"?{borderTopLeftRadius:0}:null;return Yt(cC||(cC=Xt([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),gt("toolbar"),gt("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",MM,this.tabs,f,this.toggleTab,gt("defaultUI-toolbar"),function(M){return r.refs.el=M},T,p.map(function(M,N){var B;return Yt(uC||(uC=Xt([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),OM,M,N===p.length-1||((B=p[N+1])===null||B===void 0?void 0:B.hidden),r.setItemWidth,C)}),Knt,Gm("more"),b,C,Hnt,l,u,a,this.hidePopup,this.execCommand)},e})(Tn),uC,cC,Ynt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){aa(i.target,"."+gt("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;r.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,s){var l=[];return s.forEach(function(u){var f=u.label,p=u.className,b=p===void 0?!1:p,C=u.disabled,T=u.onClick,M=function(){C||(T(),r.setState({pos:null}))};l.push(Yt(fC||(fC=Xt([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),M,C?" disabled":"",b,f))}),o.push(Yt(dC||(dC=Xt([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var r=Ae({display:this.state.pos?"block":"none"},this.state.pos);return Yt(hC||(hC=Xt(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),gt("context-menu"),r,this.getMenuGroupElements())},e})(Tn),fC,dC,hC,Qnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=r.editorType,a=r.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,i=r.mdEditor,a=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,f=l.previewStyle,p=l.editorType,b=u?" hidden":"",C=gt(p==="markdown"?"md-mode":"ww-mode"),T=gt("md")+"-"+f+"-style",M=gt([s!=="light",s+" "]);return Yt(vC||(vC=Xt([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),M,gt("defaultUI"),b,function(N){return r.refs.el=N},Xnt,function(N){return r.toolbar=N},i,f,o,p,gt("main"),C,function(N){return r.refs.editorSection=N},gt("main-container"),gt("md-container"),T,function(N){return r.refs.mdContainer=N},gt("md-splitter"),gt("ww-container"),function(N){return r.refs.wwContainer=N},!a&&Yt(pC||(pC=Xt(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),nnt,i,p),Ynt,i)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e})(Tn),pC,vC,Znt=(function(t){ft(e,t);function e(r){var n,i=t.call(this,r)||this,a,o=rnt(i.options.el,Yt(mC||(mC=Xt([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),Qnt,function(s){return a=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,f=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},f)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(r){return r.viewer?new mM(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e})(yM),mC;yM.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const eit={key:0,class:"pl-4 border-l ml-2 mt-1"},tit={__name:"FolderItem",props:{folder:Object,selectedId:Number},emits:["select"],setup(t){return(e,r)=>{const n=Md("folder-item",!0);return Dt(),qt("li",null,[Me("div",{onClick:r[0]||(r[0]=i=>e.$emit("select",t.folder.id)),class:_a(["cursor-pointer hover:bg-blue-50 p-1 rounded flex items-center",{"bg-blue-100 font-bold text-elektron-blue":t.selectedId===t.folder.id}])},[r[2]||(r[2]=Me("svg",{class:"w-4 h-4 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[Me("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),ta(" "+an(t.folder.name),1)],2),t.folder.children&&t.folder.children.length>0?(Dt(),qt("ul",eit,[(Dt(!0),qt(Gr,null,go(t.folder.children,i=>(Dt(),Nd(n,{key:i.id,folder:i,"selected-id":t.selectedId,onSelect:r[1]||(r[1]=a=>e.$emit("select",a))},null,8,["folder","selected-id"]))),128))])):vn("",!0)])}}},rit={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nit={class:"bg-white p-6 rounded shadow w-[600px] max-h-[80vh] flex flex-col"},iit={class:"flex-1 overflow-y-auto border p-2 mb-4"},ait={class:"space-y-1"},oit={class:"flex justify-end space-x-2"},sit={__name:"FolderTreeModal",props:{tree:Array,selectedId:Number},emits:["close","select"],setup(t){return(e,r)=>(Dt(),qt("div",rit,[Me("div",nit,[r[2]||(r[2]=Me("h3",{class:"font-bold mb-4"},"Ordner auswhlen",-1)),Me("div",iit,[Me("ul",ait,[(Dt(!0),qt(Gr,null,go(t.tree,n=>(Dt(),Nd(tit,{key:n.id,folder:n,"selected-id":t.selectedId,onSelect:r[0]||(r[0]=i=>e.$emit("select",i))},null,8,["folder","selected-id"]))),128))])]),Me("div",oit,[Me("button",{onClick:r[1]||(r[1]=n=>e.$emit("close")),class:"text-gray-500"},"Abbrechen")])])]))}},lit={class:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden"},uit={class:"flex border-b bg-gray-50"},cit={class:"p-6"},fit={key:0},dit={class:"mb-4 flex justify-between items-center"},hit={class:"space-x-2"},pit={class:"mb-4 text-sm text-gray-500"},vit={key:0,class:"mb-6"},mit={class:"divide-y"},git=["onClick"],yit=["onClick"],bit={class:"flex items-center"},wit=["onClick"],kit={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Cit={class:"bg-white p-6 rounded shadow w-96"},Tit={class:"flex justify-end space-x-2"},xit={key:1},Sit={class:"bg-blue-50 p-4 rounded mb-6 text-sm text-blue-800"},Eit={class:"font-bold"},Mit={class:"mb-8"},Oit={class:"bg-white border rounded overflow-x-auto"},Ait={class:"w-full text-sm text-left"},Nit={class:"divide-y"},Dit={class:"p-3 whitespace-nowrap"},Rit={class:"p-3 font-mono"},Lit=["title"],Iit={class:"mb-4"},Pit={class:"mb-4"},_it={class:"mb-4"},Bit={class:"flex space-x-2"},Fit={key:2},qit={class:"max-w-sm"},Hit={__name:"AdminDashboard",setup(t){const e=yg(),r=dr("files"),n=dr(null),i=dr([]),a=dr([]),o=dr(null),s=dr(!1),l=dr(""),u=dr(null);let f=null;const p=dr([]),b=dr({title:"",body:"",url:"/"}),C=dr(!1),T=dr([]),M=dr("");async function N(Xe){var Se;try{const ze=Xe?`/api/files.php?folder_id=${Xe}`:"/api/files.php",Ve=await jt.get(ze);n.value=Ve.data.current_folder,i.value=Ve.data.folders,a.value=Ve.data.files,o.value=Ve.data.parent_id;const Qe=((Se=n.value)==null?void 0:Se.description)||"";f?f.setMarkdown(Qe):xd(()=>{f?f.setMarkdown(Qe):B(Qe)})}catch(ze){console.error(ze)}}function B(Xe){u.value&&(f=new Znt({el:u.value,height:"400px",initialEditType:"wysiwyg",previewStyle:"vertical",initialValue:Xe}))}async function U(){var Xe,Se;if(l.value)try{const ze=new URLSearchParams;ze.append("action","create_folder"),ze.append("name",l.value),(Xe=n.value)!=null&&Xe.id&&ze.append("parent_id",n.value.id),await jt.post("/api/files.php",ze),s.value=!1,l.value="",N((Se=n.value)==null?void 0:Se.id)}catch(ze){alert(ze)}}async function X(Xe){if(Xe.target.files.length>0){for(let Se=0;Se<Xe.target.files.length;Se++)await ce(Xe.target.files[Se]);N(n.value.id)}}async function Z(Xe){if(Xe.dataTransfer.files.length>0){for(let Se=0;Se<Xe.dataTransfer.files.length;Se++)await ce(Xe.dataTransfer.files[Se]);N(n.value.id)}}async function ce(Xe){const Se=new FormData;Se.append("action","upload_file"),Se.append("file",Xe),Se.append("folder_id",n.value.id);try{await jt.post("/api/files.php",Se)}catch(ze){console.error("Upload failed",ze),alert(`Fehler beim Upload von ${Xe.name}`)}}async function le(){if(!f)return;const Xe=f.getMarkdown(),Se=new URLSearchParams;Se.append("action","update_folder"),Se.append("id",n.value.id),Se.append("description",Xe);try{await jt.post("/api/files.php",Se),alert("Gespeichert")}catch{alert("Fehler")}}async function se(Xe,Se){if(confirm("Wirklich lschen?"))try{await jt.delete("/api/files.php",{data:{type:Xe,id:Se}}),N(n.value.id)}catch{alert("Fehler")}}async function ge(){try{const Xe=await jt.get("/api/push.php?action=list");p.value=Xe.data.subscriptions||[]}catch{}}async function Oe(){try{const Se=(await jt.get("/api/files.php?action=get_all_folders")).data.folders,ze={},Ve=[];Se.forEach(Qe=>{Qe.children=[],ze[Qe.id]=Qe}),Se.forEach(Qe=>{Qe.parent_id&&ze[Qe.parent_id]?ze[Qe.parent_id].children.push(Qe):Ve.push(Qe)}),T.value=Ve,C.value=!0}catch{alert("Fehler beim Laden der Ordner")}}function Ge(Xe){b.value.url=`/?folder=${Xe}`,C.value=!1}async function pt(){if(confirm("Push an alle senden?"))try{await jt.post("/api/push.php",{action:"send",...b.value}),alert("Gesendet!"),b.value.title="",b.value.body=""}catch{alert("Fehler beim Senden")}}async function Ke(){try{await jt.post("/api/auth.php",{action:"change_password",new_password:M.value}),alert("Passwort gendert"),M.value=""}catch{alert("Fehler")}}async function Tt(){await jt.post("/api/auth.php",{action:"logout"}),e.push("/login")}return Ed(()=>{N(null),ge()}),(Xe,Se)=>{var ze;return Dt(),qt("div",null,[Se[31]||(Se[31]=Me("h1",{class:"text-3xl font-bold mb-6 text-elektron-blue"},"Admin Dashboard",-1)),Me("div",lit,[Me("div",uit,[Me("button",{onClick:Se[0]||(Se[0]=Ve=>r.value="files"),class:_a([{"border-b-2 border-elektron-blue text-elektron-blue bg-white":r.value==="files"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white transition"])},"Dateimanager",2),Me("button",{onClick:Se[1]||(Se[1]=Ve=>r.value="push"),class:_a([{"border-b-2 border-elektron-blue text-elektron-blue bg-white":r.value==="push"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white transition"])},"Push Nachrichten",2),Me("button",{onClick:Se[2]||(Se[2]=Ve=>r.value="settings"),class:_a([{"border-b-2 border-elektron-blue text-elektron-blue bg-white":r.value==="settings"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white transition"])},"Einstellungen",2)]),Me("div",cit,[r.value==="files"?(Dt(),qt("div",fit,[Me("div",dit,[Se[14]||(Se[14]=Me("h2",{class:"text-xl font-bold"},"Inhalt verwalten",-1)),Me("div",hit,[Me("button",{onClick:Se[3]||(Se[3]=Ve=>s.value=!0),class:"bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded"},"Neuer Ordner")])]),Me("div",pit,[Se[15]||(Se[15]=ta(" Aktueller Ordner: ",-1)),Me("strong",null,an(((ze=n.value)==null?void 0:ze.name)||"Home"),1),o.value?(Dt(),qt("button",{key:0,onClick:Se[4]||(Se[4]=Ve=>N(o.value)),class:"ml-4 text-elektron-blue underline"},"Nach oben")):vn("",!0)]),Me("div",{class:"border-2 border-dashed border-gray-300 rounded p-6 text-center mb-6",onDragover:Se[6]||(Se[6]=mf(()=>{},["prevent"])),onDrop:mf(Z,["prevent"])},[Se[16]||(Se[16]=Me("p",{class:"text-gray-500 mb-2"},"Dateien hierher ziehen oder auswhlen",-1)),Me("input",{type:"file",ref:"fileInput",onChange:X,class:"hidden",multiple:""},null,544),Me("button",{onClick:Se[5]||(Se[5]=Ve=>Xe.$refs.fileInput.click()),class:"text-elektron-blue underline"},"Durchsuchen")],32),n.value?(Dt(),qt("div",vit,[Se[17]||(Se[17]=Me("label",{class:"block font-bold mb-2"},"Ordner Beschreibung",-1)),Me("div",{ref_key:"editorRef",ref:u,class:"mb-2"},null,512),Me("button",{onClick:le,class:"mt-2 bg-green-600 text-white px-4 py-2 rounded"},"Speichern")])):vn("",!0),Me("ul",mit,[(Dt(!0),qt(Gr,null,go(i.value,Ve=>(Dt(),qt("li",{key:"f"+Ve.id,class:"py-3 flex justify-between items-center hover:bg-gray-50 px-2"},[Me("div",{onClick:Qe=>N(Ve.id),class:"cursor-pointer flex items-center"},[Se[18]||(Se[18]=Me("svg",{class:"w-6 h-6 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[Me("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),ta(" "+an(Ve.name),1)],8,git),Me("button",{onClick:Qe=>se("folder",Ve.id),class:"text-red-500 hover:text-red-700"},"Lschen",8,yit)]))),128)),(Dt(!0),qt(Gr,null,go(a.value,Ve=>(Dt(),qt("li",{key:"fil"+Ve.id,class:"py-3 flex justify-between items-center hover:bg-gray-50 px-2"},[Me("div",bit,[Se[19]||(Se[19]=Me("svg",{class:"w-6 h-6 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[Me("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),ta(" "+an(Ve.filename),1)]),Me("button",{onClick:Qe=>se("file",Ve.id),class:"text-red-500 hover:text-red-700"},"Lschen",8,wit)]))),128))]),s.value?(Dt(),qt("div",kit,[Me("div",Cit,[Se[20]||(Se[20]=Me("h3",{class:"font-bold mb-4"},"Neuer Ordner",-1)),rl(Me("input",{"onUpdate:modelValue":Se[7]||(Se[7]=Ve=>l.value=Ve),class:"w-full border p-2 mb-4",placeholder:"Name"},null,512),[[il,l.value]]),Me("div",Tit,[Me("button",{onClick:Se[8]||(Se[8]=Ve=>s.value=!1),class:"text-gray-500"},"Abbrechen"),Me("button",{onClick:U,class:"bg-elektron-blue text-white px-4 py-2 rounded"},"Erstellen")])])])):vn("",!0)])):vn("",!0),r.value==="push"?(Dt(),qt("div",xit,[Se[28]||(Se[28]=Me("h2",{class:"text-xl font-bold mb-4"},"Push Nachricht senden",-1)),Me("div",Sit,[Me("span",Eit,an(p.value.length),1),Se[21]||(Se[21]=ta(" Abonnenten registriert. ",-1))]),Me("div",Mit,[Se[23]||(Se[23]=Me("h3",{class:"font-bold mb-2"},"Abonnenten Liste (Technisch)",-1)),Me("div",Oit,[Me("table",Ait,[Se[22]||(Se[22]=Me("thead",{class:"bg-gray-100 text-gray-600 uppercase"},[Me("tr",null,[Me("th",{class:"p-3"},"Datum"),Me("th",{class:"p-3"},"IP Adresse"),Me("th",{class:"p-3"},"User Agent")])],-1)),Me("tbody",Nit,[(Dt(!0),qt(Gr,null,go(p.value,Ve=>(Dt(),qt("tr",{key:Ve.id,class:"hover:bg-gray-50"},[Me("td",Dit,an(new Date(Ve.created_at).toLocaleString("de-CH")),1),Me("td",Rit,an(Ve.ip_address||"-"),1),Me("td",{class:"p-3 text-xs text-gray-500 truncate max-w-xs",title:Ve.user_agent},an(Ve.user_agent||"-"),9,Lit)]))),128))])])])]),Me("form",{onSubmit:mf(pt,["prevent"]),class:"max-w-lg"},[Me("div",Iit,[Se[24]||(Se[24]=Me("label",{class:"block font-bold mb-2"},"Titel",-1)),rl(Me("input",{"onUpdate:modelValue":Se[9]||(Se[9]=Ve=>b.value.title=Ve),class:"w-full border p-2 rounded",required:""},null,512),[[il,b.value.title]])]),Me("div",Pit,[Se[25]||(Se[25]=Me("label",{class:"block font-bold mb-2"},"Nachricht",-1)),rl(Me("textarea",{"onUpdate:modelValue":Se[10]||(Se[10]=Ve=>b.value.body=Ve),class:"w-full border p-2 rounded h-24",required:""},null,512),[[il,b.value.body]])]),Me("div",_it,[Se[26]||(Se[26]=Me("label",{class:"block font-bold mb-2"},"Link",-1)),Me("div",Bit,[rl(Me("input",{"onUpdate:modelValue":Se[11]||(Se[11]=Ve=>b.value.url=Ve),class:"flex-1 border p-2 rounded",placeholder:"/"},null,512),[[il,b.value.url]]),Me("button",{type:"button",onClick:Oe,class:"bg-gray-200 px-3 py-2 rounded text-sm hover:bg-gray-300"},"Ordner whlen")])]),Se[27]||(Se[27]=Me("button",{type:"submit",class:"bg-elektron-blue text-white px-6 py-2 rounded hover:bg-opacity-90"},"Senden",-1))],32),C.value?(Dt(),Nd(sit,{key:0,tree:T.value,"selected-id":null,onClose:Se[12]||(Se[12]=Ve=>C.value=!1),onSelect:Ge},null,8,["tree"])):vn("",!0)])):vn("",!0),r.value==="settings"?(Dt(),qt("div",Fit,[Se[30]||(Se[30]=Me("h2",{class:"text-xl font-bold mb-4"},"Einstellungen",-1)),Me("div",qit,[Se[29]||(Se[29]=Me("h3",{class:"font-bold mb-2"},"Admin Passwort ndern",-1)),rl(Me("input",{"onUpdate:modelValue":Se[13]||(Se[13]=Ve=>M.value=Ve),type:"password",class:"w-full border p-2 mb-2",placeholder:"Neues Passwort"},null,512),[[il,M.value]]),Me("button",{onClick:Ke,class:"bg-gray-800 text-white px-4 py-2 rounded"},"ndern")]),Me("button",{onClick:Tt,class:"mt-10 text-red-500 underline"},"Abmelden")])):vn("",!0)])])])}}},AM=Efe({history:ife(),routes:[{path:"/",name:"home",component:ede},{path:"/login",name:"login",component:ide},{path:"/admin",name:"admin",component:Hit,meta:{requiresAuth:!0}}]});AM.beforeEach(async(t,e,r)=>{if(t.meta.requiresAuth)try{(await jt.get("/api/auth.php")).data.logged_in?r():r("/login")}catch{r("/login")}else r()});const NM=Tle(wce);NM.use(AM);NM.mount("#app");
