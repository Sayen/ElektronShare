(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tg(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const pr={},dl=[],oa=()=>{},xC=()=>!1,xd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),rg=t=>t.startsWith("onUpdate:"),fn=Object.assign,ng=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hoe=Object.prototype.hasOwnProperty,sr=(t,e)=>hoe.call(t,e),Rt=Array.isArray,hl=t=>Qu(t)==="[object Map]",Td=t=>Qu(t)==="[object Set]",zb=t=>Qu(t)==="[object Date]",Pt=t=>typeof t=="function",qr=t=>typeof t=="string",ca=t=>typeof t=="symbol",vr=t=>t!==null&&typeof t=="object",TC=t=>(vr(t)||Pt(t))&&Pt(t.then)&&Pt(t.catch),SC=Object.prototype.toString,Qu=t=>SC.call(t),poe=t=>Qu(t).slice(8,-1),EC=t=>Qu(t)==="[object Object]",ig=t=>qr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yu=tg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sd=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},voe=/-\w/g,xi=Sd(t=>t.replace(voe,e=>e.slice(1).toUpperCase())),moe=/\B([A-Z])/g,Ro=Sd(t=>t.replace(moe,"-$1").toLowerCase()),Ed=Sd(t=>t.charAt(0).toUpperCase()+t.slice(1)),zp=Sd(t=>t?`on${Ed(t)}`:""),ko=(t,e)=>!Object.is(t,e),yf=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},MC=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Md=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $b;const Od=()=>$b||($b=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ad(t){if(Rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=qr(n)?woe(n):Ad(n);if(i)for(const a in i)e[a]=i[a]}return e}else if(qr(t)||vr(t))return t}const goe=/;(?![^(]*\))/g,yoe=/:([^]+)/,boe=/\/\*[^]*?\*\//g;function woe(t){const e={};return t.replace(boe,"").split(goe).forEach(r=>{if(r){const n=r.split(yoe);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ri(t){let e="";if(qr(t))e=t;else if(Rt(t))for(let r=0;r<t.length;r++){const n=Ri(t[r]);n&&(e+=n+" ")}else if(vr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const koe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Coe=tg(koe);function OC(t){return!!t||t===""}function xoe(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Nd(t[n],e[n]);return r}function Nd(t,e){if(t===e)return!0;let r=zb(t),n=zb(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=ca(t),n=ca(e),r||n)return t===e;if(r=Rt(t),n=Rt(e),r||n)return r&&n?xoe(t,e):!1;if(r=vr(t),n=vr(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,a=Object.keys(e).length;if(i!==a)return!1;for(const o in t){const s=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(s&&!l||!s&&l||!Nd(t[o],e[o]))return!1}}return String(t)===String(e)}function Toe(t,e){return t.findIndex(r=>Nd(r,e))}const AC=t=>!!(t&&t.__v_isRef===!0),hr=t=>qr(t)?t:t==null?"":Rt(t)||vr(t)&&(t.toString===SC||!Pt(t.toString))?AC(t)?hr(t.value):JSON.stringify(t,NC,2):String(t),NC=(t,e)=>AC(e)?NC(t,e.value):hl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],a)=>(r[$p(n,a)+" =>"]=i,r),{})}:Td(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>$p(r))}:ca(e)?$p(e):vr(e)&&!Rt(e)&&!EC(e)?String(e):e,$p=(t,e="")=>{var r;return ca(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zn;class Soe{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zn,!e&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=zn;try{return zn=this,e()}finally{zn=r}}}on(){++this._on===1&&(this.prevScope=zn,zn=this)}off(){this._on>0&&--this._on===0&&(zn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Eoe(){return zn}let mr;const Up=new WeakSet;class DC{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zn&&zn.active&&zn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Up.has(this)&&(Up.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||LC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ub(this),IC(this);const e=mr,r=Pi;mr=this,Pi=!0;try{return this.fn()}finally{PC(this),mr=e,Pi=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sg(e);this.deps=this.depsTail=void 0,Ub(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Up.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kv(this)&&this.run()}get dirty(){return Kv(this)}}let RC=0,bu,wu;function LC(t,e=!1){if(t.flags|=8,e){t.next=wu,wu=t;return}t.next=bu,bu=t}function ag(){RC++}function og(){if(--RC>0)return;if(wu){let e=wu;for(wu=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;bu;){let e=bu;for(bu=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function IC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function PC(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),sg(n),Moe(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function Kv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(_C(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function _C(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Pu)||(t.globalVersion=Pu,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Kv(t))))return;t.flags|=2;const e=t.dep,r=mr,n=Pi;mr=t,Pi=!0;try{IC(t);const i=t.fn(t._value);(e.version===0||ko(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{mr=r,Pi=n,PC(t),t.flags&=-3}}function sg(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)sg(a,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Moe(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Pi=!0;const BC=[];function ja(){BC.push(Pi),Pi=!1}function Wa(){const t=BC.pop();Pi=t===void 0?!0:t}function Ub(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=mr;mr=void 0;try{e()}finally{mr=r}}}let Pu=0,Ooe=class{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class lg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!mr||!Pi||mr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==mr)r=this.activeLink=new Ooe(mr,this),mr.deps?(r.prevDep=mr.depsTail,mr.depsTail.nextDep=r,mr.depsTail=r):mr.deps=mr.depsTail=r,FC(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=mr.depsTail,r.nextDep=void 0,mr.depsTail.nextDep=r,mr.depsTail=r,mr.deps===r&&(mr.deps=n)}return r}trigger(e){this.version++,Pu++,this.notify(e)}notify(e){ag();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{og()}}}function FC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)FC(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Jv=new WeakMap,ps=Symbol(""),Xv=Symbol(""),_u=Symbol("");function mn(t,e,r){if(Pi&&mr){let n=Jv.get(t);n||Jv.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new lg),i.map=n,i.key=r),i.track()}}function Fa(t,e,r,n,i,a){const o=Jv.get(t);if(!o){Pu++;return}const s=l=>{l&&l.trigger()};if(ag(),e==="clear")o.forEach(s);else{const l=Rt(t),u=l&&ig(r);if(l&&r==="length"){const f=Number(n);o.forEach((h,w)=>{(w==="length"||w===_u||!ca(w)&&w>=f)&&s(h)})}else switch((r!==void 0||o.has(void 0))&&s(o.get(r)),u&&s(o.get(_u)),e){case"add":l?u&&s(o.get("length")):(s(o.get(ps)),hl(t)&&s(o.get(Xv)));break;case"delete":l||(s(o.get(ps)),hl(t)&&s(o.get(Xv)));break;case"set":hl(t)&&s(o.get(ps));break}}og()}function Ys(t){const e=or(t);return e===t?e:(mn(e,"iterate",_u),wi(t)?e:e.map(Hi))}function Dd(t){return mn(t=or(t),"iterate",_u),t}function uo(t,e){return Ga(t)?wl(vs(t)?Hi(e):e):Hi(e)}const Aoe={__proto__:null,[Symbol.iterator](){return jp(this,Symbol.iterator,t=>uo(this,t))},concat(...t){return Ys(this).concat(...t.map(e=>Rt(e)?Ys(e):e))},entries(){return jp(this,"entries",t=>(t[1]=uo(this,t[1]),t))},every(t,e){return Aa(this,"every",t,e,void 0,arguments)},filter(t,e){return Aa(this,"filter",t,e,r=>r.map(n=>uo(this,n)),arguments)},find(t,e){return Aa(this,"find",t,e,r=>uo(this,r),arguments)},findIndex(t,e){return Aa(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Aa(this,"findLast",t,e,r=>uo(this,r),arguments)},findLastIndex(t,e){return Aa(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Aa(this,"forEach",t,e,void 0,arguments)},includes(...t){return Wp(this,"includes",t)},indexOf(...t){return Wp(this,"indexOf",t)},join(t){return Ys(this).join(t)},lastIndexOf(...t){return Wp(this,"lastIndexOf",t)},map(t,e){return Aa(this,"map",t,e,void 0,arguments)},pop(){return ru(this,"pop")},push(...t){return ru(this,"push",t)},reduce(t,...e){return jb(this,"reduce",t,e)},reduceRight(t,...e){return jb(this,"reduceRight",t,e)},shift(){return ru(this,"shift")},some(t,e){return Aa(this,"some",t,e,void 0,arguments)},splice(...t){return ru(this,"splice",t)},toReversed(){return Ys(this).toReversed()},toSorted(t){return Ys(this).toSorted(t)},toSpliced(...t){return Ys(this).toSpliced(...t)},unshift(...t){return ru(this,"unshift",t)},values(){return jp(this,"values",t=>uo(this,t))}};function jp(t,e,r){const n=Dd(t),i=n[e]();return n!==t&&!wi(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=r(a.value)),a}),i}const Noe=Array.prototype;function Aa(t,e,r,n,i,a){const o=Dd(t),s=o!==t&&!wi(t),l=o[e];if(l!==Noe[e]){const h=l.apply(t,a);return s?Hi(h):h}let u=r;o!==t&&(s?u=function(h,w){return r.call(this,uo(t,h),w,t)}:r.length>2&&(u=function(h,w){return r.call(this,h,w,t)}));const f=l.call(o,u,n);return s&&i?i(f):f}function jb(t,e,r,n){const i=Dd(t);let a=r;return i!==t&&(wi(t)?r.length>3&&(a=function(o,s,l){return r.call(this,o,s,l,t)}):a=function(o,s,l){return r.call(this,o,uo(t,s),l,t)}),i[e](a,...n)}function Wp(t,e,r){const n=or(t);mn(n,"iterate",_u);const i=n[e](...r);return(i===-1||i===!1)&&fg(r[0])?(r[0]=or(r[0]),n[e](...r)):i}function ru(t,e,r=[]){ja(),ag();const n=or(t)[e].apply(t,r);return og(),Wa(),n}const Doe=tg("__proto__,__v_isRef,__isVue"),qC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ca));function Roe(t){ca(t)||(t=String(t));const e=or(this);return mn(e,"has",t),e.hasOwnProperty(t)}class HC{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?zoe:UC:a?$C:zC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Rt(e);if(!i){let l;if(o&&(l=Aoe[r]))return l;if(r==="hasOwnProperty")return Roe}const s=Reflect.get(e,r,wn(e)?e:n);if((ca(r)?qC.has(r):Doe(r))||(i||mn(e,"get",r),a))return s;if(wn(s)){const l=o&&ig(r)?s:s.value;return i&&vr(l)?Yv(l):l}return vr(s)?i?Yv(s):ql(s):s}}class VC extends HC{constructor(e=!1){super(!1,e)}set(e,r,n,i){let a=e[r];const o=Rt(e)&&ig(r);if(!this._isShallow){const u=Ga(a);if(!wi(n)&&!Ga(n)&&(a=or(a),n=or(n)),!o&&wn(a)&&!wn(n))return u||(a.value=n),!0}const s=o?Number(r)<e.length:sr(e,r),l=Reflect.set(e,r,n,wn(e)?e:i);return e===or(i)&&(s?ko(n,a)&&Fa(e,"set",r,n):Fa(e,"add",r,n)),l}deleteProperty(e,r){const n=sr(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Fa(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!ca(r)||!qC.has(r))&&mn(e,"has",r),n}ownKeys(e){return mn(e,"iterate",Rt(e)?"length":ps),Reflect.ownKeys(e)}}class Loe extends HC{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Ioe=new VC,Poe=new Loe,_oe=new VC(!0);const Qv=t=>t,Yc=t=>Reflect.getPrototypeOf(t);function Boe(t,e,r){return function(...n){const i=this.__v_raw,a=or(i),o=hl(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),f=r?Qv:e?wl:Hi;return!e&&mn(a,"iterate",l?Xv:ps),fn(Object.create(u),{next(){const{value:h,done:w}=u.next();return w?{value:h,done:w}:{value:s?[f(h[0]),f(h[1])]:f(h),done:w}}})}}function Zc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Foe(t,e){const r={get(i){const a=this.__v_raw,o=or(a),s=or(i);t||(ko(i,s)&&mn(o,"get",i),mn(o,"get",s));const{has:l}=Yc(o),u=e?Qv:t?wl:Hi;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!t&&mn(or(i),"iterate",ps),i.size},has(i){const a=this.__v_raw,o=or(a),s=or(i);return t||(ko(i,s)&&mn(o,"has",i),mn(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=or(s),u=e?Qv:t?wl:Hi;return!t&&mn(l,"iterate",ps),s.forEach((f,h)=>i.call(a,u(f),u(h),o))}};return fn(r,t?{add:Zc("add"),set:Zc("set"),delete:Zc("delete"),clear:Zc("clear")}:{add(i){!e&&!wi(i)&&!Ga(i)&&(i=or(i));const a=or(this);return Yc(a).has.call(a,i)||(a.add(i),Fa(a,"add",i,i)),this},set(i,a){!e&&!wi(a)&&!Ga(a)&&(a=or(a));const o=or(this),{has:s,get:l}=Yc(o);let u=s.call(o,i);u||(i=or(i),u=s.call(o,i));const f=l.call(o,i);return o.set(i,a),u?ko(a,f)&&Fa(o,"set",i,a):Fa(o,"add",i,a),this},delete(i){const a=or(this),{has:o,get:s}=Yc(a);let l=o.call(a,i);l||(i=or(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&Fa(a,"delete",i,void 0),u},clear(){const i=or(this),a=i.size!==0,o=i.clear();return a&&Fa(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Boe(i,t,e)}),r}function ug(t,e){const r=Foe(t,e);return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(sr(r,i)&&i in n?r:n,i,a)}const qoe={get:ug(!1,!1)},Hoe={get:ug(!1,!0)},Voe={get:ug(!0,!1)};const zC=new WeakMap,$C=new WeakMap,UC=new WeakMap,zoe=new WeakMap;function $oe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uoe(t){return t.__v_skip||!Object.isExtensible(t)?0:$oe(poe(t))}function ql(t){return Ga(t)?t:cg(t,!1,Ioe,qoe,zC)}function jC(t){return cg(t,!1,_oe,Hoe,$C)}function Yv(t){return cg(t,!0,Poe,Voe,UC)}function cg(t,e,r,n,i){if(!vr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=Uoe(t);if(a===0)return t;const o=i.get(t);if(o)return o;const s=new Proxy(t,a===2?n:r);return i.set(t,s),s}function vs(t){return Ga(t)?vs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ga(t){return!!(t&&t.__v_isReadonly)}function wi(t){return!!(t&&t.__v_isShallow)}function fg(t){return t?!!t.__v_raw:!1}function or(t){const e=t&&t.__v_raw;return e?or(e):t}function joe(t){return!sr(t,"__v_skip")&&Object.isExtensible(t)&&MC(t,"__v_skip",!0),t}const Hi=t=>vr(t)?ql(t):t,wl=t=>vr(t)?Yv(t):t;function wn(t){return t?t.__v_isRef===!0:!1}function Bt(t){return WC(t,!1)}function Woe(t){return WC(t,!0)}function WC(t,e){return wn(t)?t:new Goe(t,e)}class Goe{constructor(e,r){this.dep=new lg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:or(e),this._value=r?e:Hi(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||wi(e)||Ga(e);e=n?e:or(e),ko(e,r)&&(this._rawValue=e,this._value=n?e:Hi(e),this.dep.trigger())}}function _i(t){return wn(t)?t.value:t}const Koe={get:(t,e,r)=>e==="__v_raw"?t:_i(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return wn(i)&&!wn(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function GC(t){return vs(t)?t:new Proxy(t,Koe)}class Joe{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new lg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&mr!==this)return LC(this,!0),!0}get value(){const e=this.dep.track();return _C(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xoe(t,e,r=!1){let n,i;return Pt(t)?n=t:(n=t.get,i=t.set),new Joe(n,i,r)}const ef={},Pf=new WeakMap;let is;function Qoe(t,e=!1,r=is){if(r){let n=Pf.get(r);n||Pf.set(r,n=[]),n.push(t)}}function Yoe(t,e,r=pr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=r,u=Y=>i?Y:wi(Y)||i===!1||i===0?qa(Y,1):qa(Y);let f,h,w,C,x=!1,M=!1;if(wn(t)?(h=()=>t.value,x=wi(t)):vs(t)?(h=()=>u(t),x=!0):Rt(t)?(M=!0,x=t.some(Y=>vs(Y)||wi(Y)),h=()=>t.map(Y=>{if(wn(Y))return Y.value;if(vs(Y))return u(Y);if(Pt(Y))return l?l(Y,2):Y()})):Pt(t)?e?h=l?()=>l(t,2):t:h=()=>{if(w){ja();try{w()}finally{Wa()}}const Y=is;is=f;try{return l?l(t,3,[C]):t(C)}finally{is=Y}}:h=oa,e&&i){const Y=h,te=i===!0?1/0:i;h=()=>qa(Y(),te)}const D=Eoe(),B=()=>{f.stop(),D&&D.active&&ng(D.effects,f)};if(a&&e){const Y=e;e=(...te)=>{Y(...te),B()}}let j=M?new Array(t.length).fill(ef):ef;const Q=Y=>{if(!(!(f.flags&1)||!f.dirty&&!Y))if(e){const te=f.run();if(i||x||(M?te.some((se,oe)=>ko(se,j[oe])):ko(te,j))){w&&w();const se=is;is=f;try{const oe=[te,j===ef?void 0:M&&j[0]===ef?[]:j,C];j=te,l?l(e,3,oe):e(...oe)}finally{is=se}}}else f.run()};return s&&s(Q),f=new DC(h),f.scheduler=o?()=>o(Q,!1):Q,C=Y=>Qoe(Y,!1,f),w=f.onStop=()=>{const Y=Pf.get(f);if(Y){if(l)l(Y,4);else for(const te of Y)te();Pf.delete(f)}},e?n?Q(!0):j=f.run():o?o(Q.bind(null,!0),!0):f.run(),B.pause=f.pause.bind(f),B.resume=f.resume.bind(f),B.stop=B,B}function qa(t,e=1/0,r){if(e<=0||!vr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,wn(t))qa(t.value,e,r);else if(Rt(t))for(let n=0;n<t.length;n++)qa(t[n],e,r);else if(Td(t)||hl(t))t.forEach(n=>{qa(n,e,r)});else if(EC(t)){for(const n in t)qa(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&qa(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yu(t,e,r,n){try{return n?t(...n):t()}catch(i){Rd(i,e,r)}}function fa(t,e,r,n){if(Pt(t)){const i=Yu(t,e,r,n);return i&&TC(i)&&i.catch(a=>{Rd(a,e,r)}),i}if(Rt(t)){const i=[];for(let a=0;a<t.length;a++)i.push(fa(t[a],e,r,n));return i}}function Rd(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pr;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const f=s.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,l,u)===!1)return}s=s.parent}if(a){ja(),Yu(a,null,10,[t,l,u]),Wa();return}}Zoe(t,r,i,n,o)}function Zoe(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const On=[];let ta=-1;const pl=[];let co=null,al=0;const KC=Promise.resolve();let _f=null;function Zu(t){const e=_f||KC;return t?e.then(this?t.bind(this):t):e}function ese(t){let e=ta+1,r=On.length;for(;e<r;){const n=e+r>>>1,i=On[n],a=Bu(i);a<t||a===t&&i.flags&2?e=n+1:r=n}return e}function dg(t){if(!(t.flags&1)){const e=Bu(t),r=On[On.length-1];!r||!(t.flags&2)&&e>=Bu(r)?On.push(t):On.splice(ese(e),0,t),t.flags|=1,JC()}}function JC(){_f||(_f=KC.then(QC))}function tse(t){Rt(t)?pl.push(...t):co&&t.id===-1?co.splice(al+1,0,t):t.flags&1||(pl.push(t),t.flags|=1),JC()}function Wb(t,e,r=ta+1){for(;r<On.length;r++){const n=On[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;On.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function XC(t){if(pl.length){const e=[...new Set(pl)].sort((r,n)=>Bu(r)-Bu(n));if(pl.length=0,co){co.push(...e);return}for(co=e,al=0;al<co.length;al++){const r=co[al];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}co=null,al=0}}const Bu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function QC(t){try{for(ta=0;ta<On.length;ta++){const e=On[ta];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Yu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ta<On.length;ta++){const e=On[ta];e&&(e.flags&=-2)}ta=-1,On.length=0,XC(),_f=null,(On.length||pl.length)&&QC()}}let ai=null,YC=null;function Bf(t){const e=ai;return ai=t,YC=t&&t.type.__scopeId||null,e}function Ff(t,e=ai,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Vf(-1);const a=Bf(e);let o;try{o=t(...i)}finally{Bf(a),n._d&&Vf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Di(t,e){if(ai===null)return t;const r=qd(ai),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,o,s,l=pr]=e[i];a&&(Pt(a)&&(a={mounted:a,updated:a}),a.deep&&qa(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return t}function Qo(t,e,r,n){const i=t.dirs,a=e&&e.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[n];l&&(ja(),fa(l,r,8,[t.el,s,t,e]),Wa())}}function bf(t,e){if(yn){let r=yn.provides;const n=yn.parent&&yn.parent.provides;n===r&&(r=yn.provides=Object.create(n)),r[t]=e}}function Bi(t,e,r=!1){const n=tle();if(n||vl){let i=vl?vl._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&Pt(e)?e.call(n&&n.proxy):e}}const rse=Symbol.for("v-scx"),nse=()=>Bi(rse);function ku(t,e,r){return ZC(t,e,r)}function ZC(t,e,r=pr){const{immediate:n,deep:i,flush:a,once:o}=r,s=fn({},r),l=e&&n||!e&&a!=="post";let u;if(qu){if(a==="sync"){const C=nse();u=C.__watcherHandles||(C.__watcherHandles=[])}else if(!l){const C=()=>{};return C.stop=oa,C.resume=oa,C.pause=oa,C}}const f=yn;s.call=(C,x,M)=>fa(C,f,x,M);let h=!1;a==="post"?s.scheduler=C=>{ri(C,f&&f.suspense)}:a!=="sync"&&(h=!0,s.scheduler=(C,x)=>{x?C():dg(C)}),s.augmentJob=C=>{e&&(C.flags|=4),h&&(C.flags|=2,f&&(C.id=f.uid,C.i=f))};const w=Yoe(t,e,s);return qu&&(u?u.push(w):l&&w()),w}function ise(t,e,r){const n=this.proxy,i=qr(t)?t.includes(".")?ex(n,t):()=>n[t]:t.bind(n,n);let a;Pt(e)?a=e:(a=e.handler,r=e);const o=ec(this),s=ZC(i,a.bind(n),r);return o(),s}function ex(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const ase=Symbol("_vte"),ose=t=>t.__isTeleport,sse=Symbol("_leaveCb");function hg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,hg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function tx(t,e){return Pt(t)?fn({name:t.name},e,{setup:t}):t}function rx(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const qf=new WeakMap;function Cu(t,e,r,n,i=!1){if(Rt(t)){t.forEach((x,M)=>Cu(x,e&&(Rt(e)?e[M]:e),r,n,i));return}if(xu(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Cu(t,e,r,n.component.subTree);return}const a=n.shapeFlag&4?qd(n.component):n.el,o=i?null:a,{i:s,r:l}=t,u=e&&e.r,f=s.refs===pr?s.refs={}:s.refs,h=s.setupState,w=or(h),C=h===pr?xC:x=>sr(w,x);if(u!=null&&u!==l){if(Gb(e),qr(u))f[u]=null,C(u)&&(h[u]=null);else if(wn(u)){u.value=null;const x=e;x.k&&(f[x.k]=null)}}if(Pt(l))Yu(l,s,12,[o,f]);else{const x=qr(l),M=wn(l);if(x||M){const D=()=>{if(t.f){const B=x?C(l)?h[l]:f[l]:l.value;if(i)Rt(B)&&ng(B,a);else if(Rt(B))B.includes(a)||B.push(a);else if(x)f[l]=[a],C(l)&&(h[l]=f[l]);else{const j=[a];l.value=j,t.k&&(f[t.k]=j)}}else x?(f[l]=o,C(l)&&(h[l]=o)):M&&(l.value=o,t.k&&(f[t.k]=o))};if(o){const B=()=>{D(),qf.delete(t)};B.id=-1,qf.set(t,B),ri(B,r)}else Gb(t),D()}}}function Gb(t){const e=qf.get(t);e&&(e.flags|=8,qf.delete(t))}Od().requestIdleCallback;Od().cancelIdleCallback;const xu=t=>!!t.type.__asyncLoader,nx=t=>t.type.__isKeepAlive;function lse(t,e){ix(t,"a",e)}function use(t,e){ix(t,"da",e)}function ix(t,e,r=yn){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ld(e,n,r),r){let i=r.parent;for(;i&&i.parent;)nx(i.parent.vnode)&&cse(n,e,r,i),i=i.parent}}function cse(t,e,r,n){const i=Ld(e,t,n,!0);ax(()=>{ng(n[e],i)},r)}function Ld(t,e,r=yn,n=!1){if(r){const i=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...o)=>{ja();const s=ec(r),l=fa(e,r,t,o);return s(),Wa(),l});return n?i.unshift(a):i.push(a),a}}const Ja=t=>(e,r=yn)=>{(!qu||t==="sp")&&Ld(t,(...n)=>e(...n),r)},fse=Ja("bm"),Id=Ja("m"),dse=Ja("bu"),hse=Ja("u"),pse=Ja("bum"),ax=Ja("um"),vse=Ja("sp"),mse=Ja("rtg"),gse=Ja("rtc");function yse(t,e=yn){Ld("ec",t,e)}const bse="components";function Pd(t,e){return kse(bse,t,!0,e)||t}const wse=Symbol.for("v-ndc");function kse(t,e,r=!0,n=!1){const i=ai||yn;if(i){const a=i.type;{const s=ole(a,!1);if(s&&(s===e||s===xi(e)||s===Ed(xi(e))))return a}const o=Kb(i[t]||a[t],e)||Kb(i.appContext[t],e);return!o&&n?a:o}}function Kb(t,e){return t&&(t[e]||t[xi(e)]||t[Ed(xi(e))])}function ia(t,e,r,n){let i;const a=r,o=Rt(t);if(o||qr(t)){const s=o&&vs(t);let l=!1,u=!1;s&&(l=!wi(t),u=Ga(t),t=Dd(t)),i=new Array(t.length);for(let f=0,h=t.length;f<h;f++)i[f]=e(l?u?wl(Hi(t[f])):Hi(t[f]):t[f],f,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,a)}else if(vr(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,a));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=e(t[f],f,l,a)}}else i=[];return i}const Zv=t=>t?Tx(t)?qd(t):Zv(t.parent):null,Tu=fn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zv(t.parent),$root:t=>Zv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>sx(t),$forceUpdate:t=>t.f||(t.f=()=>{dg(t.update)}),$nextTick:t=>t.n||(t.n=Zu.bind(t.proxy)),$watch:t=>ise.bind(t)}),Gp=(t,e)=>t!==pr&&!t.__isScriptSetup&&sr(t,e),Cse={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:s,appContext:l}=t;if(e[0]!=="$"){const w=o[e];if(w!==void 0)switch(w){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return a[e]}else{if(Gp(n,e))return o[e]=1,n[e];if(i!==pr&&sr(i,e))return o[e]=2,i[e];if(sr(a,e))return o[e]=3,a[e];if(r!==pr&&sr(r,e))return o[e]=4,r[e];em&&(o[e]=0)}}const u=Tu[e];let f,h;if(u)return e==="$attrs"&&mn(t.attrs,"get",""),u(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(r!==pr&&sr(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,sr(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:a}=t;return Gp(i,e)?(i[e]=r,!0):n!==pr&&sr(n,e)?(n[e]=r,!0):sr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,props:a,type:o}},s){let l;return!!(r[s]||t!==pr&&s[0]!=="$"&&sr(t,s)||Gp(e,s)||sr(a,s)||sr(n,s)||sr(Tu,s)||sr(i.config.globalProperties,s)||(l=o.__cssModules)&&l[s])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:sr(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Jb(t){return Rt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let em=!0;function xse(t){const e=sx(t),r=t.proxy,n=t.ctx;em=!1,e.beforeCreate&&Xb(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:f,beforeMount:h,mounted:w,beforeUpdate:C,updated:x,activated:M,deactivated:D,beforeDestroy:B,beforeUnmount:j,destroyed:Q,unmounted:Y,render:te,renderTracked:se,renderTriggered:oe,errorCaptured:ge,serverPrefetch:Se,expose:qe,inheritAttrs:rt,components:je,directives:Tt,filters:yt}=e;if(u&&Tse(u,n,null),o)for(const ut in o){const it=o[ut];Pt(it)&&(n[ut]=it.bind(r))}if(i){const ut=i.call(r,r);vr(ut)&&(t.data=ql(ut))}if(em=!0,a)for(const ut in a){const it=a[ut],Ht=Pt(it)?it.bind(r,r):Pt(it.get)?it.get.bind(r,r):oa,nt=!Pt(it)&&Pt(it.set)?it.set.bind(r):oa,pt=An({get:Ht,set:nt});Object.defineProperty(n,ut,{enumerable:!0,configurable:!0,get:()=>pt.value,set:at=>pt.value=at})}if(s)for(const ut in s)ox(s[ut],n,r,ut);if(l){const ut=Pt(l)?l.call(r):l;Reflect.ownKeys(ut).forEach(it=>{bf(it,ut[it])})}f&&Xb(f,t,"c");function Je(ut,it){Rt(it)?it.forEach(Ht=>ut(Ht.bind(r))):it&&ut(it.bind(r))}if(Je(fse,h),Je(Id,w),Je(dse,C),Je(hse,x),Je(lse,M),Je(use,D),Je(yse,ge),Je(gse,se),Je(mse,oe),Je(pse,j),Je(ax,Y),Je(vse,Se),Rt(qe))if(qe.length){const ut=t.exposed||(t.exposed={});qe.forEach(it=>{Object.defineProperty(ut,it,{get:()=>r[it],set:Ht=>r[it]=Ht,enumerable:!0})})}else t.exposed||(t.exposed={});te&&t.render===oa&&(t.render=te),rt!=null&&(t.inheritAttrs=rt),je&&(t.components=je),Tt&&(t.directives=Tt),Se&&rx(t)}function Tse(t,e,r=oa){Rt(t)&&(t=tm(t));for(const n in t){const i=t[n];let a;vr(i)?"default"in i?a=Bi(i.from||n,i.default,!0):a=Bi(i.from||n):a=Bi(i),wn(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[n]=a}}function Xb(t,e,r){fa(Rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function ox(t,e,r,n){let i=n.includes(".")?ex(r,n):()=>r[n];if(qr(t)){const a=e[t];Pt(a)&&ku(i,a)}else if(Pt(t))ku(i,t.bind(r));else if(vr(t))if(Rt(t))t.forEach(a=>ox(a,e,r,n));else{const a=Pt(t.handler)?t.handler.bind(r):e[t.handler];Pt(a)&&ku(i,a,t)}}function sx(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(e);let l;return s?l=s:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>Hf(l,u,o,!0)),Hf(l,e,o)),vr(e)&&a.set(e,l),l}function Hf(t,e,r,n=!1){const{mixins:i,extends:a}=e;a&&Hf(t,a,r,!0),i&&i.forEach(o=>Hf(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const s=Sse[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Sse={data:Qb,props:Yb,emits:Yb,methods:du,computed:du,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:du,directives:du,watch:Mse,provide:Qb,inject:Ese};function Qb(t,e){return e?t?function(){return fn(Pt(t)?t.call(this,this):t,Pt(e)?e.call(this,this):e)}:e:t}function Ese(t,e){return du(tm(t),tm(e))}function tm(t){if(Rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function En(t,e){return t?[...new Set([].concat(t,e))]:e}function du(t,e){return t?fn(Object.create(null),t,e):e}function Yb(t,e){return t?Rt(t)&&Rt(e)?[...new Set([...t,...e])]:fn(Object.create(null),Jb(t),Jb(e??{})):e}function Mse(t,e){if(!t)return e;if(!e)return t;const r=fn(Object.create(null),t);for(const n in e)r[n]=En(t[n],e[n]);return r}function lx(){return{app:null,config:{isNativeTag:xC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ose=0;function Ase(t,e){return function(n,i=null){Pt(n)||(n=fn({},n)),i!=null&&!vr(i)&&(i=null);const a=lx(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:Ose++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:lle,get config(){return a.config},set config(f){},use(f,...h){return o.has(f)||(f&&Pt(f.install)?(o.add(f),f.install(u,...h)):Pt(f)&&(o.add(f),f(u,...h))),u},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),u},component(f,h){return h?(a.components[f]=h,u):a.components[f]},directive(f,h){return h?(a.directives[f]=h,u):a.directives[f]},mount(f,h,w){if(!l){const C=u._ceVNode||Wr(n,i);return C.appContext=a,w===!0?w="svg":w===!1&&(w=void 0),t(C,f,w),l=!0,u._container=f,f.__vue_app__=u,qd(C.component)}},onUnmount(f){s.push(f)},unmount(){l&&(fa(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(f,h){return a.provides[f]=h,u},runWithContext(f){const h=vl;vl=u;try{return f()}finally{vl=h}}};return u}}let vl=null;const Nse=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${xi(e)}Modifiers`]||t[`${Ro(e)}Modifiers`];function Dse(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||pr;let i=r;const a=e.startsWith("update:"),o=a&&Nse(n,e.slice(7));o&&(o.trim&&(i=r.map(f=>qr(f)?f.trim():f)),o.number&&(i=r.map(Md)));let s,l=n[s=zp(e)]||n[s=zp(xi(e))];!l&&a&&(l=n[s=zp(Ro(e))]),l&&fa(l,t,6,i);const u=n[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,fa(u,t,6,i)}}const Rse=new WeakMap;function ux(t,e,r=!1){const n=r?Rse:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let o={},s=!1;if(!Pt(t)){const l=u=>{const f=ux(u,e,!0);f&&(s=!0,fn(o,f))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?(vr(t)&&n.set(t,null),null):(Rt(a)?a.forEach(l=>o[l]=null):fn(o,a),vr(t)&&n.set(t,o),o)}function _d(t,e){return!t||!xd(e)?!1:(e=e.slice(2).replace(/Once$/,""),sr(t,e[0].toLowerCase()+e.slice(1))||sr(t,Ro(e))||sr(t,e))}function Zb(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:f,props:h,data:w,setupState:C,ctx:x,inheritAttrs:M}=t,D=Bf(t);let B,j;try{if(r.shapeFlag&4){const Y=i||n,te=Y;B=na(u.call(te,Y,f,h,C,w,x)),j=s}else{const Y=e;B=na(Y.length>1?Y(h,{attrs:s,slots:o,emit:l}):Y(h,null)),j=e.props?s:Lse(s)}}catch(Y){Su.length=0,Rd(Y,t,1),B=Wr(Ao)}let Q=B;if(j&&M!==!1){const Y=Object.keys(j),{shapeFlag:te}=Q;Y.length&&te&7&&(a&&Y.some(rg)&&(j=Ise(j,a)),Q=kl(Q,j,!1,!0))}return r.dirs&&(Q=kl(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(r.dirs):r.dirs),r.transition&&hg(Q,r.transition),B=Q,Bf(D),B}const Lse=t=>{let e;for(const r in t)(r==="class"||r==="style"||xd(r))&&((e||(e={}))[r]=t[r]);return e},Ise=(t,e)=>{const r={};for(const n in t)(!rg(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Pse(t,e,r){const{props:n,children:i,component:a}=t,{props:o,children:s,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?e0(n,o,u):!!o;if(l&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const w=f[h];if(o[w]!==n[w]&&!_d(u,w))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?e0(n,o,u):!0:!!o;return!1}function e0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a]&&!_d(r,a))return!0}return!1}function _se({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const cx={},fx=()=>Object.create(cx),dx=t=>Object.getPrototypeOf(t)===cx;function Bse(t,e,r,n=!1){const i={},a=fx();t.propsDefaults=Object.create(null),hx(t,e,i,a);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:jC(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function Fse(t,e,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=t,s=or(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let w=f[h];if(_d(t.emitsOptions,w))continue;const C=e[w];if(l)if(sr(a,w))C!==a[w]&&(a[w]=C,u=!0);else{const x=xi(w);i[x]=rm(l,s,x,C,t,!1)}else C!==a[w]&&(a[w]=C,u=!0)}}}else{hx(t,e,i,a)&&(u=!0);let f;for(const h in s)(!e||!sr(e,h)&&((f=Ro(h))===h||!sr(e,f)))&&(l?r&&(r[h]!==void 0||r[f]!==void 0)&&(i[h]=rm(l,s,h,void 0,t,!0)):delete i[h]);if(a!==s)for(const h in a)(!e||!sr(e,h))&&(delete a[h],u=!0)}u&&Fa(t.attrs,"set","")}function hx(t,e,r,n){const[i,a]=t.propsOptions;let o=!1,s;if(e)for(let l in e){if(yu(l))continue;const u=e[l];let f;i&&sr(i,f=xi(l))?!a||!a.includes(f)?r[f]=u:(s||(s={}))[f]=u:_d(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(a){const l=or(r),u=s||pr;for(let f=0;f<a.length;f++){const h=a[f];r[h]=rm(i,l,h,u[h],t,!sr(u,h))}}return o}function rm(t,e,r,n,i,a){const o=t[r];if(o!=null){const s=sr(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Pt(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const f=ec(i);n=u[r]=l.call(null,e),f()}}else n=l;i.ce&&i.ce._setProp(r,n)}o[0]&&(a&&!s?n=!1:o[1]&&(n===""||n===Ro(r))&&(n=!0))}return n}const qse=new WeakMap;function px(t,e,r=!1){const n=r?qse:e.propsCache,i=n.get(t);if(i)return i;const a=t.props,o={},s=[];let l=!1;if(!Pt(t)){const f=h=>{l=!0;const[w,C]=px(h,e,!0);fn(o,w),C&&s.push(...C)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!a&&!l)return vr(t)&&n.set(t,dl),dl;if(Rt(a))for(let f=0;f<a.length;f++){const h=xi(a[f]);t0(h)&&(o[h]=pr)}else if(a)for(const f in a){const h=xi(f);if(t0(h)){const w=a[f],C=o[h]=Rt(w)||Pt(w)?{type:w}:fn({},w),x=C.type;let M=!1,D=!0;if(Rt(x))for(let B=0;B<x.length;++B){const j=x[B],Q=Pt(j)&&j.name;if(Q==="Boolean"){M=!0;break}else Q==="String"&&(D=!1)}else M=Pt(x)&&x.name==="Boolean";C[0]=M,C[1]=D,(M||sr(C,"default"))&&s.push(h)}}const u=[o,s];return vr(t)&&n.set(t,u),u}function t0(t){return t[0]!=="$"&&!yu(t)}const pg=t=>t==="_"||t==="_ctx"||t==="$stable",vg=t=>Rt(t)?t.map(na):[na(t)],Hse=(t,e,r)=>{if(e._n)return e;const n=Ff((...i)=>vg(e(...i)),r);return n._c=!1,n},vx=(t,e,r)=>{const n=t._ctx;for(const i in t){if(pg(i))continue;const a=t[i];if(Pt(a))e[i]=Hse(i,a,n);else if(a!=null){const o=vg(a);e[i]=()=>o}}},mx=(t,e)=>{const r=vg(e);t.slots.default=()=>r},gx=(t,e,r)=>{for(const n in e)(r||!pg(n))&&(t[n]=e[n])},Vse=(t,e,r)=>{const n=t.slots=fx();if(t.vnode.shapeFlag&32){const i=e._;i?(gx(n,e,r),r&&MC(n,"_",i,!0)):vx(e,n)}else e&&mx(t,e)},zse=(t,e,r)=>{const{vnode:n,slots:i}=t;let a=!0,o=pr;if(n.shapeFlag&32){const s=e._;s?r&&s===1?a=!1:gx(i,e,r):(a=!e.$stable,vx(e,i)),o=e}else e&&(mx(t,e),o={default:1});if(a)for(const s in i)!pg(s)&&o[s]==null&&delete i[s]},ri=Gse;function $se(t){return Use(t)}function Use(t,e){const r=Od();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:f,parentNode:h,nextSibling:w,setScopeId:C=oa,insertStaticContent:x}=t,M=(I,V,q,le=null,ae=null,ye=null,Le=void 0,He=null,Pe=!!V.dynamicChildren)=>{if(I===V)return;I&&!nu(I,V)&&(le=Oe(I),at(I,ae,ye,!0),I=null),V.patchFlag===-2&&(Pe=!1,V.dynamicChildren=null);const{type:Ie,ref:Xe,shapeFlag:Ge}=V;switch(Ie){case Bd:D(I,V,q,le);break;case Ao:B(I,V,q,le);break;case Jp:I==null&&j(V,q,le,Le);break;case Ar:je(I,V,q,le,ae,ye,Le,He,Pe);break;default:Ge&1?te(I,V,q,le,ae,ye,Le,He,Pe):Ge&6?Tt(I,V,q,le,ae,ye,Le,He,Pe):(Ge&64||Ge&128)&&Ie.process(I,V,q,le,ae,ye,Le,He,Pe,ee)}Xe!=null&&ae?Cu(Xe,I&&I.ref,ye,V||I,!V):Xe==null&&I&&I.ref!=null&&Cu(I.ref,null,ye,I,!0)},D=(I,V,q,le)=>{if(I==null)n(V.el=s(V.children),q,le);else{const ae=V.el=I.el;V.children!==I.children&&u(ae,V.children)}},B=(I,V,q,le)=>{I==null?n(V.el=l(V.children||""),q,le):V.el=I.el},j=(I,V,q,le)=>{[I.el,I.anchor]=x(I.children,V,q,le,I.el,I.anchor)},Q=({el:I,anchor:V},q,le)=>{let ae;for(;I&&I!==V;)ae=w(I),n(I,q,le),I=ae;n(V,q,le)},Y=({el:I,anchor:V})=>{let q;for(;I&&I!==V;)q=w(I),i(I),I=q;i(V)},te=(I,V,q,le,ae,ye,Le,He,Pe)=>{if(V.type==="svg"?Le="svg":V.type==="math"&&(Le="mathml"),I==null)se(V,q,le,ae,ye,Le,He,Pe);else{const Ie=I.el&&I.el._isVueCE?I.el:null;try{Ie&&Ie._beginPatch(),Se(I,V,ae,ye,Le,He,Pe)}finally{Ie&&Ie._endPatch()}}},se=(I,V,q,le,ae,ye,Le,He)=>{let Pe,Ie;const{props:Xe,shapeFlag:Ge,transition:dt,dirs:bt}=I;if(Pe=I.el=o(I.type,ye,Xe&&Xe.is,Xe),Ge&8?f(Pe,I.children):Ge&16&&ge(I.children,Pe,null,le,ae,Kp(I,ye),Le,He),bt&&Qo(I,null,le,"created"),oe(Pe,I,I.scopeId,Le,le),Xe){for(const Ve in Xe)Ve!=="value"&&!yu(Ve)&&a(Pe,Ve,null,Xe[Ve],ye,le);"value"in Xe&&a(Pe,"value",null,Xe.value,ye),(Ie=Xe.onVnodeBeforeMount)&&Qi(Ie,le,I)}bt&&Qo(I,null,le,"beforeMount");const St=jse(ae,dt);St&&dt.beforeEnter(Pe),n(Pe,V,q),((Ie=Xe&&Xe.onVnodeMounted)||St||bt)&&ri(()=>{Ie&&Qi(Ie,le,I),St&&dt.enter(Pe),bt&&Qo(I,null,le,"mounted")},ae)},oe=(I,V,q,le,ae)=>{if(q&&C(I,q),le)for(let ye=0;ye<le.length;ye++)C(I,le[ye]);if(ae){let ye=ae.subTree;if(V===ye||kx(ye.type)&&(ye.ssContent===V||ye.ssFallback===V)){const Le=ae.vnode;oe(I,Le,Le.scopeId,Le.slotScopeIds,ae.parent)}}},ge=(I,V,q,le,ae,ye,Le,He,Pe=0)=>{for(let Ie=Pe;Ie<I.length;Ie++){const Xe=I[Ie]=He?fo(I[Ie]):na(I[Ie]);M(null,Xe,V,q,le,ae,ye,Le,He)}},Se=(I,V,q,le,ae,ye,Le)=>{const He=V.el=I.el;let{patchFlag:Pe,dynamicChildren:Ie,dirs:Xe}=V;Pe|=I.patchFlag&16;const Ge=I.props||pr,dt=V.props||pr;let bt;if(q&&Yo(q,!1),(bt=dt.onVnodeBeforeUpdate)&&Qi(bt,q,V,I),Xe&&Qo(V,I,q,"beforeUpdate"),q&&Yo(q,!0),(Ge.innerHTML&&dt.innerHTML==null||Ge.textContent&&dt.textContent==null)&&f(He,""),Ie?qe(I.dynamicChildren,Ie,He,q,le,Kp(V,ae),ye):Le||it(I,V,He,null,q,le,Kp(V,ae),ye,!1),Pe>0){if(Pe&16)rt(He,Ge,dt,q,ae);else if(Pe&2&&Ge.class!==dt.class&&a(He,"class",null,dt.class,ae),Pe&4&&a(He,"style",Ge.style,dt.style,ae),Pe&8){const St=V.dynamicProps;for(let Ve=0;Ve<St.length;Ve++){const ze=St[Ve],ht=Ge[ze],wt=dt[ze];(wt!==ht||ze==="value")&&a(He,ze,ht,wt,ae,q)}}Pe&1&&I.children!==V.children&&f(He,V.children)}else!Le&&Ie==null&&rt(He,Ge,dt,q,ae);((bt=dt.onVnodeUpdated)||Xe)&&ri(()=>{bt&&Qi(bt,q,V,I),Xe&&Qo(V,I,q,"updated")},le)},qe=(I,V,q,le,ae,ye,Le)=>{for(let He=0;He<V.length;He++){const Pe=I[He],Ie=V[He],Xe=Pe.el&&(Pe.type===Ar||!nu(Pe,Ie)||Pe.shapeFlag&198)?h(Pe.el):q;M(Pe,Ie,Xe,null,le,ae,ye,Le,!0)}},rt=(I,V,q,le,ae)=>{if(V!==q){if(V!==pr)for(const ye in V)!yu(ye)&&!(ye in q)&&a(I,ye,V[ye],null,ae,le);for(const ye in q){if(yu(ye))continue;const Le=q[ye],He=V[ye];Le!==He&&ye!=="value"&&a(I,ye,He,Le,ae,le)}"value"in q&&a(I,"value",V.value,q.value,ae)}},je=(I,V,q,le,ae,ye,Le,He,Pe)=>{const Ie=V.el=I?I.el:s(""),Xe=V.anchor=I?I.anchor:s("");let{patchFlag:Ge,dynamicChildren:dt,slotScopeIds:bt}=V;bt&&(He=He?He.concat(bt):bt),I==null?(n(Ie,q,le),n(Xe,q,le),ge(V.children||[],q,Xe,ae,ye,Le,He,Pe)):Ge>0&&Ge&64&&dt&&I.dynamicChildren&&I.dynamicChildren.length===dt.length?(qe(I.dynamicChildren,dt,q,ae,ye,Le,He),(V.key!=null||ae&&V===ae.subTree)&&yx(I,V,!0)):it(I,V,q,Xe,ae,ye,Le,He,Pe)},Tt=(I,V,q,le,ae,ye,Le,He,Pe)=>{V.slotScopeIds=He,I==null?V.shapeFlag&512?ae.ctx.activate(V,q,le,Le,Pe):yt(V,q,le,ae,ye,Le,Pe):At(I,V,Pe)},yt=(I,V,q,le,ae,ye,Le)=>{const He=I.component=ele(I,le,ae);if(nx(I)&&(He.ctx.renderer=ee),rle(He,!1,Le),He.asyncDep){if(ae&&ae.registerDep(He,Je,Le),!I.el){const Pe=He.subTree=Wr(Ao);B(null,Pe,V,q),I.placeholder=Pe.el}}else Je(He,I,V,q,ae,ye,Le)},At=(I,V,q)=>{const le=V.component=I.component;if(Pse(I,V,q))if(le.asyncDep&&!le.asyncResolved){ut(le,V,q);return}else le.next=V,le.update();else V.el=I.el,le.vnode=V},Je=(I,V,q,le,ae,ye,Le)=>{const He=()=>{if(I.isMounted){let{next:Ge,bu:dt,u:bt,parent:St,vnode:Ve}=I;{const nr=bx(I);if(nr){Ge&&(Ge.el=Ve.el,ut(I,Ge,Le)),nr.asyncDep.then(()=>{I.isUnmounted||He()});return}}let ze=Ge,ht;Yo(I,!1),Ge?(Ge.el=Ve.el,ut(I,Ge,Le)):Ge=Ve,dt&&yf(dt),(ht=Ge.props&&Ge.props.onVnodeBeforeUpdate)&&Qi(ht,St,Ge,Ve),Yo(I,!0);const wt=Zb(I),Lt=I.subTree;I.subTree=wt,M(Lt,wt,h(Lt.el),Oe(Lt),I,ae,ye),Ge.el=wt.el,ze===null&&_se(I,wt.el),bt&&ri(bt,ae),(ht=Ge.props&&Ge.props.onVnodeUpdated)&&ri(()=>Qi(ht,St,Ge,Ve),ae)}else{let Ge;const{el:dt,props:bt}=V,{bm:St,m:Ve,parent:ze,root:ht,type:wt}=I,Lt=xu(V);Yo(I,!1),St&&yf(St),!Lt&&(Ge=bt&&bt.onVnodeBeforeMount)&&Qi(Ge,ze,V),Yo(I,!0);{ht.ce&&ht.ce._def.shadowRoot!==!1&&ht.ce._injectChildStyle(wt);const nr=I.subTree=Zb(I);M(null,nr,q,le,I,ae,ye),V.el=nr.el}if(Ve&&ri(Ve,ae),!Lt&&(Ge=bt&&bt.onVnodeMounted)){const nr=V;ri(()=>Qi(Ge,ze,nr),ae)}(V.shapeFlag&256||ze&&xu(ze.vnode)&&ze.vnode.shapeFlag&256)&&I.a&&ri(I.a,ae),I.isMounted=!0,V=q=le=null}};I.scope.on();const Pe=I.effect=new DC(He);I.scope.off();const Ie=I.update=Pe.run.bind(Pe),Xe=I.job=Pe.runIfDirty.bind(Pe);Xe.i=I,Xe.id=I.uid,Pe.scheduler=()=>dg(Xe),Yo(I,!0),Ie()},ut=(I,V,q)=>{V.component=I;const le=I.vnode.props;I.vnode=V,I.next=null,Fse(I,V.props,le,q),zse(I,V.children,q),ja(),Wb(I),Wa()},it=(I,V,q,le,ae,ye,Le,He,Pe=!1)=>{const Ie=I&&I.children,Xe=I?I.shapeFlag:0,Ge=V.children,{patchFlag:dt,shapeFlag:bt}=V;if(dt>0){if(dt&128){nt(Ie,Ge,q,le,ae,ye,Le,He,Pe);return}else if(dt&256){Ht(Ie,Ge,q,le,ae,ye,Le,He,Pe);return}}bt&8?(Xe&16&&Vt(Ie,ae,ye),Ge!==Ie&&f(q,Ge)):Xe&16?bt&16?nt(Ie,Ge,q,le,ae,ye,Le,He,Pe):Vt(Ie,ae,ye,!0):(Xe&8&&f(q,""),bt&16&&ge(Ge,q,le,ae,ye,Le,He,Pe))},Ht=(I,V,q,le,ae,ye,Le,He,Pe)=>{I=I||dl,V=V||dl;const Ie=I.length,Xe=V.length,Ge=Math.min(Ie,Xe);let dt;for(dt=0;dt<Ge;dt++){const bt=V[dt]=Pe?fo(V[dt]):na(V[dt]);M(I[dt],bt,q,null,ae,ye,Le,He,Pe)}Ie>Xe?Vt(I,ae,ye,!0,!1,Ge):ge(V,q,le,ae,ye,Le,He,Pe,Ge)},nt=(I,V,q,le,ae,ye,Le,He,Pe)=>{let Ie=0;const Xe=V.length;let Ge=I.length-1,dt=Xe-1;for(;Ie<=Ge&&Ie<=dt;){const bt=I[Ie],St=V[Ie]=Pe?fo(V[Ie]):na(V[Ie]);if(nu(bt,St))M(bt,St,q,null,ae,ye,Le,He,Pe);else break;Ie++}for(;Ie<=Ge&&Ie<=dt;){const bt=I[Ge],St=V[dt]=Pe?fo(V[dt]):na(V[dt]);if(nu(bt,St))M(bt,St,q,null,ae,ye,Le,He,Pe);else break;Ge--,dt--}if(Ie>Ge){if(Ie<=dt){const bt=dt+1,St=bt<Xe?V[bt].el:le;for(;Ie<=dt;)M(null,V[Ie]=Pe?fo(V[Ie]):na(V[Ie]),q,St,ae,ye,Le,He,Pe),Ie++}}else if(Ie>dt)for(;Ie<=Ge;)at(I[Ie],ae,ye,!0),Ie++;else{const bt=Ie,St=Ie,Ve=new Map;for(Ie=St;Ie<=dt;Ie++){const ir=V[Ie]=Pe?fo(V[Ie]):na(V[Ie]);ir.key!=null&&Ve.set(ir.key,Ie)}let ze,ht=0;const wt=dt-St+1;let Lt=!1,nr=0;const Jt=new Array(wt);for(Ie=0;Ie<wt;Ie++)Jt[Ie]=0;for(Ie=bt;Ie<=Ge;Ie++){const ir=I[Ie];if(ht>=wt){at(ir,ae,ye,!0);continue}let yr;if(ir.key!=null)yr=Ve.get(ir.key);else for(ze=St;ze<=dt;ze++)if(Jt[ze-St]===0&&nu(ir,V[ze])){yr=ze;break}yr===void 0?at(ir,ae,ye,!0):(Jt[yr-St]=Ie+1,yr>=nr?nr=yr:Lt=!0,M(ir,V[yr],q,null,ae,ye,Le,He,Pe),ht++)}const cr=Lt?Wse(Jt):dl;for(ze=cr.length-1,Ie=wt-1;Ie>=0;Ie--){const ir=St+Ie,yr=V[ir],br=V[ir+1],Vr=ir+1<Xe?br.el||wx(br):le;Jt[Ie]===0?M(null,yr,q,Vr,ae,ye,Le,He,Pe):Lt&&(ze<0||Ie!==cr[ze]?pt(yr,q,Vr,2):ze--)}}},pt=(I,V,q,le,ae=null)=>{const{el:ye,type:Le,transition:He,children:Pe,shapeFlag:Ie}=I;if(Ie&6){pt(I.component.subTree,V,q,le);return}if(Ie&128){I.suspense.move(V,q,le);return}if(Ie&64){Le.move(I,V,q,ee);return}if(Le===Ar){n(ye,V,q);for(let Ge=0;Ge<Pe.length;Ge++)pt(Pe[Ge],V,q,le);n(I.anchor,V,q);return}if(Le===Jp){Q(I,V,q);return}if(le!==2&&Ie&1&&He)if(le===0)He.beforeEnter(ye),n(ye,V,q),ri(()=>He.enter(ye),ae);else{const{leave:Ge,delayLeave:dt,afterLeave:bt}=He,St=()=>{I.ctx.isUnmounted?i(ye):n(ye,V,q)},Ve=()=>{ye._isLeaving&&ye[sse](!0),Ge(ye,()=>{St(),bt&&bt()})};dt?dt(ye,St,Ve):Ve()}else n(ye,V,q)},at=(I,V,q,le=!1,ae=!1)=>{const{type:ye,props:Le,ref:He,children:Pe,dynamicChildren:Ie,shapeFlag:Xe,patchFlag:Ge,dirs:dt,cacheIndex:bt}=I;if(Ge===-2&&(ae=!1),He!=null&&(ja(),Cu(He,null,q,I,!0),Wa()),bt!=null&&(V.renderCache[bt]=void 0),Xe&256){V.ctx.deactivate(I);return}const St=Xe&1&&dt,Ve=!xu(I);let ze;if(Ve&&(ze=Le&&Le.onVnodeBeforeUnmount)&&Qi(ze,V,I),Xe&6)Kt(I.component,q,le);else{if(Xe&128){I.suspense.unmount(q,le);return}St&&Qo(I,null,V,"beforeUnmount"),Xe&64?I.type.remove(I,V,q,ee,le):Ie&&!Ie.hasOnce&&(ye!==Ar||Ge>0&&Ge&64)?Vt(Ie,V,q,!1,!0):(ye===Ar&&Ge&384||!ae&&Xe&16)&&Vt(Pe,V,q),le&&Dt(I)}(Ve&&(ze=Le&&Le.onVnodeUnmounted)||St)&&ri(()=>{ze&&Qi(ze,V,I),St&&Qo(I,null,V,"unmounted")},q)},Dt=I=>{const{type:V,el:q,anchor:le,transition:ae}=I;if(V===Ar){Nt(q,le);return}if(V===Jp){Y(I);return}const ye=()=>{i(q),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(I.shapeFlag&1&&ae&&!ae.persisted){const{leave:Le,delayLeave:He}=ae,Pe=()=>Le(q,ye);He?He(I.el,ye,Pe):Pe()}else ye()},Nt=(I,V)=>{let q;for(;I!==V;)q=w(I),i(I),I=q;i(V)},Kt=(I,V,q)=>{const{bum:le,scope:ae,job:ye,subTree:Le,um:He,m:Pe,a:Ie}=I;r0(Pe),r0(Ie),le&&yf(le),ae.stop(),ye&&(ye.flags|=8,at(Le,I,V,q)),He&&ri(He,V),ri(()=>{I.isUnmounted=!0},V)},Vt=(I,V,q,le=!1,ae=!1,ye=0)=>{for(let Le=ye;Le<I.length;Le++)at(I[Le],V,q,le,ae)},Oe=I=>{if(I.shapeFlag&6)return Oe(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const V=w(I.anchor||I.el),q=V&&V[ase];return q?w(q):V};let he=!1;const ue=(I,V,q)=>{let le;I==null?V._vnode&&(at(V._vnode,null,null,!0),le=V._vnode.component):M(V._vnode||null,I,V,null,null,null,q),V._vnode=I,he||(he=!0,Wb(le),XC(),he=!1)},ee={p:M,um:at,m:pt,r:Dt,mt:yt,mc:ge,pc:it,pbc:qe,n:Oe,o:t};return{render:ue,hydrate:void 0,createApp:Ase(ue)}}function Kp({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Yo({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function jse(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function yx(t,e,r=!1){const n=t.children,i=e.children;if(Rt(n)&&Rt(i))for(let a=0;a<n.length;a++){const o=n[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=fo(i[a]),s.el=o.el),!r&&s.patchFlag!==-2&&yx(o,s)),s.type===Bd&&(s.patchFlag!==-1?s.el=o.el:s.__elIndex=a+(t.type===Ar?1:0)),s.type===Ao&&!s.el&&(s.el=o.el)}}function Wse(t){const e=t.slice(),r=[0];let n,i,a,o,s;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)s=a+o>>1,t[r[s]]<u?a=s+1:o=s;u<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=e[o];return r}function bx(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bx(e)}function r0(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function wx(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?wx(e.subTree):null}const kx=t=>t.__isSuspense;function Gse(t,e){e&&e.pendingBranch?Rt(t)?e.effects.push(...t):e.effects.push(t):tse(t)}const Ar=Symbol.for("v-fgt"),Bd=Symbol.for("v-txt"),Ao=Symbol.for("v-cmt"),Jp=Symbol.for("v-stc"),Su=[];let oi=null;function lt(t=!1){Su.push(oi=t?null:[])}function Kse(){Su.pop(),oi=Su[Su.length-1]||null}let Fu=1;function Vf(t,e=!1){Fu+=t,t<0&&oi&&e&&(oi.hasOnce=!0)}function Cx(t){return t.dynamicChildren=Fu>0?oi||dl:null,Kse(),Fu>0&&oi&&oi.push(t),t}function vt(t,e,r,n,i,a){return Cx(pe(t,e,r,n,i,a,!0))}function Fd(t,e,r,n,i){return Cx(Wr(t,e,r,n,i,!0))}function zf(t){return t?t.__v_isVNode===!0:!1}function nu(t,e){return t.type===e.type&&t.key===e.key}const xx=({key:t})=>t??null,wf=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?qr(t)||wn(t)||Pt(t)?{i:ai,r:t,k:e,f:!!r}:t:null);function pe(t,e=null,r=null,n=0,i=null,a=t===Ar?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xx(e),ref:e&&wf(e),scopeId:YC,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ai};return s?(mg(l,r),a&128&&t.normalize(l)):r&&(l.shapeFlag|=qr(r)?8:16),Fu>0&&!o&&oi&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&oi.push(l),l}const Wr=Jse;function Jse(t,e=null,r=null,n=0,i=null,a=!1){if((!t||t===wse)&&(t=Ao),zf(t)){const s=kl(t,e,!0);return r&&mg(s,r),Fu>0&&!a&&oi&&(s.shapeFlag&6?oi[oi.indexOf(t)]=s:oi.push(s)),s.patchFlag=-2,s}if(sle(t)&&(t=t.__vccOpts),e){e=Xse(e);let{class:s,style:l}=e;s&&!qr(s)&&(e.class=Ri(s)),vr(l)&&(fg(l)&&!Rt(l)&&(l=fn({},l)),e.style=Ad(l))}const o=qr(t)?1:kx(t)?128:ose(t)?64:vr(t)?4:Pt(t)?2:0;return pe(t,e,r,n,i,o,a,!0)}function Xse(t){return t?fg(t)||dx(t)?fn({},t):t:null}function kl(t,e,r=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=t,u=e?Qse(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&xx(u),ref:e&&e.ref?r&&a?Rt(a)?a.concat(wf(e)):[a,wf(e)]:wf(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ar?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kl(t.ssContent),ssFallback:t.ssFallback&&kl(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&hg(f,l.clone(f)),f}function sa(t=" ",e=0){return Wr(Bd,null,t,e)}function gr(t="",e=!1){return e?(lt(),Fd(Ao,null,t)):Wr(Ao,null,t)}function na(t){return t==null||typeof t=="boolean"?Wr(Ao):Rt(t)?Wr(Ar,null,t.slice()):zf(t)?fo(t):Wr(Bd,null,String(t))}function fo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kl(t)}function mg(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Rt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),mg(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!dx(e)?e._ctx=ai:i===3&&ai&&(ai.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pt(e)?(e={default:e,_ctx:ai},r=32):(e=String(e),n&64?(r=16,e=[sa(e)]):r=8);t.children=e,t.shapeFlag|=r}function Qse(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Ri([e.class,n.class]));else if(i==="style")e.style=Ad([e.style,n.style]);else if(xd(i)){const a=e[i],o=n[i];o&&a!==o&&!(Rt(a)&&a.includes(o))&&(e[i]=a?[].concat(a,o):o)}else i!==""&&(e[i]=n[i])}return e}function Qi(t,e,r,n=null){fa(t,e,7,[r,n])}const Yse=lx();let Zse=0;function ele(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Yse,a={uid:Zse++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Soe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:px(n,i),emitsOptions:ux(n,i),emit:null,emitted:null,propsDefaults:pr,inheritAttrs:n.inheritAttrs,ctx:pr,data:pr,props:pr,attrs:pr,slots:pr,refs:pr,setupState:pr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Dse.bind(null,a),t.ce&&t.ce(a),a}let yn=null;const tle=()=>yn||ai;let $f,nm;{const t=Od(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};$f=e("__VUE_INSTANCE_SETTERS__",r=>yn=r),nm=e("__VUE_SSR_SETTERS__",r=>qu=r)}const ec=t=>{const e=yn;return $f(t),t.scope.on(),()=>{t.scope.off(),$f(e)}},n0=()=>{yn&&yn.scope.off(),$f(null)};function Tx(t){return t.vnode.shapeFlag&4}let qu=!1;function rle(t,e=!1,r=!1){e&&nm(e);const{props:n,children:i}=t.vnode,a=Tx(t);Bse(t,n,a,e),Vse(t,i,r||e);const o=a?nle(t,e):void 0;return e&&nm(!1),o}function nle(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cse);const{setup:n}=r;if(n){ja();const i=t.setupContext=n.length>1?ale(t):null,a=ec(t),o=Yu(n,t,0,[t.props,i]),s=TC(o);if(Wa(),a(),(s||t.sp)&&!xu(t)&&rx(t),s){if(o.then(n0,n0),e)return o.then(l=>{i0(t,l)}).catch(l=>{Rd(l,t,0)});t.asyncDep=o}else i0(t,o)}else Sx(t)}function i0(t,e,r){Pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:vr(e)&&(t.setupState=GC(e)),Sx(t)}function Sx(t,e,r){const n=t.type;t.render||(t.render=n.render||oa);{const i=ec(t);ja();try{xse(t)}finally{Wa(),i()}}}const ile={get(t,e){return mn(t,"get",""),t[e]}};function ale(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,ile),slots:t.slots,emit:t.emit,expose:e}}function qd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(GC(joe(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Tu)return Tu[r](t)},has(e,r){return r in e||r in Tu}})):t.proxy}function ole(t,e=!0){return Pt(t)?t.displayName||t.name:t.name||e&&t.__name}function sle(t){return Pt(t)&&"__vccOpts"in t}const An=(t,e)=>Xoe(t,e,qu);function Ex(t,e,r){try{Vf(-1);const n=arguments.length;return n===2?vr(e)&&!Rt(e)?zf(e)?Wr(t,null,[e]):Wr(t,e):Wr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&zf(r)&&(r=[r]),Wr(t,e,r))}finally{Vf(1)}}const lle="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let im;const a0=typeof window<"u"&&window.trustedTypes;if(a0)try{im=a0.createPolicy("vue",{createHTML:t=>t})}catch{}const Mx=im?t=>im.createHTML(t):t=>t,ule="http://www.w3.org/2000/svg",cle="http://www.w3.org/1998/Math/MathML",La=typeof document<"u"?document:null,o0=La&&La.createElement("template"),fle={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?La.createElementNS(ule,t):e==="mathml"?La.createElementNS(cle,t):r?La.createElement(t,{is:r}):La.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>La.createTextNode(t),createComment:t=>La.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>La.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,a){const o=r?r.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{o0.innerHTML=Mx(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const s=o0.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},dle=Symbol("_vtc");function hle(t,e,r){const n=t[dle];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const s0=Symbol("_vod"),ple=Symbol("_vsh"),vle=Symbol(""),mle=/(?:^|;)\s*display\s*:/;function gle(t,e,r){const n=t.style,i=qr(r);let a=!1;if(r&&!i){if(e)if(qr(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&kf(n,s,"")}else for(const o in e)r[o]==null&&kf(n,o,"");for(const o in r)o==="display"&&(a=!0),kf(n,o,r[o])}else if(i){if(e!==r){const o=n[vle];o&&(r+=";"+o),n.cssText=r,a=mle.test(r)}}else e&&t.removeAttribute("style");s0 in t&&(t[s0]=a?n.display:"",t[ple]&&(n.display="none"))}const l0=/\s*!important$/;function kf(t,e,r){if(Rt(r))r.forEach(n=>kf(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=yle(t,e);l0.test(r)?t.setProperty(Ro(n),r.replace(l0,""),"important"):t[n]=r}}const u0=["Webkit","Moz","ms"],Xp={};function yle(t,e){const r=Xp[e];if(r)return r;let n=xi(e);if(n!=="filter"&&n in t)return Xp[e]=n;n=Ed(n);for(let i=0;i<u0.length;i++){const a=u0[i]+n;if(a in t)return Xp[e]=a}return e}const c0="http://www.w3.org/1999/xlink";function f0(t,e,r,n,i,a=Coe(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(c0,e.slice(6,e.length)):t.setAttributeNS(c0,e,r):r==null||a&&!OC(r)?t.removeAttribute(e):t.setAttribute(e,a?"":ca(r)?String(r):r)}function d0(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Mx(r):r);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const s=typeof t[e];s==="boolean"?r=OC(r):r==null&&s==="string"?(r="",o=!0):s==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function ss(t,e,r,n){t.addEventListener(e,r,n)}function ble(t,e,r,n){t.removeEventListener(e,r,n)}const h0=Symbol("_vei");function wle(t,e,r,n,i=null){const a=t[h0]||(t[h0]={}),o=a[e];if(n&&o)o.value=n;else{const[s,l]=kle(e);if(n){const u=a[e]=Tle(n,i);ss(t,s,u,l)}else o&&(ble(t,s,o,l),a[e]=void 0)}}const p0=/(?:Once|Passive|Capture)$/;function kle(t){let e;if(p0.test(t)){e={};let n;for(;n=t.match(p0);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ro(t.slice(2)),e]}let Qp=0;const Cle=Promise.resolve(),xle=()=>Qp||(Cle.then(()=>Qp=0),Qp=Date.now());function Tle(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;fa(Sle(n,r.value),e,5,[n])};return r.value=t,r.attached=xle(),r}function Sle(t,e){if(Rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const v0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ele=(t,e,r,n,i,a)=>{const o=i==="svg";e==="class"?hle(t,n,o):e==="style"?gle(t,r,n):xd(e)?rg(e)||wle(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mle(t,e,n,o))?(d0(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&f0(t,e,n,o,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qr(n))?d0(t,xi(e),n,a,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),f0(t,e,n,o))};function Mle(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&v0(e)&&Pt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return v0(e)&&qr(r)?!1:e in t}const Uf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Rt(e)?r=>yf(e,r):e};function Ole(t){t.target.composing=!0}function m0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ml=Symbol("_assign");function g0(t,e,r){return e&&(t=t.trim()),r&&(t=Md(t)),t}const Ia={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[ml]=Uf(i);const a=n||i.props&&i.props.type==="number";ss(t,e?"change":"input",o=>{o.target.composing||t[ml](g0(t.value,r,a))}),(r||a)&&ss(t,"change",()=>{t.value=g0(t.value,r,a)}),e||(ss(t,"compositionstart",Ole),ss(t,"compositionend",m0),ss(t,"change",m0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},o){if(t[ml]=Uf(o),t.composing)return;const s=(a||t.type==="number")&&!/^0\d/.test(t.value)?Md(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===l)||(t.value=l))}},Ox={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const i=Td(e);ss(t,"change",()=>{const a=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?Md(jf(o)):jf(o));t[ml](t.multiple?i?new Set(a):a:a[0]),t._assigning=!0,Zu(()=>{t._assigning=!1})}),t[ml]=Uf(n)},mounted(t,{value:e}){y0(t,e)},beforeUpdate(t,e,r){t[ml]=Uf(r)},updated(t,{value:e}){t._assigning||y0(t,e)}};function y0(t,e){const r=t.multiple,n=Rt(e);if(!(r&&!n&&!Td(e))){for(let i=0,a=t.options.length;i<a;i++){const o=t.options[i],s=jf(o);if(r)if(n){const l=typeof s;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(s)):o.selected=Toe(e,s)>-1}else o.selected=e.has(s);else if(Nd(jf(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function jf(t){return"_value"in t?t._value:t.value}const Ale=["ctrl","shift","alt","meta"],Nle={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ale.some(r=>t[`${r}Key`]&&!e.includes(r))},Eu=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((i,...a)=>{for(let o=0;o<e.length;o++){const s=Nle[e[o]];if(s&&s(i,e))return}return t(i,...a)}))},Dle={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ax=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=(i=>{if(!("key"in i))return;const a=Ro(i.key);if(e.some(o=>o===a||Dle[o]===a))return t(i)}))},Rle=fn({patchProp:Ele},fle);let b0;function Lle(){return b0||(b0=$se(Rle))}const Ile=((...t)=>{const e=Lle().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=_le(n);if(!i)return;const a=e._component;!Pt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,Ple(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Ple(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _le(t){return qr(t)?document.querySelector(t):t}function Nx(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ble}=Object.prototype,{getPrototypeOf:gg}=Object,{iterator:Hd,toStringTag:Dx}=Symbol,Vd=(t=>e=>{const r=Ble.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=t=>(t=t.toLowerCase(),e=>Vd(e)===t),zd=t=>e=>typeof e===t,{isArray:Hl}=Array,Cl=zd("undefined");function tc(t){return t!==null&&!Cl(t)&&t.constructor!==null&&!Cl(t.constructor)&&jn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Rx=Ui("ArrayBuffer");function Fle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Rx(t.buffer),e}const qle=zd("string"),jn=zd("function"),Lx=zd("number"),rc=t=>t!==null&&typeof t=="object",Hle=t=>t===!0||t===!1,Cf=t=>{if(Vd(t)!=="object")return!1;const e=gg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dx in t)&&!(Hd in t)},Vle=t=>{if(!rc(t)||tc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zle=Ui("Date"),$le=Ui("File"),Ule=Ui("Blob"),jle=Ui("FileList"),Wle=t=>rc(t)&&jn(t.pipe),Gle=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jn(t.append)&&((e=Vd(t))==="formdata"||e==="object"&&jn(t.toString)&&t.toString()==="[object FormData]"))},Kle=Ui("URLSearchParams"),[Jle,Xle,Qle,Yle]=["ReadableStream","Request","Response","Headers"].map(Ui),Zle=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Hl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(tc(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function Ix(t,e){if(tc(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Px=t=>!Cl(t)&&t!==us;function am(){const{caseless:t,skipUndefined:e}=Px(this)&&this||{},r={},n=(i,a)=>{const o=t&&Ix(r,a)||a;Cf(r[o])&&Cf(i)?r[o]=am(r[o],i):Cf(i)?r[o]=am({},i):Hl(i)?r[o]=i.slice():(!e||!Cl(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&nc(arguments[i],n);return r}const eue=(t,e,r,{allOwnKeys:n}={})=>(nc(e,(i,a)=>{r&&jn(i)?t[a]=Nx(i,r):t[a]=i},{allOwnKeys:n}),t),tue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rue=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},nue=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&gg(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},iue=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},aue=t=>{if(!t)return null;if(Hl(t))return t;let e=t.length;if(!Lx(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},oue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gg(Uint8Array)),sue=(t,e)=>{const n=(t&&t[Hd]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},lue=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},uue=Ui("HTMLFormElement"),cue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),w0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),fue=Ui("RegExp"),_x=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};nc(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},due=t=>{_x(t,(e,r)=>{if(jn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(jn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hue=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Hl(t)?n(t):n(String(t).split(e)),r},pue=()=>{},vue=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function mue(t){return!!(t&&jn(t.append)&&t[Dx]==="FormData"&&t[Hd])}const gue=t=>{const e=new Array(10),r=(n,i)=>{if(rc(n)){if(e.indexOf(n)>=0)return;if(tc(n))return n;if(!("toJSON"in n)){e[i]=n;const a=Hl(n)?[]:{};return nc(n,(o,s)=>{const l=r(o,i+1);!Cl(l)&&(a[s]=l)}),e[i]=void 0,a}}return n};return r(t,0)},yue=Ui("AsyncFunction"),bue=t=>t&&(rc(t)||jn(t))&&jn(t.then)&&jn(t.catch),Bx=((t,e)=>t?setImmediate:e?((r,n)=>(us.addEventListener("message",({source:i,data:a})=>{i===us&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),us.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jn(us.postMessage)),wue=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||Bx,kue=t=>t!=null&&jn(t[Hd]),Me={isArray:Hl,isArrayBuffer:Rx,isBuffer:tc,isFormData:Gle,isArrayBufferView:Fle,isString:qle,isNumber:Lx,isBoolean:Hle,isObject:rc,isPlainObject:Cf,isEmptyObject:Vle,isReadableStream:Jle,isRequest:Xle,isResponse:Qle,isHeaders:Yle,isUndefined:Cl,isDate:zle,isFile:$le,isBlob:Ule,isRegExp:fue,isFunction:jn,isStream:Wle,isURLSearchParams:Kle,isTypedArray:oue,isFileList:jle,forEach:nc,merge:am,extend:eue,trim:Zle,stripBOM:tue,inherits:rue,toFlatObject:nue,kindOf:Vd,kindOfTest:Ui,endsWith:iue,toArray:aue,forEachEntry:sue,matchAll:lue,isHTMLForm:uue,hasOwnProperty:w0,hasOwnProp:w0,reduceDescriptors:_x,freezeMethods:due,toObjectSet:hue,toCamelCase:cue,noop:pue,toFiniteNumber:vue,findKey:Ix,global:us,isContextDefined:Px,isSpecCompliantForm:mue,toJSONObject:gue,isAsyncFn:yue,isThenable:bue,setImmediate:Bx,asap:wue,isIterable:kue};function qt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Me.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const Fx=qt.prototype,qx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{qx[t]={value:t}});Object.defineProperties(qt,qx);Object.defineProperty(Fx,"isAxiosError",{value:!0});qt.from=(t,e,r,n,i,a)=>{const o=Object.create(Fx);Me.toFlatObject(t,o,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return qt.call(o,s,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const Cue=null;function om(t){return Me.isPlainObject(t)||Me.isArray(t)}function Hx(t){return Me.endsWith(t,"[]")?t.slice(0,-2):t}function k0(t,e,r){return t?t.concat(e).map(function(i,a){return i=Hx(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function xue(t){return Me.isArray(t)&&!t.some(om)}const Tue=Me.toFlatObject(Me,{},null,function(e){return/^is[A-Z]/.test(e)});function $d(t,e,r){if(!Me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,D){return!Me.isUndefined(D[M])});const n=r.metaTokens,i=r.visitor||f,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(e);if(!Me.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(Me.isDate(x))return x.toISOString();if(Me.isBoolean(x))return x.toString();if(!l&&Me.isBlob(x))throw new qt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(x)||Me.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,M,D){let B=x;if(x&&!D&&typeof x=="object"){if(Me.endsWith(M,"{}"))M=n?M:M.slice(0,-2),x=JSON.stringify(x);else if(Me.isArray(x)&&xue(x)||(Me.isFileList(x)||Me.endsWith(M,"[]"))&&(B=Me.toArray(x)))return M=Hx(M),B.forEach(function(Q,Y){!(Me.isUndefined(Q)||Q===null)&&e.append(o===!0?k0([M],Y,a):o===null?M:M+"[]",u(Q))}),!1}return om(x)?!0:(e.append(k0(D,M,a),u(x)),!1)}const h=[],w=Object.assign(Tue,{defaultVisitor:f,convertValue:u,isVisitable:om});function C(x,M){if(!Me.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+M.join("."));h.push(x),Me.forEach(x,function(B,j){(!(Me.isUndefined(B)||B===null)&&i.call(e,B,Me.isString(j)?j.trim():j,M,w))===!0&&C(B,M?M.concat(j):[j])}),h.pop()}}if(!Me.isObject(t))throw new TypeError("data must be an object");return C(t),e}function C0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function yg(t,e){this._pairs=[],t&&$d(t,this,e)}const Vx=yg.prototype;Vx.append=function(e,r){this._pairs.push([e,r])};Vx.toString=function(e){const r=e?function(n){return e.call(this,n,C0)}:C0;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Sue(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zx(t,e,r){if(!e)return t;const n=r&&r.encode||Sue;Me.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=Me.isURLSearchParams(e)?e.toString():new yg(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class x0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const $x={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Eue=typeof URLSearchParams<"u"?URLSearchParams:yg,Mue=typeof FormData<"u"?FormData:null,Oue=typeof Blob<"u"?Blob:null,Aue={isBrowser:!0,classes:{URLSearchParams:Eue,FormData:Mue,Blob:Oue},protocols:["http","https","file","blob","url","data"]},bg=typeof window<"u"&&typeof document<"u",sm=typeof navigator=="object"&&navigator||void 0,Nue=bg&&(!sm||["ReactNative","NativeScript","NS"].indexOf(sm.product)<0),Due=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rue=bg&&window.location.href||"http://localhost",Lue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bg,hasStandardBrowserEnv:Nue,hasStandardBrowserWebWorkerEnv:Due,navigator:sm,origin:Rue},Symbol.toStringTag,{value:"Module"})),bn={...Lue,...Aue};function Iue(t,e){return $d(t,new bn.classes.URLSearchParams,{visitor:function(r,n,i,a){return bn.isNode&&Me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Pue(t){return Me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _ue(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Ux(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Me.isArray(i)?i.length:o,l?(Me.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Me.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&Me.isArray(i[o])&&(i[o]=_ue(i[o])),!s)}if(Me.isFormData(t)&&Me.isFunction(t.entries)){const r={};return Me.forEachEntry(t,(n,i)=>{e(Pue(n),i,r,0)}),r}return null}function Bue(t,e,r){if(Me.isString(t))try{return(e||JSON.parse)(t),Me.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ic={transitional:$x,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Me.isObject(e);if(a&&Me.isHTMLForm(e)&&(e=new FormData(e)),Me.isFormData(e))return i?JSON.stringify(Ux(e)):e;if(Me.isArrayBuffer(e)||Me.isBuffer(e)||Me.isStream(e)||Me.isFile(e)||Me.isBlob(e)||Me.isReadableStream(e))return e;if(Me.isArrayBufferView(e))return e.buffer;if(Me.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Iue(e,this.formSerializer).toString();if((s=Me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $d(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Bue(e)):e}],transformResponse:[function(e){const r=this.transitional||ic.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Me.isResponse(e)||Me.isReadableStream(e))return e;if(e&&Me.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?qt.from(s,qt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],t=>{ic.headers[t]={}});const Fue=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),que=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Fue[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},T0=Symbol("internals");function iu(t){return t&&String(t).trim().toLowerCase()}function xf(t){return t===!1||t==null?t:Me.isArray(t)?t.map(xf):String(t)}function Hue(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Vue=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yp(t,e,r,n,i){if(Me.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Me.isString(e)){if(Me.isString(n))return e.indexOf(n)!==-1;if(Me.isRegExp(n))return n.test(e)}}function zue(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function $ue(t,e){const r=Me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let Wn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,l,u){const f=iu(l);if(!f)throw new Error("header name must be a non-empty string");const h=Me.findKey(i,f);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=xf(s))}const o=(s,l)=>Me.forEach(s,(u,f)=>a(u,f,l));if(Me.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Me.isString(e)&&(e=e.trim())&&!Vue(e))o(que(e),r);else if(Me.isObject(e)&&Me.isIterable(e)){let s={},l,u;for(const f of e){if(!Me.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[u=f[0]]=(l=s[u])?Me.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(s,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=iu(e),e){const n=Me.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Hue(i);if(Me.isFunction(r))return r.call(this,i,n);if(Me.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=iu(e),e){const n=Me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Yp(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=iu(o),o){const s=Me.findKey(n,o);s&&(!r||Yp(n,n[s],s,r))&&(delete n[s],i=!0)}}return Me.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||Yp(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return Me.forEach(this,(i,a)=>{const o=Me.findKey(n,a);if(o){r[o]=xf(i),delete r[a];return}const s=e?zue(a):String(a).trim();s!==a&&delete r[a],r[s]=xf(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Me.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[T0]=this[T0]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=iu(o);n[s]||($ue(i,o),n[s]=!0)}return Me.isArray(e)?e.forEach(a):a(e),this}};Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Wn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Me.freezeMethods(Wn);function Zp(t,e){const r=this||ic,n=e||r,i=Wn.from(n.headers);let a=n.data;return Me.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function jx(t){return!!(t&&t.__CANCEL__)}function Vl(t,e,r){qt.call(this,t??"canceled",qt.ERR_CANCELED,e,r),this.name="CanceledError"}Me.inherits(Vl,qt,{__CANCEL__:!0});function Wx(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Uue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jue(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=n[a];o||(o=u),r[i]=l,n[i]=u;let h=a,w=0;for(;h!==i;)w+=r[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const C=f&&u-f;return C?Math.round(w*1e3/C):void 0}}function Wue(t,e){let r=0,n=1e3/e,i,a;const o=(u,f=Date.now())=>{r=f,i=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const f=Date.now(),h=f-r;h>=n?o(u,f):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Wf=(t,e,r=3)=>{let n=0;const i=jue(50,250);return Wue(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),f=o<=s;n=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&f?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(h)},r)},S0=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},E0=t=>(...e)=>Me.asap(()=>t(...e)),Gue=bn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,bn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,Kue=bn.hasStandardBrowserEnv?{write(t,e,r,n,i,a,o){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];Me.isNumber(r)&&s.push(`expires=${new Date(r).toUTCString()}`),Me.isString(n)&&s.push(`path=${n}`),Me.isString(i)&&s.push(`domain=${i}`),a===!0&&s.push("secure"),Me.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jue(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Xue(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Gx(t,e,r){let n=!Jue(e);return t&&(n||r==!1)?Xue(t,e):e}const M0=t=>t instanceof Wn?{...t}:t;function Cs(t,e){e=e||{};const r={};function n(u,f,h,w){return Me.isPlainObject(u)&&Me.isPlainObject(f)?Me.merge.call({caseless:w},u,f):Me.isPlainObject(f)?Me.merge({},f):Me.isArray(f)?f.slice():f}function i(u,f,h,w){if(Me.isUndefined(f)){if(!Me.isUndefined(u))return n(void 0,u,h,w)}else return n(u,f,h,w)}function a(u,f){if(!Me.isUndefined(f))return n(void 0,f)}function o(u,f){if(Me.isUndefined(f)){if(!Me.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function s(u,f,h){if(h in e)return n(u,f);if(h in t)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,f,h)=>i(M0(u),M0(f),h,!0)};return Me.forEach(Object.keys({...t,...e}),function(f){const h=l[f]||i,w=h(t[f],e[f],f);Me.isUndefined(w)&&h!==s||(r[f]=w)}),r}const Kx=t=>{const e=Cs({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;if(e.headers=o=Wn.from(o),e.url=zx(Gx(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Me.isFormData(r)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,h])=>{u.includes(f.toLowerCase())&&o.set(f,h)})}}if(bn.hasStandardBrowserEnv&&(n&&Me.isFunction(n)&&(n=n(e)),n||n!==!1&&Gue(e.url))){const l=i&&a&&Kue.read(a);l&&o.set(i,l)}return e},Que=typeof XMLHttpRequest<"u",Yue=Que&&function(t){return new Promise(function(r,n){const i=Kx(t);let a=i.data;const o=Wn.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,f,h,w,C,x;function M(){C&&C(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function B(){if(!D)return;const Q=Wn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),te={data:!s||s==="text"||s==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:Q,config:t,request:D};Wx(function(oe){r(oe),M()},function(oe){n(oe),M()},te),D=null}"onloadend"in D?D.onloadend=B:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(B)},D.onabort=function(){D&&(n(new qt("Request aborted",qt.ECONNABORTED,t,D)),D=null)},D.onerror=function(Y){const te=Y&&Y.message?Y.message:"Network Error",se=new qt(te,qt.ERR_NETWORK,t,D);se.event=Y||null,n(se),D=null},D.ontimeout=function(){let Y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const te=i.transitional||$x;i.timeoutErrorMessage&&(Y=i.timeoutErrorMessage),n(new qt(Y,te.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,D)),D=null},a===void 0&&o.setContentType(null),"setRequestHeader"in D&&Me.forEach(o.toJSON(),function(Y,te){D.setRequestHeader(te,Y)}),Me.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),s&&s!=="json"&&(D.responseType=i.responseType),u&&([w,x]=Wf(u,!0),D.addEventListener("progress",w)),l&&D.upload&&([h,C]=Wf(l),D.upload.addEventListener("progress",h),D.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(f=Q=>{D&&(n(!Q||Q.type?new Vl(null,t,D):Q),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const j=Uue(i.url);if(j&&bn.protocols.indexOf(j)===-1){n(new qt("Unsupported protocol "+j+":",qt.ERR_BAD_REQUEST,t));return}D.send(a||null)})},Zue=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const f=u instanceof Error?u:this.reason;n.abort(f instanceof qt?f:new Vl(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,a(new qt(`timeout ${e} of ms exceeded`,qt.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>Me.asap(s),l}},ece=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},tce=async function*(t,e){for await(const r of rce(t))yield*ece(r,e)},rce=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},O0=(t,e,r,n)=>{const i=tce(t,e);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){s(),l.close();return}let h=f.byteLength;if(r){let w=a+=h;r(w)}l.enqueue(new Uint8Array(f))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},A0=64*1024,{isFunction:tf}=Me,nce=(({Request:t,Response:e})=>({Request:t,Response:e}))(Me.global),{ReadableStream:N0,TextEncoder:D0}=Me.global,R0=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ice=t=>{t=Me.merge.call({skipUndefined:!0},nce,t);const{fetch:e,Request:r,Response:n}=t,i=e?tf(e):typeof fetch=="function",a=tf(r),o=tf(n);if(!i)return!1;const s=i&&tf(N0),l=i&&(typeof D0=="function"?(x=>M=>x.encode(M))(new D0):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=a&&s&&R0(()=>{let x=!1;const M=new r(bn.origin,{body:new N0,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!M}),f=o&&s&&R0(()=>Me.isReadableStream(new n("").body)),h={stream:f&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(M,D)=>{let B=M&&M[x];if(B)return B.call(M);throw new qt(`Response type '${x}' is not supported`,qt.ERR_NOT_SUPPORT,D)})});const w=async x=>{if(x==null)return 0;if(Me.isBlob(x))return x.size;if(Me.isSpecCompliantForm(x))return(await new r(bn.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(x)||Me.isArrayBuffer(x))return x.byteLength;if(Me.isURLSearchParams(x)&&(x=x+""),Me.isString(x))return(await l(x)).byteLength},C=async(x,M)=>{const D=Me.toFiniteNumber(x.getContentLength());return D??w(M)};return async x=>{let{url:M,method:D,data:B,signal:j,cancelToken:Q,timeout:Y,onDownloadProgress:te,onUploadProgress:se,responseType:oe,headers:ge,withCredentials:Se="same-origin",fetchOptions:qe}=Kx(x),rt=e||fetch;oe=oe?(oe+"").toLowerCase():"text";let je=Zue([j,Q&&Q.toAbortSignal()],Y),Tt=null;const yt=je&&je.unsubscribe&&(()=>{je.unsubscribe()});let At;try{if(se&&u&&D!=="get"&&D!=="head"&&(At=await C(ge,B))!==0){let pt=new r(M,{method:"POST",body:B,duplex:"half"}),at;if(Me.isFormData(B)&&(at=pt.headers.get("content-type"))&&ge.setContentType(at),pt.body){const[Dt,Nt]=S0(At,Wf(E0(se)));B=O0(pt.body,A0,Dt,Nt)}}Me.isString(Se)||(Se=Se?"include":"omit");const Je=a&&"credentials"in r.prototype,ut={...qe,signal:je,method:D.toUpperCase(),headers:ge.normalize().toJSON(),body:B,duplex:"half",credentials:Je?Se:void 0};Tt=a&&new r(M,ut);let it=await(a?rt(Tt,qe):rt(M,ut));const Ht=f&&(oe==="stream"||oe==="response");if(f&&(te||Ht&&yt)){const pt={};["status","statusText","headers"].forEach(Kt=>{pt[Kt]=it[Kt]});const at=Me.toFiniteNumber(it.headers.get("content-length")),[Dt,Nt]=te&&S0(at,Wf(E0(te),!0))||[];it=new n(O0(it.body,A0,Dt,()=>{Nt&&Nt(),yt&&yt()}),pt)}oe=oe||"text";let nt=await h[Me.findKey(h,oe)||"text"](it,x);return!Ht&&yt&&yt(),await new Promise((pt,at)=>{Wx(pt,at,{data:nt,headers:Wn.from(it.headers),status:it.status,statusText:it.statusText,config:x,request:Tt})})}catch(Je){throw yt&&yt(),Je&&Je.name==="TypeError"&&/Load failed|fetch/i.test(Je.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,x,Tt),{cause:Je.cause||Je}):qt.from(Je,Je&&Je.code,x,Tt)}}},ace=new Map,Jx=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,a=[n,i,r];let o=a.length,s=o,l,u,f=ace;for(;s--;)l=a[s],u=f.get(l),u===void 0&&f.set(l,u=s?new Map:ice(e)),f=u;return u};Jx();const wg={http:Cue,xhr:Yue,fetch:{get:Jx}};Me.forEach(wg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const L0=t=>`- ${t}`,oce=t=>Me.isFunction(t)||t===null||t===!1;function sce(t,e){t=Me.isArray(t)?t:[t];const{length:r}=t;let n,i;const a={};for(let o=0;o<r;o++){n=t[o];let s;if(i=n,!oce(n)&&(i=wg[(s=String(n)).toLowerCase()],i===void 0))throw new qt(`Unknown adapter '${s}'`);if(i&&(Me.isFunction(i)||(i=i.get(e))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(L0).join(`
`):" "+L0(o[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const Xx={getAdapter:sce,adapters:wg};function ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vl(null,t)}function I0(t){return ev(t),t.headers=Wn.from(t.headers),t.data=Zp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xx.getAdapter(t.adapter||ic.adapter,t)(t).then(function(n){return ev(t),n.data=Zp.call(t,t.transformResponse,n),n.headers=Wn.from(n.headers),n},function(n){return jx(n)||(ev(t),n&&n.response&&(n.response.data=Zp.call(t,t.transformResponse,n.response),n.response.headers=Wn.from(n.response.headers))),Promise.reject(n)})}const Qx="1.13.2",Ud={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ud[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const P0={};Ud.transitional=function(e,r,n){function i(a,o){return"[Axios v"+Qx+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new qt(i(o," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!P0[o]&&(P0[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};Ud.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function lce(t,e,r){if(typeof t!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],l=s===void 0||o(s,a,t);if(l!==!0)throw new qt("option "+a+" must be "+l,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+a,qt.ERR_BAD_OPTION)}}const Tf={assertOptions:lce,validators:Ud},Yi=Tf.validators;let ms=class{constructor(e){this.defaults=e||{},this.interceptors={request:new x0,response:new x0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Cs(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Tf.assertOptions(n,{silentJSONParsing:Yi.transitional(Yi.boolean),forcedJSONParsing:Yi.transitional(Yi.boolean),clarifyTimeoutError:Yi.transitional(Yi.boolean)},!1),i!=null&&(Me.isFunction(i)?r.paramsSerializer={serialize:i}:Tf.assertOptions(i,{encode:Yi.function,serialize:Yi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tf.assertOptions(r,{baseUrl:Yi.spelling("baseURL"),withXsrfToken:Yi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Me.merge(a.common,a[r.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=Wn.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(r)===!1||(l=l&&M.synchronous,s.unshift(M.fulfilled,M.rejected))});const u=[];this.interceptors.response.forEach(function(M){u.push(M.fulfilled,M.rejected)});let f,h=0,w;if(!l){const x=[I0.bind(this),void 0];for(x.unshift(...s),x.push(...u),w=x.length,f=Promise.resolve(r);h<w;)f=f.then(x[h++],x[h++]);return f}w=s.length;let C=r;for(;h<w;){const x=s[h++],M=s[h++];try{C=x(C)}catch(D){M.call(this,D);break}}try{f=I0.call(this,C)}catch(x){return Promise.reject(x)}for(h=0,w=u.length;h<w;)f=f.then(u[h++],u[h++]);return f}getUri(e){e=Cs(this.defaults,e);const r=Gx(e.baseURL,e.url,e.allowAbsoluteUrls);return zx(r,e.params,e.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(r,n){return this.request(Cs(n||{},{method:e,url:r,data:(n||{}).data}))}});Me.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Cs(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}ms.prototype[e]=r(),ms.prototype[e+"Form"]=r(!0)});let uce=class Yx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new Vl(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Yx(function(i){e=i}),cancel:e}}};function cce(t){return function(r){return t.apply(null,r)}}function fce(t){return Me.isObject(t)&&t.isAxiosError===!0}const lm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lm).forEach(([t,e])=>{lm[e]=t});function Zx(t){const e=new ms(t),r=Nx(ms.prototype.request,e);return Me.extend(r,ms.prototype,e,{allOwnKeys:!0}),Me.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Zx(Cs(t,i))},r}const zt=Zx(ic);zt.Axios=ms;zt.CanceledError=Vl;zt.CancelToken=uce;zt.isCancel=jx;zt.VERSION=Qx;zt.toFormData=$d;zt.AxiosError=qt;zt.Cancel=zt.CanceledError;zt.all=function(e){return Promise.all(e)};zt.spread=cce;zt.isAxiosError=fce;zt.mergeConfig=Cs;zt.AxiosHeaders=Wn;zt.formToJSON=t=>Ux(Me.isHTMLForm(t)?new FormData(t):t);zt.getAdapter=Xx.getAdapter;zt.HttpStatusCode=lm;zt.default=zt;const{Axios:jat,AxiosError:Wat,CanceledError:Gat,isCancel:Kat,CancelToken:Jat,VERSION:Xat,all:Qat,Cancel:Yat,isAxiosError:Zat,spread:eot,toFormData:tot,AxiosHeaders:rot,HttpStatusCode:not,formToJSON:iot,getAdapter:aot,mergeConfig:oot}=zt,dce="/logo.png",hce={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10 transition-colors"},pce={class:"container mx-auto px-4 h-16 flex items-center justify-between"},vce={__name:"AppHeader",emits:["toggle-menu"],setup(t){return(e,r)=>{const n=Pd("router-link");return lt(),vt("header",hce,[pe("div",pce,[Wr(n,{to:"/",class:"flex items-center"},{default:Ff(()=>[...r[1]||(r[1]=[pe("img",{src:dce,alt:"Elektron",class:"h-8 mr-3"},null,-1)])]),_:1}),pe("button",{onClick:r[0]||(r[0]=i=>e.$emit("toggle-menu")),"aria-label":"Menu",class:"p-2 text-gray-600 dark:text-gray-300 hover:text-elektron-blue dark:hover:text-elektron-blue focus:outline-none transition-colors"},[...r[2]||(r[2]=[pe("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])])}}};function mce(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}async function gce(){return"Notification"in window?Notification.permission:"unsupported"}async function yce(){if(!("serviceWorker"in navigator)||!("PushManager"in window)||localStorage.getItem("push_prompt_dismissed")||Notification.permission!=="default")return!1;const e=window.matchMedia("(display-mode: standalone)").matches;return e||navigator.standalone?!0:e}async function eT(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support");const t=await navigator.serviceWorker.ready,r=(await zt.get("/api/push.php?action=vapid_public_key")).data.publicKey;if(!r)throw new Error("Server VAPID key missing");const n=mce(r),i=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n});return await zt.post("/api/push.php",{action:"subscribe",subscription:i}),i}const tT=localStorage.getItem("dark_mode")==="true";tT&&document.documentElement.classList.add("dark");const Mu=ql({darkMode:tT,toggleDarkMode(){this.darkMode=!this.darkMode,this.darkMode?(document.documentElement.classList.add("dark"),localStorage.setItem("dark_mode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("dark_mode","false"))}}),bce={key:0,class:"fixed inset-0 z-50 flex justify-end"},wce={class:"relative bg-white dark:bg-gray-800 w-80 h-full shadow-xl flex flex-col p-6 overflow-y-auto transition-colors"},kce={class:"flex justify-between items-center mb-8"},Cce={class:"flex-grow space-y-4"},xce={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},Tce={key:0,class:"text-green-600 dark:text-green-400 flex items-center"},Sce={class:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4 flex justify-between items-center"},Ece={key:0,class:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mce={key:1,class:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oce={class:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4"},Ace={__name:"AppMenu",props:{isOpen:Boolean},emits:["close"],setup(t){const e=Bt("default"),r=Bt(""),n=Bt(!1);async function i(){e.value=await gce()}async function a(){r.value="Registriere...",n.value=!1;try{await eT(),e.value="granted",r.value="Erfolgreich registriert!"}catch(o){console.error(o),n.value=!0,r.value="Fehler: "+o.message}}return Id(()=>{i()}),(o,s)=>{const l=Pd("router-link");return t.isOpen?(lt(),vt("div",bce,[pe("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s[0]||(s[0]=u=>o.$emit("close"))}),pe("div",wce,[pe("div",kce,[s[6]||(s[6]=pe("h2",{class:"text-xl font-bold text-elektron-blue"},"Menu",-1)),pe("button",{onClick:s[1]||(s[1]=u=>o.$emit("close")),class:"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"},[...s[5]||(s[5]=[pe("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),pe("nav",Cce,[Wr(l,{to:"/",class:"block text-lg hover:text-elektron-blue dark:text-gray-200",onClick:s[2]||(s[2]=u=>o.$emit("close"))},{default:Ff(()=>[...s[7]||(s[7]=[sa("Dateien",-1)])]),_:1}),pe("div",xce,[s[9]||(s[9]=pe("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},"Push Benachrichtigungen",-1)),e.value==="granted"?(lt(),vt("div",Tce,[...s[8]||(s[8]=[pe("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),sa(" Aktiviert ",-1)])])):(lt(),vt("button",{key:1,onClick:a,class:"w-full bg-elektron-blue text-white py-2 rounded hover:bg-opacity-90"}," Aktivieren ")),r.value?(lt(),vt("p",{key:2,class:Ri(["text-xs mt-2",n.value?"text-red-500":"text-green-600 dark:text-green-400"])},hr(r.value),3)):gr("",!0)]),pe("div",Sce,[s[12]||(s[12]=pe("span",{class:"text-gray-600 dark:text-gray-300"},"Dark Mode",-1)),pe("button",{onClick:s[3]||(s[3]=u=>_i(Mu).toggleDarkMode()),class:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[_i(Mu).darkMode?(lt(),vt("svg",Ece,[...s[10]||(s[10]=[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):(lt(),vt("svg",Mce,[...s[11]||(s[11]=[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))])]),pe("div",Oce,[Wr(l,{to:"/admin",class:"block text-gray-600 dark:text-gray-300 hover:text-elektron-blue",onClick:s[4]||(s[4]=u=>o.$emit("close"))},{default:Ff(()=>[...s[13]||(s[13]=[sa("Admin Bereich",-1)])]),_:1})])])])])):gr("",!0)}}},Nce={class:"min-h-screen flex flex-col"},Dce={class:"flex-grow container mx-auto px-4 py-6"},Rce={class:"bg-gray-200 dark:bg-gray-800 text-center py-4 text-sm text-gray-600 dark:text-gray-400 transition-colors"},Lce={key:0,class:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4"},Ice={__name:"App",setup(t){const e=Bt(!1),r=Bt(!1);async function n(){try{const s=await zt.get("/api/auth.php");s.data.csrf_token&&(zt.defaults.headers.common["X-CSRF-TOKEN"]=s.data.csrf_token)}catch(s){console.error("Session init failed",s)}}async function i(){await yce()&&(r.value=!0)}function a(){r.value=!1,localStorage.setItem("push_prompt_dismissed","true")}async function o(){try{await eT(),r.value=!1}catch(s){console.error(s),alert("Fehler beim Aktivieren: "+s.message)}}return Id(()=>{n(),i()}),(s,l)=>{const u=Pd("router-view");return lt(),vt("div",Nce,[Wr(vce,{onToggleMenu:l[0]||(l[0]=f=>e.value=!e.value)}),Wr(Ace,{isOpen:e.value,onClose:l[1]||(l[1]=f=>e.value=!1)},null,8,["isOpen"]),pe("main",Dce,[Wr(u)]),pe("footer",Rce,"  "+hr(new Date().getFullYear())+" Elektron AG ",1),r.value?(lt(),vt("div",Lce,[pe("div",{class:"fixed inset-0 bg-black bg-opacity-50",onClick:l[2]||(l[2]=f=>r.value=!1)}),pe("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm relative z-10"},[l[3]||(l[3]=pe("h3",{class:"text-lg font-bold text-elektron-blue mb-2"},"Benachrichtigungen aktivieren?",-1)),l[4]||(l[4]=pe("p",{class:"text-gray-600 dark:text-gray-300 mb-4"},"Erhalten Sie Updates zu neuen Dateien und wichtigen Meldungen.",-1)),pe("div",{class:"flex space-x-3"},[pe("button",{onClick:a,class:"flex-1 border border-gray-300 dark:border-gray-600 py-2 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},"Nein, danke"),pe("button",{onClick:o,class:"flex-1 bg-elektron-blue text-white py-2 rounded hover:bg-opacity-90 transition-colors"},"Aktivieren")])])])):gr("",!0)])}}};/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ol=typeof document<"u";function rT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Pce(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&rT(t.default)}const ar=Object.assign;function tv(t,e){const r={};for(const n in e){const i=e[n];r[n]=Vi(i)?i.map(t):t(i)}return r}const Ou=()=>{},Vi=Array.isArray;function _0(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const nT=/#/g,_ce=/&/g,Bce=/\//g,Fce=/=/g,qce=/\?/g,iT=/\+/g,Hce=/%5B/g,Vce=/%5D/g,aT=/%5E/g,zce=/%60/g,oT=/%7B/g,$ce=/%7C/g,sT=/%7D/g,Uce=/%20/g;function kg(t){return t==null?"":encodeURI(""+t).replace($ce,"|").replace(Hce,"[").replace(Vce,"]")}function jce(t){return kg(t).replace(oT,"{").replace(sT,"}").replace(aT,"^")}function um(t){return kg(t).replace(iT,"%2B").replace(Uce,"+").replace(nT,"%23").replace(_ce,"%26").replace(zce,"`").replace(oT,"{").replace(sT,"}").replace(aT,"^")}function Wce(t){return um(t).replace(Fce,"%3D")}function Gce(t){return kg(t).replace(nT,"%23").replace(qce,"%3F")}function Kce(t){return Gce(t).replace(Bce,"%2F")}function Hu(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Jce=/\/$/,Xce=t=>t.replace(Jce,"");function rv(t,e,r="/"){let n,i={},a="",o="";const s=e.indexOf("#");let l=e.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(n=e.slice(0,l),a=e.slice(l,s>0?s:e.length),i=t(a.slice(1))),s>=0&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=efe(n??e,r),{fullPath:n+a+o,path:n,query:i,hash:Hu(o)}}function Qce(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function B0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Yce(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&xl(e.matched[n],r.matched[i])&&lT(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function xl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!Zce(t[r],e[r]))return!1;return!0}function Zce(t,e){return Vi(t)?F0(t,e):Vi(e)?F0(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function F0(t,e){return Vi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function efe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(o).join("/")}const oo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cm=(function(t){return t.pop="pop",t.push="push",t})({}),nv=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function tfe(t){if(!t)if(ol){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Xce(t)}const rfe=/^[^#]+#/;function nfe(t,e){return t.replace(rfe,"#")+e}function ife(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const jd=()=>({left:window.scrollX,top:window.scrollY});function afe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=ife(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function q0(t,e){return(history.state?history.state.position-e:-1)+t}const fm=new Map;function ofe(t,e){fm.set(t,e)}function sfe(t){const e=fm.get(t);return fm.delete(t),e}function lfe(t){return typeof t=="string"||t&&typeof t=="object"}function uT(t){return typeof t=="string"||typeof t=="symbol"}let Or=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const cT=Symbol("");Or.MATCHER_NOT_FOUND+"",Or.NAVIGATION_GUARD_REDIRECT+"",Or.NAVIGATION_ABORTED+"",Or.NAVIGATION_CANCELLED+"",Or.NAVIGATION_DUPLICATED+"";function Tl(t,e){return ar(new Error,{type:t,[cT]:!0},e)}function Na(t,e){return t instanceof Error&&cT in t&&(e==null||!!(t.type&e))}const ufe=["params","query","hash"];function cfe(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of ufe)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function ffe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(iT," "),a=i.indexOf("="),o=Hu(a<0?i:i.slice(0,a)),s=a<0?null:Hu(i.slice(a+1));if(o in e){let l=e[o];Vi(l)||(l=e[o]=[l]),l.push(s)}else e[o]=s}return e}function H0(t){let e="";for(let r in t){const n=t[r];if(r=Wce(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Vi(n)?n.map(i=>i&&um(i)):[n&&um(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function dfe(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Vi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const hfe=Symbol(""),V0=Symbol(""),Wd=Symbol(""),Cg=Symbol(""),dm=Symbol("");function au(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function ho(t,e,r,n,i,a=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=w=>{w===!1?l(Tl(Or.NAVIGATION_ABORTED,{from:r,to:e})):w instanceof Error?l(w):lfe(w)?l(Tl(Or.NAVIGATION_GUARD_REDIRECT,{from:e,to:w})):(o&&n.enterCallbacks[i]===o&&typeof w=="function"&&o.push(w),s())},f=a(()=>t.call(n&&n.instances[i],e,r,u));let h=Promise.resolve(f);t.length<3&&(h=h.then(u)),h.catch(w=>l(w))})}function iv(t,e,r,n,i=a=>a()){const a=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(rT(l)){const u=(l.__vccOpts||l)[e];u&&a.push(ho(u,r,n,o,s,i))}else{let u=l();a.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const h=Pce(f)?f.default:f;o.mods[s]=f,o.components[s]=h;const w=(h.__vccOpts||h)[e];return w&&ho(w,r,n,o,s,i)()}))}}return a}function pfe(t,e){const r=[],n=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let o=0;o<a;o++){const s=e.matched[o];s&&(t.matched.find(u=>xl(u,s))?n.push(s):r.push(s));const l=t.matched[o];l&&(e.matched.find(u=>xl(u,l))||i.push(l))}return[r,n,i]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let vfe=()=>location.protocol+"//"+location.host;function fT(t,e){const{pathname:r,search:n,hash:i}=e,a=t.indexOf("#");if(a>-1){let o=i.includes(t.slice(a))?t.slice(a).length:1,s=i.slice(o);return s[0]!=="/"&&(s="/"+s),B0(s,"")}return B0(r,t)+n+i}function mfe(t,e,r,n){let i=[],a=[],o=null;const s=({state:w})=>{const C=fT(t,location),x=r.value,M=e.value;let D=0;if(w){if(r.value=C,e.value=w,o&&o===x){o=null;return}D=M?w.position-M.position:0}else n(C);i.forEach(B=>{B(r.value,x,{delta:D,type:cm.pop,direction:D?D>0?nv.forward:nv.back:nv.unknown})})};function l(){o=r.value}function u(w){i.push(w);const C=()=>{const x=i.indexOf(w);x>-1&&i.splice(x,1)};return a.push(C),C}function f(){if(document.visibilityState==="hidden"){const{history:w}=window;if(!w.state)return;w.replaceState(ar({},w.state,{scroll:jd()}),"")}}function h(){for(const w of a)w();a=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",s),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:l,listen:u,destroy:h}}function z0(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?jd():null}}function gfe(t){const{history:e,location:r}=window,n={value:fT(t,r)},i={value:e.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(l,u,f){const h=t.indexOf("#"),w=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:vfe()+t+l;try{e[f?"replaceState":"pushState"](u,"",w),i.value=u}catch(C){console.error(C),r[f?"replace":"assign"](w)}}function o(l,u){a(l,ar({},e.state,z0(i.value.back,l,i.value.forward,!0),u,{position:i.value.position}),!0),n.value=l}function s(l,u){const f=ar({},i.value,e.state,{forward:l,scroll:jd()});a(f.current,f,!0),a(l,ar({},z0(n.value,l,null),{position:f.position+1},u),!1),n.value=l}return{location:n,state:i,push:s,replace:o}}function yfe(t){t=tfe(t);const e=gfe(t),r=mfe(t,e.state,e.location,e.replace);function n(a,o=!0){o||r.pauseListeners(),history.go(a)}const i=ar({location:"",base:t,go:n,createHref:nfe.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let cs=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var $r=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})($r||{});const bfe={type:cs.Static,value:""},wfe=/[a-zA-Z0-9_]/;function kfe(t){if(!t)return[[]];if(t==="/")return[[bfe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${r})/"${u}": ${C}`)}let r=$r.Static,n=r;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,l,u="",f="";function h(){u&&(r===$r.Static?a.push({type:cs.Static,value:u}):r===$r.Param||r===$r.ParamRegExp||r===$r.ParamRegExpEnd?(a.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:cs.Param,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function w(){u+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&r!==$r.ParamRegExp){n=r,r=$r.EscapeNext;continue}switch(r){case $r.Static:l==="/"?(u&&h(),o()):l===":"?(h(),r=$r.Param):w();break;case $r.EscapeNext:w(),r=n;break;case $r.Param:l==="("?r=$r.ParamRegExp:wfe.test(l)?w():(h(),r=$r.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case $r.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:r=$r.ParamRegExpEnd:f+=l;break;case $r.ParamRegExpEnd:h(),r=$r.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--,f="";break;default:e("Unknown state");break}}return r===$r.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}const $0="[^/]+?",Cfe={sensitive:!1,strict:!1,start:!0,end:!0};var Mn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Mn||{});const xfe=/[.+*?^${}()[\]/\\]/g;function Tfe(t,e){const r=ar({},Cfe,e),n=[];let i=r.start?"^":"";const a=[];for(const u of t){const f=u.length?[]:[Mn.Root];r.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const w=u[h];let C=Mn.Segment+(r.sensitive?Mn.BonusCaseSensitive:0);if(w.type===cs.Static)h||(i+="/"),i+=w.value.replace(xfe,"\\$&"),C+=Mn.Static;else if(w.type===cs.Param){const{value:x,repeatable:M,optional:D,regexp:B}=w;a.push({name:x,repeatable:M,optional:D});const j=B||$0;if(j!==$0){C+=Mn.BonusCustomRegExp;try{`${j}`}catch(Y){throw new Error(`Invalid custom RegExp for param "${x}" (${j}): `+Y.message)}}let Q=M?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;h||(Q=D&&u.length<2?`(?:/${Q})`:"/"+Q),D&&(Q+="?"),i+=Q,C+=Mn.Dynamic,D&&(C+=Mn.BonusOptional),M&&(C+=Mn.BonusRepeatable),j===".*"&&(C+=Mn.BonusWildcard)}f.push(C)}n.push(f)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=Mn.BonusStrict}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function s(u){const f=u.match(o),h={};if(!f)return null;for(let w=1;w<f.length;w++){const C=f[w]||"",x=a[w-1];h[x.name]=C&&x.repeatable?C.split("/"):C}return h}function l(u){let f="",h=!1;for(const w of t){(!h||!f.endsWith("/"))&&(f+="/"),h=!1;for(const C of w)if(C.type===cs.Static)f+=C.value;else if(C.type===cs.Param){const{value:x,repeatable:M,optional:D}=C,B=x in u?u[x]:"";if(Vi(B)&&!M)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const j=Vi(B)?B.join("/"):B;if(!j)if(D)w.length<2&&(f.endsWith("/")?f=f.slice(0,-1):h=!0);else throw new Error(`Missing required param "${x}"`);f+=j}}return f||"/"}return{re:o,score:n,keys:a,parse:s,stringify:l}}function Sfe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Mn.Static+Mn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Mn.Static+Mn.Segment?1:-1:0}function dT(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const a=Sfe(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(U0(n))return 1;if(U0(i))return-1}return i.length-n.length}function U0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Efe={strict:!1,end:!0,sensitive:!1};function Mfe(t,e,r){const n=Tfe(kfe(t.path),r),i=ar(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ofe(t,e){const r=[],n=new Map;e=_0(Efe,e);function i(h){return n.get(h)}function a(h,w,C){const x=!C,M=W0(h);M.aliasOf=C&&C.record;const D=_0(e,h),B=[M];if("alias"in h){const Y=typeof h.alias=="string"?[h.alias]:h.alias;for(const te of Y)B.push(W0(ar({},M,{components:C?C.record.components:M.components,path:te,aliasOf:C?C.record:M})))}let j,Q;for(const Y of B){const{path:te}=Y;if(w&&te[0]!=="/"){const se=w.record.path,oe=se[se.length-1]==="/"?"":"/";Y.path=w.record.path+(te&&oe+te)}if(j=Mfe(Y,w,D),C?C.alias.push(j):(Q=Q||j,Q!==j&&Q.alias.push(j),x&&h.name&&!G0(j)&&o(h.name)),hT(j)&&l(j),M.children){const se=M.children;for(let oe=0;oe<se.length;oe++)a(se[oe],j,C&&C.children[oe])}C=C||j}return Q?()=>{o(Q)}:Ou}function o(h){if(uT(h)){const w=n.get(h);w&&(n.delete(h),r.splice(r.indexOf(w),1),w.children.forEach(o),w.alias.forEach(o))}else{const w=r.indexOf(h);w>-1&&(r.splice(w,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function s(){return r}function l(h){const w=Dfe(h,r);r.splice(w,0,h),h.record.name&&!G0(h)&&n.set(h.record.name,h)}function u(h,w){let C,x={},M,D;if("name"in h&&h.name){if(C=n.get(h.name),!C)throw Tl(Or.MATCHER_NOT_FOUND,{location:h});D=C.record.name,x=ar(j0(w.params,C.keys.filter(Q=>!Q.optional).concat(C.parent?C.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),h.params&&j0(h.params,C.keys.map(Q=>Q.name))),M=C.stringify(x)}else if(h.path!=null)M=h.path,C=r.find(Q=>Q.re.test(M)),C&&(x=C.parse(M),D=C.record.name);else{if(C=w.name?n.get(w.name):r.find(Q=>Q.re.test(w.path)),!C)throw Tl(Or.MATCHER_NOT_FOUND,{location:h,currentLocation:w});D=C.record.name,x=ar({},w.params,h.params),M=C.stringify(x)}const B=[];let j=C;for(;j;)B.unshift(j.record),j=j.parent;return{name:D,path:M,params:x,matched:B,meta:Nfe(B)}}t.forEach(h=>a(h));function f(){r.length=0,n.clear()}return{addRoute:a,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:s,getRecordMatcher:i}}function j0(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function W0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Afe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Afe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function G0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Nfe(t){return t.reduce((e,r)=>ar(e,r.meta),{})}function Dfe(t,e){let r=0,n=e.length;for(;r!==n;){const a=r+n>>1;dT(t,e[a])<0?n=a:r=a+1}const i=Rfe(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function Rfe(t){let e=t;for(;e=e.parent;)if(hT(e)&&dT(t,e)===0)return e}function hT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function K0(t){const e=Bi(Wd),r=Bi(Cg),n=An(()=>{const l=_i(t.to);return e.resolve(l)}),i=An(()=>{const{matched:l}=n.value,{length:u}=l,f=l[u-1],h=r.matched;if(!f||!h.length)return-1;const w=h.findIndex(xl.bind(null,f));if(w>-1)return w;const C=J0(l[u-2]);return u>1&&J0(f)===C&&h[h.length-1].path!==C?h.findIndex(xl.bind(null,l[u-2])):w}),a=An(()=>i.value>-1&&Bfe(r.params,n.value.params)),o=An(()=>i.value>-1&&i.value===r.matched.length-1&&lT(r.params,n.value.params));function s(l={}){if(_fe(l)){const u=e[_i(t.replace)?"replace":"push"](_i(t.to)).catch(Ou);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:An(()=>n.value.href),isActive:a,isExactActive:o,navigate:s}}function Lfe(t){return t.length===1?t[0]:t}const Ife=tx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:K0,setup(t,{slots:e}){const r=ql(K0(t)),{options:n}=Bi(Wd),i=An(()=>({[X0(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[X0(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&Lfe(e.default(r));return t.custom?a:Ex("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),Pfe=Ife;function _fe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Bfe(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Vi(i)||i.length!==n.length||n.some((a,o)=>a.valueOf()!==i[o].valueOf()))return!1}return!0}function J0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const X0=(t,e,r)=>t??e??r,Ffe=tx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Bi(dm),i=An(()=>t.route||n.value),a=Bi(V0,0),o=An(()=>{let u=_i(a);const{matched:f}=i.value;let h;for(;(h=f[u])&&!h.components;)u++;return u}),s=An(()=>i.value.matched[o.value]);bf(V0,An(()=>o.value+1)),bf(hfe,s),bf(dm,i);const l=Bt();return ku(()=>[l.value,s.value,t.name],([u,f,h],[w,C,x])=>{f&&(f.instances[h]=u,C&&C!==f&&u&&u===w&&(f.leaveGuards.size||(f.leaveGuards=C.leaveGuards),f.updateGuards.size||(f.updateGuards=C.updateGuards))),u&&f&&(!C||!xl(f,C)||!w)&&(f.enterCallbacks[h]||[]).forEach(M=>M(u))},{flush:"post"}),()=>{const u=i.value,f=t.name,h=s.value,w=h&&h.components[f];if(!w)return Q0(r.default,{Component:w,route:u});const C=h.props[f],x=C?C===!0?u.params:typeof C=="function"?C(u):C:null,D=Ex(w,ar({},x,e,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(h.instances[f]=null)},ref:l}));return Q0(r.default,{Component:D,route:u})||D}}});function Q0(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const qfe=Ffe;function Hfe(t){const e=Ofe(t.routes,t),r=t.parseQuery||ffe,n=t.stringifyQuery||H0,i=t.history,a=au(),o=au(),s=au(),l=Woe(oo);let u=oo;ol&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=tv.bind(null,Oe=>""+Oe),h=tv.bind(null,Kce),w=tv.bind(null,Hu);function C(Oe,he){let ue,ee;return uT(Oe)?(ue=e.getRecordMatcher(Oe),ee=he):ee=Oe,e.addRoute(ee,ue)}function x(Oe){const he=e.getRecordMatcher(Oe);he&&e.removeRoute(he)}function M(){return e.getRoutes().map(Oe=>Oe.record)}function D(Oe){return!!e.getRecordMatcher(Oe)}function B(Oe,he){if(he=ar({},he||l.value),typeof Oe=="string"){const q=rv(r,Oe,he.path),le=e.resolve({path:q.path},he),ae=i.createHref(q.fullPath);return ar(q,le,{params:w(le.params),hash:Hu(q.hash),redirectedFrom:void 0,href:ae})}let ue;if(Oe.path!=null)ue=ar({},Oe,{path:rv(r,Oe.path,he.path).path});else{const q=ar({},Oe.params);for(const le in q)q[le]==null&&delete q[le];ue=ar({},Oe,{params:h(q)}),he.params=h(he.params)}const ee=e.resolve(ue,he),ce=Oe.hash||"";ee.params=f(w(ee.params));const I=Qce(n,ar({},Oe,{hash:jce(ce),path:ee.path})),V=i.createHref(I);return ar({fullPath:I,hash:ce,query:n===H0?dfe(Oe.query):Oe.query||{}},ee,{redirectedFrom:void 0,href:V})}function j(Oe){return typeof Oe=="string"?rv(r,Oe,l.value.path):ar({},Oe)}function Q(Oe,he){if(u!==Oe)return Tl(Or.NAVIGATION_CANCELLED,{from:he,to:Oe})}function Y(Oe){return oe(Oe)}function te(Oe){return Y(ar(j(Oe),{replace:!0}))}function se(Oe,he){const ue=Oe.matched[Oe.matched.length-1];if(ue&&ue.redirect){const{redirect:ee}=ue;let ce=typeof ee=="function"?ee(Oe,he):ee;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=j(ce):{path:ce},ce.params={}),ar({query:Oe.query,hash:Oe.hash,params:ce.path!=null?{}:Oe.params},ce)}}function oe(Oe,he){const ue=u=B(Oe),ee=l.value,ce=Oe.state,I=Oe.force,V=Oe.replace===!0,q=se(ue,ee);if(q)return oe(ar(j(q),{state:typeof q=="object"?ar({},ce,q.state):ce,force:I,replace:V}),he||ue);const le=ue;le.redirectedFrom=he;let ae;return!I&&Yce(n,ee,ue)&&(ae=Tl(Or.NAVIGATION_DUPLICATED,{to:le,from:ee}),pt(ee,ee,!0,!1)),(ae?Promise.resolve(ae):qe(le,ee)).catch(ye=>Na(ye)?Na(ye,Or.NAVIGATION_GUARD_REDIRECT)?ye:nt(ye):it(ye,le,ee)).then(ye=>{if(ye){if(Na(ye,Or.NAVIGATION_GUARD_REDIRECT))return oe(ar({replace:V},j(ye.to),{state:typeof ye.to=="object"?ar({},ce,ye.to.state):ce,force:I}),he||le)}else ye=je(le,ee,!0,V,ce);return rt(le,ee,ye),ye})}function ge(Oe,he){const ue=Q(Oe,he);return ue?Promise.reject(ue):Promise.resolve()}function Se(Oe){const he=Nt.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(Oe):Oe()}function qe(Oe,he){let ue;const[ee,ce,I]=pfe(Oe,he);ue=iv(ee.reverse(),"beforeRouteLeave",Oe,he);for(const q of ee)q.leaveGuards.forEach(le=>{ue.push(ho(le,Oe,he))});const V=ge.bind(null,Oe,he);return ue.push(V),Vt(ue).then(()=>{ue=[];for(const q of a.list())ue.push(ho(q,Oe,he));return ue.push(V),Vt(ue)}).then(()=>{ue=iv(ce,"beforeRouteUpdate",Oe,he);for(const q of ce)q.updateGuards.forEach(le=>{ue.push(ho(le,Oe,he))});return ue.push(V),Vt(ue)}).then(()=>{ue=[];for(const q of I)if(q.beforeEnter)if(Vi(q.beforeEnter))for(const le of q.beforeEnter)ue.push(ho(le,Oe,he));else ue.push(ho(q.beforeEnter,Oe,he));return ue.push(V),Vt(ue)}).then(()=>(Oe.matched.forEach(q=>q.enterCallbacks={}),ue=iv(I,"beforeRouteEnter",Oe,he,Se),ue.push(V),Vt(ue))).then(()=>{ue=[];for(const q of o.list())ue.push(ho(q,Oe,he));return ue.push(V),Vt(ue)}).catch(q=>Na(q,Or.NAVIGATION_CANCELLED)?q:Promise.reject(q))}function rt(Oe,he,ue){s.list().forEach(ee=>Se(()=>ee(Oe,he,ue)))}function je(Oe,he,ue,ee,ce){const I=Q(Oe,he);if(I)return I;const V=he===oo,q=ol?history.state:{};ue&&(ee||V?i.replace(Oe.fullPath,ar({scroll:V&&q&&q.scroll},ce)):i.push(Oe.fullPath,ce)),l.value=Oe,pt(Oe,he,ue,V),nt()}let Tt;function yt(){Tt||(Tt=i.listen((Oe,he,ue)=>{if(!Kt.listening)return;const ee=B(Oe),ce=se(ee,Kt.currentRoute.value);if(ce){oe(ar(ce,{replace:!0,force:!0}),ee).catch(Ou);return}u=ee;const I=l.value;ol&&ofe(q0(I.fullPath,ue.delta),jd()),qe(ee,I).catch(V=>Na(V,Or.NAVIGATION_ABORTED|Or.NAVIGATION_CANCELLED)?V:Na(V,Or.NAVIGATION_GUARD_REDIRECT)?(oe(ar(j(V.to),{force:!0}),ee).then(q=>{Na(q,Or.NAVIGATION_ABORTED|Or.NAVIGATION_DUPLICATED)&&!ue.delta&&ue.type===cm.pop&&i.go(-1,!1)}).catch(Ou),Promise.reject()):(ue.delta&&i.go(-ue.delta,!1),it(V,ee,I))).then(V=>{V=V||je(ee,I,!1),V&&(ue.delta&&!Na(V,Or.NAVIGATION_CANCELLED)?i.go(-ue.delta,!1):ue.type===cm.pop&&Na(V,Or.NAVIGATION_ABORTED|Or.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),rt(ee,I,V)}).catch(Ou)}))}let At=au(),Je=au(),ut;function it(Oe,he,ue){nt(Oe);const ee=Je.list();return ee.length?ee.forEach(ce=>ce(Oe,he,ue)):console.error(Oe),Promise.reject(Oe)}function Ht(){return ut&&l.value!==oo?Promise.resolve():new Promise((Oe,he)=>{At.add([Oe,he])})}function nt(Oe){return ut||(ut=!Oe,yt(),At.list().forEach(([he,ue])=>Oe?ue(Oe):he()),At.reset()),Oe}function pt(Oe,he,ue,ee){const{scrollBehavior:ce}=t;if(!ol||!ce)return Promise.resolve();const I=!ue&&sfe(q0(Oe.fullPath,0))||(ee||!ue)&&history.state&&history.state.scroll||null;return Zu().then(()=>ce(Oe,he,I)).then(V=>V&&afe(V)).catch(V=>it(V,Oe,he))}const at=Oe=>i.go(Oe);let Dt;const Nt=new Set,Kt={currentRoute:l,listening:!0,addRoute:C,removeRoute:x,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:M,resolve:B,options:t,push:Y,replace:te,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:Je.add,isReady:Ht,install(Oe){Oe.component("RouterLink",Pfe),Oe.component("RouterView",qfe),Oe.config.globalProperties.$router=Kt,Object.defineProperty(Oe.config.globalProperties,"$route",{enumerable:!0,get:()=>_i(l)}),ol&&!Dt&&l.value===oo&&(Dt=!0,Y(i.location).catch(ee=>{}));const he={};for(const ee in oo)Object.defineProperty(he,ee,{get:()=>l.value[ee],enumerable:!0});Oe.provide(Wd,Kt),Oe.provide(Cg,jC(he)),Oe.provide(dm,l);const ue=Oe.unmount;Nt.add(Oe),Oe.unmount=function(){Nt.delete(Oe),Nt.size<1&&(u=oo,Tt&&Tt(),Tt=null,l.value=oo,Dt=!1,ut=!1),ue()}}};function Vt(Oe){return Oe.reduce((he,ue)=>he.then(()=>Se(ue)),Promise.resolve())}return Kt}function xg(){return Bi(Wd)}function Vfe(t){return Bi(Cg)}function zfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var av={exports:{}},Vn={},Ai={},Sn={},ov,Y0;function $fe(){if(Y0)return ov;Y0=1;function t(e){this.content=e}return t.prototype={constructor:t,find:function(e){for(var r=0;r<this.content.length;r+=2)if(this.content[r]===e)return r;return-1},get:function(e){var r=this.find(e);return r==-1?void 0:this.content[r+1]},update:function(e,r,n){var i=n&&n!=e?this.remove(n):this,a=i.find(e),o=i.content.slice();return a==-1?o.push(n||e,r):(o[a+1]=r,n&&(o[a]=n)),new t(o)},remove:function(e){var r=this.find(e);if(r==-1)return this;var n=this.content.slice();return n.splice(r,2),new t(n)},addToStart:function(e,r){return new t([e,r].concat(this.remove(e).content))},addToEnd:function(e,r){var n=this.remove(e).content.slice();return n.push(e,r),new t(n)},addBefore:function(e,r,n){var i=this.remove(r),a=i.content.slice(),o=i.find(e);return a.splice(o==-1?a.length:o,0,r,n),new t(a)},forEach:function(e){for(var r=0;r<this.content.length;r+=2)e(this.content[r],this.content[r+1])},prepend:function(e){return e=t.from(e),e.size?new t(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=t.from(e),e.size?new t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var r=this;e=t.from(e);for(var n=0;n<e.content.length;n+=2)r=r.remove(e.content[n]);return r},toObject:function(){var e={};return this.forEach(function(r,n){e[r]=n}),e},get size(){return this.content.length>>1}},t.from=function(e){if(e instanceof t)return e;var r=[];if(e)for(var n in e)r.push(n,e[n]);return new t(r)},ov=t,ov}var Z0;function Gd(){if(Z0)return Sn;Z0=1;function t(F,O){var y=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!y){if(Array.isArray(F)||(y=e(F))||O){y&&(F=y);var T=0,R=function(){};return{s:R,n:function(){return T>=F.length?{done:!0}:{done:!1,value:F[T++]}},e:function(xe){throw xe},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var U=!0,X=!1,ie;return{s:function(){y=y.call(F)},n:function(){var xe=y.next();return U=xe.done,xe},e:function(xe){X=!0,ie=xe},f:function(){try{!U&&y.return!=null&&y.return()}finally{if(X)throw ie}}}}function e(F,O){if(F){if(typeof F=="string")return r(F,O);var y=Object.prototype.toString.call(F).slice(8,-1);if(y==="Object"&&F.constructor&&(y=F.constructor.name),y==="Map"||y==="Set")return Array.from(F);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return r(F,O)}}function r(F,O){(O==null||O>F.length)&&(O=F.length);for(var y=0,T=new Array(O);y<O;y++)T[y]=F[y];return T}function n(){return typeof Reflect<"u"&&Reflect.get?n=Reflect.get.bind():n=function(O,y,T){var R=i(O,y);if(R){var U=Object.getOwnPropertyDescriptor(R,y);return U.get?U.get.call(arguments.length<3?O:T):U.value}},n.apply(this,arguments)}function i(F,O){for(;!Object.prototype.hasOwnProperty.call(F,O)&&(F=x(F),F!==null););return F}function a(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),O&&C(F,O)}function o(F){var O=h();return function(){var T=x(F),R;if(O){var U=x(this).constructor;R=Reflect.construct(T,arguments,U)}else R=T.apply(this,arguments);return s(this,R)}}function s(F,O){if(O&&(M(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(F)}function l(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function u(F){var O=typeof Map=="function"?new Map:void 0;return u=function(T){if(T===null||!w(T))return T;if(typeof T!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(T))return O.get(T);O.set(T,R)}function R(){return f(T,arguments,x(this).constructor)}return R.prototype=Object.create(T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),C(R,T)},u(F)}function f(F,O,y){return h()?f=Reflect.construct.bind():f=function(R,U,X){var ie=[null];ie.push.apply(ie,U);var we=Function.bind.apply(R,ie),xe=new we;return X&&C(xe,X.prototype),xe},f.apply(null,arguments)}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(F){try{return Function.toString.call(F).indexOf("[native code]")!==-1}catch{return typeof F=="function"}}function C(F,O){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,R){return T.__proto__=R,T},C(F,O)}function x(F){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},x(F)}function M(F){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(F)}function D(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function B(F,O){for(var y=0;y<O.length;y++){var T=O[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,Q(T.key),T)}}function j(F,O,y){return O&&B(F.prototype,O),y&&B(F,y),Object.defineProperty(F,"prototype",{writable:!1}),F}function Q(F){var O=Y(F,"string");return M(O)==="symbol"?O:String(O)}function Y(F,O){if(M(F)!=="object"||F===null)return F;var y=F[Symbol.toPrimitive];if(y!==void 0){var T=y.call(F,O);if(M(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}var te=$fe();function se(F,O,y){for(var T=0;;T++){if(T==F.childCount||T==O.childCount)return F.childCount==O.childCount?null:y;var R=F.child(T),U=O.child(T);if(R==U){y+=R.nodeSize;continue}if(!R.sameMarkup(U))return y;if(R.isText&&R.text!=U.text){for(var X=0;R.text[X]==U.text[X];X++)y++;return y}if(R.content.size||U.content.size){var ie=se(R.content,U.content,y+1);if(ie!=null)return ie}y+=R.nodeSize}}function oe(F,O,y,T){for(var R=F.childCount,U=O.childCount;;){if(R==0||U==0)return R==U?null:{a:y,b:T};var X=F.child(--R),ie=O.child(--U),we=X.nodeSize;if(X==ie){y-=we,T-=we;continue}if(!X.sameMarkup(ie))return{a:y,b:T};if(X.isText&&X.text!=ie.text){for(var xe=0,$e=Math.min(X.text.length,ie.text.length);xe<$e&&X.text[X.text.length-xe-1]==ie.text[ie.text.length-xe-1];)xe++,y--,T--;return{a:y,b:T}}if(X.content.size||ie.content.size){var Fe=oe(X.content,ie.content,y-1,T-1);if(Fe)return Fe}y-=we,T-=we}}var ge=(function(){function F(O,y){if(D(this,F),this.content=O,this.size=y||0,y==null)for(var T=0;T<O.length;T++)this.size+=O[T].nodeSize}return j(F,[{key:"nodesBetween",value:function(y,T,R){for(var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,X=arguments.length>4?arguments[4]:void 0,ie=0,we=0;we<T;ie++){var xe=this.content[ie],$e=we+xe.nodeSize;if($e>y&&R(xe,U+we,X||null,ie)!==!1&&xe.content.size){var Fe=we+1;xe.nodesBetween(Math.max(0,y-Fe),Math.min(xe.content.size,T-Fe),R,U+Fe)}we=$e}}},{key:"descendants",value:function(y){this.nodesBetween(0,this.size,y)}},{key:"textBetween",value:function(y,T,R,U){var X="",ie=!0;return this.nodesBetween(y,T,function(we,xe){var $e=we.isText?we.text.slice(Math.max(y,xe)-xe,T-xe):we.isLeaf?U?typeof U=="function"?U(we):U:we.type.spec.leafText?we.type.spec.leafText(we):"":"";we.isBlock&&(we.isLeaf&&$e||we.isTextblock)&&R&&(ie?ie=!1:X+=R),X+=$e},0),X}},{key:"append",value:function(y){if(!y.size)return this;if(!this.size)return y;var T=this.lastChild,R=y.firstChild,U=this.content.slice(),X=0;for(T.isText&&T.sameMarkup(R)&&(U[U.length-1]=T.withText(T.text+R.text),X=1);X<y.content.length;X++)U.push(y.content[X]);return new F(U,this.size+y.size)}},{key:"cut",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(y==0&&T==this.size)return this;var R=[],U=0;if(T>y)for(var X=0,ie=0;ie<T;X++){var we=this.content[X],xe=ie+we.nodeSize;xe>y&&((ie<y||xe>T)&&(we.isText?we=we.cut(Math.max(0,y-ie),Math.min(we.text.length,T-ie)):we=we.cut(Math.max(0,y-ie-1),Math.min(we.content.size,T-ie-1))),R.push(we),U+=we.nodeSize),ie=xe}return new F(R,U)}},{key:"cutByIndex",value:function(y,T){return y==T?F.empty:y==0&&T==this.content.length?this:new F(this.content.slice(y,T))}},{key:"replaceChild",value:function(y,T){var R=this.content[y];if(R==T)return this;var U=this.content.slice(),X=this.size+T.nodeSize-R.nodeSize;return U[y]=T,new F(U,X)}},{key:"addToStart",value:function(y){return new F([y].concat(this.content),this.size+y.nodeSize)}},{key:"addToEnd",value:function(y){return new F(this.content.concat(y),this.size+y.nodeSize)}},{key:"eq",value:function(y){if(this.content.length!=y.content.length)return!1;for(var T=0;T<this.content.length;T++)if(!this.content[T].eq(y.content[T]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(y){var T=this.content[y];if(!T)throw new RangeError("Index "+y+" out of range for "+this);return T}},{key:"maybeChild",value:function(y){return this.content[y]||null}},{key:"forEach",value:function(y){for(var T=0,R=0;T<this.content.length;T++){var U=this.content[T];y(U,R,T),R+=U.nodeSize}}},{key:"findDiffStart",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,y,T)}},{key:"findDiffEnd",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.size;return oe(this,y,T,R)}},{key:"findIndex",value:function(y){if(y==0)return qe(0,y);if(y==this.size)return qe(this.content.length,y);if(y>this.size||y<0)throw new RangeError("Position ".concat(y," outside of fragment (").concat(this,")"));for(var T=0,R=0;;T++){var U=this.child(T),X=R+U.nodeSize;if(X>=y)return X==y?qe(T+1,X):qe(T,R);R=X}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(y){return y.toJSON()}):null}}],[{key:"fromJSON",value:function(y,T){if(!T)return F.empty;if(!Array.isArray(T))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(T.map(y.nodeFromJSON))}},{key:"fromArray",value:function(y){if(!y.length)return F.empty;for(var T,R=0,U=0;U<y.length;U++){var X=y[U];R+=X.nodeSize,U&&X.isText&&y[U-1].sameMarkup(X)?(T||(T=y.slice(0,U)),T[T.length-1]=X.withText(T[T.length-1].text+X.text)):T&&T.push(X)}return new F(T||y,R)}},{key:"from",value:function(y){if(!y)return F.empty;if(y instanceof F)return y;if(Array.isArray(y))return this.fromArray(y);if(y.attrs)return new F([y],y.nodeSize);throw new RangeError("Can not convert "+y+" to a Fragment"+(y.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),F})();ge.empty=new ge([],0);var Se={index:0,offset:0};function qe(F,O){return Se.index=F,Se.offset=O,Se}function rt(F,O){if(F===O)return!0;if(!(F&&M(F)=="object")||!(O&&M(O)=="object"))return!1;var y=Array.isArray(F);if(Array.isArray(O)!=y)return!1;if(y){if(F.length!=O.length)return!1;for(var T=0;T<F.length;T++)if(!rt(F[T],O[T]))return!1}else{for(var R in F)if(!(R in O)||!rt(F[R],O[R]))return!1;for(var U in O)if(!(U in F))return!1}return!0}var je=(function(){function F(O,y){D(this,F),this.type=O,this.attrs=y}return j(F,[{key:"addToSet",value:function(y){for(var T,R=!1,U=0;U<y.length;U++){var X=y[U];if(this.eq(X))return y;if(this.type.excludes(X.type))T||(T=y.slice(0,U));else{if(X.type.excludes(this.type))return y;!R&&X.type.rank>this.type.rank&&(T||(T=y.slice(0,U)),T.push(this),R=!0),T&&T.push(X)}}return T||(T=y.slice()),R||T.push(this),T}},{key:"removeFromSet",value:function(y){for(var T=0;T<y.length;T++)if(this.eq(y[T]))return y.slice(0,T).concat(y.slice(T+1));return y}},{key:"isInSet",value:function(y){for(var T=0;T<y.length;T++)if(this.eq(y[T]))return!0;return!1}},{key:"eq",value:function(y){return this==y||this.type==y.type&&rt(this.attrs,y.attrs)}},{key:"toJSON",value:function(){var y={type:this.type.name};for(var T in this.attrs){y.attrs=this.attrs;break}return y}}],[{key:"fromJSON",value:function(y,T){if(!T)throw new RangeError("Invalid input for Mark.fromJSON");var R=y.marks[T.type];if(!R)throw new RangeError("There is no mark type ".concat(T.type," in this schema"));var U=R.create(T.attrs);return R.checkAttrs(U.attrs),U}},{key:"sameSet",value:function(y,T){if(y==T)return!0;if(y.length!=T.length)return!1;for(var R=0;R<y.length;R++)if(!y[R].eq(T[R]))return!1;return!0}},{key:"setFrom",value:function(y){if(!y||Array.isArray(y)&&y.length==0)return F.none;if(y instanceof F)return[y];var T=y.slice();return T.sort(function(R,U){return R.type.rank-U.type.rank}),T}}]),F})();je.none=[];var Tt=(function(F){a(y,F);var O=o(y);function y(){return D(this,y),O.apply(this,arguments)}return j(y)})(u(Error)),yt=(function(){function F(O,y,T){D(this,F),this.content=O,this.openStart=y,this.openEnd=T}return j(F,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(y,T){var R=Je(this.content,y+this.openStart,T);return R&&new F(R,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(y,T){return new F(At(this.content,y+this.openStart,T+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(y){return this.content.eq(y.content)&&this.openStart==y.openStart&&this.openEnd==y.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var y={content:this.content.toJSON()};return this.openStart>0&&(y.openStart=this.openStart),this.openEnd>0&&(y.openEnd=this.openEnd),y}}],[{key:"fromJSON",value:function(y,T){if(!T)return F.empty;var R=T.openStart||0,U=T.openEnd||0;if(typeof R!="number"||typeof U!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new F(ge.fromJSON(y,T.content),R,U)}},{key:"maxOpen",value:function(y){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=0,U=0,X=y.firstChild;X&&!X.isLeaf&&(T||!X.type.spec.isolating);X=X.firstChild)R++;for(var ie=y.lastChild;ie&&!ie.isLeaf&&(T||!ie.type.spec.isolating);ie=ie.lastChild)U++;return new F(y,R,U)}}]),F})();yt.empty=new yt(ge.empty,0,0);function At(F,O,y){var T=F.findIndex(O),R=T.index,U=T.offset,X=F.maybeChild(R),ie=F.findIndex(y),we=ie.index,xe=ie.offset;if(U==O||X.isText){if(xe!=y&&!F.child(we).isText)throw new RangeError("Removing non-flat range");return F.cut(0,O).append(F.cut(y))}if(R!=we)throw new RangeError("Removing non-flat range");return F.replaceChild(R,X.copy(At(X.content,O-U-1,y-U-1)))}function Je(F,O,y,T){var R=F.findIndex(O),U=R.index,X=R.offset,ie=F.maybeChild(U);if(X==O||ie.isText)return T&&!T.canReplace(U,U,y)?null:F.cut(0,O).append(y).append(F.cut(O));var we=Je(ie.content,O-X-1,y,ie);return we&&F.replaceChild(U,ie.copy(we))}function ut(F,O,y){if(y.openStart>F.depth)throw new Tt("Inserted content deeper than insertion position");if(F.depth-y.openStart!=O.depth-y.openEnd)throw new Tt("Inconsistent open depths");return it(F,O,y,0)}function it(F,O,y,T){var R=F.index(T),U=F.node(T);if(R==O.index(T)&&T<F.depth-y.openStart){var X=it(F,O,y,T+1);return U.copy(U.content.replaceChild(R,X))}else if(y.content.size)if(!y.openStart&&!y.openEnd&&F.depth==T&&O.depth==T){var ie=F.parent,we=ie.content;return Dt(ie,we.cut(0,F.parentOffset).append(y.content).append(we.cut(O.parentOffset)))}else{var xe=Vt(y,F),$e=xe.start,Fe=xe.end;return Dt(U,Nt(F,$e,Fe,O,T))}else return Dt(U,Kt(F,O,T))}function Ht(F,O){if(!O.type.compatibleContent(F.type))throw new Tt("Cannot join "+O.type.name+" onto "+F.type.name)}function nt(F,O,y){var T=F.node(y);return Ht(T,O.node(y)),T}function pt(F,O){var y=O.length-1;y>=0&&F.isText&&F.sameMarkup(O[y])?O[y]=F.withText(O[y].text+F.text):O.push(F)}function at(F,O,y,T){var R=(O||F).node(y),U=0,X=O?O.index(y):R.childCount;F&&(U=F.index(y),F.depth>y?U++:F.textOffset&&(pt(F.nodeAfter,T),U++));for(var ie=U;ie<X;ie++)pt(R.child(ie),T);O&&O.depth==y&&O.textOffset&&pt(O.nodeBefore,T)}function Dt(F,O){return F.type.checkContent(O),F.copy(O)}function Nt(F,O,y,T,R){var U=F.depth>R&&nt(F,O,R+1),X=T.depth>R&&nt(y,T,R+1),ie=[];return at(null,F,R,ie),U&&X&&O.index(R)==y.index(R)?(Ht(U,X),pt(Dt(U,Nt(F,O,y,T,R+1)),ie)):(U&&pt(Dt(U,Kt(F,O,R+1)),ie),at(O,y,R,ie),X&&pt(Dt(X,Kt(y,T,R+1)),ie)),at(T,null,R,ie),new ge(ie)}function Kt(F,O,y){var T=[];if(at(null,F,y,T),F.depth>y){var R=nt(F,O,y+1);pt(Dt(R,Kt(F,O,y+1)),T)}return at(O,null,y,T),new ge(T)}function Vt(F,O){for(var y=O.depth-F.openStart,T=O.node(y),R=T.copy(F.content),U=y-1;U>=0;U--)R=O.node(U).copy(ge.from(R));return{start:R.resolveNoCache(F.openStart+y),end:R.resolveNoCache(R.content.size-F.openEnd-y)}}var Oe=(function(){function F(O,y,T){D(this,F),this.pos=O,this.path=y,this.parentOffset=T,this.depth=y.length/3-1}return j(F,[{key:"resolveDepth",value:function(y){return y==null?this.depth:y<0?this.depth+y:y}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(y){return this.path[this.resolveDepth(y)*3]}},{key:"index",value:function(y){return this.path[this.resolveDepth(y)*3+1]}},{key:"indexAfter",value:function(y){return y=this.resolveDepth(y),this.index(y)+(y==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(y){return y=this.resolveDepth(y),y==0?0:this.path[y*3-1]+1}},{key:"end",value:function(y){return y=this.resolveDepth(y),this.start(y)+this.node(y).content.size}},{key:"before",value:function(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position before the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]}},{key:"after",value:function(y){if(y=this.resolveDepth(y),!y)throw new RangeError("There is no position after the top-level node");return y==this.depth+1?this.pos:this.path[y*3-1]+this.path[y*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var y=this.parent,T=this.index(this.depth);if(T==y.childCount)return null;var R=this.pos-this.path[this.path.length-1],U=y.child(T);return R?y.child(T).cut(R):U}},{key:"nodeBefore",get:function(){var y=this.index(this.depth),T=this.pos-this.path[this.path.length-1];return T?this.parent.child(y).cut(0,T):y==0?null:this.parent.child(y-1)}},{key:"posAtIndex",value:function(y,T){T=this.resolveDepth(T);for(var R=this.path[T*3],U=T==0?0:this.path[T*3-1]+1,X=0;X<y;X++)U+=R.child(X).nodeSize;return U}},{key:"marks",value:function(){var y=this.parent,T=this.index();if(y.content.size==0)return je.none;if(this.textOffset)return y.child(T).marks;var R=y.maybeChild(T-1),U=y.maybeChild(T);if(!R){var X=R;R=U,U=X}for(var ie=R.marks,we=0;we<ie.length;we++)ie[we].type.spec.inclusive===!1&&(!U||!ie[we].isInSet(U.marks))&&(ie=ie[we--].removeFromSet(ie));return ie}},{key:"marksAcross",value:function(y){var T=this.parent.maybeChild(this.index());if(!T||!T.isInline)return null;for(var R=T.marks,U=y.parent.maybeChild(y.index()),X=0;X<R.length;X++)R[X].type.spec.inclusive===!1&&(!U||!R[X].isInSet(U.marks))&&(R=R[X--].removeFromSet(R));return R}},{key:"sharedDepth",value:function(y){for(var T=this.depth;T>0;T--)if(this.start(T)<=y&&this.end(T)>=y)return T;return 0}},{key:"blockRange",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,T=arguments.length>1?arguments[1]:void 0;if(y.pos<this.pos)return y.blockRange(this);for(var R=this.depth-(this.parent.inlineContent||this.pos==y.pos?1:0);R>=0;R--)if(y.pos<=this.end(R)&&(!T||T(this.node(R))))return new ce(this,y,R);return null}},{key:"sameParent",value:function(y){return this.pos-this.parentOffset==y.pos-y.parentOffset}},{key:"max",value:function(y){return y.pos>this.pos?y:this}},{key:"min",value:function(y){return y.pos<this.pos?y:this}},{key:"toString",value:function(){for(var y="",T=1;T<=this.depth;T++)y+=(y?"/":"")+this.node(T).type.name+"_"+this.index(T-1);return y+":"+this.parentOffset}}],[{key:"resolve",value:function(y,T){if(!(T>=0&&T<=y.content.size))throw new RangeError("Position "+T+" out of range");for(var R=[],U=0,X=T,ie=y;;){var we=ie.content.findIndex(X),xe=we.index,$e=we.offset,Fe=X-$e;if(R.push(ie,xe,U+$e),!Fe||(ie=ie.child(xe),ie.isText))break;X=Fe-1,U+=$e+1}return new F(T,R,X)}},{key:"resolveCached",value:function(y,T){var R=ee.get(y);if(R)for(var U=0;U<R.elts.length;U++){var X=R.elts[U];if(X.pos==T)return X}else ee.set(y,R=new he);var ie=R.elts[R.i]=F.resolve(y,T);return R.i=(R.i+1)%ue,ie}}]),F})(),he=j(function F(){D(this,F),this.elts=[],this.i=0}),ue=12,ee=new WeakMap,ce=(function(){function F(O,y,T){D(this,F),this.$from=O,this.$to=y,this.depth=T}return j(F,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),F})(),I=Object.create(null),V=(function(){function F(O,y,T){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:je.none;D(this,F),this.type=O,this.attrs=y,this.marks=R,this.content=T||ge.empty}return j(F,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(y){return this.content.child(y)}},{key:"maybeChild",value:function(y){return this.content.maybeChild(y)}},{key:"forEach",value:function(y){this.content.forEach(y)}},{key:"nodesBetween",value:function(y,T,R){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(y,T,R,U,this)}},{key:"descendants",value:function(y){this.nodesBetween(0,this.content.size,y)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(y,T,R,U){return this.content.textBetween(y,T,R,U)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(y){return this==y||this.sameMarkup(y)&&this.content.eq(y.content)}},{key:"sameMarkup",value:function(y){return this.hasMarkup(y.type,y.attrs,y.marks)}},{key:"hasMarkup",value:function(y,T,R){return this.type==y&&rt(this.attrs,T||y.defaultAttrs||I)&&je.sameSet(this.marks,R||je.none)}},{key:"copy",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return y==this.content?this:new F(this.type,this.attrs,y,this.marks)}},{key:"mark",value:function(y){return y==this.marks?this:new F(this.type,this.attrs,this.content,y)}},{key:"cut",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return y==0&&T==this.content.size?this:this.copy(this.content.cut(y,T))}},{key:"slice",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(y==T)return yt.empty;var U=this.resolve(y),X=this.resolve(T),ie=R?0:U.sharedDepth(T),we=U.start(ie),xe=U.node(ie),$e=xe.content.cut(U.pos-we,X.pos-we);return new yt($e,U.depth-ie,X.depth-ie)}},{key:"replace",value:function(y,T,R){return ut(this.resolve(y),this.resolve(T),R)}},{key:"nodeAt",value:function(y){for(var T=this;;){var R=T.content.findIndex(y),U=R.index,X=R.offset;if(T=T.maybeChild(U),!T)return null;if(X==y||T.isText)return T;y-=X+1}}},{key:"childAfter",value:function(y){var T=this.content.findIndex(y),R=T.index,U=T.offset;return{node:this.content.maybeChild(R),index:R,offset:U}}},{key:"childBefore",value:function(y){if(y==0)return{node:null,index:0,offset:0};var T=this.content.findIndex(y),R=T.index,U=T.offset;if(U<y)return{node:this.content.child(R),index:R,offset:U};var X=this.content.child(R-1);return{node:X,index:R-1,offset:U-X.nodeSize}}},{key:"resolve",value:function(y){return Oe.resolveCached(this,y)}},{key:"resolveNoCache",value:function(y){return Oe.resolve(this,y)}},{key:"rangeHasMark",value:function(y,T,R){var U=!1;return T>y&&this.nodesBetween(y,T,function(X){return R.isInSet(X.marks)&&(U=!0),!U}),U}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var y=this.type.name;return this.content.size&&(y+="("+this.content.toStringInner()+")"),le(this.marks,y)}},{key:"contentMatchAt",value:function(y){var T=this.type.contentMatch.matchFragment(this.content,0,y);if(!T)throw new Error("Called contentMatchAt on a node with invalid content");return T}},{key:"canReplace",value:function(y,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ge.empty,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.childCount,ie=this.contentMatchAt(y).matchFragment(R,U,X),we=ie&&ie.matchFragment(this.content,T);if(!we||!we.validEnd)return!1;for(var xe=U;xe<X;xe++)if(!this.type.allowsMarks(R.child(xe).marks))return!1;return!0}},{key:"canReplaceWith",value:function(y,T,R,U){if(U&&!this.type.allowsMarks(U))return!1;var X=this.contentMatchAt(y).matchType(R),ie=X&&X.matchFragment(this.content,T);return ie?ie.validEnd:!1}},{key:"canAppend",value:function(y){return y.content.size?this.canReplace(this.childCount,this.childCount,y.content):this.type.compatibleContent(y.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var y=je.none,T=0;T<this.marks.length;T++){var R=this.marks[T];R.type.checkAttrs(R.attrs),y=R.addToSet(y)}if(!je.sameSet(y,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(U){return U.type.name})));this.content.forEach(function(U){return U.check()})}},{key:"toJSON",value:function(){var y={type:this.type.name};for(var T in this.attrs){y.attrs=this.attrs;break}return this.content.size&&(y.content=this.content.toJSON()),this.marks.length&&(y.marks=this.marks.map(function(R){return R.toJSON()})),y}}],[{key:"fromJSON",value:function(y,T){if(!T)throw new RangeError("Invalid input for Node.fromJSON");var R=void 0;if(T.marks){if(!Array.isArray(T.marks))throw new RangeError("Invalid mark data for Node.fromJSON");R=T.marks.map(y.markFromJSON)}if(T.type=="text"){if(typeof T.text!="string")throw new RangeError("Invalid text node in JSON");return y.text(T.text,R)}var U=ge.fromJSON(y,T.content),X=y.nodeType(T.type).create(T.attrs,U,R);return X.type.checkAttrs(X.attrs),X}}]),F})();V.prototype.text=void 0;var q=(function(F){a(y,F);var O=o(y);function y(T,R,U,X){var ie;if(D(this,y),ie=O.call(this,T,R,null,X),!U)throw new RangeError("Empty text nodes are not allowed");return ie.text=U,ie}return j(y,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):le(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(R,U){return this.text.slice(R,U)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(R){return R==this.marks?this:new y(this.type,this.attrs,this.text,R)}},{key:"withText",value:function(R){return R==this.text?this:new y(this.type,this.attrs,R,this.marks)}},{key:"cut",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return R==0&&U==this.text.length?this:this.withText(this.text.slice(R,U))}},{key:"eq",value:function(R){return this.sameMarkup(R)&&this.text==R.text}},{key:"toJSON",value:function(){var R=n(x(y.prototype),"toJSON",this).call(this);return R.text=this.text,R}}]),y})(V);function le(F,O){for(var y=F.length-1;y>=0;y--)O=F[y].type.name+"("+O+")";return O}var ae=(function(){function F(O){D(this,F),this.validEnd=O,this.next=[],this.wrapCache=[]}return j(F,[{key:"matchType",value:function(y){for(var T=0;T<this.next.length;T++)if(this.next[T].type==y)return this.next[T].next;return null}},{key:"matchFragment",value:function(y){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.childCount,U=this,X=T;U&&X<R;X++)U=U.matchType(y.child(X).type);return U}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var y=0;y<this.next.length;y++){var T=this.next[y].type;if(!(T.isText||T.hasRequiredAttrs()))return T}return null}},{key:"compatible",value:function(y){for(var T=0;T<this.next.length;T++)for(var R=0;R<y.next.length;R++)if(this.next[T].type==y.next[R].type)return!0;return!1}},{key:"fillBefore",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,U=[this];function X(ie,we){var xe=ie.matchFragment(y,R);if(xe&&(!T||xe.validEnd))return ge.from(we.map(function(dr){return dr.createAndFill()}));for(var $e=0;$e<ie.next.length;$e++){var Fe=ie.next[$e],Qe=Fe.type,xt=Fe.next;if(!(Qe.isText||Qe.hasRequiredAttrs())&&U.indexOf(xt)==-1){U.push(xt);var jt=X(xt,we.concat(Qe));if(jt)return jt}}return null}return X(this,[])}},{key:"findWrapping",value:function(y){for(var T=0;T<this.wrapCache.length;T+=2)if(this.wrapCache[T]==y)return this.wrapCache[T+1];var R=this.computeWrapping(y);return this.wrapCache.push(y,R),R}},{key:"computeWrapping",value:function(y){for(var T=Object.create(null),R=[{match:this,type:null,via:null}];R.length;){var U=R.shift(),X=U.match;if(X.matchType(y)){for(var ie=[],we=U;we.type;we=we.via)ie.push(we.type);return ie.reverse()}for(var xe=0;xe<X.next.length;xe++){var $e=X.next[xe],Fe=$e.type,Qe=$e.next;!Fe.isLeaf&&!Fe.hasRequiredAttrs()&&!(Fe.name in T)&&(!U.type||Qe.validEnd)&&(R.push({match:Fe.contentMatch,type:Fe,via:U}),T[Fe.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(y){if(y>=this.next.length)throw new RangeError("There's no ".concat(y,"th edge in this content match"));return this.next[y]}},{key:"toString",value:function(){var y=[];function T(R){y.push(R);for(var U=0;U<R.next.length;U++)y.indexOf(R.next[U].next)==-1&&T(R.next[U].next)}return T(this),y.map(function(R,U){for(var X=U+(R.validEnd?"*":" ")+" ",ie=0;ie<R.next.length;ie++)X+=(ie?", ":"")+R.next[ie].type.name+"->"+y.indexOf(R.next[ie].next);return X}).join(`
`)}}],[{key:"parse",value:function(y,T){var R=new ye(y,T);if(R.next==null)return F.empty;var U=Le(R);R.next&&R.err("Unexpected trailing text");var X=ze(bt(U));return ht(X,R),X}}]),F})();ae.empty=new ae(!0);var ye=(function(){function F(O,y){D(this,F),this.string=O,this.nodeTypes=y,this.inline=null,this.pos=0,this.tokens=O.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return j(F,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(y){return this.next==y&&(this.pos++||!0)}},{key:"err",value:function(y){throw new SyntaxError(y+" (in content expression '"+this.string+"')")}}]),F})();function Le(F){var O=[];do O.push(He(F));while(F.eat("|"));return O.length==1?O[0]:{type:"choice",exprs:O}}function He(F){var O=[];do O.push(Pe(F));while(F.next&&F.next!=")"&&F.next!="|");return O.length==1?O[0]:{type:"seq",exprs:O}}function Pe(F){for(var O=dt(F);;)if(F.eat("+"))O={type:"plus",expr:O};else if(F.eat("*"))O={type:"star",expr:O};else if(F.eat("?"))O={type:"opt",expr:O};else if(F.eat("{"))O=Xe(F,O);else break;return O}function Ie(F){/\D/.test(F.next)&&F.err("Expected number, got '"+F.next+"'");var O=Number(F.next);return F.pos++,O}function Xe(F,O){var y=Ie(F),T=y;return F.eat(",")&&(F.next!="}"?T=Ie(F):T=-1),F.eat("}")||F.err("Unclosed braced range"),{type:"range",min:y,max:T,expr:O}}function Ge(F,O){var y=F.nodeTypes,T=y[O];if(T)return[T];var R=[];for(var U in y){var X=y[U];X.isInGroup(O)&&R.push(X)}return R.length==0&&F.err("No node type or group '"+O+"' found"),R}function dt(F){if(F.eat("(")){var O=Le(F);return F.eat(")")||F.err("Missing closing paren"),O}else if(/\W/.test(F.next))F.err("Unexpected token '"+F.next+"'");else{var y=Ge(F,F.next).map(function(T){return F.inline==null?F.inline=T.isInline:F.inline!=T.isInline&&F.err("Mixing inline and block content"),{type:"name",value:T}});return F.pos++,y.length==1?y[0]:{type:"choice",exprs:y}}}function bt(F){var O=[[]];return R(U(F,0),y()),O;function y(){return O.push([])-1}function T(X,ie,we){var xe={term:we,to:ie};return O[X].push(xe),xe}function R(X,ie){X.forEach(function(we){return we.to=ie})}function U(X,ie){if(X.type=="choice")return X.exprs.reduce(function(Ei,ji){return Ei.concat(U(ji,ie))},[]);if(X.type=="seq")for(var we=0;;we++){var xe=U(X.exprs[we],ie);if(we==X.exprs.length-1)return xe;R(xe,ie=y())}else if(X.type=="star"){var $e=y();return T(ie,$e),R(U(X.expr,$e),$e),[T($e)]}else if(X.type=="plus"){var Fe=y();return R(U(X.expr,ie),Fe),R(U(X.expr,Fe),Fe),[T(Fe)]}else{if(X.type=="opt")return[T(ie)].concat(U(X.expr,ie));if(X.type=="range"){for(var Qe=ie,xt=0;xt<X.min;xt++){var jt=y();R(U(X.expr,Qe),jt),Qe=jt}if(X.max==-1)R(U(X.expr,Qe),Qe);else for(var dr=X.min;dr<X.max;dr++){var _n=y();T(Qe,_n),R(U(X.expr,Qe),_n),Qe=_n}return[T(Qe)]}else{if(X.type=="name")return[T(ie,void 0,X.value)];throw new Error("Unknown expr type")}}}}function St(F,O){return O-F}function Ve(F,O){var y=[];return T(O),y.sort(St);function T(R){var U=F[R];if(U.length==1&&!U[0].term)return T(U[0].to);y.push(R);for(var X=0;X<U.length;X++){var ie=U[X],we=ie.term,xe=ie.to;!we&&y.indexOf(xe)==-1&&T(xe)}}}function ze(F){var O=Object.create(null);return y(Ve(F,0));function y(T){var R=[];T.forEach(function(we){F[we].forEach(function(xe){var $e=xe.term,Fe=xe.to;if($e){for(var Qe,xt=0;xt<R.length;xt++)R[xt][0]==$e&&(Qe=R[xt][1]);Ve(F,Fe).forEach(function(jt){Qe||R.push([$e,Qe=[]]),Qe.indexOf(jt)==-1&&Qe.push(jt)})}})});for(var U=O[T.join(",")]=new ae(T.indexOf(F.length-1)>-1),X=0;X<R.length;X++){var ie=R[X][1].sort(St);U.next.push({type:R[X][0],next:O[ie.join(",")]||y(ie)})}return U}}function ht(F,O){for(var y=0,T=[F];y<T.length;y++){for(var R=T[y],U=!R.validEnd,X=[],ie=0;ie<R.next.length;ie++){var we=R.next[ie],xe=we.type,$e=we.next;X.push(xe.name),U&&!(xe.isText||xe.hasRequiredAttrs())&&(U=!1),T.indexOf($e)==-1&&T.push($e)}U&&O.err("Only non-generatable nodes ("+X.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wt(F){var O=Object.create(null);for(var y in F){var T=F[y];if(!T.hasDefault)return null;O[y]=T.default}return O}function Lt(F,O){var y=Object.create(null);for(var T in F){var R=O&&O[T];if(R===void 0){var U=F[T];if(U.hasDefault)R=U.default;else throw new RangeError("No value supplied for attribute "+T)}y[T]=R}return y}function nr(F,O,y,T){for(var R in O)if(!(R in F))throw new RangeError("Unsupported attribute ".concat(R," for ").concat(y," of type ").concat(R));for(var U in F){var X=F[U];X.validate&&X.validate(O[U])}}function Jt(F,O){var y=Object.create(null);if(O)for(var T in O)y[T]=new yr(F,T,O[T]);return y}var cr=(function(){function F(O,y,T){D(this,F),this.name=O,this.schema=y,this.spec=T,this.markSet=null,this.groups=T.group?T.group.split(" "):[],this.attrs=Jt(O,T.attrs),this.defaultAttrs=wt(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(T.inline||O=="text"),this.isText=O=="text"}return j(F,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==ae.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(y){return this.groups.indexOf(y)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var y in this.attrs)if(this.attrs[y].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(y){return this==y||this.contentMatch.compatible(y.contentMatch)}},{key:"computeAttrs",value:function(y){return!y&&this.defaultAttrs?this.defaultAttrs:Lt(this.attrs,y)}},{key:"create",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,T=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new V(this,this.computeAttrs(y),ge.from(T),je.setFrom(R))}},{key:"createChecked",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,T=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;return T=ge.from(T),this.checkContent(T),new V(this,this.computeAttrs(y),T,je.setFrom(R))}},{key:"createAndFill",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,T=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0;if(y=this.computeAttrs(y),T=ge.from(T),T.size){var U=this.contentMatch.fillBefore(T);if(!U)return null;T=U.append(T)}var X=this.contentMatch.matchFragment(T),ie=X&&X.fillBefore(ge.empty,!0);return ie?new V(this,y,T.append(ie),je.setFrom(R)):null}},{key:"validContent",value:function(y){var T=this.contentMatch.matchFragment(y);if(!T||!T.validEnd)return!1;for(var R=0;R<y.childCount;R++)if(!this.allowsMarks(y.child(R).marks))return!1;return!0}},{key:"checkContent",value:function(y){if(!this.validContent(y))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(y.toString().slice(0,50)))}},{key:"checkAttrs",value:function(y){nr(this.attrs,y,"node",this.name)}},{key:"allowsMarkType",value:function(y){return this.markSet==null||this.markSet.indexOf(y)>-1}},{key:"allowsMarks",value:function(y){if(this.markSet==null)return!0;for(var T=0;T<y.length;T++)if(!this.allowsMarkType(y[T].type))return!1;return!0}},{key:"allowedMarks",value:function(y){if(this.markSet==null)return y;for(var T,R=0;R<y.length;R++)this.allowsMarkType(y[R].type)?T&&T.push(y[R]):T||(T=y.slice(0,R));return T?T.length?T:je.none:y}}],[{key:"compile",value:function(y,T){var R=Object.create(null);y.forEach(function(ie,we){return R[ie]=new F(ie,T,we)});var U=T.spec.topNode||"doc";if(!R[U])throw new RangeError("Schema is missing its top node type ('"+U+"')");if(!R.text)throw new RangeError("Every schema needs a 'text' type");for(var X in R.text.attrs)throw new RangeError("The text node type should not have attributes");return R}}]),F})();function ir(F,O,y){var T=y.split("|");return function(R){var U=R===null?"null":M(R);if(T.indexOf(U)<0)throw new RangeError("Expected value of type ".concat(T," for attribute ").concat(O," on type ").concat(F,", got ").concat(U))}}var yr=(function(){function F(O,y,T){D(this,F),this.hasDefault=Object.prototype.hasOwnProperty.call(T,"default"),this.default=T.default,this.validate=typeof T.validate=="string"?ir(O,y,T.validate):T.validate}return j(F,[{key:"isRequired",get:function(){return!this.hasDefault}}]),F})(),br=(function(){function F(O,y,T,R){D(this,F),this.name=O,this.rank=y,this.schema=T,this.spec=R,this.attrs=Jt(O,R.attrs),this.excluded=null;var U=wt(this.attrs);this.instance=U?new je(this,U):null}return j(F,[{key:"create",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!y&&this.instance?this.instance:new je(this,Lt(this.attrs,y))}},{key:"removeFromSet",value:function(y){for(var T=0;T<y.length;T++)y[T].type==this&&(y=y.slice(0,T).concat(y.slice(T+1)),T--);return y}},{key:"isInSet",value:function(y){for(var T=0;T<y.length;T++)if(y[T].type==this)return y[T]}},{key:"checkAttrs",value:function(y){nr(this.attrs,y,"mark",this.name)}},{key:"excludes",value:function(y){return this.excluded.indexOf(y)>-1}}],[{key:"compile",value:function(y,T){var R=Object.create(null),U=0;return y.forEach(function(X,ie){return R[X]=new F(X,U++,T,ie)}),R}}]),F})(),Vr=(function(){function F(O){var y=this;D(this,F),this.linebreakReplacement=null,this.cached=Object.create(null);var T=this.spec={};for(var R in O)T[R]=O[R];T.nodes=te.from(O.nodes),T.marks=te.from(O.marks||{}),this.nodes=cr.compile(this.spec.nodes,this),this.marks=br.compile(this.spec.marks,this);var U=Object.create(null);for(var X in this.nodes){if(X in this.marks)throw new RangeError(X+" can not be both a node and a mark");var ie=this.nodes[X],we=ie.spec.content||"",xe=ie.spec.marks;if(ie.contentMatch=U[we]||(U[we]=ae.parse(we,this.nodes)),ie.inlineContent=ie.contentMatch.inlineContent,ie.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ie.isInline||!ie.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ie}ie.markSet=xe=="_"?null:xe?li(this,xe.split(" ")):xe==""||!ie.inlineContent?[]:null}for(var $e in this.marks){var Fe=this.marks[$e],Qe=Fe.spec.excludes;Fe.excluded=Qe==null?[Fe]:Qe==""?[]:li(this,Qe.split(" "))}this.nodeFromJSON=function(xt){return V.fromJSON(y,xt)},this.markFromJSON=function(xt){return je.fromJSON(y,xt)},this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return j(F,[{key:"node",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,R=arguments.length>2?arguments[2]:void 0,U=arguments.length>3?arguments[3]:void 0;if(typeof y=="string")y=this.nodeType(y);else if(y instanceof cr){if(y.schema!=this)throw new RangeError("Node type from different schema used ("+y.name+")")}else throw new RangeError("Invalid node type: "+y);return y.createChecked(T,R,U)}},{key:"text",value:function(y,T){var R=this.nodes.text;return new q(R,R.defaultAttrs,y,je.setFrom(T))}},{key:"mark",value:function(y,T){return typeof y=="string"&&(y=this.marks[y]),y.create(T)}},{key:"nodeType",value:function(y){var T=this.nodes[y];if(!T)throw new RangeError("Unknown node type: "+y);return T}}]),F})();function li(F,O){for(var y=[],T=0;T<O.length;T++){var R=O[T],U=F.marks[R],X=U;if(U)y.push(U);else for(var ie in F.marks){var we=F.marks[ie];(R=="_"||we.spec.group&&we.spec.group.split(" ").indexOf(R)>-1)&&y.push(X=we)}if(!X)throw new SyntaxError("Unknown mark type: '"+O[T]+"'")}return y}function Xn(F){return F.tag!=null}function In(F){return F.style!=null}var Tn=(function(){function F(O,y){var T=this;D(this,F),this.schema=O,this.rules=y,this.tags=[],this.styles=[];var R=this.matchedStyles=[];y.forEach(function(U){if(Xn(U))T.tags.push(U);else if(In(U)){var X=/[^=]*/.exec(U.style)[0];R.indexOf(X)<0&&R.push(X),T.styles.push(U)}}),this.normalizeLists=!this.tags.some(function(U){if(!/^(ul|ol)\b/.test(U.tag)||!U.node)return!1;var X=O.nodes[U.node];return X.contentMatch.matchType(X)})}return j(F,[{key:"parse",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=new L(this,T,!1);return R.addAll(y,je.none,T.from,T.to),R.finish()}},{key:"parseSlice",value:function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=new L(this,T,!0);return R.addAll(y,je.none,T.from,T.to),yt.maxOpen(R.finish())}},{key:"matchTag",value:function(y,T,R){for(var U=R?this.tags.indexOf(R)+1:0;U<this.tags.length;U++){var X=this.tags[U];if($(y,X.tag)&&(X.namespace===void 0||y.namespaceURI==X.namespace)&&(!X.context||T.matchesContext(X.context))){if(X.getAttrs){var ie=X.getAttrs(y);if(ie===!1)continue;X.attrs=ie||void 0}return X}}}},{key:"matchStyle",value:function(y,T,R,U){for(var X=U?this.styles.indexOf(U)+1:0;X<this.styles.length;X++){var ie=this.styles[X],we=ie.style;if(!(we.indexOf(y)!=0||ie.context&&!R.matchesContext(ie.context)||we.length>y.length&&(we.charCodeAt(y.length)!=61||we.slice(y.length+1)!=T))){if(ie.getAttrs){var xe=ie.getAttrs(T);if(xe===!1)continue;ie.attrs=xe||void 0}return ie}}}}],[{key:"schemaRules",value:function(y){var T=[];function R(xe){for(var $e=xe.priority==null?50:xe.priority,Fe=0;Fe<T.length;Fe++){var Qe=T[Fe],xt=Qe.priority==null?50:Qe.priority;if(xt<$e)break}T.splice(Fe,0,xe)}var U=function($e){var Fe=y.marks[$e].spec.parseDOM;Fe&&Fe.forEach(function(Qe){R(Qe=re(Qe)),Qe.mark||Qe.ignore||Qe.clearMark||(Qe.mark=$e)})};for(var X in y.marks)U(X);var ie=function($e){var Fe=y.nodes[$e].spec.parseDOM;Fe&&Fe.forEach(function(Qe){R(Qe=re(Qe)),Qe.node||Qe.ignore||Qe.mark||(Qe.node=$e)})};for(var we in y.nodes)ie(we);return T}},{key:"fromSchema",value:function(y){return y.cached.domParser||(y.cached.domParser=new F(y,F.schemaRules(y)))}}]),F})(),pn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Nr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Pn={ol:!0,ul:!0},fr=1,Br=2,J=4;function K(F,O,y){return O!=null?(O?fr:0)|(O==="full"?Br:0):F&&F.whitespace=="pre"?fr|Br:y&~J}var _=(function(){function F(O,y,T,R,U,X){D(this,F),this.type=O,this.attrs=y,this.marks=T,this.solid=R,this.options=X,this.content=[],this.activeMarks=je.none,this.match=U||(X&J?null:O.contentMatch)}return j(F,[{key:"findWrapping",value:function(y){if(!this.match){if(!this.type)return[];var T=this.type.contentMatch.fillBefore(ge.from(y));if(T)this.match=this.type.contentMatch.matchFragment(T);else{var R=this.type.contentMatch,U;return(U=R.findWrapping(y.type))?(this.match=R,U):null}}return this.match.findWrapping(y.type)}},{key:"finish",value:function(y){if(!(this.options&fr)){var T=this.content[this.content.length-1],R;if(T&&T.isText&&(R=/[ \t\r\n\u000c]+$/.exec(T.text))){var U=T;T.text.length==R[0].length?this.content.pop():this.content[this.content.length-1]=U.withText(U.text.slice(0,U.text.length-R[0].length))}}var X=ge.from(this.content);return!y&&this.match&&(X=X.append(this.match.fillBefore(ge.empty,!0))),this.type?this.type.create(this.attrs,X,this.marks):X}},{key:"inlineContext",value:function(y){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:y.parentNode&&!pn.hasOwnProperty(y.parentNode.nodeName.toLowerCase())}}]),F})(),L=(function(){function F(O,y,T){D(this,F),this.parser=O,this.options=y,this.isOpen=T,this.open=0,this.localPreserveWS=!1;var R=y.topNode,U,X=K(null,y.preserveWhitespace,0)|(T?J:0);R?U=new _(R.type,R.attrs,je.none,!0,y.topMatch||R.type.contentMatch,X):T?U=new _(null,null,je.none,!0,null,X):U=new _(O.schema.topNodeType,null,je.none,!0,null,X),this.nodes=[U],this.find=y.findPositions,this.needsBlock=!1}return j(F,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(y,T){y.nodeType==3?this.addTextNode(y,T):y.nodeType==1&&this.addElement(y,T)}},{key:"addTextNode",value:function(y,T){var R=y.nodeValue,U=this.top,X=U.options&Br?"full":this.localPreserveWS||(U.options&fr)>0,ie=this.parser.schema;if(X==="full"||U.inlineContext(y)||/[^ \t\r\n\u000c]/.test(R)){if(X)if(X==="full")R=R.replace(/\r\n?/g,`
`);else if(ie.linebreakReplacement&&/[\r\n]/.test(R)&&this.top.findWrapping(ie.linebreakReplacement.create())){for(var $e=R.split(/\r?\n|\r/),Fe=0;Fe<$e.length;Fe++)Fe&&this.insertNode(ie.linebreakReplacement.create(),T,!0),$e[Fe]&&this.insertNode(ie.text($e[Fe]),T,!/\S/.test($e[Fe]));R=""}else R=R.replace(/\r?\n|\r/g," ");else if(R=R.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(R)&&this.open==this.nodes.length-1){var we=U.content[U.content.length-1],xe=y.previousSibling;(!we||xe&&xe.nodeName=="BR"||we.isText&&/[ \t\r\n\u000c]$/.test(we.text))&&(R=R.slice(1))}R&&this.insertNode(ie.text(R),T,!/\S/.test(R)),this.findInText(y)}else this.findInside(y)}},{key:"addElement",value:function(y,T,R){var U=this.localPreserveWS,X=this.top;(y.tagName=="PRE"||/pre/.test(y.style&&y.style.whiteSpace))&&(this.localPreserveWS=!0);var ie=y.nodeName.toLowerCase(),we;Pn.hasOwnProperty(ie)&&this.parser.normalizeLists&&H(y);var xe=this.options.ruleFromNode&&this.options.ruleFromNode(y)||(we=this.parser.matchTag(y,this,R));e:if(xe?xe.ignore:Nr.hasOwnProperty(ie))this.findInside(y),this.ignoreFallback(y,T);else if(!xe||xe.skip||xe.closeParent){xe&&xe.closeParent?this.open=Math.max(0,this.open-1):xe&&xe.skip.nodeType&&(y=xe.skip);var $e,Fe=this.needsBlock;if(pn.hasOwnProperty(ie))X.content.length&&X.content[0].isInline&&this.open&&(this.open--,X=this.top),$e=!0,X.type||(this.needsBlock=!0);else if(!y.firstChild){this.leafFallback(y,T);break e}var Qe=xe&&xe.skip?T:this.readStyles(y,T);Qe&&this.addAll(y,Qe),$e&&this.sync(X),this.needsBlock=Fe}else{var xt=this.readStyles(y,T);xt&&this.addElementByRule(y,xe,xt,xe.consuming===!1?we:void 0)}this.localPreserveWS=U}},{key:"leafFallback",value:function(y,T){y.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(y.ownerDocument.createTextNode(`
`),T)}},{key:"ignoreFallback",value:function(y,T){y.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),T,!0)}},{key:"readStyles",value:function(y,T){var R=this,U=y.style;if(U&&U.length)for(var X=0;X<this.parser.matchedStyles.length;X++){var ie=this.parser.matchedStyles[X],we=U.getPropertyValue(ie);if(we){for(var xe=function(xt){var jt=R.parser.matchStyle(ie,we,R,xt);if(!jt)return Fe=xt,0;if(jt.ignore)return{v:null};if(jt.clearMark?T=T.filter(function(dr){return!jt.clearMark(dr)}):T=T.concat(R.parser.schema.marks[jt.mark].create(jt.attrs)),jt.consuming===!1)xt=jt;else return Fe=xt,0;Fe=xt},$e,Fe=void 0;$e=xe(Fe),$e!==0;)if($e)return $e.v}}return T}},{key:"addElementByRule",value:function(y,T,R,U){var X=this,ie,we;if(T.node)if(we=this.parser.schema.nodes[T.node],we.isLeaf)this.insertNode(we.create(T.attrs),R,y.nodeName=="BR")||this.leafFallback(y,R);else{var xe=this.enter(we,T.attrs||null,R,T.preserveWhitespace);xe&&(ie=!0,R=xe)}else{var $e=this.parser.schema.marks[T.mark];R=R.concat($e.create(T.attrs))}var Fe=this.top;if(we&&we.isLeaf)this.findInside(y);else if(U)this.addElement(y,R,U);else if(T.getContent)this.findInside(y),T.getContent(y,this.parser.schema).forEach(function(xt){return X.insertNode(xt,R,!1)});else{var Qe=y;typeof T.contentElement=="string"?Qe=y.querySelector(T.contentElement):typeof T.contentElement=="function"?Qe=T.contentElement(y):T.contentElement&&(Qe=T.contentElement),this.findAround(y,Qe,!0),this.addAll(Qe,R),this.findAround(y,Qe,!1)}ie&&this.sync(Fe)&&this.open--}},{key:"addAll",value:function(y,T,R,U){for(var X=R||0,ie=R?y.childNodes[R]:y.firstChild,we=U==null?null:y.childNodes[U];ie!=we;ie=ie.nextSibling,++X)this.findAtPoint(y,X),this.addDOM(ie,T);this.findAtPoint(y,X)}},{key:"findPlace",value:function(y,T,R){for(var U,X,ie=this.open,we=0;ie>=0;ie--){var xe=this.nodes[ie],$e=xe.findWrapping(y);if($e&&(!U||U.length>$e.length+we)&&(U=$e,X=xe,!$e.length))break;if(xe.solid){if(R)break;we+=2}}if(!U)return null;this.sync(X);for(var Fe=0;Fe<U.length;Fe++)T=this.enterInner(U[Fe],null,T,!1);return T}},{key:"insertNode",value:function(y,T,R){if(y.isInline&&this.needsBlock&&!this.top.type){var U=this.textblockFromContext();U&&(T=this.enterInner(U,null,T))}var X=this.findPlace(y,T,R);if(X){this.closeExtra();var ie=this.top;ie.match&&(ie.match=ie.match.matchType(y.type));var we=je.none,xe=t(X.concat(y.marks)),$e;try{for(xe.s();!($e=xe.n()).done;){var Fe=$e.value;(ie.type?ie.type.allowsMarkType(Fe.type):Ce(Fe.type,y.type))&&(we=Fe.addToSet(we))}}catch(Qe){xe.e(Qe)}finally{xe.f()}return ie.content.push(y.mark(we)),!0}return!1}},{key:"enter",value:function(y,T,R,U){var X=this.findPlace(y.create(T),R,!1);return X&&(X=this.enterInner(y,T,R,!0,U)),X}},{key:"enterInner",value:function(y,T,R){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,X=arguments.length>4?arguments[4]:void 0;this.closeExtra();var ie=this.top;ie.match=ie.match&&ie.match.matchType(y);var we=K(y,X,ie.options);ie.options&J&&ie.content.length==0&&(we|=J);var xe=je.none;return R=R.filter(function($e){return(ie.type?ie.type.allowsMarkType($e.type):Ce($e.type,y))?(xe=$e.addToSet(xe),!1):!0}),this.nodes.push(new _(y,T,xe,U,null,we)),this.open++,R}},{key:"closeExtra",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.nodes.length-1;if(T>this.open){for(;T>this.open;T--)this.nodes[T-1].content.push(this.nodes[T].finish(y));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(y){for(var T=this.open;T>=0;T--){if(this.nodes[T]==y)return this.open=T,!0;this.localPreserveWS&&(this.nodes[T].options|=fr)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var y=0,T=this.open;T>=0;T--){for(var R=this.nodes[T].content,U=R.length-1;U>=0;U--)y+=R[U].nodeSize;T&&y++}return y}},{key:"findAtPoint",value:function(y,T){if(this.find)for(var R=0;R<this.find.length;R++)this.find[R].node==y&&this.find[R].offset==T&&(this.find[R].pos=this.currentPos)}},{key:"findInside",value:function(y){if(this.find)for(var T=0;T<this.find.length;T++)this.find[T].pos==null&&y.nodeType==1&&y.contains(this.find[T].node)&&(this.find[T].pos=this.currentPos)}},{key:"findAround",value:function(y,T,R){if(y!=T&&this.find){for(var U=0;U<this.find.length;U++)if(this.find[U].pos==null&&y.nodeType==1&&y.contains(this.find[U].node)){var X=T.compareDocumentPosition(this.find[U].node);X&(R?2:4)&&(this.find[U].pos=this.currentPos)}}}},{key:"findInText",value:function(y){if(this.find)for(var T=0;T<this.find.length;T++)this.find[T].node==y&&(this.find[T].pos=this.currentPos-(y.nodeValue.length-this.find[T].offset))}},{key:"matchesContext",value:function(y){var T=this;if(y.indexOf("|")>-1)return y.split(/\s*\|\s*/).some(this.matchesContext,this);var R=y.split("/"),U=this.options.context,X=!this.isOpen&&(!U||U.parent.type==this.nodes[0].type),ie=-(U?U.depth+1:0)+(X?0:1),we=function xe($e,Fe){for(;$e>=0;$e--){var Qe=R[$e];if(Qe==""){if($e==R.length-1||$e==0)continue;for(;Fe>=ie;Fe--)if(xe($e-1,Fe))return!0;return!1}else{var xt=Fe>0||Fe==0&&X?T.nodes[Fe].type:U&&Fe>=ie?U.node(Fe-ie).type:null;if(!xt||xt.name!=Qe&&!xt.isInGroup(Qe))return!1;Fe--}}return!0};return we(R.length-1,this.open)}},{key:"textblockFromContext",value:function(){var y=this.options.context;if(y)for(var T=y.depth;T>=0;T--){var R=y.node(T).contentMatchAt(y.indexAfter(T)).defaultType;if(R&&R.isTextblock&&R.defaultAttrs)return R}for(var U in this.parser.schema.nodes){var X=this.parser.schema.nodes[U];if(X.isTextblock&&X.defaultAttrs)return X}}}]),F})();function H(F){for(var O=F.firstChild,y=null;O;O=O.nextSibling){var T=O.nodeType==1?O.nodeName.toLowerCase():null;T&&Pn.hasOwnProperty(T)&&y?(y.appendChild(O),O=y):T=="li"?y=O:T&&(y=null)}}function $(F,O){return(F.matches||F.msMatchesSelector||F.webkitMatchesSelector||F.mozMatchesSelector).call(F,O)}function re(F){var O={};for(var y in F)O[y]=F[y];return O}function Ce(F,O){var y=O.schema.nodes,T=function(){var ie=y[U];if(!ie.allowsMarkType(F))return 0;var we=[],xe=function $e(Fe){we.push(Fe);for(var Qe=0;Qe<Fe.edgeCount;Qe++){var xt=Fe.edge(Qe),jt=xt.type,dr=xt.next;if(jt==O||we.indexOf(dr)<0&&$e(dr))return!0}};if(xe(ie.contentMatch))return{v:!0}},R;for(var U in y)if(R=T(),R!==0&&R)return R.v}var Ne=(function(){function F(O,y){D(this,F),this.nodes=O,this.marks=y}return j(F,[{key:"serializeFragment",value:function(y){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=arguments.length>2?arguments[2]:void 0;U||(U=ne(R).createDocumentFragment());var X=U,ie=[];return y.forEach(function(we){if(ie.length||we.marks.length){for(var xe=0,$e=0;xe<ie.length&&$e<we.marks.length;){var Fe=we.marks[$e];if(!T.marks[Fe.type.name]){$e++;continue}if(!Fe.eq(ie[xe][0])||Fe.type.spec.spanning===!1)break;xe++,$e++}for(;xe<ie.length;)X=ie.pop()[1];for(;$e<we.marks.length;){var Qe=we.marks[$e++],xt=T.serializeMark(Qe,we.isInline,R);xt&&(ie.push([Qe,X]),X.appendChild(xt.dom),X=xt.contentDOM||xt.dom)}}X.appendChild(T.serializeNodeInner(we,R))}),U}},{key:"serializeNodeInner",value:function(y,T){var R=kt(ne(T),this.nodes[y.type.name](y),null,y.attrs),U=R.dom,X=R.contentDOM;if(X){if(y.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(y.content,T,X)}return U}},{key:"serializeNode",value:function(y){for(var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=this.serializeNodeInner(y,T),U=y.marks.length-1;U>=0;U--){var X=this.serializeMark(y.marks[U],y.isInline,T);X&&((X.contentDOM||X.dom).appendChild(R),R=X.dom)}return R}},{key:"serializeMark",value:function(y,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=this.marks[y.type.name];return U&&kt(ne(R),U(y,T),null,y.attrs)}}],[{key:"renderSpec",value:function(y,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=arguments.length>3?arguments[3]:void 0;return kt(y,T,R,U)}},{key:"fromSchema",value:function(y){return y.cached.domSerializer||(y.cached.domSerializer=new F(this.nodesFromSchema(y),this.marksFromSchema(y)))}},{key:"nodesFromSchema",value:function(y){var T=ve(y.nodes);return T.text||(T.text=function(R){return R.text}),T}},{key:"marksFromSchema",value:function(y){return ve(y.marks)}}]),F})();function ve(F){var O={};for(var y in F){var T=F[y].spec.toDOM;T&&(O[y]=T)}return O}function ne(F){return F.document||window.document}var Te=new WeakMap;function De(F){var O=Te.get(F);return O===void 0&&Te.set(F,O=et(F)),O}function et(F){var O=null;function y(T){if(T&&M(T)=="object")if(Array.isArray(T))if(typeof T[0]=="string")O||(O=[]),O.push(T);else for(var R=0;R<T.length;R++)y(T[R]);else for(var U in T)y(T[U])}return y(F),O}function kt(F,O,y,T){if(typeof O=="string")return{dom:F.createTextNode(O)};if(O.nodeType!=null)return{dom:O};if(O.dom&&O.dom.nodeType!=null)return O;var R=O[0],U;if(typeof R!="string")throw new RangeError("Invalid array passed to renderSpec");if(T&&(U=De(T))&&U.indexOf(O)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var X=R.indexOf(" ");X>0&&(y=R.slice(0,X),R=R.slice(X+1));var ie,we=y?F.createElementNS(y,R):F.createElement(R),xe=O[1],$e=1;if(xe&&M(xe)=="object"&&xe.nodeType==null&&!Array.isArray(xe)){$e=2;for(var Fe in xe)if(xe[Fe]!=null){var Qe=Fe.indexOf(" ");Qe>0?we.setAttributeNS(Fe.slice(0,Qe),Fe.slice(Qe+1),xe[Fe]):Fe=="style"&&we.style?we.style.cssText=xe[Fe]:we.setAttribute(Fe,xe[Fe])}}for(var xt=$e;xt<O.length;xt++){var jt=O[xt];if(jt===0){if(xt<O.length-1||xt>$e)throw new RangeError("Content hole must be the only child of its parent node");return{dom:we,contentDOM:we}}else{var dr=kt(F,jt,y,T),_n=dr.dom,Ei=dr.contentDOM;if(we.appendChild(_n),Ei){if(ie)throw new RangeError("Multiple content holes");ie=Ei}}}return{dom:we,contentDOM:ie}}return Sn.ContentMatch=ae,Sn.DOMParser=Tn,Sn.DOMSerializer=Ne,Sn.Fragment=ge,Sn.Mark=je,Sn.MarkType=br,Sn.Node=V,Sn.NodeRange=ce,Sn.NodeType=cr,Sn.ReplaceError=Tt,Sn.ResolvedPos=Oe,Sn.Schema=Vr,Sn.Slice=yt,Sn}var sv={},ew;function Tg(){return ew||(ew=1,(function(t){function e(J){var K=typeof Map=="function"?new Map:void 0;return e=function(L){if(L===null||!n(L))return L;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(L))return K.get(L);K.set(L,H)}function H(){return r(L,arguments,f(this).constructor)}return H.prototype=Object.create(L.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),a(H,L)},e(J)}function r(J,K,_){return u()?r=Reflect.construct.bind():r=function(H,$,re){var Ce=[null];Ce.push.apply(Ce,$);var Ne=Function.bind.apply(H,Ce),ve=new Ne;return re&&a(ve,re.prototype),ve},r.apply(null,arguments)}function n(J){try{return Function.toString.call(J).indexOf("[native code]")!==-1}catch{return typeof J=="function"}}function i(J,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(K&&K.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),K&&a(J,K)}function a(J,K){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,H){return L.__proto__=H,L},a(J,K)}function o(J){var K=u();return function(){var L=f(J),H;if(K){var $=f(this).constructor;H=Reflect.construct(L,arguments,$)}else H=L.apply(this,arguments);return s(this,H)}}function s(J,K){if(K&&(h(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(J)}function l(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(J){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(J)}function h(J){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},h(J)}function w(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")}function C(J,K){for(var _=0;_<K.length;_++){var L=K[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(J,M(L.key),L)}}function x(J,K,_){return K&&C(J.prototype,K),_&&C(J,_),Object.defineProperty(J,"prototype",{writable:!1}),J}function M(J){var K=D(J,"string");return h(K)==="symbol"?K:String(K)}function D(J,K){if(h(J)!=="object"||J===null)return J;var _=J[Symbol.toPrimitive];if(_!==void 0){var L=_.call(J,K);if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}var B=Gd(),j=65535,Q=Math.pow(2,16);function Y(J,K){return J+K*Q}function te(J){return J&j}function se(J){return(J-(J&j))/Q}var oe=1,ge=2,Se=4,qe=8,rt=(function(){function J(K,_,L){w(this,J),this.pos=K,this.delInfo=_,this.recover=L}return x(J,[{key:"deleted",get:function(){return(this.delInfo&qe)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(oe|Se))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(ge|Se))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&Se)>0}}]),J})(),je=(function(){function J(K){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w(this,J),this.ranges=K,this.inverted=_,!K.length&&J.empty)return J.empty}return x(J,[{key:"recover",value:function(_){var L=0,H=te(_);if(!this.inverted)for(var $=0;$<H;$++)L+=this.ranges[$*3+2]-this.ranges[$*3+1];return this.ranges[H*3]+L+se(_)}},{key:"mapResult",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!1)}},{key:"map",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!0)}},{key:"_map",value:function(_,L,H){for(var $=0,re=this.inverted?2:1,Ce=this.inverted?1:2,Ne=0;Ne<this.ranges.length;Ne+=3){var ve=this.ranges[Ne]-(this.inverted?$:0);if(ve>_)break;var ne=this.ranges[Ne+re],Te=this.ranges[Ne+Ce],De=ve+ne;if(_<=De){var et=ne?_==ve?-1:_==De?1:L:L,kt=ve+$+(et<0?0:Te);if(H)return kt;var F=_==(L<0?ve:De)?null:Y(Ne/3,_-ve),O=_==ve?ge:_==De?oe:Se;return(L<0?_!=ve:_!=De)&&(O|=qe),new rt(kt,O,F)}$+=Te-ne}return H?_+$:new rt(_+$,0,null)}},{key:"touches",value:function(_,L){for(var H=0,$=te(L),re=this.inverted?2:1,Ce=this.inverted?1:2,Ne=0;Ne<this.ranges.length;Ne+=3){var ve=this.ranges[Ne]-(this.inverted?H:0);if(ve>_)break;var ne=this.ranges[Ne+re],Te=ve+ne;if(_<=Te&&Ne==$*3)return!0;H+=this.ranges[Ne+Ce]-ne}return!1}},{key:"forEach",value:function(_){for(var L=this.inverted?2:1,H=this.inverted?1:2,$=0,re=0;$<this.ranges.length;$+=3){var Ce=this.ranges[$],Ne=Ce-(this.inverted?re:0),ve=Ce+(this.inverted?0:re),ne=this.ranges[$+L],Te=this.ranges[$+H];_(Ne,Ne+ne,ve,ve+Te),re+=Te-ne}}},{key:"invert",value:function(){return new J(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(_){return _==0?J.empty:new J(_<0?[0,-_,0]:[0,0,_])}}]),J})();je.empty=new je([]);var Tt=(function(){function J(K,_){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K?K.length:0;w(this,J),this.mirror=_,this.from=L,this.to=H,this._maps=K||[],this.ownData=!(K||_)}return x(J,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new J(this._maps,this.mirror,_,L)}},{key:"appendMap",value:function(_,L){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(_),L!=null&&this.setMirror(this._maps.length-1,L)}},{key:"appendMapping",value:function(_){for(var L=0,H=this._maps.length;L<_._maps.length;L++){var $=_.getMirror(L);this.appendMap(_._maps[L],$!=null&&$<L?H+$:void 0)}}},{key:"getMirror",value:function(_){if(this.mirror){for(var L=0;L<this.mirror.length;L++)if(this.mirror[L]==_)return this.mirror[L+(L%2?-1:1)]}}},{key:"setMirror",value:function(_,L){this.mirror||(this.mirror=[]),this.mirror.push(_,L)}},{key:"appendMappingInverted",value:function(_){for(var L=_.maps.length-1,H=this._maps.length+_._maps.length;L>=0;L--){var $=_.getMirror(L);this.appendMap(_._maps[L].invert(),$!=null&&$>L?H-$-1:void 0)}}},{key:"invert",value:function(){var _=new J;return _.appendMappingInverted(this),_}},{key:"map",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(_,L,!0);for(var H=this.from;H<this.to;H++)_=this._maps[H].map(_,L);return _}},{key:"mapResult",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(_,L,!1)}},{key:"_map",value:function(_,L,H){for(var $=0,re=this.from;re<this.to;re++){var Ce=this._maps[re],Ne=Ce.mapResult(_,L);if(Ne.recover!=null){var ve=this.getMirror(re);if(ve!=null&&ve>re&&ve<this.to){re=ve,_=this._maps[ve].recover(Ne.recover);continue}}$|=Ne.delInfo,_=Ne.pos}return H?_:new rt(_,$,null)}}]),J})(),yt=Object.create(null),At=(function(){function J(){w(this,J)}return x(J,[{key:"getMap",value:function(){return je.empty}},{key:"merge",value:function(_){return null}}],[{key:"fromJSON",value:function(_,L){if(!L||!L.stepType)throw new RangeError("Invalid input for Step.fromJSON");var H=yt[L.stepType];if(!H)throw new RangeError("No step type ".concat(L.stepType," defined"));return H.fromJSON(_,L)}},{key:"jsonID",value:function(_,L){if(_ in yt)throw new RangeError("Duplicate use of step JSON ID "+_);return yt[_]=L,L.prototype.jsonID=_,L}}]),J})(),Je=(function(){function J(K,_){w(this,J),this.doc=K,this.failed=_}return x(J,null,[{key:"ok",value:function(_){return new J(_,null)}},{key:"fail",value:function(_){return new J(null,_)}},{key:"fromReplace",value:function(_,L,H,$){try{return J.ok(_.replace(L,H,$))}catch(re){if(re instanceof B.ReplaceError)return J.fail(re.message);throw re}}}]),J})();function ut(J,K,_){for(var L=[],H=0;H<J.childCount;H++){var $=J.child(H);$.content.size&&($=$.copy(ut($.content,K,$))),$.isInline&&($=K($,_,H)),L.push($)}return B.Fragment.fromArray(L)}var it=(function(J){i(_,J);var K=o(_);function _(L,H,$){var re;return w(this,_),re=K.call(this),re.from=L,re.to=H,re.mark=$,re}return x(_,[{key:"apply",value:function(H){var $=this,re=H.slice(this.from,this.to),Ce=H.resolve(this.from),Ne=Ce.node(Ce.sharedDepth(this.to)),ve=new B.Slice(ut(re.content,function(ne,Te){return!ne.isAtom||!Te.type.allowsMarkType($.mark.type)?ne:ne.mark($.mark.addToSet(ne.marks))},Ne),re.openStart,re.openEnd);return Je.fromReplace(H,this.from,this.to,ve)}},{key:"invert",value:function(){return new Ht(this.from,this.to,this.mark)}},{key:"map",value:function(H){var $=H.mapResult(this.from,1),re=H.mapResult(this.to,-1);return $.deleted&&re.deleted||$.pos>=re.pos?null:new _($.pos,re.pos,this.mark)}},{key:"merge",value:function(H){return H instanceof _&&H.mark.eq(this.mark)&&this.from<=H.to&&this.to>=H.from?new _(Math.min(this.from,H.from),Math.max(this.to,H.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.from!="number"||typeof $.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _($.from,$.to,H.markFromJSON($.mark))}}]),_})(At);At.jsonID("addMark",it);var Ht=(function(J){i(_,J);var K=o(_);function _(L,H,$){var re;return w(this,_),re=K.call(this),re.from=L,re.to=H,re.mark=$,re}return x(_,[{key:"apply",value:function(H){var $=this,re=H.slice(this.from,this.to),Ce=new B.Slice(ut(re.content,function(Ne){return Ne.mark($.mark.removeFromSet(Ne.marks))},H),re.openStart,re.openEnd);return Je.fromReplace(H,this.from,this.to,Ce)}},{key:"invert",value:function(){return new it(this.from,this.to,this.mark)}},{key:"map",value:function(H){var $=H.mapResult(this.from,1),re=H.mapResult(this.to,-1);return $.deleted&&re.deleted||$.pos>=re.pos?null:new _($.pos,re.pos,this.mark)}},{key:"merge",value:function(H){return H instanceof _&&H.mark.eq(this.mark)&&this.from<=H.to&&this.to>=H.from?new _(Math.min(this.from,H.from),Math.max(this.to,H.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.from!="number"||typeof $.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new _($.from,$.to,H.markFromJSON($.mark))}}]),_})(At);At.jsonID("removeMark",Ht);var nt=(function(J){i(_,J);var K=o(_);function _(L,H){var $;return w(this,_),$=K.call(this),$.pos=L,$.mark=H,$}return x(_,[{key:"apply",value:function(H){var $=H.nodeAt(this.pos);if(!$)return Je.fail("No node at mark step's position");var re=$.type.create($.attrs,null,this.mark.addToSet($.marks));return Je.fromReplace(H,this.pos,this.pos+1,new B.Slice(B.Fragment.from(re),0,$.isLeaf?0:1))}},{key:"invert",value:function(H){var $=H.nodeAt(this.pos);if($){var re=this.mark.addToSet($.marks);if(re.length==$.marks.length){for(var Ce=0;Ce<$.marks.length;Ce++)if(!$.marks[Ce].isInSet(re))return new _(this.pos,$.marks[Ce]);return new _(this.pos,this.mark)}}return new pt(this.pos,this.mark)}},{key:"map",value:function(H){var $=H.mapResult(this.pos,1);return $.deletedAfter?null:new _($.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _($.pos,H.markFromJSON($.mark))}}]),_})(At);At.jsonID("addNodeMark",nt);var pt=(function(J){i(_,J);var K=o(_);function _(L,H){var $;return w(this,_),$=K.call(this),$.pos=L,$.mark=H,$}return x(_,[{key:"apply",value:function(H){var $=H.nodeAt(this.pos);if(!$)return Je.fail("No node at mark step's position");var re=$.type.create($.attrs,null,this.mark.removeFromSet($.marks));return Je.fromReplace(H,this.pos,this.pos+1,new B.Slice(B.Fragment.from(re),0,$.isLeaf?0:1))}},{key:"invert",value:function(H){var $=H.nodeAt(this.pos);return!$||!this.mark.isInSet($.marks)?this:new nt(this.pos,this.mark)}},{key:"map",value:function(H){var $=H.mapResult(this.pos,1);return $.deletedAfter?null:new _($.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _($.pos,H.markFromJSON($.mark))}}]),_})(At);At.jsonID("removeNodeMark",pt);var at=(function(J){i(_,J);var K=o(_);function _(L,H,$){var re,Ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return w(this,_),re=K.call(this),re.from=L,re.to=H,re.slice=$,re.structure=Ce,re}return x(_,[{key:"apply",value:function(H){return this.structure&&Nt(H,this.from,this.to)?Je.fail("Structure replace would overwrite content"):Je.fromReplace(H,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new je([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(H){return new _(this.from,this.from+this.slice.size,H.slice(this.from,this.to))}},{key:"map",value:function(H){var $=H.mapResult(this.from,1),re=H.mapResult(this.to,-1);return $.deletedAcross&&re.deletedAcross?null:new _($.pos,Math.max($.pos,re.pos),this.slice,this.structure)}},{key:"merge",value:function(H){if(!(H instanceof _)||H.structure||this.structure)return null;if(this.from+this.slice.size==H.from&&!this.slice.openEnd&&!H.slice.openStart){var $=this.slice.size+H.slice.size==0?B.Slice.empty:new B.Slice(this.slice.content.append(H.slice.content),this.slice.openStart,H.slice.openEnd);return new _(this.from,this.to+(H.to-H.from),$,this.structure)}else if(H.to==this.from&&!this.slice.openStart&&!H.slice.openEnd){var re=this.slice.size+H.slice.size==0?B.Slice.empty:new B.Slice(H.slice.content.append(this.slice.content),H.slice.openStart,this.slice.openEnd);return new _(H.from,this.to,re,this.structure)}else return null}},{key:"toJSON",value:function(){var H={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(H.slice=this.slice.toJSON()),this.structure&&(H.structure=!0),H}}],[{key:"fromJSON",value:function(H,$){if(typeof $.from!="number"||typeof $.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _($.from,$.to,B.Slice.fromJSON(H,$.slice),!!$.structure)}}]),_})(At);At.jsonID("replace",at);var Dt=(function(J){i(_,J);var K=o(_);function _(L,H,$,re,Ce,Ne){var ve,ne=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return w(this,_),ve=K.call(this),ve.from=L,ve.to=H,ve.gapFrom=$,ve.gapTo=re,ve.slice=Ce,ve.insert=Ne,ve.structure=ne,ve}return x(_,[{key:"apply",value:function(H){if(this.structure&&(Nt(H,this.from,this.gapFrom)||Nt(H,this.gapTo,this.to)))return Je.fail("Structure gap-replace would overwrite content");var $=H.slice(this.gapFrom,this.gapTo);if($.openStart||$.openEnd)return Je.fail("Gap is not a flat range");var re=this.slice.insertAt(this.insert,$.content);return re?Je.fromReplace(H,this.from,this.to,re):Je.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new je([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(H){var $=this.gapTo-this.gapFrom;return new _(this.from,this.from+this.slice.size+$,this.from+this.insert,this.from+this.insert+$,H.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(H){var $=H.mapResult(this.from,1),re=H.mapResult(this.to,-1),Ce=this.from==this.gapFrom?$.pos:H.map(this.gapFrom,-1),Ne=this.to==this.gapTo?re.pos:H.map(this.gapTo,1);return $.deletedAcross&&re.deletedAcross||Ce<$.pos||Ne>re.pos?null:new _($.pos,re.pos,Ce,Ne,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var H={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(H.slice=this.slice.toJSON()),this.structure&&(H.structure=!0),H}}],[{key:"fromJSON",value:function(H,$){if(typeof $.from!="number"||typeof $.to!="number"||typeof $.gapFrom!="number"||typeof $.gapTo!="number"||typeof $.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new _($.from,$.to,$.gapFrom,$.gapTo,B.Slice.fromJSON(H,$.slice),$.insert,!!$.structure)}}]),_})(At);At.jsonID("replaceAround",Dt);function Nt(J,K,_){for(var L=J.resolve(K),H=_-K,$=L.depth;H>0&&$>0&&L.indexAfter($)==L.node($).childCount;)$--,H--;if(H>0)for(var re=L.node($).maybeChild(L.indexAfter($));H>0;){if(!re||re.isLeaf)return!0;re=re.firstChild,H--}return!1}function Kt(J,K,_,L){var H=[],$=[],re,Ce;J.doc.nodesBetween(K,_,function(Ne,ve,ne){if(Ne.isInline){var Te=Ne.marks;if(!L.isInSet(Te)&&ne.type.allowsMarkType(L.type)){for(var De=Math.max(ve,K),et=Math.min(ve+Ne.nodeSize,_),kt=L.addToSet(Te),F=0;F<Te.length;F++)Te[F].isInSet(kt)||(re&&re.to==De&&re.mark.eq(Te[F])?re.to=et:H.push(re=new Ht(De,et,Te[F])));Ce&&Ce.to==De?Ce.to=et:$.push(Ce=new it(De,et,L))}}}),H.forEach(function(Ne){return J.step(Ne)}),$.forEach(function(Ne){return J.step(Ne)})}function Vt(J,K,_,L){var H=[],$=0;J.doc.nodesBetween(K,_,function(re,Ce){if(re.isInline){$++;var Ne=null;if(L instanceof B.MarkType)for(var ve=re.marks,ne;ne=L.isInSet(ve);)(Ne||(Ne=[])).push(ne),ve=ne.removeFromSet(ve);else L?L.isInSet(re.marks)&&(Ne=[L]):Ne=re.marks;if(Ne&&Ne.length)for(var Te=Math.min(Ce+re.nodeSize,_),De=0;De<Ne.length;De++){for(var et=Ne[De],kt=void 0,F=0;F<H.length;F++){var O=H[F];O.step==$-1&&et.eq(H[F].style)&&(kt=O)}kt?(kt.to=Te,kt.step=$):H.push({style:et,from:Math.max(Ce,K),to:Te,step:$})}}}),H.forEach(function(re){return J.step(new Ht(re.from,re.to,re.style))})}function Oe(J,K,_){for(var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.contentMatch,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,$=J.doc.nodeAt(K),re=[],Ce=K+1,Ne=0;Ne<$.childCount;Ne++){var ve=$.child(Ne),ne=Ce+ve.nodeSize,Te=L.matchType(ve.type);if(!Te)re.push(new at(Ce,ne,B.Slice.empty));else{L=Te;for(var De=0;De<ve.marks.length;De++)_.allowsMarkType(ve.marks[De].type)||J.step(new Ht(Ce,ne,ve.marks[De]));if(H&&ve.isText&&_.whitespace!="pre")for(var et=void 0,kt=/\r?\n|\r/g,F=void 0;et=kt.exec(ve.text);)F||(F=new B.Slice(B.Fragment.from(_.schema.text(" ",_.allowedMarks(ve.marks))),0,0)),re.push(new at(Ce+et.index,Ce+et.index+et[0].length,F))}Ce=ne}if(!L.validEnd){var O=L.fillBefore(B.Fragment.empty,!0);J.replace(Ce,Ce,new B.Slice(O,0,0))}for(var y=re.length-1;y>=0;y--)J.step(re[y])}function he(J,K,_){return(K==0||J.canReplace(K,J.childCount))&&(_==J.childCount||J.canReplace(0,_))}function ue(J){for(var K=J.parent,_=K.content.cutByIndex(J.startIndex,J.endIndex),L=J.depth,H=0,$=0;;--L){var re=J.$from.node(L),Ce=J.$from.index(L)+H,Ne=J.$to.indexAfter(L)-$;if(L<J.depth&&re.canReplace(Ce,Ne,_))return L;if(L==0||re.type.spec.isolating||!he(re,Ce,Ne))break;Ce&&(H=1),Ne<re.childCount&&($=1)}return null}function ee(J,K,_){for(var L=K.$from,H=K.$to,$=K.depth,re=L.before($+1),Ce=H.after($+1),Ne=re,ve=Ce,ne=B.Fragment.empty,Te=0,De=$,et=!1;De>_;De--)et||L.index(De)>0?(et=!0,ne=B.Fragment.from(L.node(De).copy(ne)),Te++):Ne--;for(var kt=B.Fragment.empty,F=0,O=$,y=!1;O>_;O--)y||H.after(O+1)<H.end(O)?(y=!0,kt=B.Fragment.from(H.node(O).copy(kt)),F++):ve++;J.step(new Dt(Ne,ve,re,Ce,new B.Slice(ne.append(kt),Te,F),ne.size-Te,!0))}function ce(J,K){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:J,H=V(J,K),$=H&&q(L,K);return $?H.map(I).concat({type:K,attrs:_}).concat($.map(I)):null}function I(J){return{type:J,attrs:null}}function V(J,K){var _=J.parent,L=J.startIndex,H=J.endIndex,$=_.contentMatchAt(L).findWrapping(K);if(!$)return null;var re=$.length?$[0]:K;return _.canReplaceWith(L,H,re)?$:null}function q(J,K){var _=J.parent,L=J.startIndex,H=J.endIndex,$=_.child(L),re=K.contentMatch.findWrapping($.type);if(!re)return null;for(var Ce=re.length?re[re.length-1]:K,Ne=Ce.contentMatch,ve=L;Ne&&ve<H;ve++)Ne=Ne.matchType(_.child(ve).type);return!Ne||!Ne.validEnd?null:re}function le(J,K,_){for(var L=B.Fragment.empty,H=_.length-1;H>=0;H--){if(L.size){var $=_[H].type.contentMatch.matchFragment(L);if(!$||!$.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}L=B.Fragment.from(_[H].type.create(_[H].attrs,L))}var re=K.start,Ce=K.end;J.step(new Dt(re,Ce,re,Ce,new B.Slice(L,0,0),_.length,!0))}function ae(J,K,_,L,H){if(!L.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var $=J.steps.length;J.doc.nodesBetween(K,_,function(re,Ce){var Ne=typeof H=="function"?H(re):H;if(re.isTextblock&&!re.hasMarkup(L,Ne)&&He(J.doc,J.mapping.slice($).map(Ce),L)){var ve=null;if(L.schema.linebreakReplacement){var ne=L.whitespace=="pre",Te=!!L.contentMatch.matchType(L.schema.linebreakReplacement);ne&&!Te?ve=!1:!ne&&Te&&(ve=!0)}ve===!1&&Le(J,re,Ce,$),Oe(J,J.mapping.slice($).map(Ce,1),L,void 0,ve===null);var De=J.mapping.slice($),et=De.map(Ce,1),kt=De.map(Ce+re.nodeSize,1);return J.step(new Dt(et,kt,et+1,kt-1,new B.Slice(B.Fragment.from(L.create(Ne,null,re.marks)),0,0),1,!0)),ve===!0&&ye(J,re,Ce,$),!1}})}function ye(J,K,_,L){K.forEach(function(H,$){if(H.isText)for(var re,Ce=/\r?\n|\r/g;re=Ce.exec(H.text);){var Ne=J.mapping.slice(L).map(_+1+$+re.index);J.replaceWith(Ne,Ne+1,K.type.schema.linebreakReplacement.create())}})}function Le(J,K,_,L){K.forEach(function(H,$){if(H.type==H.type.schema.linebreakReplacement){var re=J.mapping.slice(L).map(_+1+$);J.replaceWith(re,re+1,K.type.schema.text(`
`))}})}function He(J,K,_){var L=J.resolve(K),H=L.index();return L.parent.canReplaceWith(H,H+1,_)}function Pe(J,K,_,L,H){var $=J.doc.nodeAt(K);if(!$)throw new RangeError("No node at given position");_||(_=$.type);var re=_.create(L,null,H||$.marks);if($.isLeaf)return J.replaceWith(K,K+$.nodeSize,re);if(!_.validContent($.content))throw new RangeError("Invalid content for node type "+_.name);J.step(new Dt(K,K+$.nodeSize,K+1,K+$.nodeSize-1,new B.Slice(B.Fragment.from(re),0,0),1,!0))}function Ie(J,K){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,H=J.resolve(K),$=H.depth-_,re=L&&L[L.length-1]||H.parent;if($<0||H.parent.type.spec.isolating||!H.parent.canReplace(H.index(),H.parent.childCount)||!re.type.validContent(H.parent.content.cutByIndex(H.index(),H.parent.childCount)))return!1;for(var Ce=H.depth-1,Ne=_-2;Ce>$;Ce--,Ne--){var ve=H.node(Ce),ne=H.index(Ce);if(ve.type.spec.isolating)return!1;var Te=ve.content.cutByIndex(ne,ve.childCount),De=L&&L[Ne+1];De&&(Te=Te.replaceChild(0,De.type.create(De.attrs)));var et=L&&L[Ne]||ve;if(!ve.canReplace(ne+1,ve.childCount)||!et.type.validContent(Te))return!1}var kt=H.indexAfter($),F=L&&L[0];return H.node($).canReplaceWith(kt,kt,F?F.type:H.node($+1).type)}function Xe(J,K){for(var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=arguments.length>3?arguments[3]:void 0,H=J.doc.resolve(K),$=B.Fragment.empty,re=B.Fragment.empty,Ce=H.depth,Ne=H.depth-_,ve=_-1;Ce>Ne;Ce--,ve--){$=B.Fragment.from(H.node(Ce).copy($));var ne=L&&L[ve];re=B.Fragment.from(ne?ne.type.create(ne.attrs,re):H.node(Ce).copy(re))}J.step(new at(K,K,new B.Slice($.append(re),_,_),!0))}function Ge(J,K){var _=J.resolve(K),L=_.index();return bt(_.nodeBefore,_.nodeAfter)&&_.parent.canReplace(L,L+1)}function dt(J,K){K.content.size||J.type.compatibleContent(K.type);for(var _=J.contentMatchAt(J.childCount),L=J.type.schema.linebreakReplacement,H=0;H<K.childCount;H++){var $=K.child(H),re=$.type==L?J.type.schema.nodes.text:$.type;if(_=_.matchType(re),!_||!J.type.allowsMarks($.marks))return!1}return _.validEnd}function bt(J,K){return!!(J&&K&&!J.isLeaf&&dt(J,K))}function St(J,K){for(var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,L=J.resolve(K),H=L.depth;;H--){var $=void 0,re=void 0,Ce=L.index(H);if(H==L.depth?($=L.nodeBefore,re=L.nodeAfter):_>0?($=L.node(H+1),Ce++,re=L.node(H).maybeChild(Ce)):($=L.node(H).maybeChild(Ce-1),re=L.node(H+1)),$&&!$.isTextblock&&bt($,re)&&L.node(H).canReplace(Ce,Ce+1))return K;if(H==0)break;K=_<0?L.before(H):L.after(H)}}function Ve(J,K,_){var L=null,H=J.doc.type.schema.linebreakReplacement,$=J.doc.resolve(K-_),re=$.node().type;if(H&&re.inlineContent){var Ce=re.whitespace=="pre",Ne=!!re.contentMatch.matchType(H);Ce&&!Ne?L=!1:!Ce&&Ne&&(L=!0)}var ve=J.steps.length;if(L===!1){var ne=J.doc.resolve(K+_);Le(J,ne.node(),ne.before(),ve)}re.inlineContent&&Oe(J,K+_-1,re,$.node().contentMatchAt($.index()),L==null);var Te=J.mapping.slice(ve),De=Te.map(K-_);if(J.step(new at(De,Te.map(K+_,-1),B.Slice.empty,!0)),L===!0){var et=J.doc.resolve(De);ye(J,et.node(),et.before(),J.steps.length)}return J}function ze(J,K,_){var L=J.resolve(K);if(L.parent.canReplaceWith(L.index(),L.index(),_))return K;if(L.parentOffset==0)for(var H=L.depth-1;H>=0;H--){var $=L.index(H);if(L.node(H).canReplaceWith($,$,_))return L.before(H+1);if($>0)return null}if(L.parentOffset==L.parent.content.size)for(var re=L.depth-1;re>=0;re--){var Ce=L.indexAfter(re);if(L.node(re).canReplaceWith(Ce,Ce,_))return L.after(re+1);if(Ce<L.node(re).childCount)return null}return null}function ht(J,K,_){var L=J.resolve(K);if(!_.content.size)return K;for(var H=_.content,$=0;$<_.openStart;$++)H=H.firstChild.content;for(var re=1;re<=(_.openStart==0&&_.size?2:1);re++)for(var Ce=L.depth;Ce>=0;Ce--){var Ne=Ce==L.depth?0:L.pos<=(L.start(Ce+1)+L.end(Ce+1))/2?-1:1,ve=L.index(Ce)+(Ne>0?1:0),ne=L.node(Ce),Te=!1;if(re==1)Te=ne.canReplace(ve,ve,H);else{var De=ne.contentMatchAt(ve).findWrapping(H.firstChild.type);Te=De&&ne.canReplaceWith(ve,ve,De[0])}if(Te)return Ne==0?L.pos:Ne<0?L.before(Ce+1):L.after(Ce+1)}return null}function wt(J,K){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.Slice.empty;if(K==_&&!L.size)return null;var H=J.resolve(K),$=J.resolve(_);return Lt(H,$,L)?new at(K,_,L):new nr(H,$,L).fit()}function Lt(J,K,_){return!_.openStart&&!_.openEnd&&J.start()==K.start()&&J.parent.canReplace(J.index(),K.index(),_.content)}var nr=(function(){function J(K,_,L){w(this,J),this.$from=K,this.$to=_,this.unplaced=L,this.frontier=[],this.placed=B.Fragment.empty;for(var H=0;H<=K.depth;H++){var $=K.node(H);this.frontier.push({type:$.type,match:$.contentMatchAt(K.indexAfter(H))})}for(var re=K.depth;re>0;re--)this.placed=B.Fragment.from(K.node(re).copy(this.placed))}return x(J,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var _=this.findFittable();_?this.placeNodes(_):this.openMore()||this.dropNode()}var L=this.mustMoveInline(),H=this.placed.size-this.depth-this.$from.depth,$=this.$from,re=this.close(L<0?this.$to:$.doc.resolve(L));if(!re)return null;for(var Ce=this.placed,Ne=$.depth,ve=re.depth;Ne&&ve&&Ce.childCount==1;)Ce=Ce.firstChild.content,Ne--,ve--;var ne=new B.Slice(Ce,Ne,ve);return L>-1?new Dt($.pos,L,this.$to.pos,this.$to.end(),ne,H):ne.size||$.pos!=this.$to.pos?new at($.pos,re.pos,ne):null}},{key:"findFittable",value:function(){for(var _=this.unplaced.openStart,L=this.unplaced.content,H=0,$=this.unplaced.openEnd;H<_;H++){var re=L.firstChild;if(L.childCount>1&&($=0),re.type.spec.isolating&&$<=H){_=H;break}L=re.content}for(var Ce=1;Ce<=2;Ce++)for(var Ne=Ce==1?_:this.unplaced.openStart;Ne>=0;Ne--){var ve=void 0,ne=null;Ne?(ne=ir(this.unplaced.content,Ne-1).firstChild,ve=ne.content):ve=this.unplaced.content;for(var Te=ve.firstChild,De=this.depth;De>=0;De--){var et=this.frontier[De],kt=et.type,F=et.match,O=void 0,y=null;if(Ce==1&&(Te?F.matchType(Te.type)||(y=F.fillBefore(B.Fragment.from(Te),!1)):ne&&kt.compatibleContent(ne.type)))return{sliceDepth:Ne,frontierDepth:De,parent:ne,inject:y};if(Ce==2&&Te&&(O=F.findWrapping(Te.type)))return{sliceDepth:Ne,frontierDepth:De,parent:ne,wrap:O};if(ne&&F.matchType(ne.type))break}}}},{key:"openMore",value:function(){var _=this.unplaced,L=_.content,H=_.openStart,$=_.openEnd,re=ir(L,H);return!re.childCount||re.firstChild.isLeaf?!1:(this.unplaced=new B.Slice(L,H+1,Math.max($,re.size+H>=L.size-$?H+1:0)),!0)}},{key:"dropNode",value:function(){var _=this.unplaced,L=_.content,H=_.openStart,$=_.openEnd,re=ir(L,H);if(re.childCount<=1&&H>0){var Ce=L.size-H<=H+re.size;this.unplaced=new B.Slice(Jt(L,H-1,1),H-1,Ce?H-1:$)}else this.unplaced=new B.Slice(Jt(L,H,1),H,$)}},{key:"placeNodes",value:function(_){for(var L=_.sliceDepth,H=_.frontierDepth,$=_.parent,re=_.inject,Ce=_.wrap;this.depth>H;)this.closeFrontierNode();if(Ce)for(var Ne=0;Ne<Ce.length;Ne++)this.openFrontierNode(Ce[Ne]);var ve=this.unplaced,ne=$?$.content:ve.content,Te=ve.openStart-L,De=0,et=[],kt=this.frontier[H],F=kt.match,O=kt.type;if(re){for(var y=0;y<re.childCount;y++)et.push(re.child(y));F=F.matchFragment(re)}for(var T=ne.size+L-(ve.content.size-ve.openEnd);De<ne.childCount;){var R=ne.child(De),U=F.matchType(R.type);if(!U)break;De++,(De>1||Te==0||R.content.size)&&(F=U,et.push(yr(R.mark(O.allowedMarks(R.marks)),De==1?Te:0,De==ne.childCount?T:-1)))}var X=De==ne.childCount;X||(T=-1),this.placed=cr(this.placed,H,B.Fragment.from(et)),this.frontier[H].match=F,X&&T<0&&$&&$.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var ie=0,we=ne;ie<T;ie++){var xe=we.lastChild;this.frontier.push({type:xe.type,match:xe.contentMatchAt(xe.childCount)}),we=xe.content}this.unplaced=X?L==0?B.Slice.empty:new B.Slice(Jt(ve.content,L-1,1),L-1,T<0?ve.openEnd:L-1):new B.Slice(Jt(ve.content,L,De),ve.openStart,ve.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var _=this.frontier[this.depth],L;if(!_.type.isTextblock||!br(this.$to,this.$to.depth,_.type,_.match,!1)||this.$to.depth==this.depth&&(L=this.findCloseLevel(this.$to))&&L.depth==this.depth)return-1;for(var H=this.$to.depth,$=this.$to.after(H);H>1&&$==this.$to.end(--H);)++$;return $}},{key:"findCloseLevel",value:function(_){e:for(var L=Math.min(this.depth,_.depth);L>=0;L--){var H=this.frontier[L],$=H.match,re=H.type,Ce=L<_.depth&&_.end(L+1)==_.pos+(_.depth-(L+1)),Ne=br(_,L,re,$,Ce);if(Ne){for(var ve=L-1;ve>=0;ve--){var ne=this.frontier[ve],Te=ne.match,De=ne.type,et=br(_,ve,De,Te,!0);if(!et||et.childCount)continue e}return{depth:L,fit:Ne,move:Ce?_.doc.resolve(_.after(L+1)):_}}}}},{key:"close",value:function(_){var L=this.findCloseLevel(_);if(!L)return null;for(;this.depth>L.depth;)this.closeFrontierNode();L.fit.childCount&&(this.placed=cr(this.placed,L.depth,L.fit)),_=L.move;for(var H=L.depth+1;H<=_.depth;H++){var $=_.node(H),re=$.type.contentMatch.fillBefore($.content,!0,_.index(H));this.openFrontierNode($.type,$.attrs,re)}return _}},{key:"openFrontierNode",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,H=arguments.length>2?arguments[2]:void 0,$=this.frontier[this.depth];$.match=$.match.matchType(_),this.placed=cr(this.placed,this.depth,B.Fragment.from(_.create(L,H))),this.frontier.push({type:_,match:_.contentMatch})}},{key:"closeFrontierNode",value:function(){var _=this.frontier.pop(),L=_.match.fillBefore(B.Fragment.empty,!0);L.childCount&&(this.placed=cr(this.placed,this.frontier.length,L))}}]),J})();function Jt(J,K,_){return K==0?J.cutByIndex(_,J.childCount):J.replaceChild(0,J.firstChild.copy(Jt(J.firstChild.content,K-1,_)))}function cr(J,K,_){return K==0?J.append(_):J.replaceChild(J.childCount-1,J.lastChild.copy(cr(J.lastChild.content,K-1,_)))}function ir(J,K){for(var _=0;_<K;_++)J=J.firstChild.content;return J}function yr(J,K,_){if(K<=0)return J;var L=J.content;return K>1&&(L=L.replaceChild(0,yr(L.firstChild,K-1,L.childCount==1?_-1:0))),K>0&&(L=J.type.contentMatch.fillBefore(L).append(L),_<=0&&(L=L.append(J.type.contentMatch.matchFragment(L).fillBefore(B.Fragment.empty,!0)))),J.copy(L)}function br(J,K,_,L,H){var $=J.node(K),re=H?J.indexAfter(K):J.index(K);if(re==$.childCount&&!_.compatibleContent($.type))return null;var Ce=L.fillBefore($.content,!0,re);return Ce&&!Vr(_,$.content,re)?Ce:null}function Vr(J,K,_){for(var L=_;L<K.childCount;L++)if(!J.allowsMarks(K.child(L).marks))return!0;return!1}function li(J){return J.spec.defining||J.spec.definingForContent}function Xn(J,K,_,L){if(!L.size)return J.deleteRange(K,_);var H=J.doc.resolve(K),$=J.doc.resolve(_);if(Lt(H,$,L))return J.step(new at(K,_,L));var re=Nr(H,$);re[re.length-1]==0&&re.pop();var Ce=-(H.depth+1);re.unshift(Ce);for(var Ne=H.depth,ve=H.pos-1;Ne>0;Ne--,ve--){var ne=H.node(Ne).type.spec;if(ne.defining||ne.definingAsContext||ne.isolating)break;re.indexOf(Ne)>-1?Ce=Ne:H.before(Ne)==ve&&re.splice(1,0,-Ne)}for(var Te=re.indexOf(Ce),De=[],et=L.openStart,kt=L.content,F=0;;F++){var O=kt.firstChild;if(De.push(O),F==L.openStart)break;kt=O.content}for(var y=et-1;y>=0;y--){var T=De[y],R=li(T.type);if(R&&!T.sameMarkup(H.node(Math.abs(Ce)-1)))et=y;else if(R||!T.type.isTextblock)break}for(var U=L.openStart;U>=0;U--){var X=(U+et+1)%(L.openStart+1),ie=De[X];if(ie)for(var we=0;we<re.length;we++){var xe=re[(we+Te)%re.length],$e=!0;xe<0&&($e=!1,xe=-xe);var Fe=H.node(xe-1),Qe=H.index(xe-1);if(Fe.canReplaceWith(Qe,Qe,ie.type,ie.marks))return J.replace(H.before(xe),$e?$.after(xe):_,new B.Slice(In(L.content,0,L.openStart,X),X,L.openEnd))}}for(var xt=J.steps.length,jt=re.length-1;jt>=0&&(J.replace(K,_,L),!(J.steps.length>xt));jt--){var dr=re[jt];dr<0||(K=H.before(dr),_=$.after(dr))}}function In(J,K,_,L,H){if(K<_){var $=J.firstChild;J=J.replaceChild(0,$.copy(In($.content,K+1,_,L,$)))}if(K>L){var re=H.contentMatchAt(0),Ce=re.fillBefore(J).append(J);J=Ce.append(re.matchFragment(Ce).fillBefore(B.Fragment.empty,!0))}return J}function Tn(J,K,_,L){if(!L.isInline&&K==_&&J.doc.resolve(K).parent.content.size){var H=ze(J.doc,K,L.type);H!=null&&(K=_=H)}J.replaceRange(K,_,new B.Slice(B.Fragment.from(L),0,0))}function pn(J,K,_){for(var L=J.doc.resolve(K),H=J.doc.resolve(_),$=Nr(L,H),re=0;re<$.length;re++){var Ce=$[re],Ne=re==$.length-1;if(Ne&&Ce==0||L.node(Ce).type.contentMatch.validEnd)return J.delete(L.start(Ce),H.end(Ce));if(Ce>0&&(Ne||L.node(Ce-1).canReplace(L.index(Ce-1),H.indexAfter(Ce-1))))return J.delete(L.before(Ce),H.after(Ce))}for(var ve=1;ve<=L.depth&&ve<=H.depth;ve++)if(K-L.start(ve)==L.depth-ve&&_>L.end(ve)&&H.end(ve)-_!=H.depth-ve&&L.start(ve-1)==H.start(ve-1)&&L.node(ve-1).canReplace(L.index(ve-1),H.index(ve-1)))return J.delete(L.before(ve),_);J.delete(K,_)}function Nr(J,K){for(var _=[],L=Math.min(J.depth,K.depth),H=L;H>=0;H--){var $=J.start(H);if($<J.pos-(J.depth-H)||K.end(H)>K.pos+(K.depth-H)||J.node(H).type.spec.isolating||K.node(H).type.spec.isolating)break;($==K.start(H)||H==J.depth&&H==K.depth&&J.parent.inlineContent&&K.parent.inlineContent&&H&&K.start(H-1)==$-1)&&_.push(H)}return _}var Pn=(function(J){i(_,J);var K=o(_);function _(L,H,$){var re;return w(this,_),re=K.call(this),re.pos=L,re.attr=H,re.value=$,re}return x(_,[{key:"apply",value:function(H){var $=H.nodeAt(this.pos);if(!$)return Je.fail("No node at attribute step's position");var re=Object.create(null);for(var Ce in $.attrs)re[Ce]=$.attrs[Ce];re[this.attr]=this.value;var Ne=$.type.create(re,null,$.marks);return Je.fromReplace(H,this.pos,this.pos+1,new B.Slice(B.Fragment.from(Ne),0,$.isLeaf?0:1))}},{key:"getMap",value:function(){return je.empty}},{key:"invert",value:function(H){return new _(this.pos,this.attr,H.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(H){var $=H.mapResult(this.pos,1);return $.deletedAfter?null:new _($.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.pos!="number"||typeof $.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _($.pos,$.attr,$.value)}}]),_})(At);At.jsonID("attr",Pn);var fr=(function(J){i(_,J);var K=o(_);function _(L,H){var $;return w(this,_),$=K.call(this),$.attr=L,$.value=H,$}return x(_,[{key:"apply",value:function(H){var $=Object.create(null);for(var re in H.attrs)$[re]=H.attrs[re];$[this.attr]=this.value;var Ce=H.type.create($,H.content,H.marks);return Je.ok(Ce)}},{key:"getMap",value:function(){return je.empty}},{key:"invert",value:function(H){return new _(this.attr,H.attrs[this.attr])}},{key:"map",value:function(H){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(H,$){if(typeof $.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new _($.attr,$.value)}}]),_})(At);At.jsonID("docAttr",fr),t.TransformError=(function(J){i(_,J);var K=o(_);function _(){return w(this,_),K.apply(this,arguments)}return x(_)})(e(Error)),t.TransformError=function J(K){var _=Error.call(this,K);return _.__proto__=J.prototype,_},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var Br=(function(){function J(K){w(this,J),this.doc=K,this.steps=[],this.docs=[],this.mapping=new Tt}return x(J,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(_){var L=this.maybeStep(_);if(L.failed)throw new t.TransformError(L.failed);return this}},{key:"maybeStep",value:function(_){var L=_.apply(this.doc);return L.failed||this.addStep(_,L.doc),L}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"changedRange",value:function(){for(var _=1e9,L=-1e9,H=0;H<this.mapping.maps.length;H++){var $=this.mapping.maps[H];H&&(_=$.map(_,1),L=$.map(L,-1)),$.forEach(function(re,Ce,Ne,ve){_=Math.min(_,Ne),L=Math.max(L,ve)})}return _==1e9?null:{from:_,to:L}}},{key:"addStep",value:function(_,L){this.docs.push(this.doc),this.steps.push(_),this.mapping.appendMap(_.getMap()),this.doc=L}},{key:"replace",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B.Slice.empty,$=wt(this.doc,_,L,H);return $&&this.step($),this}},{key:"replaceWith",value:function(_,L,H){return this.replace(_,L,new B.Slice(B.Fragment.from(H),0,0))}},{key:"delete",value:function(_,L){return this.replace(_,L,B.Slice.empty)}},{key:"insert",value:function(_,L){return this.replaceWith(_,_,L)}},{key:"replaceRange",value:function(_,L,H){return Xn(this,_,L,H),this}},{key:"replaceRangeWith",value:function(_,L,H){return Tn(this,_,L,H),this}},{key:"deleteRange",value:function(_,L){return pn(this,_,L),this}},{key:"lift",value:function(_,L){return ee(this,_,L),this}},{key:"join",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Ve(this,_,L),this}},{key:"wrap",value:function(_,L){return le(this,_,L),this}},{key:"setBlockType",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_,H=arguments.length>2?arguments[2]:void 0,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return ae(this,_,L,H,$),this}},{key:"setNodeMarkup",value:function(_,L){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,$=arguments.length>3?arguments[3]:void 0;return Pe(this,_,L,H,$),this}},{key:"setNodeAttribute",value:function(_,L,H){return this.step(new Pn(_,L,H)),this}},{key:"setDocAttribute",value:function(_,L){return this.step(new fr(_,L)),this}},{key:"addNodeMark",value:function(_,L){return this.step(new nt(_,L)),this}},{key:"removeNodeMark",value:function(_,L){var H=this.doc.nodeAt(_);if(!H)throw new RangeError("No node at position "+_);if(L instanceof B.Mark)L.isInSet(H.marks)&&this.step(new pt(_,L));else{for(var $=H.marks,re,Ce=[];re=L.isInSet($);)Ce.push(new pt(_,re)),$=re.removeFromSet($);for(var Ne=Ce.length-1;Ne>=0;Ne--)this.step(Ce[Ne])}return this}},{key:"split",value:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,H=arguments.length>2?arguments[2]:void 0;return Xe(this,_,L,H),this}},{key:"addMark",value:function(_,L,H){return Kt(this,_,L,H),this}},{key:"removeMark",value:function(_,L,H){return Vt(this,_,L,H),this}},{key:"clearIncompatible",value:function(_,L,H){return Oe(this,_,L,H),this}}]),J})();t.AddMarkStep=it,t.AddNodeMarkStep=nt,t.AttrStep=Pn,t.DocAttrStep=fr,t.MapResult=rt,t.Mapping=Tt,t.RemoveMarkStep=Ht,t.RemoveNodeMarkStep=pt,t.ReplaceAroundStep=Dt,t.ReplaceStep=at,t.Step=At,t.StepMap=je,t.StepResult=Je,t.Transform=Br,t.canJoin=Ge,t.canSplit=Ie,t.dropPoint=ht,t.findWrapping=ce,t.insertPoint=ze,t.joinPoint=St,t.liftTarget=ue,t.replaceStep=wt})(sv)),sv}var tw;function Kd(){if(tw)return Ai;tw=1;function t(){return typeof Reflect<"u"&&Reflect.get?t=Reflect.get.bind():t=function(ue,ee,ce){var I=e(ue,ee);if(I){var V=Object.getOwnPropertyDescriptor(I,ee);return V.get?V.get.call(arguments.length<3?ue:ce):V.value}},t.apply(this,arguments)}function e(he,ue){for(;!Object.prototype.hasOwnProperty.call(he,ue)&&(he=l(he),he!==null););return he}function r(he,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(ue&&ue.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),Object.defineProperty(he,"prototype",{writable:!1}),ue&&n(he,ue)}function n(he,ue){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,I){return ce.__proto__=I,ce},n(he,ue)}function i(he){var ue=s();return function(){var ce=l(he),I;if(ue){var V=l(this).constructor;I=Reflect.construct(ce,arguments,V)}else I=ce.apply(this,arguments);return a(this,I)}}function a(he,ue){if(ue&&(u(ue)==="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(he)}function o(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(he){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},l(he)}function u(he){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},u(he)}function f(he,ue){if(!(he instanceof ue))throw new TypeError("Cannot call a class as a function")}function h(he,ue){for(var ee=0;ee<ue.length;ee++){var ce=ue[ee];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(he,C(ce.key),ce)}}function w(he,ue,ee){return ue&&h(he.prototype,ue),ee&&h(he,ee),Object.defineProperty(he,"prototype",{writable:!1}),he}function C(he){var ue=x(he,"string");return u(ue)==="symbol"?ue:String(ue)}function x(he,ue){if(u(he)!=="object"||he===null)return he;var ee=he[Symbol.toPrimitive];if(ee!==void 0){var ce=ee.call(he,ue);if(u(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(he)}var M=Gd(),D=Tg(),B=Object.create(null),j=(function(){function he(ue,ee,ce){f(this,he),this.$anchor=ue,this.$head=ee,this.ranges=ce||[new Q(ue.min(ee),ue.max(ee))]}return w(he,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var ee=this.ranges,ce=0;ce<ee.length;ce++)if(ee[ce].$from.pos!=ee[ce].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(ee){for(var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty,I=ce.content.lastChild,V=null,q=0;q<ce.openEnd;q++)V=I,I=I.lastChild;for(var le=ee.steps.length,ae=this.ranges,ye=0;ye<ae.length;ye++){var Le=ae[ye],He=Le.$from,Pe=Le.$to,Ie=ee.mapping.slice(le);ee.replaceRange(Ie.map(He.pos),Ie.map(Pe.pos),ye?M.Slice.empty:ce),ye==0&&Tt(ee,le,(I?I.isInline:V&&V.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(ee,ce){for(var I=ee.steps.length,V=this.ranges,q=0;q<V.length;q++){var le=V[q],ae=le.$from,ye=le.$to,Le=ee.mapping.slice(I),He=Le.map(ae.pos),Pe=Le.map(ye.pos);q?ee.deleteRange(He,Pe):(ee.replaceRangeWith(He,Pe,ce),Tt(ee,I,ce.isInline?-1:1))}}},{key:"getBookmark",value:function(){return se.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(ee,ce){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,V=ee.parent.inlineContent?new se(ee):je(ee.node(0),ee.parent,ee.pos,ee.index(),ce,I);if(V)return V;for(var q=ee.depth-1;q>=0;q--){var le=ce<0?je(ee.node(0),ee.node(q),ee.before(q+1),ee.index(q),ce,I):je(ee.node(0),ee.node(q),ee.after(q+1),ee.index(q)+1,ce,I);if(le)return le}return null}},{key:"near",value:function(ee){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(ee,ce)||this.findFrom(ee,-ce)||new qe(ee.node(0))}},{key:"atStart",value:function(ee){return je(ee,ee,0,0,1)||new qe(ee)}},{key:"atEnd",value:function(ee){return je(ee,ee,ee.content.size,ee.childCount,-1)||new qe(ee)}},{key:"fromJSON",value:function(ee,ce){if(!ce||!ce.type)throw new RangeError("Invalid input for Selection.fromJSON");var I=B[ce.type];if(!I)throw new RangeError("No selection type ".concat(ce.type," defined"));return I.fromJSON(ee,ce)}},{key:"jsonID",value:function(ee,ce){if(ee in B)throw new RangeError("Duplicate use of selection JSON ID "+ee);return B[ee]=ce,ce.prototype.jsonID=ee,ce}}]),he})();j.prototype.visible=!0;var Q=w(function he(ue,ee){f(this,he),this.$from=ue,this.$to=ee}),Y=!1;function te(he){!Y&&!he.parent.inlineContent&&(Y=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+he.parent.type.name+")"))}var se=(function(he){r(ee,he);var ue=i(ee);function ee(ce){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;return f(this,ee),te(ce),te(I),ue.call(this,ce,I)}return w(ee,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(I,V){var q=I.resolve(V.map(this.head));if(!q.parent.inlineContent)return j.near(q);var le=I.resolve(V.map(this.anchor));return new ee(le.parent.inlineContent?le:q,q)}},{key:"replace",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if(t(l(ee.prototype),"replace",this).call(this,I,V),V==M.Slice.empty){var q=this.$from.marksAcross(this.$to);q&&I.ensureMarks(q)}}},{key:"eq",value:function(I){return I instanceof ee&&I.anchor==this.anchor&&I.head==this.head}},{key:"getBookmark",value:function(){return new oe(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(I,V){if(typeof V.anchor!="number"||typeof V.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ee(I.resolve(V.anchor),I.resolve(V.head))}},{key:"create",value:function(I,V){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V,le=I.resolve(V);return new this(le,q==V?le:I.resolve(q))}},{key:"between",value:function(I,V,q){var le=I.pos-V.pos;if((!q||le)&&(q=le>=0?1:-1),!V.parent.inlineContent){var ae=j.findFrom(V,q,!0)||j.findFrom(V,-q,!0);if(ae)V=ae.$head;else return j.near(V,q)}return I.parent.inlineContent||(le==0?I=V:(I=(j.findFrom(I,-q,!0)||j.findFrom(I,q,!0)).$anchor,I.pos<V.pos!=le<0&&(I=V))),new ee(I,V)}}]),ee})(j);j.jsonID("text",se);var oe=(function(){function he(ue,ee){f(this,he),this.anchor=ue,this.head=ee}return w(he,[{key:"map",value:function(ee){return new he(ee.map(this.anchor),ee.map(this.head))}},{key:"resolve",value:function(ee){return se.between(ee.resolve(this.anchor),ee.resolve(this.head))}}]),he})(),ge=(function(he){r(ee,he);var ue=i(ee);function ee(ce){var I;f(this,ee);var V=ce.nodeAfter,q=ce.node(0).resolve(ce.pos+V.nodeSize);return I=ue.call(this,ce,q),I.node=V,I}return w(ee,[{key:"map",value:function(I,V){var q=V.mapResult(this.anchor),le=q.deleted,ae=q.pos,ye=I.resolve(ae);return le?j.near(ye):new ee(ye)}},{key:"content",value:function(){return new M.Slice(M.Fragment.from(this.node),0,0)}},{key:"eq",value:function(I){return I instanceof ee&&I.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new Se(this.anchor)}}],[{key:"fromJSON",value:function(I,V){if(typeof V.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ee(I.resolve(V.anchor))}},{key:"create",value:function(I,V){return new ee(I.resolve(V))}},{key:"isSelectable",value:function(I){return!I.isText&&I.type.spec.selectable!==!1}}]),ee})(j);ge.prototype.visible=!1,j.jsonID("node",ge);var Se=(function(){function he(ue){f(this,he),this.anchor=ue}return w(he,[{key:"map",value:function(ee){var ce=ee.mapResult(this.anchor),I=ce.deleted,V=ce.pos;return I?new oe(V,V):new he(V)}},{key:"resolve",value:function(ee){var ce=ee.resolve(this.anchor),I=ce.nodeAfter;return I&&ge.isSelectable(I)?new ge(ce):j.near(ce)}}]),he})(),qe=(function(he){r(ee,he);var ue=i(ee);function ee(ce){return f(this,ee),ue.call(this,ce.resolve(0),ce.resolve(ce.content.size))}return w(ee,[{key:"replace",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M.Slice.empty;if(V==M.Slice.empty){I.delete(0,I.doc.content.size);var q=j.atStart(I.doc);q.eq(I.selection)||I.setSelection(q)}else t(l(ee.prototype),"replace",this).call(this,I,V)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(I){return new ee(I)}},{key:"eq",value:function(I){return I instanceof ee}},{key:"getBookmark",value:function(){return rt}}],[{key:"fromJSON",value:function(I){return new ee(I)}}]),ee})(j);j.jsonID("all",qe);var rt={map:function(){return this},resolve:function(ue){return new qe(ue)}};function je(he,ue,ee,ce,I){var V=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(ue.inlineContent)return se.create(he,ee);for(var q=ce-(I>0?0:1);I>0?q<ue.childCount:q>=0;q+=I){var le=ue.child(q);if(le.isAtom){if(!V&&ge.isSelectable(le))return ge.create(he,ee-(I<0?le.nodeSize:0))}else{var ae=je(he,le,ee+I,I<0?le.childCount:0,I,V);if(ae)return ae}ee+=le.nodeSize*I}return null}function Tt(he,ue,ee){var ce=he.steps.length-1;if(!(ce<ue)){var I=he.steps[ce];if(I instanceof D.ReplaceStep||I instanceof D.ReplaceAroundStep){var V=he.mapping.maps[ce],q;V.forEach(function(le,ae,ye,Le){q==null&&(q=Le)}),he.setSelection(j.near(he.doc.resolve(q),ee))}}}var yt=1,At=2,Je=4,ut=(function(he){r(ee,he);var ue=i(ee);function ee(ce){var I;return f(this,ee),I=ue.call(this,ce.doc),I.curSelectionFor=0,I.updated=0,I.meta=Object.create(null),I.time=Date.now(),I.curSelection=ce.selection,I.storedMarks=ce.storedMarks,I}return w(ee,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(I){if(I.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=I,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yt)&~At,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&yt)>0}},{key:"setStoredMarks",value:function(I){return this.storedMarks=I,this.updated|=At,this}},{key:"ensureMarks",value:function(I){return M.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),I)||this.setStoredMarks(I),this}},{key:"addStoredMark",value:function(I){return this.ensureMarks(I.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(I){return this.ensureMarks(I.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&At)>0}},{key:"addStep",value:function(I,V){t(l(ee.prototype),"addStep",this).call(this,I,V),this.updated=this.updated&~At,this.storedMarks=null}},{key:"setTime",value:function(I){return this.time=I,this}},{key:"replaceSelection",value:function(I){return this.selection.replace(this,I),this}},{key:"replaceSelectionWith",value:function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,q=this.selection;return V&&(I=I.mark(this.storedMarks||(q.empty?q.$from.marks():q.$from.marksAcross(q.$to)||M.Mark.none))),q.replaceWith(this,I),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(I,V,q){var le=this.doc.type.schema;if(V==null)return I?this.replaceSelectionWith(le.text(I),!0):this.deleteSelection();if(q==null&&(q=V),!I)return this.deleteRange(V,q);var ae=this.storedMarks;if(!ae){var ye=this.doc.resolve(V);ae=q==V?ye.marks():ye.marksAcross(this.doc.resolve(q))}return this.replaceRangeWith(V,q,le.text(I,ae)),!this.selection.empty&&this.selection.to==V+I.length&&this.setSelection(j.near(this.selection.$to)),this}},{key:"setMeta",value:function(I,V){return this.meta[typeof I=="string"?I:I.key]=V,this}},{key:"getMeta",value:function(I){return this.meta[typeof I=="string"?I:I.key]}},{key:"isGeneric",get:function(){for(var I in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=Je,this}},{key:"scrolledIntoView",get:function(){return(this.updated&Je)>0}}]),ee})(D.Transform);function it(he,ue){return!ue||!he?he:he.bind(ue)}var Ht=w(function he(ue,ee,ce){f(this,he),this.name=ue,this.init=it(ee.init,ce),this.apply=it(ee.apply,ce)}),nt=[new Ht("doc",{init:function(ue){return ue.doc||ue.schema.topNodeType.createAndFill()},apply:function(ue){return ue.doc}}),new Ht("selection",{init:function(ue,ee){return ue.selection||j.atStart(ee.doc)},apply:function(ue){return ue.selection}}),new Ht("storedMarks",{init:function(ue){return ue.storedMarks||null},apply:function(ue,ee,ce,I){return I.selection.$cursor?ue.storedMarks:null}}),new Ht("scrollToSelection",{init:function(){return 0},apply:function(ue,ee){return ue.scrolledIntoView?ee+1:ee}})],pt=w(function he(ue,ee){var ce=this;f(this,he),this.schema=ue,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=nt.slice(),ee&&ee.forEach(function(I){if(ce.pluginsByKey[I.key])throw new RangeError("Adding different instances of a keyed plugin ("+I.key+")");ce.plugins.push(I),ce.pluginsByKey[I.key]=I,I.spec.state&&ce.fields.push(new Ht(I.key,I.spec.state,I))})}),at=(function(){function he(ue){f(this,he),this.config=ue}return w(he,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(ee){return this.applyTransaction(ee).state}},{key:"filterTransaction",value:function(ee){for(var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,I=0;I<this.config.plugins.length;I++)if(I!=ce){var V=this.config.plugins[I];if(V.spec.filterTransaction&&!V.spec.filterTransaction.call(V,ee,this))return!1}return!0}},{key:"applyTransaction",value:function(ee){if(!this.filterTransaction(ee))return{state:this,transactions:[]};for(var ce=[ee],I=this.applyInner(ee),V=null;;){for(var q=!1,le=0;le<this.config.plugins.length;le++){var ae=this.config.plugins[le];if(ae.spec.appendTransaction){var ye=V?V[le].n:0,Le=V?V[le].state:this,He=ye<ce.length&&ae.spec.appendTransaction.call(ae,ye?ce.slice(ye):ce,Le,I);if(He&&I.filterTransaction(He,le)){if(He.setMeta("appendedTransaction",ee),!V){V=[];for(var Pe=0;Pe<this.config.plugins.length;Pe++)V.push(Pe<le?{state:I,n:ce.length}:{state:this,n:0})}ce.push(He),I=I.applyInner(He),q=!0}V&&(V[le]={state:I,n:ce.length})}}if(!q)return{state:I,transactions:ce}}}},{key:"applyInner",value:function(ee){if(!ee.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var ce=new he(this.config),I=this.config.fields,V=0;V<I.length;V++){var q=I[V];ce[q.name]=q.apply(ee,this[q.name],this,ce)}return ce}},{key:"tr",get:function(){return new ut(this)}},{key:"reconfigure",value:function(ee){for(var ce=new pt(this.schema,ee.plugins),I=ce.fields,V=new he(ce),q=0;q<I.length;q++){var le=I[q].name;V[le]=this.hasOwnProperty(le)?this[le]:I[q].init(ee,V)}return V}},{key:"toJSON",value:function(ee){var ce={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ce.storedMarks=this.storedMarks.map(function(le){return le.toJSON()})),ee&&u(ee)=="object")for(var I in ee){if(I=="doc"||I=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var V=ee[I],q=V.spec.state;q&&q.toJSON&&(ce[I]=q.toJSON.call(V,this[V.key]))}return ce}}],[{key:"create",value:function(ee){for(var ce=new pt(ee.doc?ee.doc.type.schema:ee.schema,ee.plugins),I=new he(ce),V=0;V<ce.fields.length;V++)I[ce.fields[V].name]=ce.fields[V].init(ee,I);return I}},{key:"fromJSON",value:function(ee,ce,I){if(!ce)throw new RangeError("Invalid input for EditorState.fromJSON");if(!ee.schema)throw new RangeError("Required config field 'schema' missing");var V=new pt(ee.schema,ee.plugins),q=new he(V);return V.fields.forEach(function(le){if(le.name=="doc")q.doc=M.Node.fromJSON(ee.schema,ce.doc);else if(le.name=="selection")q.selection=j.fromJSON(q.doc,ce.selection);else if(le.name=="storedMarks")ce.storedMarks&&(q.storedMarks=ce.storedMarks.map(ee.schema.markFromJSON));else{if(I)for(var ae in I){var ye=I[ae],Le=ye.spec.state;if(ye.key==le.name&&Le&&Le.fromJSON&&Object.prototype.hasOwnProperty.call(ce,ae)){q[le.name]=Le.fromJSON.call(ye,ee,ce[ae],q);return}}q[le.name]=le.init(ee,q)}}),q}}]),he})();function Dt(he,ue,ee){for(var ce in he){var I=he[ce];I instanceof Function?I=I.bind(ue):ce=="handleDOMEvents"&&(I=Dt(I,ue,{})),ee[ce]=I}return ee}var Nt=(function(){function he(ue){f(this,he),this.spec=ue,this.props={},ue.props&&Dt(ue.props,this,this.props),this.key=ue.key?ue.key.key:Vt("plugin")}return w(he,[{key:"getState",value:function(ee){return ee[this.key]}}]),he})(),Kt=Object.create(null);function Vt(he){return he in Kt?he+"$"+ ++Kt[he]:(Kt[he]=0,he+"$")}var Oe=(function(){function he(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";f(this,he),this.key=Vt(ue)}return w(he,[{key:"get",value:function(ee){return ee.config.pluginsByKey[this.key]}},{key:"getState",value:function(ee){return ee[this.key]}}]),he})();return Ai.AllSelection=qe,Ai.EditorState=at,Ai.NodeSelection=ge,Ai.Plugin=Nt,Ai.PluginKey=Oe,Ai.Selection=j,Ai.SelectionRange=Q,Ai.TextSelection=se,Ai.Transaction=ut,Ai}var rw;function Ufe(){if(rw)return Vn;rw=1;function t(Q,Y,te){return Object.defineProperty(Q,"prototype",{writable:!1}),Q}function e(Q,Y){if(!(Q instanceof Y))throw new TypeError("Cannot call a class as a function")}var r=Kd(),n=Tg(),i=t(function Q(Y,te){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e(this,Q),this.match=Y,this.match=Y,this.handler=typeof te=="string"?a(te):te,this.undoable=se.undoable!==!1,this.inCode=se.inCode||!1,this.inCodeMark=se.inCodeMark!==!1});function a(Q){return function(Y,te,se,oe){var ge=Q;if(te[1]){var Se=te[0].lastIndexOf(te[1]);ge+=te[0].slice(Se+te[1].length),se+=Se;var qe=se-oe;qe>0&&(ge=te[0].slice(Se-qe,Se)+ge,se=oe)}return Y.tr.insertText(ge,se,oe)}}var o=500;function s(Q){var Y=Q.rules,te=new r.Plugin({state:{init:function(){return null},apply:function(oe,ge){var Se=oe.getMeta(this);return Se||(oe.selectionSet||oe.docChanged?null:ge)}},props:{handleTextInput:function(oe,ge,Se,qe){return l(oe,ge,Se,qe,Y,te)},handleDOMEvents:{compositionend:function(oe){setTimeout(function(){var ge=oe.state.selection.$cursor;ge&&l(oe,ge.pos,ge.pos,"",Y,te)})}}},isInputRules:!0});return te}function l(Q,Y,te,se,oe,ge){if(Q.composing)return!1;for(var Se=Q.state,qe=Se.doc.resolve(Y),rt=qe.parent.textBetween(Math.max(0,qe.parentOffset-o),qe.parentOffset,null,"")+se,je=function(){var Je=oe[yt];if(!Je.inCodeMark&&qe.marks().some(function(pt){return pt.type.spec.code}))return 0;if(qe.parent.type.spec.code){if(!Je.inCode)return 0}else if(Je.inCode==="only")return 0;var ut=Je.match.exec(rt);if(!ut||ut[0].length<se.length)return 0;var it=Y-(ut[0].length-se.length);if(!Je.inCodeMark){var Ht=!1;if(Se.doc.nodesBetween(it,qe.pos,function(pt){pt.isInline&&pt.marks.some(function(at){return at.type.spec.code})&&(Ht=!0)}),Ht)return 0}var nt=Je.handler(Se,ut,it,te);return nt?(Je.undoable&&nt.setMeta(ge,{transform:nt,from:Y,to:te,text:se}),Q.dispatch(nt),{v:!0}):0},Tt,yt=0;yt<oe.length;yt++)if(Tt=je(),Tt!==0&&Tt)return Tt.v;return!1}var u=function(Y,te){for(var se=Y.plugins,oe=0;oe<se.length;oe++){var ge=se[oe],Se=void 0;if(ge.spec.isInputRules&&(Se=ge.getState(Y))){if(te){for(var qe=Y.tr,rt=Se.transform,je=rt.steps.length-1;je>=0;je--)qe.step(rt.steps[je].invert(rt.docs[je]));if(Se.text){var Tt=qe.doc.resolve(Se.from).marks();qe.replaceWith(Se.from,Se.to,Y.schema.text(Se.text,Tt))}else qe.delete(Se.from,Se.to);te(qe)}return!0}}return!1},f=new i(/--$/,"",{inCodeMark:!1}),h=new i(/\.\.\.$/,"",{inCodeMark:!1}),w=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),C=new i(/"$/,"",{inCodeMark:!1}),x=new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),M=new i(/'$/,"",{inCodeMark:!1}),D=[w,C,x,M];function B(Q,Y){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,se=arguments.length>3?arguments[3]:void 0;return new i(Q,function(oe,ge,Se,qe){var rt=te instanceof Function?te(ge):te,je=oe.tr.delete(Se,qe),Tt=je.doc.resolve(Se),yt=Tt.blockRange(),At=yt&&n.findWrapping(yt,Y,rt);if(!At)return null;je.wrap(yt,At);var Je=je.doc.resolve(Se-1).nodeBefore;return Je&&Je.type==Y&&n.canJoin(je.doc,Se-1)&&(!se||se(ge,Je))&&je.join(Se-1),je})}function j(Q,Y){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new i(Q,function(se,oe,ge,Se){var qe=se.doc.resolve(ge),rt=te instanceof Function?te(oe):te;return qe.node(-1).canReplaceWith(qe.index(-1),qe.indexAfter(-1),Y)?se.tr.delete(ge,Se).setBlockType(ge,ge,Y,rt):null})}return Vn.InputRule=i,Vn.closeDoubleQuote=C,Vn.closeSingleQuote=M,Vn.ellipsis=h,Vn.emDash=f,Vn.inputRules=s,Vn.openDoubleQuote=w,Vn.openSingleQuote=x,Vn.smartQuotes=D,Vn.textblockTypeInputRule=j,Vn.undoInputRule=u,Vn.wrappingInputRule=B,Vn}var rf={},Zs={},nw;function jfe(){if(nw)return Zs;nw=1,Object.defineProperty(Zs,"__esModule",{value:!0});for(var t={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},r=typeof navigator<"u"&&/Mac/.test(navigator.platform),n=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)t[48+i]=t[96+i]=String(i);for(var i=1;i<=24;i++)t[i+111]="F"+i;for(var i=65;i<=90;i++)t[i]=String.fromCharCode(i+32),e[i]=String.fromCharCode(i);for(var a in t)e.hasOwnProperty(a)||(e[a]=t[a]);function o(s){var l=r&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||n&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",u=!l&&s.key||(s.shiftKey?e:t)[s.keyCode]||s.key||"Unidentified";return u=="Esc"&&(u="Escape"),u=="Del"&&(u="Delete"),u=="Left"&&(u="ArrowLeft"),u=="Up"&&(u="ArrowUp"),u=="Right"&&(u="ArrowRight"),u=="Down"&&(u="ArrowDown"),u}return Zs.base=t,Zs.keyName=o,Zs.shift=e,Zs}var iw;function Wfe(){if(iw)return rf;iw=1;var t=jfe(),e=Kd(),r=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),n=typeof navigator<"u"&&/Win/.test(navigator.platform);function i(u){var f=u.split(/-(?!$)/),h=f[f.length-1];h=="Space"&&(h=" ");for(var w,C,x,M,D=0;D<f.length-1;D++){var B=f[D];if(/^(cmd|meta|m)$/i.test(B))M=!0;else if(/^a(lt)?$/i.test(B))w=!0;else if(/^(c|ctrl|control)$/i.test(B))C=!0;else if(/^s(hift)?$/i.test(B))x=!0;else if(/^mod$/i.test(B))r?M=!0:C=!0;else throw new Error("Unrecognized modifier name: "+B)}return w&&(h="Alt-"+h),C&&(h="Ctrl-"+h),M&&(h="Meta-"+h),x&&(h="Shift-"+h),h}function a(u){var f=Object.create(null);for(var h in u)f[i(h)]=u[h];return f}function o(u,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return f.altKey&&(u="Alt-"+u),f.ctrlKey&&(u="Ctrl-"+u),f.metaKey&&(u="Meta-"+u),h&&f.shiftKey&&(u="Shift-"+u),u}function s(u){return new e.Plugin({props:{handleKeyDown:l(u)}})}function l(u){var f=a(u);return function(h,w){var C=t.keyName(w),x,M=f[o(C,w)];if(M&&M(h.state,h.dispatch,h))return!0;if(C.length==1&&C!=" "){if(w.shiftKey){var D=f[o(C,w,!1)];if(D&&D(h.state,h.dispatch,h))return!0}if((w.altKey||w.metaKey||w.ctrlKey)&&!(n&&w.ctrlKey&&w.altKey)&&(x=t.base[w.keyCode])&&x!=C){var B=f[o(x,w)];if(B&&B(h.state,h.dispatch,h))return!0}}return!1}}return rf.keydownHandler=l,rf.keymap=s,rf}var Zo={},aw;function Gfe(){if(aw)return Zo;aw=1;function t(c,m){return n(c)||r(c,m)||a(c,m)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(c,m){var d=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(d!=null){var g,k,S,A,N=[],z=!0,G=!1;try{if(S=(d=d.call(c)).next,m!==0)for(;!(z=(g=S.call(d)).done)&&(N.push(g.value),N.length!==m);z=!0);}catch(fe){G=!0,k=fe}finally{try{if(!z&&d.return!=null&&(A=d.return(),Object(A)!==A))return}finally{if(G)throw k}}return N}}function n(c){if(Array.isArray(c))return c}function i(c,m){var d=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!d){if(Array.isArray(c)||(d=a(c))||m){d&&(c=d);var g=0,k=function(){};return{s:k,n:function(){return g>=c.length?{done:!0}:{done:!1,value:c[g++]}},e:function(G){throw G},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,A=!1,N;return{s:function(){d=d.call(c)},n:function(){var G=d.next();return S=G.done,G},e:function(G){A=!0,N=G},f:function(){try{!S&&d.return!=null&&d.return()}finally{if(A)throw N}}}}function a(c,m){if(c){if(typeof c=="string")return o(c,m);var d=Object.prototype.toString.call(c).slice(8,-1);if(d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set")return Array.from(c);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return o(c,m)}}function o(c,m){(m==null||m>c.length)&&(m=c.length);for(var d=0,g=new Array(m);d<m;d++)g[d]=c[d];return g}function s(){return typeof Reflect<"u"&&Reflect.get?s=Reflect.get.bind():s=function(m,d,g){var k=l(m,d);if(k){var S=Object.getOwnPropertyDescriptor(k,d);return S.get?S.get.call(arguments.length<3?m:g):S.value}},s.apply(this,arguments)}function l(c,m){for(;!Object.prototype.hasOwnProperty.call(c,m)&&(c=M(c),c!==null););return c}function u(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),m&&f(c,m)}function f(c,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,k){return g.__proto__=k,g},f(c,m)}function h(c){var m=x();return function(){var g=M(c),k;if(m){var S=M(this).constructor;k=Reflect.construct(g,arguments,S)}else k=g.apply(this,arguments);return w(this,k)}}function w(c,m){if(m&&(D(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(c){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},M(c)}function D(c){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},D(c)}function B(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function j(c,m){for(var d=0;d<m.length;d++){var g=m[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,Y(g.key),g)}}function Q(c,m,d){return m&&j(c.prototype,m),d&&j(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function Y(c){var m=te(c,"string");return D(m)==="symbol"?m:String(m)}function te(c,m){if(D(c)!=="object"||c===null)return c;var d=c[Symbol.toPrimitive];if(d!==void 0){var g=d.call(c,m);if(D(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}var se=Kd(),oe=Gd(),ge=Tg(),Se=function(m){for(var d=0;;d++)if(m=m.previousSibling,!m)return d},qe=function(m){var d=m.assignedSlot||m.parentNode;return d&&d.nodeType==11?d.host:d},rt=null,je=function(m,d,g){var k=rt||(rt=document.createRange());return k.setEnd(m,g??m.nodeValue.length),k.setStart(m,d||0),k},Tt=function(){rt=null},yt=function(m,d,g,k){return g&&(Je(m,d,g,k,-1)||Je(m,d,g,k,1))},At=/^(img|br|input|textarea|hr)$/i;function Je(c,m,d,g,k){for(var S;;){if(c==d&&m==g)return!0;if(m==(k<0?0:ut(c))){var A=c.parentNode;if(!A||A.nodeType!=1||pt(c)||At.test(c.nodeName)||c.contentEditable=="false")return!1;m=Se(c)+(k<0?0:1),c=A}else if(c.nodeType==1){var N=c.childNodes[m+(k<0?-1:0)];if(N.nodeType==1&&N.contentEditable=="false")if(!((S=N.pmViewDesc)===null||S===void 0)&&S.ignoreForSelection)m+=k;else return!1;else c=N,m=k<0?ut(c):0}else return!1}}function ut(c){return c.nodeType==3?c.nodeValue.length:c.childNodes.length}function it(c,m){for(;;){if(c.nodeType==3&&m)return c;if(c.nodeType==1&&m>0){if(c.contentEditable=="false")return null;c=c.childNodes[m-1],m=ut(c)}else if(c.parentNode&&!pt(c))m=Se(c),c=c.parentNode;else return null}}function Ht(c,m){for(;;){if(c.nodeType==3&&m<c.nodeValue.length)return c;if(c.nodeType==1&&m<c.childNodes.length){if(c.contentEditable=="false")return null;c=c.childNodes[m],m=0}else if(c.parentNode&&!pt(c))m=Se(c)+1,c=c.parentNode;else return null}}function nt(c,m,d){for(var g=m==0,k=m==ut(c);g||k;){if(c==d)return!0;var S=Se(c);if(c=c.parentNode,!c)return!1;g=g&&S==0,k=k&&S==ut(c)}}function pt(c){for(var m,d=c;d&&!(m=d.pmViewDesc);d=d.parentNode);return m&&m.node&&m.node.isBlock&&(m.dom==c||m.contentDOM==c)}var at=function(m){return m.focusNode&&yt(m.focusNode,m.focusOffset,m.anchorNode,m.anchorOffset)};function Dt(c,m){var d=document.createEvent("Event");return d.initEvent("keydown",!0,!0),d.keyCode=c,d.key=d.code=m,d}function Nt(c){for(var m=c.activeElement;m&&m.shadowRoot;)m=m.shadowRoot.activeElement;return m}function Kt(c,m,d){if(c.caretPositionFromPoint)try{var g=c.caretPositionFromPoint(m,d);if(g)return{node:g.offsetNode,offset:Math.min(ut(g.offsetNode),g.offset)}}catch{}if(c.caretRangeFromPoint){var k=c.caretRangeFromPoint(m,d);if(k)return{node:k.startContainer,offset:Math.min(ut(k.startContainer),k.startOffset)}}}var Vt=typeof navigator<"u"?navigator:null,Oe=typeof document<"u"?document:null,he=Vt&&Vt.userAgent||"",ue=/Edge\/(\d+)/.exec(he),ee=/MSIE \d/.exec(he),ce=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(he),I=!!(ee||ce||ue),V=ee?document.documentMode:ce?+ce[1]:ue?+ue[1]:0,q=!I&&/gecko\/(\d+)/i.test(he);q&&+(/Firefox\/(\d+)/.exec(he)||[0,0])[1];var le=!I&&/Chrome\/(\d+)/.exec(he),ae=!!le,ye=le?+le[1]:0,Le=!I&&!!Vt&&/Apple Computer/.test(Vt.vendor),He=Le&&(/Mobile\/\w+/.test(he)||!!Vt&&Vt.maxTouchPoints>2),Pe=He||(Vt?/Mac/.test(Vt.platform):!1),Ie=Vt?/Win/.test(Vt.platform):!1,Xe=/Android \d/.test(he),Ge=!!Oe&&"webkitFontSmoothing"in Oe.documentElement.style,dt=Ge?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bt(c){var m=c.defaultView&&c.defaultView.visualViewport;return m?{left:0,right:m.width,top:0,bottom:m.height}:{left:0,right:c.documentElement.clientWidth,top:0,bottom:c.documentElement.clientHeight}}function St(c,m){return typeof c=="number"?c:c[m]}function Ve(c){var m=c.getBoundingClientRect(),d=m.width/c.offsetWidth||1,g=m.height/c.offsetHeight||1;return{left:m.left,right:m.left+c.clientWidth*d,top:m.top,bottom:m.top+c.clientHeight*g}}function ze(c,m,d){for(var g=c.someProp("scrollThreshold")||0,k=c.someProp("scrollMargin")||5,S=c.dom.ownerDocument,A=d||c.dom;A;){if(A.nodeType!=1){A=qe(A);continue}var N=A,z=N==S.body,G=z?bt(S):Ve(N),fe=0,be=0;if(m.top<G.top+St(g,"top")?be=-(G.top-m.top+St(k,"top")):m.bottom>G.bottom-St(g,"bottom")&&(be=m.bottom-m.top>G.bottom-G.top?m.top+St(k,"top")-G.top:m.bottom-G.bottom+St(k,"bottom")),m.left<G.left+St(g,"left")?fe=-(G.left-m.left+St(k,"left")):m.right>G.right-St(g,"right")&&(fe=m.right-G.right+St(k,"right")),fe||be)if(z)S.defaultView.scrollBy(fe,be);else{var me=N.scrollLeft,Ee=N.scrollTop;be&&(N.scrollTop+=be),fe&&(N.scrollLeft+=fe);var _e=N.scrollLeft-me,Ye=N.scrollTop-Ee;m={left:m.left-_e,top:m.top-Ye,right:m.right-_e,bottom:m.bottom-Ye}}var ct=z?"fixed":getComputedStyle(A).position;if(/^(fixed|sticky)$/.test(ct))break;A=ct=="absolute"?A.offsetParent:qe(A)}}function ht(c){for(var m=c.dom.getBoundingClientRect(),d=Math.max(0,m.top),g,k,S=(m.left+m.right)/2,A=d+1;A<Math.min(innerHeight,m.bottom);A+=5){var N=c.root.elementFromPoint(S,A);if(!(!N||N==c.dom||!c.dom.contains(N))){var z=N.getBoundingClientRect();if(z.top>=d-20){g=N,k=z.top;break}}}return{refDOM:g,refTop:k,stack:wt(c.dom)}}function wt(c){for(var m=[],d=c.ownerDocument,g=c;g&&(m.push({dom:g,top:g.scrollTop,left:g.scrollLeft}),c!=d);g=qe(g));return m}function Lt(c){var m=c.refDOM,d=c.refTop,g=c.stack,k=m?m.getBoundingClientRect().top:0;nr(g,k==0?0:k-d)}function nr(c,m){for(var d=0;d<c.length;d++){var g=c[d],k=g.dom,S=g.top,A=g.left;k.scrollTop!=S+m&&(k.scrollTop=S+m),k.scrollLeft!=A&&(k.scrollLeft=A)}}var Jt=null;function cr(c){if(c.setActive)return c.setActive();if(Jt)return c.focus(Jt);var m=wt(c);c.focus(Jt==null?{get preventScroll(){return Jt={preventScroll:!0},!0}}:void 0),Jt||(Jt=!1,nr(m,0))}function ir(c,m){for(var d,g=2e8,k,S=0,A=m.top,N=m.top,z,G,fe=c.firstChild,be=0;fe;fe=fe.nextSibling,be++){var me=void 0;if(fe.nodeType==1)me=fe.getClientRects();else if(fe.nodeType==3)me=je(fe).getClientRects();else continue;for(var Ee=0;Ee<me.length;Ee++){var _e=me[Ee];if(_e.top<=A&&_e.bottom>=N){A=Math.max(_e.bottom,A),N=Math.min(_e.top,N);var Ye=_e.left>m.left?_e.left-m.left:_e.right<m.left?m.left-_e.right:0;if(Ye<g){d=fe,g=Ye,k=Ye&&d.nodeType==3?{left:_e.right<m.left?_e.right:_e.left,top:m.top}:m,fe.nodeType==1&&Ye&&(S=be+(m.left>=(_e.left+_e.right)/2?1:0));continue}}else _e.top>m.top&&!z&&_e.left<=m.left&&_e.right>=m.left&&(z=fe,G={left:Math.max(_e.left,Math.min(_e.right,m.left)),top:_e.top});!d&&(m.left>=_e.right&&m.top>=_e.top||m.left>=_e.left&&m.top>=_e.bottom)&&(S=be+1)}}return!d&&z&&(d=z,k=G,g=0),d&&d.nodeType==3?yr(d,k):!d||g&&d.nodeType==1?{node:c,offset:S}:ir(d,k)}function yr(c,m){for(var d=c.nodeValue.length,g=document.createRange(),k,S=0;S<d;S++){g.setEnd(c,S+1),g.setStart(c,S);var A=Nr(g,1);if(A.top!=A.bottom&&br(m,A)){k={node:c,offset:S+(m.left>=(A.left+A.right)/2?1:0)};break}}return g.detach(),k||{node:c,offset:0}}function br(c,m){return c.left>=m.left-1&&c.left<=m.right+1&&c.top>=m.top-1&&c.top<=m.bottom+1}function Vr(c,m){var d=c.parentNode;return d&&/^li$/i.test(d.nodeName)&&m.left<c.getBoundingClientRect().left?d:c}function li(c,m,d){var g=ir(m,d),k=g.node,S=g.offset,A=-1;if(k.nodeType==1&&!k.firstChild){var N=k.getBoundingClientRect();A=N.left!=N.right&&d.left>(N.left+N.right)/2?1:-1}return c.docView.posFromDOM(k,S,A)}function Xn(c,m,d,g){for(var k=-1,S=m,A=!1;S!=c.dom;){var N=c.docView.nearestDesc(S,!0),z=void 0;if(!N)return null;if(N.dom.nodeType==1&&(N.node.isBlock&&N.parent||!N.contentDOM)&&((z=N.dom.getBoundingClientRect()).width||z.height)&&(N.node.isBlock&&N.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(N.dom.nodeName)&&(!A&&z.left>g.left||z.top>g.top?k=N.posBefore:(!A&&z.right<g.left||z.bottom<g.top)&&(k=N.posAfter),A=!0),!N.contentDOM&&k<0&&!N.node.isText)){var G=N.node.isBlock?g.top<(z.top+z.bottom)/2:g.left<(z.left+z.right)/2;return G?N.posBefore:N.posAfter}S=N.dom.parentNode}return k>-1?k:c.docView.posFromDOM(m,d,-1)}function In(c,m,d){var g=c.childNodes.length;if(g&&d.top<d.bottom)for(var k=Math.max(0,Math.min(g-1,Math.floor(g*(m.top-d.top)/(d.bottom-d.top))-2)),S=k;;){var A=c.childNodes[S];if(A.nodeType==1)for(var N=A.getClientRects(),z=0;z<N.length;z++){var G=N[z];if(br(m,G))return In(A,m,G)}if((S=(S+1)%g)==k)break}return c}function Tn(c,m){var d=c.dom.ownerDocument,g,k=0,S=Kt(d,m.left,m.top);S&&(g=S.node,k=S.offset);var A=(c.root.elementFromPoint?c.root:d).elementFromPoint(m.left,m.top),N;if(!A||!c.dom.contains(A.nodeType!=1?A.parentNode:A)){var z=c.dom.getBoundingClientRect();if(!br(m,z)||(A=In(c.dom,m,z),!A))return null}if(Le)for(var G=A;g&&G;G=qe(G))G.draggable&&(g=void 0);if(A=Vr(A,m),g){if(q&&g.nodeType==1&&(k=Math.min(k,g.childNodes.length),k<g.childNodes.length)){var fe=g.childNodes[k],be;fe.nodeName=="IMG"&&(be=fe.getBoundingClientRect()).right<=m.left&&be.bottom>m.top&&k++}var me;Ge&&k&&g.nodeType==1&&(me=g.childNodes[k-1]).nodeType==1&&me.contentEditable=="false"&&me.getBoundingClientRect().top>=m.top&&k--,g==c.dom&&k==g.childNodes.length-1&&g.lastChild.nodeType==1&&m.top>g.lastChild.getBoundingClientRect().bottom?N=c.state.doc.content.size:(k==0||g.nodeType!=1||g.childNodes[k-1].nodeName!="BR")&&(N=Xn(c,g,k,m))}N==null&&(N=li(c,A,m));var Ee=c.docView.nearestDesc(A,!0);return{pos:N,inside:Ee?Ee.posAtStart-Ee.border:-1}}function pn(c){return c.top<c.bottom||c.left<c.right}function Nr(c,m){var d=c.getClientRects();if(d.length){var g=d[m<0?0:d.length-1];if(pn(g))return g}return Array.prototype.find.call(d,pn)||c.getBoundingClientRect()}var Pn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fr(c,m,d){var g=c.docView.domFromPos(m,d<0?-1:1),k=g.node,S=g.offset,A=g.atom,N=Ge||q;if(k.nodeType==3)if(N&&(Pn.test(k.nodeValue)||(d<0?!S:S==k.nodeValue.length))){var z=Nr(je(k,S,S),d);if(q&&S&&/\s/.test(k.nodeValue[S-1])&&S<k.nodeValue.length){var G=Nr(je(k,S-1,S-1),-1);if(G.top==z.top){var fe=Nr(je(k,S,S+1),-1);if(fe.top!=z.top)return Br(fe,fe.left<G.left)}}return z}else{var be=S,me=S,Ee=d<0?1:-1;return d<0&&!S?(me++,Ee=-1):d>=0&&S==k.nodeValue.length?(be--,Ee=1):d<0?be--:me++,Br(Nr(je(k,be,me),Ee),Ee<0)}var _e=c.state.doc.resolve(m-(A||0));if(!_e.parent.inlineContent){if(A==null&&S&&(d<0||S==ut(k))){var Ye=k.childNodes[S-1];if(Ye.nodeType==1)return J(Ye.getBoundingClientRect(),!1)}if(A==null&&S<ut(k)){var ct=k.childNodes[S];if(ct.nodeType==1)return J(ct.getBoundingClientRect(),!0)}return J(k.getBoundingClientRect(),d>=0)}if(A==null&&S&&(d<0||S==ut(k))){var We=k.childNodes[S-1],Wt=We.nodeType==3?je(We,ut(We)-(N?0:1)):We.nodeType==1&&(We.nodeName!="BR"||!We.nextSibling)?We:null;if(Wt)return Br(Nr(Wt,1),!1)}if(A==null&&S<ut(k)){for(var $t=k.childNodes[S];$t.pmViewDesc&&$t.pmViewDesc.ignoreForCoords;)$t=$t.nextSibling;var Ot=$t?$t.nodeType==3?je($t,0,N?0:1):$t.nodeType==1?$t:null:null;if(Ot)return Br(Nr(Ot,-1),!0)}return Br(Nr(k.nodeType==3?je(k):k,-d),d>=0)}function Br(c,m){if(c.width==0)return c;var d=m?c.left:c.right;return{top:c.top,bottom:c.bottom,left:d,right:d}}function J(c,m){if(c.height==0)return c;var d=m?c.top:c.bottom;return{top:d,bottom:d,left:c.left,right:c.right}}function K(c,m,d){var g=c.state,k=c.root.activeElement;g!=m&&c.updateState(m),k!=c.dom&&c.focus();try{return d()}finally{g!=m&&c.updateState(g),k!=c.dom&&k&&k.focus()}}function _(c,m,d){var g=m.selection,k=d=="up"?g.$from:g.$to;return K(c,m,function(){for(var S=c.docView.domFromPos(k.pos,d=="up"?-1:1),A=S.node;;){var N=c.docView.nearestDesc(A,!0);if(!N)break;if(N.node.isBlock){A=N.contentDOM||N.dom;break}A=N.dom.parentNode}for(var z=fr(c,k.pos,1),G=A.firstChild;G;G=G.nextSibling){var fe=void 0;if(G.nodeType==1)fe=G.getClientRects();else if(G.nodeType==3)fe=je(G,0,G.nodeValue.length).getClientRects();else continue;for(var be=0;be<fe.length;be++){var me=fe[be];if(me.bottom>me.top+1&&(d=="up"?z.top-me.top>(me.bottom-z.top)*2:me.bottom-z.bottom>(z.bottom-me.top)*2))return!1}}return!0})}var L=/[\u0590-\u08ac]/;function H(c,m,d){var g=m.selection.$head;if(!g.parent.isTextblock)return!1;var k=g.parentOffset,S=!k,A=k==g.parent.content.size,N=c.domSelection();return N?!L.test(g.parent.textContent)||!N.modify?d=="left"||d=="backward"?S:A:K(c,m,function(){var z=c.domSelectionRange(),G=z.focusNode,fe=z.focusOffset,be=z.anchorNode,me=z.anchorOffset,Ee=N.caretBidiLevel;N.modify("move",d,"character");var _e=g.depth?c.docView.domAfterPos(g.before()):c.dom,Ye=c.domSelectionRange(),ct=Ye.focusNode,We=Ye.focusOffset,Wt=ct&&!_e.contains(ct.nodeType==1?ct:ct.parentNode)||G==ct&&fe==We;try{N.collapse(be,me),G&&(G!=be||fe!=me)&&N.extend&&N.extend(G,fe)}catch{}return Ee!=null&&(N.caretBidiLevel=Ee),Wt}):g.pos==g.start()||g.pos==g.end()}var $=null,re=null,Ce=!1;function Ne(c,m,d){return $==m&&re==d?Ce:($=m,re=d,Ce=d=="up"||d=="down"?_(c,m,d):H(c,m,d))}var ve=0,ne=1,Te=2,De=3,et=(function(){function c(m,d,g,k){B(this,c),this.parent=m,this.children=d,this.dom=g,this.contentDOM=k,this.dirty=ve,g.pmViewDesc=this}return Q(c,[{key:"matchesWidget",value:function(d){return!1}},{key:"matchesMark",value:function(d){return!1}},{key:"matchesNode",value:function(d,g,k){return!1}},{key:"matchesHack",value:function(d){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(d){return!1}},{key:"size",get:function(){for(var d=0,g=0;g<this.children.length;g++)d+=this.children[g].size;return d}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var d=0;d<this.children.length;d++)this.children[d].destroy()}},{key:"posBeforeChild",value:function(d){for(var g=0,k=this.posAtStart;;g++){var S=this.children[g];if(S==d)return k;k+=S.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(d,g,k){if(this.contentDOM&&this.contentDOM.contains(d.nodeType==1?d:d.parentNode))if(k<0){var S,A;if(d==this.contentDOM)S=d.childNodes[g-1];else{for(;d.parentNode!=this.contentDOM;)d=d.parentNode;S=d.previousSibling}for(;S&&!((A=S.pmViewDesc)&&A.parent==this);)S=S.previousSibling;return S?this.posBeforeChild(A)+A.size:this.posAtStart}else{var N,z;if(d==this.contentDOM)N=d.childNodes[g];else{for(;d.parentNode!=this.contentDOM;)d=d.parentNode;N=d.nextSibling}for(;N&&!((z=N.pmViewDesc)&&z.parent==this);)N=N.nextSibling;return N?this.posBeforeChild(z):this.posAtEnd}var G;if(d==this.dom&&this.contentDOM)G=g>Se(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))G=d.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(g==0)for(var fe=d;;fe=fe.parentNode){if(fe==this.dom){G=!1;break}if(fe.previousSibling)break}if(G==null&&g==d.childNodes.length)for(var be=d;;be=be.parentNode){if(be==this.dom){G=!0;break}if(be.nextSibling)break}}return G??k>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(d){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=!0,S=d;S;S=S.parentNode){var A=this.getDesc(S),N=void 0;if(A&&(!g||A.node))if(k&&(N=A.nodeDOM)&&!(N.nodeType==1?N.contains(d.nodeType==1?d:d.parentNode):N==d))k=!1;else return A}}},{key:"getDesc",value:function(d){for(var g=d.pmViewDesc,k=g;k;k=k.parent)if(k==this)return g}},{key:"posFromDOM",value:function(d,g,k){for(var S=d;S;S=S.parentNode){var A=this.getDesc(S);if(A)return A.localPosFromDOM(d,g,k)}return-1}},{key:"descAt",value:function(d){for(var g=0,k=0;g<this.children.length;g++){var S=this.children[g],A=k+S.size;if(k==d&&A!=k){for(;!S.border&&S.children.length;)for(var N=0;N<S.children.length;N++){var z=S.children[N];if(z.size){S=z;break}}return S}if(d<A)return S.descAt(d-k-S.border);k=A}}},{key:"domFromPos",value:function(d,g){if(!this.contentDOM)return{node:this.dom,offset:0,atom:d+1};for(var k=0,S=0,A=0;k<this.children.length;k++){var N=this.children[k],z=A+N.size;if(z>d||N instanceof U){S=d-A;break}A=z}if(S)return this.children[k].domFromPos(S-this.children[k].border,g);for(var G;k&&!(G=this.children[k-1]).size&&G instanceof kt&&G.side>=0;k--);if(g<=0){for(var fe,be=!0;fe=k?this.children[k-1]:null,!(!fe||fe.dom.parentNode==this.contentDOM);k--,be=!1);return fe&&g&&be&&!fe.border&&!fe.domAtom?fe.domFromPos(fe.size,g):{node:this.contentDOM,offset:fe?Se(fe.dom)+1:0}}else{for(var me,Ee=!0;me=k<this.children.length?this.children[k]:null,!(!me||me.dom.parentNode==this.contentDOM);k++,Ee=!1);return me&&Ee&&!me.border&&!me.domAtom?me.domFromPos(0,g):{node:this.contentDOM,offset:me?Se(me.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(d,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:d,to:g,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var S=-1,A=-1,N=k,z=0;;z++){var G=this.children[z],fe=N+G.size;if(S==-1&&d<=fe){var be=N+G.border;if(d>=be&&g<=fe-G.border&&G.node&&G.contentDOM&&this.contentDOM.contains(G.contentDOM))return G.parseRange(d,g,be);d=N;for(var me=z;me>0;me--){var Ee=this.children[me-1];if(Ee.size&&Ee.dom.parentNode==this.contentDOM&&!Ee.emptyChildAt(1)){S=Se(Ee.dom)+1;break}d-=Ee.size}S==-1&&(S=0)}if(S>-1&&(fe>g||z==this.children.length-1)){g=fe;for(var _e=z+1;_e<this.children.length;_e++){var Ye=this.children[_e];if(Ye.size&&Ye.dom.parentNode==this.contentDOM&&!Ye.emptyChildAt(-1)){A=Se(Ye.dom);break}g+=Ye.size}A==-1&&(A=this.contentDOM.childNodes.length);break}N=fe}return{node:this.contentDOM,from:d,to:g,fromOffset:S,toOffset:A}}},{key:"emptyChildAt",value:function(d){if(this.border||!this.contentDOM||!this.children.length)return!1;var g=this.children[d<0?0:this.children.length-1];return g.size==0||g.emptyChildAt(d)}},{key:"domAfterPos",value:function(d){var g=this.domFromPos(d,0),k=g.node,S=g.offset;if(k.nodeType!=1||S==k.childNodes.length)throw new RangeError("No node after pos "+d);return k.childNodes[S]}},{key:"setSelection",value:function(d,g,k){for(var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=Math.min(d,g),N=Math.max(d,g),z=0,G=0;z<this.children.length;z++){var fe=this.children[z],be=G+fe.size;if(A>G&&N<be)return fe.setSelection(d-G-fe.border,g-G-fe.border,k,S);G=be}var me=this.domFromPos(d,d?-1:1),Ee=g==d?me:this.domFromPos(g,g?-1:1),_e=k.root.getSelection(),Ye=k.domSelectionRange(),ct=!1;if((q||Le)&&d==g){var We=me,Wt=We.node,$t=We.offset;if(Wt.nodeType==3){if(ct=!!($t&&Wt.nodeValue[$t-1]==`
`),ct&&$t==Wt.nodeValue.length)for(var Ot=Wt,_t;Ot;Ot=Ot.parentNode){if(_t=Ot.nextSibling){_t.nodeName=="BR"&&(me=Ee={node:_t.parentNode,offset:Se(_t)+1});break}var rr=Ot.pmViewDesc;if(rr&&rr.node&&rr.node.isBlock)break}}else{var er=Wt.childNodes[$t-1];ct=er&&(er.nodeName=="BR"||er.contentEditable=="false")}}if(q&&Ye.focusNode&&Ye.focusNode!=Ee.node&&Ye.focusNode.nodeType==1){var kr=Ye.focusNode.childNodes[Ye.focusOffset];kr&&kr.contentEditable=="false"&&(S=!0)}if(!(!(S||ct&&Le)&&yt(me.node,me.offset,Ye.anchorNode,Ye.anchorOffset)&&yt(Ee.node,Ee.offset,Ye.focusNode,Ye.focusOffset))){var Er=!1;if((_e.extend||d==g)&&!(ct&&q)){_e.collapse(me.node,me.offset);try{d!=g&&_e.extend(Ee.node,Ee.offset),Er=!0}catch{}}if(!Er){if(d>g){var Mr=me;me=Ee,Ee=Mr}var vi=document.createRange();vi.setEnd(Ee.node,Ee.offset),vi.setStart(me.node,me.offset),_e.removeAllRanges(),_e.addRange(vi)}}}},{key:"ignoreMutation",value:function(d){return!this.contentDOM&&d.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(d,g){for(var k=0,S=0;S<this.children.length;S++){var A=this.children[S],N=k+A.size;if(k==N?d<=N&&g>=k:d<N&&g>k){var z=k+A.border,G=N-A.border;if(d>=z&&g<=G){this.dirty=d==k||g==N?Te:ne,d==z&&g==G&&(A.contentLost||A.dom.parentNode!=this.contentDOM)?A.dirty=De:A.markDirty(d-z,g-z);return}else A.dirty=A.dom==A.contentDOM&&A.dom.parentNode==this.contentDOM&&!A.children.length?Te:De}k=N}this.dirty=Te}},{key:"markParentsDirty",value:function(){for(var d=1,g=this.parent;g;g=g.parent,d++){var k=d==1?Te:ne;g.dirty<k&&(g.dirty=k)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(d){return!1}}]),c})(),kt=(function(c){u(d,c);var m=h(d);function d(g,k,S,A){var N;B(this,d);var z,G=k.type.toDOM;if(typeof G=="function"&&(G=G(S,function(){if(!z)return A;if(z.parent)return z.parent.posBeforeChild(z)})),!k.type.spec.raw){if(G.nodeType!=1){var fe=document.createElement("span");fe.appendChild(G),G=fe}G.contentEditable="false",G.classList.add("ProseMirror-widget")}return N=m.call(this,g,[],G,null),N.widget=k,N.widget=k,z=C(N),N}return Q(d,[{key:"matchesWidget",value:function(k){return this.dirty==ve&&k.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(k){var S=this.widget.spec.stopEvent;return S?S(k):!1}},{key:"ignoreMutation",value:function(k){return k.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),s(M(d.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),d})(et),F=(function(c){u(d,c);var m=h(d);function d(g,k,S,A){var N;return B(this,d),N=m.call(this,g,[],k,null),N.textDOM=S,N.text=A,N}return Q(d,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(k,S){return k!=this.textDOM?this.posAtStart+(S?this.size:0):this.posAtStart+S}},{key:"domFromPos",value:function(k){return{node:this.textDOM,offset:k}}},{key:"ignoreMutation",value:function(k){return k.type==="characterData"&&k.target.nodeValue==k.oldValue}}]),d})(et),O=(function(c){u(d,c);var m=h(d);function d(g,k,S,A,N){var z;return B(this,d),z=m.call(this,g,[],S,A),z.mark=k,z.spec=N,z}return Q(d,[{key:"parseRule",value:function(){return this.dirty&De||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(k){return this.dirty!=De&&this.mark.eq(k)}},{key:"markDirty",value:function(k,S){if(s(M(d.prototype),"markDirty",this).call(this,k,S),this.dirty!=ve){for(var A=this.parent;!A.node;)A=A.parent;A.dirty<this.dirty&&(A.dirty=this.dirty),this.dirty=ve}}},{key:"slice",value:function(k,S,A){var N=d.create(this.parent,this.mark,!0,A),z=this.children,G=this.size;S<G&&(z=ui(z,S,G,A)),k>0&&(z=ui(z,0,k,A));for(var fe=0;fe<z.length;fe++)z[fe].parent=N;return N.children=z,N}},{key:"ignoreMutation",value:function(k){return this.spec.ignoreMutation?this.spec.ignoreMutation(k):s(M(d.prototype),"ignoreMutation",this).call(this,k)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(M(d.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(k,S,A,N){var z=N.nodeViews[S.type.name],G=z&&z(S,N,A);return(!G||!G.dom)&&(G=oe.DOMSerializer.renderSpec(document,S.type.spec.toDOM(S,A),null,S.attrs)),new d(k,S,G.dom,G.contentDOM||G.dom,G)}}]),d})(et),y=(function(c){u(d,c);var m=h(d);function d(g,k,S,A,N,z,G,fe,be){var me;return B(this,d),me=m.call(this,g,[],N,z),me.node=k,me.outerDeco=S,me.innerDeco=A,me.nodeDOM=G,me}return Q(d,[{key:"parseRule",value:function(){var k=this;if(this.node.type.spec.reparseInView)return null;var S={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(S.preserveWhitespace="full"),!this.contentDOM)S.getContent=function(){return k.node.content};else if(!this.contentLost)S.contentElement=this.contentDOM;else{for(var A=this.children.length-1;A>=0;A--){var N=this.children[A];if(this.dom.contains(N.dom.parentNode)){S.contentElement=N.dom.parentNode;break}}S.contentElement||(S.getContent=function(){return oe.Fragment.empty})}return S}},{key:"matchesNode",value:function(k,S,A){return this.dirty==ve&&k.eq(this.node)&&jt(S,this.outerDeco)&&A.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(k,S){var A=this,N=this.node.inlineContent,z=S,G=k.composing?this.localCompositionInfo(k,S):null,fe=G&&G.pos>-1?G:null,be=G&&G.pos<0,me=new _n(this,fe&&fe.node,k);Is(this.node,this.innerDeco,function(Ee,_e,Ye){Ee.spec.marks?me.syncToMarks(Ee.spec.marks,N,k,_e):Ee.type.side>=0&&!Ye&&me.syncToMarks(_e==A.node.childCount?oe.Mark.none:A.node.child(_e).marks,N,k,_e),me.placeWidget(Ee,k,z)},function(Ee,_e,Ye,ct){me.syncToMarks(Ee.marks,N,k,ct);var We;me.findNodeMatch(Ee,_e,Ye,ct)||be&&k.state.selection.from>z&&k.state.selection.to<z+Ee.nodeSize&&(We=me.findIndexWithChild(G.node))>-1&&me.updateNodeAt(Ee,_e,Ye,We,k)||me.updateNextNode(Ee,_e,Ye,k,ct,z)||me.addNode(Ee,_e,Ye,k,z),z+=Ee.nodeSize}),me.syncToMarks([],N,k,0),this.node.isTextblock&&me.addTextblockHacks(),me.destroyRest(),(me.changed||this.dirty==Te)&&(fe&&this.protectLocalComposition(k,fe),ie(this.contentDOM,this.children,k),He&&Po(this.dom))}},{key:"localCompositionInfo",value:function(k,S){var A=k.state.selection,N=A.from,z=A.to;if(!(k.state.selection instanceof se.TextSelection)||N<S||z>S+this.node.content.size)return null;var G=k.input.compositionNode;if(!G||!this.dom.contains(G.parentNode))return null;if(this.node.inlineContent){var fe=G.nodeValue,be=ma(this.node.content,fe,N-S,z-S);return be<0?null:{node:G,pos:be,text:fe}}else return{node:G,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(k,S){var A=S.node,N=S.pos,z=S.text;if(!this.getDesc(A)){for(var G=A;G.parentNode!=this.contentDOM;G=G.parentNode){for(;G.previousSibling;)G.parentNode.removeChild(G.previousSibling);for(;G.nextSibling;)G.parentNode.removeChild(G.nextSibling);G.pmViewDesc&&(G.pmViewDesc=void 0)}var fe=new F(this,G,A,z);k.input.compositionNodes.push(fe),this.children=ui(this.children,N,N+z.length,k,fe)}}},{key:"update",value:function(k,S,A,N){return this.dirty==De||!k.sameMarkup(this.node)?!1:(this.updateInner(k,S,A,N),!0)}},{key:"updateInner",value:function(k,S,A,N){this.updateOuterDeco(S),this.node=k,this.innerDeco=A,this.contentDOM&&this.updateChildren(N,this.posAtStart),this.dirty=ve}},{key:"updateOuterDeco",value:function(k){if(!jt(k,this.outerDeco)){var S=this.nodeDOM.nodeType!=1,A=this.dom;this.dom=Fe(this.dom,this.nodeDOM,$e(this.outerDeco,this.node,S),$e(k,this.node,S)),this.dom!=A&&(A.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=k}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(k,S,A,N,z,G){var fe=z.nodeViews[S.type.name],be,me=fe&&fe(S,z,function(){if(!be)return G;if(be.parent)return be.parent.posBeforeChild(be)},A,N),Ee=me&&me.dom,_e=me&&me.contentDOM;if(S.isText){if(!Ee)Ee=document.createTextNode(S.text);else if(Ee.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!Ee){var Ye=oe.DOMSerializer.renderSpec(document,S.type.spec.toDOM(S),null,S.attrs);Ee=Ye.dom,_e=Ye.contentDOM}!_e&&!S.isText&&Ee.nodeName!="BR"&&(Ee.hasAttribute("contenteditable")||(Ee.contentEditable="false"),S.type.spec.draggable&&(Ee.draggable=!0));var ct=Ee;return Ee=xt(Ee,A,S),me?be=new X(k,S,A,N,Ee,_e||null,ct,me,z,G+1):S.isText?new R(k,S,A,N,Ee,ct,z):new d(k,S,A,N,Ee,_e||null,ct)}}]),d})(et);function T(c,m,d,g,k){xt(g,m,c);var S=new y(void 0,c,m,d,g,g,g,k,0);return S.contentDOM&&S.updateChildren(k,0),S}var R=(function(c){u(d,c);var m=h(d);function d(g,k,S,A,N,z,G){return B(this,d),m.call(this,g,k,S,A,N,null,z,G,0)}return Q(d,[{key:"parseRule",value:function(){for(var k=this.nodeDOM.parentNode;k&&k!=this.dom&&!k.pmIsDeco;)k=k.parentNode;return{skip:k||!0}}},{key:"update",value:function(k,S,A,N){return this.dirty==De||this.dirty!=ve&&!this.inParent()||!k.sameMarkup(this.node)?!1:(this.updateOuterDeco(S),(this.dirty!=ve||k.text!=this.node.text)&&k.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=k.text,N.trackWrites==this.nodeDOM&&(N.trackWrites=null)),this.node=k,this.dirty=ve,!0)}},{key:"inParent",value:function(){for(var k=this.parent.contentDOM,S=this.nodeDOM;S;S=S.parentNode)if(S==k)return!0;return!1}},{key:"domFromPos",value:function(k){return{node:this.nodeDOM,offset:k}}},{key:"localPosFromDOM",value:function(k,S,A){return k==this.nodeDOM?this.posAtStart+Math.min(S,this.node.text.length):s(M(d.prototype),"localPosFromDOM",this).call(this,k,S,A)}},{key:"ignoreMutation",value:function(k){return k.type!="characterData"&&k.type!="selection"}},{key:"slice",value:function(k,S,A){var N=this.node.cut(k,S),z=document.createTextNode(N.text);return new d(this.parent,N,this.outerDeco,this.innerDeco,z,z,A)}},{key:"markDirty",value:function(k,S){s(M(d.prototype),"markDirty",this).call(this,k,S),this.dom!=this.nodeDOM&&(k==0||S==this.nodeDOM.nodeValue.length)&&(this.dirty=De)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(k){return this.node.text==k}}]),d})(y),U=(function(c){u(d,c);var m=h(d);function d(){return B(this,d),m.apply(this,arguments)}return Q(d,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(k){return this.dirty==ve&&this.dom.nodeName==k}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),d})(et),X=(function(c){u(d,c);var m=h(d);function d(g,k,S,A,N,z,G,fe,be,me){var Ee;return B(this,d),Ee=m.call(this,g,k,S,A,N,z,G,be,me),Ee.spec=fe,Ee}return Q(d,[{key:"update",value:function(k,S,A,N){if(this.dirty==De)return!1;if(this.spec.update&&(this.node.type==k.type||this.spec.multiType)){var z=this.spec.update(k,S,A);return z&&this.updateInner(k,S,A,N),z}else return!this.contentDOM&&!k.isLeaf?!1:s(M(d.prototype),"update",this).call(this,k,S,A,N)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():s(M(d.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():s(M(d.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(k,S,A,N){this.spec.setSelection?this.spec.setSelection(k,S,A.root):s(M(d.prototype),"setSelection",this).call(this,k,S,A,N)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),s(M(d.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(k){return this.spec.stopEvent?this.spec.stopEvent(k):!1}},{key:"ignoreMutation",value:function(k){return this.spec.ignoreMutation?this.spec.ignoreMutation(k):s(M(d.prototype),"ignoreMutation",this).call(this,k)}}]),d})(y);function ie(c,m,d){for(var g=c.firstChild,k=!1,S=0;S<m.length;S++){var A=m[S],N=A.dom;if(N.parentNode==c){for(;N!=g;)g=dr(g),k=!0;g=g.nextSibling}else k=!0,c.insertBefore(N,g);if(A instanceof O){var z=g?g.previousSibling:c.lastChild;ie(A.contentDOM,A.children,d),g=z?z.nextSibling:c.firstChild}}for(;g;)g=dr(g),k=!0;k&&d.trackWrites==c&&(d.trackWrites=null)}var we=function(m){m&&(this.nodeName=m)};we.prototype=Object.create(null);var xe=[new we];function $e(c,m,d){if(c.length==0)return xe;for(var g=d?xe[0]:new we,k=[g],S=0;S<c.length;S++){var A=c[S].type.attrs;if(A){A.nodeName&&k.push(g=new we(A.nodeName));for(var N in A){var z=A[N];z!=null&&(d&&k.length==1&&k.push(g=new we(m.isInline?"span":"div")),N=="class"?g.class=(g.class?g.class+" ":"")+z:N=="style"?g.style=(g.style?g.style+";":"")+z:N!="nodeName"&&(g[N]=z))}}}return k}function Fe(c,m,d,g){if(d==xe&&g==xe)return m;for(var k=m,S=0;S<g.length;S++){var A=g[S],N=d[S];if(S){var z=void 0;N&&N.nodeName==A.nodeName&&k!=c&&(z=k.parentNode)&&z.nodeName.toLowerCase()==A.nodeName||(z=document.createElement(A.nodeName),z.pmIsDeco=!0,z.appendChild(k),N=xe[0]),k=z}Qe(k,N||xe[0],A)}return k}function Qe(c,m,d){for(var g in m)g!="class"&&g!="style"&&g!="nodeName"&&!(g in d)&&c.removeAttribute(g);for(var k in d)k!="class"&&k!="style"&&k!="nodeName"&&d[k]!=m[k]&&c.setAttribute(k,d[k]);if(m.class!=d.class){for(var S=m.class?m.class.split(" ").filter(Boolean):[],A=d.class?d.class.split(" ").filter(Boolean):[],N=0;N<S.length;N++)A.indexOf(S[N])==-1&&c.classList.remove(S[N]);for(var z=0;z<A.length;z++)S.indexOf(A[z])==-1&&c.classList.add(A[z]);c.classList.length==0&&c.removeAttribute("class")}if(m.style!=d.style){if(m.style)for(var G=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,fe;fe=G.exec(m.style);)c.style.removeProperty(fe[1]);d.style&&(c.style.cssText+=d.style)}}function xt(c,m,d){return Fe(c,c,xe,$e(m,d,c.nodeType!=1))}function jt(c,m){if(c.length!=m.length)return!1;for(var d=0;d<c.length;d++)if(!c[d].type.eq(m[d].type))return!1;return!0}function dr(c){var m=c.nextSibling;return c.parentNode.removeChild(c),m}var _n=(function(){function c(m,d,g){B(this,c),this.lock=d,this.view=g,this.index=0,this.stack=[],this.changed=!1,this.top=m,this.preMatch=Ei(m.node.content,m)}return Q(c,[{key:"destroyBetween",value:function(d,g){if(d!=g){for(var k=d;k<g;k++)this.top.children[k].destroy();this.top.children.splice(d,g-d),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(d,g,k,S){for(var A=0,N=this.stack.length>>1,z=Math.min(N,d.length);A<z&&(A==N-1?this.top:this.stack[A+1<<1]).matchesMark(d[A])&&d[A].type.spec.spanning!==!1;)A++;for(;A<N;)this.destroyRest(),this.top.dirty=ve,this.index=this.stack.pop(),this.top=this.stack.pop(),N--;for(;N<d.length;){this.stack.push(this.top,this.index+1);var G=-1,fe=this.top.children.length;S<this.preMatch.index&&(fe=Math.min(this.index+3,fe));for(var be=this.index;be<fe;be++){var me=this.top.children[be];if(me.matchesMark(d[N])&&!this.isLocked(me.dom)){G=be;break}}if(G>-1)G>this.index&&(this.changed=!0,this.destroyBetween(this.index,G)),this.top=this.top.children[this.index];else{var Ee=O.create(this.top,d[N],g,k);this.top.children.splice(this.index,0,Ee),this.top=Ee,this.changed=!0}this.index=0,N++}}},{key:"findNodeMatch",value:function(d,g,k,S){var A=-1,N;if(S>=this.preMatch.index&&(N=this.preMatch.matches[S-this.preMatch.index]).parent==this.top&&N.matchesNode(d,g,k))A=this.top.children.indexOf(N,this.index);else for(var z=this.index,G=Math.min(this.top.children.length,z+5);z<G;z++){var fe=this.top.children[z];if(fe.matchesNode(d,g,k)&&!this.preMatch.matched.has(fe)){A=z;break}}return A<0?!1:(this.destroyBetween(this.index,A),this.index++,!0)}},{key:"updateNodeAt",value:function(d,g,k,S,A){var N=this.top.children[S];return N.dirty==De&&N.dom==N.contentDOM&&(N.dirty=Te),N.update(d,g,k,A)?(this.destroyBetween(this.index,S),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(d){for(;;){var g=d.parentNode;if(!g)return-1;if(g==this.top.contentDOM){var k=d.pmViewDesc;if(k){for(var S=this.index;S<this.top.children.length;S++)if(this.top.children[S]==k)return S}return-1}d=g}}},{key:"updateNextNode",value:function(d,g,k,S,A,N){for(var z=this.index;z<this.top.children.length;z++){var G=this.top.children[z];if(G instanceof y){var fe=this.preMatch.matched.get(G);if(fe!=null&&fe!=A)return!1;var be=G.dom,me=void 0,Ee=this.isLocked(be)&&!(d.isText&&G.node&&G.node.isText&&G.nodeDOM.nodeValue==d.text&&G.dirty!=De&&jt(g,G.outerDeco));if(!Ee&&G.update(d,g,k,S))return this.destroyBetween(this.index,z),G.dom!=be&&(this.changed=!0),this.index++,!0;if(!Ee&&(me=this.recreateWrapper(G,d,g,k,S,N)))return this.destroyBetween(this.index,z),this.top.children[this.index]=me,me.contentDOM&&(me.dirty=Te,me.updateChildren(S,N+1),me.dirty=ve),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(d,g,k,S,A,N){if(d.dirty||g.isAtom||!d.children.length||!d.node.content.eq(g.content)||!jt(k,d.outerDeco)||!S.eq(d.innerDeco))return null;var z=y.create(this.top,g,k,S,A,N);if(z.contentDOM){z.children=d.children,d.children=[];var G=i(z.children),fe;try{for(G.s();!(fe=G.n()).done;){var be=fe.value;be.parent=z}}catch(me){G.e(me)}finally{G.f()}}return d.destroy(),z}},{key:"addNode",value:function(d,g,k,S,A){var N=y.create(this.top,d,g,k,S,A);N.contentDOM&&N.updateChildren(S,A+1),this.top.children.splice(this.index++,0,N),this.changed=!0}},{key:"placeWidget",value:function(d,g,k){var S=this.index<this.top.children.length?this.top.children[this.index]:null;if(S&&S.matchesWidget(d)&&(d==S.widget||!S.widget.type.toDOM.parentNode))this.index++;else{var A=new kt(this.top,d,g,k);this.top.children.splice(this.index++,0,A),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var d=this.top.children[this.index-1],g=this.top;d instanceof O;)g=d,d=g.children[g.children.length-1];(!d||!(d instanceof R)||/\n$/.test(d.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(d.node.text))&&((Le||ae)&&d&&d.dom.contentEditable=="false"&&this.addHackNode("IMG",g),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(d,g){if(g==this.top&&this.index<g.children.length&&g.children[this.index].matchesHack(d))this.index++;else{var k=document.createElement(d);d=="IMG"&&(k.className="ProseMirror-separator",k.alt=""),d=="BR"&&(k.className="ProseMirror-trailingBreak");var S=new U(this.top,[],k,null);g!=this.top?g.children.push(S):g.children.splice(this.index++,0,S),this.changed=!0}}},{key:"isLocked",value:function(d){return this.lock&&(d==this.lock||d.nodeType==1&&d.contains(this.lock.parentNode))}}]),c})();function Ei(c,m){var d=m,g=d.children.length,k=c.childCount,S=new Map,A=[];e:for(;k>0;){for(var N=void 0;;)if(g){var z=d.children[g-1];if(z instanceof O)d=z,g=z.children.length;else{N=z,g--;break}}else{if(d==m)break e;g=d.parent.children.indexOf(d),d=d.parent}var G=N.node;if(G){if(G!=c.child(k-1))break;--k,S.set(N,k),A.push(N)}}return{index:k,matched:S,matches:A.reverse()}}function ji(c,m){return c.type.side-m.type.side}function Is(c,m,d,g){var k=m.locals(c),S=0;if(k.length==0){for(var A=0;A<c.childCount;A++){var N=c.child(A);g(N,k,m.forChild(S,N),A),S+=N.nodeSize}return}for(var z=0,G=[],fe=null,be=0;;){for(var me=void 0,Ee=void 0;z<k.length&&k[z].to==S;){var _e=k[z++];_e.widget&&(me?(Ee||(Ee=[me])).push(_e):me=_e)}if(me)if(Ee){Ee.sort(ji);for(var Ye=0;Ye<Ee.length;Ye++)d(Ee[Ye],be,!!fe)}else d(me,be,!!fe);var ct=void 0,We=void 0;if(fe)We=-1,ct=fe,fe=null;else if(be<c.childCount)We=be,ct=c.child(be++);else break;for(var Wt=0;Wt<G.length;Wt++)G[Wt].to<=S&&G.splice(Wt--,1);for(;z<k.length&&k[z].from<=S&&k[z].to>S;)G.push(k[z++]);var $t=S+ct.nodeSize;if(ct.isText){var Ot=$t;z<k.length&&k[z].from<Ot&&(Ot=k[z].from);for(var _t=0;_t<G.length;_t++)G[_t].to<Ot&&(Ot=G[_t].to);Ot<$t&&(fe=ct.cut(Ot-S),ct=ct.cut(0,Ot-S),$t=Ot,We=-1)}else for(;z<k.length&&k[z].to<$t;)z++;var rr=ct.isInline&&!ct.isLeaf?G.filter(function(er){return!er.inline}):G.slice();g(ct,rr,m.forChild(S,ct),We),S=$t}}function Po(c){if(c.nodeName=="UL"||c.nodeName=="OL"){var m=c.style.cssText;c.style.cssText=m+"; list-style: square !important",window.getComputedStyle(c).listStyle,c.style.cssText=m}}function ma(c,m,d,g){for(var k=0,S=0;k<c.childCount&&S<=g;){var A=c.child(k++),N=S;if(S+=A.nodeSize,!!A.isText){for(var z=A.text;k<c.childCount;){var G=c.child(k++);if(S+=G.nodeSize,!G.isText)break;z+=G.text}if(S>=d){if(S>=g&&z.slice(g-m.length-N,g-N)==m)return g-m.length;var fe=N<g?z.lastIndexOf(m,g-N-1):-1;if(fe>=0&&fe+m.length+N>=d)return N+fe;if(d==g&&z.length>=g+m.length-N&&z.slice(g-N,g-N+m.length)==m)return g}}}return-1}function ui(c,m,d,g,k){for(var S=[],A=0,N=0;A<c.length;A++){var z=c[A],G=N,fe=N+=z.size;G>=d||fe<=m?S.push(z):(G<m&&S.push(z.slice(0,m-G,g)),k&&(S.push(k),k=void 0),fe>d&&S.push(z.slice(d-G,z.size,g)))}return S}function ci(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=c.domSelectionRange(),g=c.state.doc;if(!d.focusNode)return null;var k=c.docView.nearestDesc(d.focusNode),S=k&&k.size==0,A=c.docView.posFromDOM(d.focusNode,d.focusOffset,1);if(A<0)return null;var N=g.resolve(A),z,G;if(at(d)){for(z=A;k&&!k.node;)k=k.parent;var fe=k.node;if(k&&fe.isAtom&&se.NodeSelection.isSelectable(fe)&&k.parent&&!(fe.isInline&&nt(d.focusNode,d.focusOffset,k.dom))){var be=k.posBefore;G=new se.NodeSelection(A==be?N:g.resolve(be))}}else{if(d instanceof c.dom.ownerDocument.defaultView.Selection&&d.rangeCount>1){for(var me=A,Ee=A,_e=0;_e<d.rangeCount;_e++){var Ye=d.getRangeAt(_e);me=Math.min(me,c.docView.posFromDOM(Ye.startContainer,Ye.startOffset,1)),Ee=Math.max(Ee,c.docView.posFromDOM(Ye.endContainer,Ye.endOffset,-1))}if(me<0)return null;var ct=Ee==c.state.selection.anchor?[Ee,me]:[me,Ee],We=t(ct,2);z=We[0],A=We[1],N=g.resolve(A)}else z=c.docView.posFromDOM(d.anchorNode,d.anchorOffset,1);if(z<0)return null}var Wt=g.resolve(z);if(!G){var $t=m=="pointer"||c.state.selection.head<N.pos&&!S?1:-1;G=di(c,Wt,N,$t)}return G}function _o(c){return c.editable?c.hasFocus():_s(c)&&document.activeElement&&document.activeElement.contains(c.dom)}function Bn(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=c.state.selection;if(ga(c,d),!!_o(c)){if(!m&&c.input.mouseDown&&c.input.mouseDown.allowDefault&&ae){var g=c.domSelectionRange(),k=c.domObserver.currentSelection;if(g.anchorNode&&k.anchorNode&&yt(g.anchorNode,g.anchorOffset,k.anchorNode,k.anchorOffset)){c.input.mouseDown.delayedSelectionSync=!0,c.domObserver.setCurSelection();return}}if(c.domObserver.disconnectSelection(),c.cursorWrapper)fi(c);else{var S=d.anchor,A=d.head,N,z;Bo&&!(d instanceof se.TextSelection)&&(d.$from.parent.inlineContent||(N=Ya(c,d.from)),!d.empty&&!d.$from.parent.inlineContent&&(z=Ya(c,d.to))),c.docView.setSelection(S,A,c,m),Bo&&(N&&eo(N),z&&eo(z)),d.visible?c.dom.classList.remove("ProseMirror-hideselection"):(c.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fo(c))}c.domObserver.setCurSelection(),c.domObserver.connectSelection()}}var Bo=Le||ae&&ye<63;function Ya(c,m){var d=c.docView.domFromPos(m,0),g=d.node,k=d.offset,S=k<g.childNodes.length?g.childNodes[k]:null,A=k?g.childNodes[k-1]:null;if(Le&&S&&S.contentEditable=="false")return Za(S);if((!S||S.contentEditable=="false")&&(!A||A.contentEditable=="false")){if(S)return Za(S);if(A)return Za(A)}}function Za(c){return c.contentEditable="true",Le&&c.draggable&&(c.draggable=!1,c.wasDraggable=!0),c}function eo(c){c.contentEditable="false",c.wasDraggable&&(c.draggable=!0,c.wasDraggable=null)}function Fo(c){var m=c.dom.ownerDocument;m.removeEventListener("selectionchange",c.input.hideSelectionGuard);var d=c.domSelectionRange(),g=d.anchorNode,k=d.anchorOffset;m.addEventListener("selectionchange",c.input.hideSelectionGuard=function(){(d.anchorNode!=g||d.anchorOffset!=k)&&(m.removeEventListener("selectionchange",c.input.hideSelectionGuard),setTimeout(function(){(!_o(c)||c.state.selection.visible)&&c.dom.classList.remove("ProseMirror-hideselection")},20))})}function fi(c){var m=c.domSelection();if(m){var d=c.cursorWrapper.dom,g=d.nodeName=="IMG";g?m.collapse(d.parentNode,Se(d)+1):m.collapse(d,0),!g&&!c.state.selection.visible&&I&&V<=11&&(d.disabled=!0,d.disabled=!1)}}function ga(c,m){if(m instanceof se.NodeSelection){var d=c.docView.descAt(m.from);d!=c.lastSelectedViewDesc&&(to(c),d&&d.selectNode(),c.lastSelectedViewDesc=d)}else to(c)}function to(c){c.lastSelectedViewDesc&&(c.lastSelectedViewDesc.parent&&c.lastSelectedViewDesc.deselectNode(),c.lastSelectedViewDesc=void 0)}function di(c,m,d,g){return c.someProp("createSelectionBetween",function(k){return k(c,m,d)})||se.TextSelection.between(m,d,g)}function Ps(c){return c.editable&&!c.hasFocus()?!1:_s(c)}function _s(c){var m=c.domSelectionRange();if(!m.anchorNode)return!1;try{return c.dom.contains(m.anchorNode.nodeType==3?m.anchorNode.parentNode:m.anchorNode)&&(c.editable||c.dom.contains(m.focusNode.nodeType==3?m.focusNode.parentNode:m.focusNode))}catch{return!1}}function Wi(c){var m=c.docView.domFromPos(c.state.selection.anchor,0),d=c.domSelectionRange();return yt(m.node,m.offset,d.anchorNode,d.anchorOffset)}function hi(c,m){var d=c.selection,g=d.$anchor,k=d.$head,S=m>0?g.max(k):g.min(k),A=S.parent.inlineContent?S.depth?c.doc.resolve(m>0?S.after():S.before()):null:S;return A&&se.Selection.findFrom(A,m)}function pi(c,m){return c.dispatch(c.state.tr.setSelection(m).scrollIntoView()),!0}function ro(c,m,d){var g=c.state.selection;if(g instanceof se.TextSelection)if(d.indexOf("s")>-1){var k=g.$head,S=k.textOffset?null:m<0?k.nodeBefore:k.nodeAfter;if(!S||S.isText||!S.isLeaf)return!1;var A=c.state.doc.resolve(k.pos+S.nodeSize*(m<0?-1:1));return pi(c,new se.TextSelection(g.$anchor,A))}else if(g.empty){if(c.endOfTextblock(m>0?"forward":"backward")){var N=hi(c.state,m);return N&&N instanceof se.NodeSelection?pi(c,N):!1}else if(!(Pe&&d.indexOf("m")>-1)){var z=g.$head,G=z.textOffset?null:m<0?z.nodeBefore:z.nodeAfter,fe;if(!G||G.isText)return!1;var be=m<0?z.pos-G.nodeSize:z.pos;return G.isAtom||(fe=c.docView.descAt(be))&&!fe.contentDOM?se.NodeSelection.isSelectable(G)?pi(c,new se.NodeSelection(m<0?c.state.doc.resolve(z.pos-G.nodeSize):z)):Ge?pi(c,new se.TextSelection(c.state.doc.resolve(m<0?be:be+G.nodeSize))):!1:!1}}else return!1;else{if(g instanceof se.NodeSelection&&g.node.isInline)return pi(c,new se.TextSelection(m>0?g.$to:g.$from));var me=hi(c.state,m);return me?pi(c,me):!1}}function ya(c){return c.nodeType==3?c.nodeValue.length:c.childNodes.length}function Gi(c,m){var d=c.pmViewDesc;return d&&d.size==0&&(m<0||c.nextSibling||c.nodeName!="BR")}function Qn(c,m){return m<0?qo(c):Ul(c)}function qo(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d){var k,S,A=!1;for(q&&d.nodeType==1&&g<ya(d)&&Gi(d.childNodes[g],-1)&&(A=!0);;)if(g>0){if(d.nodeType!=1)break;var N=d.childNodes[g-1];if(Gi(N,-1))k=d,S=--g;else if(N.nodeType==3)d=N,g=d.nodeValue.length;else break}else{if(Fn(d))break;for(var z=d.previousSibling;z&&Gi(z,-1);)k=d.parentNode,S=Se(z),z=z.previousSibling;if(z)d=z,g=ya(d);else{if(d=d.parentNode,d==c.dom)break;g=0}}A?no(c,d,g):k&&no(c,k,S)}}function Ul(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d){for(var k=ya(d),S,A;;)if(g<k){if(d.nodeType!=1)break;var N=d.childNodes[g];if(Gi(N,1))S=d,A=++g;else break}else{if(Fn(d))break;for(var z=d.nextSibling;z&&Gi(z,1);)S=z.parentNode,A=Se(z)+1,z=z.nextSibling;if(z)d=z,g=0,k=ya(d);else{if(d=d.parentNode,d==c.dom)break;g=k=0}}S&&no(c,S,A)}}function Fn(c){var m=c.pmViewDesc;return m&&m.node&&m.node.isBlock}function Bs(c,m){for(;c&&m==c.childNodes.length&&!pt(c);)m=Se(c)+1,c=c.parentNode;for(;c&&m<c.childNodes.length;){var d=c.childNodes[m];if(d.nodeType==3)return d;if(d.nodeType==1&&d.contentEditable=="false")break;c=d,m=0}}function Fs(c,m){for(;c&&!m&&!pt(c);)m=Se(c),c=c.parentNode;for(;c&&m;){var d=c.childNodes[m-1];if(d.nodeType==3)return d;if(d.nodeType==1&&d.contentEditable=="false")break;c=d,m=c.childNodes.length}}function no(c,m,d){if(m.nodeType!=3){var g,k;(k=Bs(m,d))?(m=k,d=0):(g=Fs(m,d))&&(m=g,d=g.nodeValue.length)}var S=c.domSelection();if(S){if(at(S)){var A=document.createRange();A.setEnd(m,d),A.setStart(m,d),S.removeAllRanges(),S.addRange(A)}else S.extend&&S.extend(m,d);c.domObserver.setCurSelection();var N=c.state;setTimeout(function(){c.state==N&&Bn(c)},50)}}function qs(c,m){var d=c.state.doc.resolve(m);if(!(ae||Ie)&&d.parent.inlineContent){var g=c.coordsAtPos(m);if(m>d.start()){var k=c.coordsAtPos(m-1),S=(k.top+k.bottom)/2;if(S>g.top&&S<g.bottom&&Math.abs(k.left-g.left)>1)return k.left<g.left?"ltr":"rtl"}if(m<d.end()){var A=c.coordsAtPos(m+1),N=(A.top+A.bottom)/2;if(N>g.top&&N<g.bottom&&Math.abs(A.left-g.left)>1)return A.left>g.left?"ltr":"rtl"}}var z=getComputedStyle(c.dom).direction;return z=="rtl"?"rtl":"ltr"}function Ki(c,m,d){var g=c.state.selection;if(g instanceof se.TextSelection&&!g.empty||d.indexOf("s")>-1||Pe&&d.indexOf("m")>-1)return!1;var k=g.$from,S=g.$to;if(!k.parent.inlineContent||c.endOfTextblock(m<0?"up":"down")){var A=hi(c.state,m);if(A&&A instanceof se.NodeSelection)return pi(c,A)}if(!k.parent.inlineContent){var N=m<0?k:S,z=g instanceof se.AllSelection?se.Selection.near(N,m):se.Selection.findFrom(N,m);return z?pi(c,z):!1}return!1}function qn(c,m){if(!(c.state.selection instanceof se.TextSelection))return!0;var d=c.state.selection,g=d.$head,k=d.$anchor,S=d.empty;if(!g.sameParent(k))return!0;if(!S)return!1;if(c.endOfTextblock(m>0?"forward":"backward"))return!0;var A=!g.textOffset&&(m<0?g.nodeBefore:g.nodeAfter);if(A&&!A.isText){var N=c.state.tr;return m<0?N.delete(g.pos-A.nodeSize,g.pos):N.delete(g.pos,g.pos+A.nodeSize),c.dispatch(N),!0}return!1}function Ho(c,m,d){c.domObserver.stop(),m.contentEditable=d,c.domObserver.start()}function Hs(c){if(!Le||c.state.selection.$head.parentOffset>0)return!1;var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(d&&d.nodeType==1&&g==0&&d.firstChild&&d.firstChild.contentEditable=="false"){var k=d.firstChild;Ho(c,k,"true"),setTimeout(function(){return Ho(c,k,"false")},20)}return!1}function Vs(c){var m="";return c.ctrlKey&&(m+="c"),c.metaKey&&(m+="m"),c.altKey&&(m+="a"),c.shiftKey&&(m+="s"),m}function jl(c,m){var d=m.keyCode,g=Vs(m);if(d==8||Pe&&d==72&&g=="c")return qn(c,-1)||Qn(c,-1);if(d==46&&!m.shiftKey||Pe&&d==68&&g=="c")return qn(c,1)||Qn(c,1);if(d==13||d==27)return!0;if(d==37||Pe&&d==66&&g=="c"){var k=d==37?qs(c,c.state.selection.from)=="ltr"?-1:1:-1;return ro(c,k,g)||Qn(c,k)}else if(d==39||Pe&&d==70&&g=="c"){var S=d==39?qs(c,c.state.selection.from)=="ltr"?1:-1:1;return ro(c,S,g)||Qn(c,S)}else{if(d==38||Pe&&d==80&&g=="c")return Ki(c,-1,g)||Qn(c,-1);if(d==40||Pe&&d==78&&g=="c")return Hs(c)||Ki(c,1,g)||Qn(c,1);if(g==(Pe?"m":"c")&&(d==66||d==73||d==89||d==90))return!0}return!1}function Ct(c,m){c.someProp("transformCopied",function(We){m=We(m,c)});for(var d=[],g=m,k=g.content,S=g.openStart,A=g.openEnd;S>1&&A>1&&k.childCount==1&&k.firstChild.childCount==1;){S--,A--;var N=k.firstChild;d.push(N.type.name,N.attrs!=N.type.defaultAttrs?N.attrs:null),k=N.content}var z=c.someProp("clipboardSerializer")||oe.DOMSerializer.fromSchema(c.state.schema),G=zs(),fe=G.createElement("div");fe.appendChild(z.serializeFragment(k,{document:G}));for(var be=fe.firstChild,me,Ee=0;be&&be.nodeType==1&&(me=Ji[be.nodeName.toLowerCase()]);){for(var _e=me.length-1;_e>=0;_e--){for(var Ye=G.createElement(me[_e]);fe.firstChild;)Ye.appendChild(fe.firstChild);fe.appendChild(Ye),Ee++}be=fe.firstChild}be&&be.nodeType==1&&be.setAttribute("data-pm-slice","".concat(S," ").concat(A).concat(Ee?" -".concat(Ee):""," ").concat(JSON.stringify(d)));var ct=c.someProp("clipboardTextSerializer",function(We){return We(m,c)})||m.content.textBetween(0,m.content.size,`

`);return{dom:fe,text:ct,slice:m}}function ke(c,m,d,g,k){var S=k.parent.type.spec.code,A,N;if(!d&&!m)return null;var z=!!m&&(g||S||!d);if(z){if(c.someProp("transformPastedText",function(rr){m=rr(m,S||g,c)}),S)return N=new oe.Slice(oe.Fragment.from(c.state.schema.text(m.replace(/\r\n?/g,`
`))),0,0),c.someProp("transformPasted",function(rr){N=rr(N,c,!0)}),N;var G=c.someProp("clipboardTextParser",function(rr){return rr(m,k,g,c)});if(G)N=G;else{var fe=k.marks(),be=c.state.schema,me=oe.DOMSerializer.fromSchema(be);A=document.createElement("div"),m.split(/(?:\r\n?|\n)+/).forEach(function(rr){var er=A.appendChild(document.createElement("p"));rr&&er.appendChild(me.serializeNode(be.text(rr,fe)))})}}else c.someProp("transformPastedHTML",function(rr){d=rr(d,c)}),A=gh(d),Ge&&yh(A);var Ee=A&&A.querySelector("[data-pm-slice]"),_e=Ee&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Ee.getAttribute("data-pm-slice")||"");if(_e&&_e[3])for(var Ye=+_e[3];Ye>0;Ye--){for(var ct=A.firstChild;ct&&ct.nodeType!=1;)ct=ct.nextSibling;if(!ct)break;A=ct}if(!N){var We=c.someProp("clipboardParser")||c.someProp("domParser")||oe.DOMParser.fromSchema(c.state.schema);N=We.parseSlice(A,{preserveWhitespace:!!(z||_e),context:k,ruleFromNode:function(er){return er.nodeName=="BR"&&!er.nextSibling&&er.parentNode&&!Ke.test(er.parentNode.nodeName)?{ignore:!0}:null}})}if(_e)N=bh(Hn(N,+_e[1],+_e[2]),_e[4]);else if(N=oe.Slice.maxOpen(mt(N.content,k),!0),N.openStart||N.openEnd){for(var Wt=0,$t=0,Ot=N.content.firstChild;Wt<N.openStart&&!Ot.type.spec.isolating;Wt++,Ot=Ot.firstChild);for(var _t=N.content.lastChild;$t<N.openEnd&&!_t.type.spec.isolating;$t++,_t=_t.lastChild);N=Hn(N,Wt,$t)}return c.someProp("transformPasted",function(rr){N=rr(N,c,z)}),N}var Ke=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mt(c,m){if(c.childCount<2)return c;for(var d=function(){var A=m.node(k),N=A.contentMatchAt(m.index(k)),z,G=[];if(c.forEach(function(fe){if(G){var be=N.findWrapping(fe.type),me;if(!be)return G=null;if(me=G.length&&z.length&&Dr(be,z,fe,G[G.length-1],0))G[G.length-1]=me;else{G.length&&(G[G.length-1]=Rr(G[G.length-1],z.length));var Ee=Qt(fe,be);G.push(Ee),N=N.matchType(Ee.type),z=be}}}),G)return{v:oe.Fragment.from(G)}},g,k=m.depth;k>=0;k--)if(g=d(),g)return g.v;return c}function Qt(c,m){for(var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=m.length-1;g>=d;g--)c=m[g].create(null,oe.Fragment.from(c));return c}function Dr(c,m,d,g,k){if(k<c.length&&k<m.length&&c[k]==m[k]){var S=Dr(c,m,d,g.lastChild,k+1);if(S)return g.copy(g.content.replaceChild(g.childCount-1,S));var A=g.contentMatchAt(g.childCount);if(A.matchType(k==c.length-1?d.type:c[k+1]))return g.copy(g.content.append(oe.Fragment.from(Qt(d,c,k+1))))}}function Rr(c,m){if(m==0)return c;var d=c.content.replaceChild(c.childCount-1,Rr(c.lastChild,m-1)),g=c.contentMatchAt(c.childCount).fillBefore(oe.Fragment.empty,!0);return c.copy(d.append(g))}function Sr(c,m,d,g,k,S){var A=m<0?c.firstChild:c.lastChild,N=A.content;return c.childCount>1&&(S=0),k<g-1&&(N=Sr(N,m,d,g,k+1,S)),k>=d&&(N=m<0?A.contentMatchAt(0).fillBefore(N,S<=k).append(N):N.append(A.contentMatchAt(A.childCount).fillBefore(oe.Fragment.empty,!0))),c.replaceChild(m<0?0:c.childCount-1,A.copy(N))}function Hn(c,m,d){return m<c.openStart&&(c=new oe.Slice(Sr(c.content,-1,m,c.openStart,0,c.openEnd),m,c.openEnd)),d<c.openEnd&&(c=new oe.Slice(Sr(c.content,1,d,c.openEnd,0,0),c.openStart,d)),c}var Ji={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Vo=null;function zs(){return Vo||(Vo=document.implementation.createHTMLDocument("title"))}var $s=null;function mh(c){var m=window.trustedTypes;return m?($s||($s=m.defaultPolicy||m.createPolicy("ProseMirrorClipboard",{createHTML:function(g){return g}})),$s.createHTML(c)):c}function gh(c){var m=/^(\s*<meta [^>]*>)*/.exec(c);m&&(c=c.slice(m[0].length));var d=zs().createElement("div"),g=/<([a-z][^>\s]+)/i.exec(c),k;if((k=g&&Ji[g[1].toLowerCase()])&&(c=k.map(function(A){return"<"+A+">"}).join("")+c+k.map(function(A){return"</"+A+">"}).reverse().join("")),d.innerHTML=mh(c),k)for(var S=0;S<k.length;S++)d=d.querySelector(k[S])||d;return d}function yh(c){for(var m=c.querySelectorAll(ae?"span:not([class]):not([style])":"span.Apple-converted-space"),d=0;d<m.length;d++){var g=m[d];g.childNodes.length==1&&g.textContent==""&&g.parentNode&&g.parentNode.replaceChild(c.ownerDocument.createTextNode(" "),g)}}function bh(c,m){if(!c.size)return c;var d=c.content.firstChild.type.schema,g;try{g=JSON.parse(m)}catch{return c}for(var k=c.content,S=c.openStart,A=c.openEnd,N=g.length-2;N>=0;N-=2){var z=d.nodes[g[N]];if(!z||z.hasRequiredAttrs())break;k=oe.Fragment.from(z.create(g[N+1],k)),S++,A++}return new oe.Slice(k,S,A)}var tn={},rn={},wh={touchstart:!0,touchmove:!0},kh=Q(function c(){B(this,c),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function Ch(c){var m=function(){var k=tn[d];c.dom.addEventListener(d,c.input.eventHandlers[d]=function(S){Th(c,S)&&!Gl(c,S)&&(c.editable||!(S.type in rn))&&k(c,S)},wh[d]?{passive:!0}:void 0)};for(var d in tn)m();Le&&c.dom.addEventListener("input",function(){return null}),Wl(c)}function Xi(c,m){c.input.lastSelectionOrigin=m,c.input.lastSelectionTime=Date.now()}function xh(c){c.domObserver.stop();for(var m in c.input.eventHandlers)c.dom.removeEventListener(m,c.input.eventHandlers[m]);clearTimeout(c.input.composingTimeout),clearTimeout(c.input.lastIOSEnterFallbackTimeout)}function Wl(c){c.someProp("handleDOMEvents",function(m){for(var d in m)c.input.eventHandlers[d]||c.dom.addEventListener(d,c.input.eventHandlers[d]=function(g){return Gl(c,g)})})}function Gl(c,m){return c.someProp("handleDOMEvents",function(d){var g=d[m.type];return g?g(c,m)||m.defaultPrevented:!1})}function Th(c,m){if(!m.bubbles)return!0;if(m.defaultPrevented)return!1;for(var d=m.target;d!=c.dom;d=d.parentNode)if(!d||d.nodeType==11||d.pmViewDesc&&d.pmViewDesc.stopEvent(m))return!1;return!0}function Sh(c,m){!Gl(c,m)&&tn[m.type]&&(c.editable||!(m.type in rn))&&tn[m.type](c,m)}rn.keydown=function(c,m){var d=m;if(c.input.shiftKey=d.keyCode==16||d.shiftKey,!hc(c,d)&&(c.input.lastKeyCode=d.keyCode,c.input.lastKeyCodeTime=Date.now(),!(Xe&&ae&&d.keyCode==13)))if(d.keyCode!=229&&c.domObserver.forceFlush(),He&&d.keyCode==13&&!d.ctrlKey&&!d.altKey&&!d.metaKey){var g=Date.now();c.input.lastIOSEnter=g,c.input.lastIOSEnterFallbackTimeout=setTimeout(function(){c.input.lastIOSEnter==g&&(c.someProp("handleKeyDown",function(k){return k(c,Dt(13,"Enter"))}),c.input.lastIOSEnter=0)},200)}else c.someProp("handleKeyDown",function(k){return k(c,d)})||jl(c,d)?d.preventDefault():Xi(c,"key")},rn.keyup=function(c,m){m.keyCode==16&&(c.input.shiftKey=!1)},rn.keypress=function(c,m){var d=m;if(!(hc(c,d)||!d.charCode||d.ctrlKey&&!d.altKey||Pe&&d.metaKey)){if(c.someProp("handleKeyPress",function(A){return A(c,d)})){d.preventDefault();return}var g=c.state.selection;if(!(g instanceof se.TextSelection)||!g.$from.sameParent(g.$to)){var k=String.fromCharCode(d.charCode),S=function(){return c.state.tr.insertText(k).scrollIntoView()};!/[\r\n]/.test(k)&&!c.someProp("handleTextInput",function(A){return A(c,g.$from.pos,g.$to.pos,k,S)})&&c.dispatch(S()),d.preventDefault()}}};function Us(c){return{left:c.clientX,top:c.clientY}}function Eh(c,m){var d=m.x-c.clientX,g=m.y-c.clientY;return d*d+g*g<100}function Kl(c,m,d,g,k){if(g==-1)return!1;for(var S=c.state.doc.resolve(g),A=function(fe){if(c.someProp(m,function(be){return fe>S.depth?be(c,d,S.nodeAfter,S.before(fe),k,!0):be(c,d,S.node(fe),S.before(fe),k,!1)}))return{v:!0}},N,z=S.depth+1;z>0;z--)if(N=A(z),N)return N.v;return!1}function io(c,m,d){if(c.focused||c.focus(),!c.state.selection.eq(m)){var g=c.state.tr.setSelection(m);g.setMeta("pointer",!0),c.dispatch(g)}}function Mh(c,m){if(m==-1)return!1;var d=c.state.doc.resolve(m),g=d.nodeAfter;return g&&g.isAtom&&se.NodeSelection.isSelectable(g)?(io(c,new se.NodeSelection(d)),!0):!1}function Oh(c,m){if(m==-1)return!1;var d=c.state.selection,g,k;d instanceof se.NodeSelection&&(g=d.node);for(var S=c.state.doc.resolve(m),A=S.depth+1;A>0;A--){var N=A>S.depth?S.nodeAfter:S.node(A);if(se.NodeSelection.isSelectable(N)){g&&d.$from.depth>0&&A>=d.$from.depth&&S.before(d.$from.depth+1)==d.$from.pos?k=S.before(d.$from.depth):k=S.before(A);break}}return k!=null?(io(c,se.NodeSelection.create(c.state.doc,k)),!0):!1}function Ah(c,m,d,g,k){return Kl(c,"handleClickOn",m,d,g)||c.someProp("handleClick",function(S){return S(c,m,g)})||(k?Oh(c,d):Mh(c,d))}function Nh(c,m,d,g){return Kl(c,"handleDoubleClickOn",m,d,g)||c.someProp("handleDoubleClick",function(k){return k(c,m,g)})}function Dh(c,m,d,g){return Kl(c,"handleTripleClickOn",m,d,g)||c.someProp("handleTripleClick",function(k){return k(c,m,g)})||Rh(c,d,g)}function Rh(c,m,d){if(d.button!=0)return!1;var g=c.state.doc;if(m==-1)return g.inlineContent?(io(c,se.TextSelection.create(g,0,g.content.size)),!0):!1;for(var k=g.resolve(m),S=k.depth+1;S>0;S--){var A=S>k.depth?k.nodeAfter:k.node(S),N=k.before(S);if(A.inlineContent)io(c,se.TextSelection.create(g,N+1,N+1+A.content.size));else if(se.NodeSelection.isSelectable(A))io(c,se.NodeSelection.create(g,N));else continue;return!0}}function Jl(c){return zo(c)}var dc=Pe?"metaKey":"ctrlKey";tn.mousedown=function(c,m){var d=m;c.input.shiftKey=d.shiftKey;var g=Jl(c),k=Date.now(),S="singleClick";k-c.input.lastClick.time<500&&Eh(d,c.input.lastClick)&&!d[dc]&&c.input.lastClick.button==d.button&&(c.input.lastClick.type=="singleClick"?S="doubleClick":c.input.lastClick.type=="doubleClick"&&(S="tripleClick")),c.input.lastClick={time:k,x:d.clientX,y:d.clientY,type:S,button:d.button};var A=c.posAtCoords(Us(d));A&&(S=="singleClick"?(c.input.mouseDown&&c.input.mouseDown.done(),c.input.mouseDown=new Lh(c,A,d,!!g)):(S=="doubleClick"?Nh:Dh)(c,A.pos,A.inside,d)?d.preventDefault():Xi(c,"pointer"))};var Lh=(function(){function c(m,d,g,k){var S=this;B(this,c),this.view=m,this.pos=d,this.event=g,this.flushed=k,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=m.state.doc,this.selectNode=!!g[dc],this.allowDefault=g.shiftKey;var A,N;if(d.inside>-1)A=m.state.doc.nodeAt(d.inside),N=d.inside;else{var z=m.state.doc.resolve(d.pos);A=z.parent,N=z.depth?z.before():0}var G=k?null:g.target,fe=G?m.docView.nearestDesc(G,!0):null;this.target=fe&&fe.nodeDOM.nodeType==1?fe.nodeDOM:null;var be=m.state.selection;(g.button==0&&A.type.spec.draggable&&A.type.spec.selectable!==!1||be instanceof se.NodeSelection&&be.from<=N&&be.to>N)&&(this.mightDrag={node:A,pos:N,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&q&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){S.view.input.mouseDown==S&&S.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),m.root.addEventListener("mouseup",this.up=this.up.bind(this)),m.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xi(m,"pointer")}return Q(c,[{key:"done",value:function(){var d=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Bn(d.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(d){if(this.done(),!!this.view.dom.contains(d.target)){var g=this.pos;this.view.state.doc!=this.startDoc&&(g=this.view.posAtCoords(Us(d))),this.updateAllowDefault(d),this.allowDefault||!g?Xi(this.view,"pointer"):Ah(this.view,g.pos,g.inside,d,this.selectNode)?d.preventDefault():d.button==0&&(this.flushed||Le&&this.mightDrag&&!this.mightDrag.node.isAtom||ae&&!this.view.state.selection.visible&&Math.min(Math.abs(g.pos-this.view.state.selection.from),Math.abs(g.pos-this.view.state.selection.to))<=2)?(io(this.view,se.Selection.near(this.view.state.doc.resolve(g.pos))),d.preventDefault()):Xi(this.view,"pointer")}}},{key:"move",value:function(d){this.updateAllowDefault(d),Xi(this.view,"pointer"),d.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(d){!this.allowDefault&&(Math.abs(this.event.x-d.clientX)>4||Math.abs(this.event.y-d.clientY)>4)&&(this.allowDefault=!0)}}]),c})();tn.touchstart=function(c){c.input.lastTouch=Date.now(),Jl(c),Xi(c,"pointer")},tn.touchmove=function(c){c.input.lastTouch=Date.now(),Xi(c,"pointer")},tn.contextmenu=function(c){return Jl(c)};function hc(c,m){return c.composing?!0:Le&&Math.abs(m.timeStamp-c.input.compositionEndedAt)<500?(c.input.compositionEndedAt=-2e8,!0):!1}var Ih=Xe?5e3:-1;rn.compositionstart=rn.compositionupdate=function(c){if(!c.composing){c.domObserver.flush();var m=c.state,d=m.selection.$to;if(m.selection instanceof se.TextSelection&&(m.storedMarks||!d.textOffset&&d.parentOffset&&d.nodeBefore.marks.some(function(z){return z.type.spec.inclusive===!1})||ae&&Ie&&Ph(c)))c.markCursor=c.state.storedMarks||d.marks(),zo(c,!0),c.markCursor=null;else if(zo(c,!m.selection.empty),q&&m.selection.empty&&d.parentOffset&&!d.textOffset&&d.nodeBefore.marks.length)for(var g=c.domSelectionRange(),k=g.focusNode,S=g.focusOffset;k&&k.nodeType==1&&S!=0;){var A=S<0?k.lastChild:k.childNodes[S-1];if(!A)break;if(A.nodeType==3){var N=c.domSelection();N&&N.collapse(A,A.nodeValue.length);break}else k=A,S=-1}c.input.composing=!0}pc(c,Ih)};function Ph(c){var m=c.domSelectionRange(),d=m.focusNode,g=m.focusOffset;if(!d||d.nodeType!=1||g>=d.childNodes.length)return!1;var k=d.childNodes[g];return k.nodeType==1&&k.contentEditable=="false"}rn.compositionend=function(c,m){c.composing&&(c.input.composing=!1,c.input.compositionEndedAt=m.timeStamp,c.input.compositionPendingChanges=c.domObserver.pendingRecords().length?c.input.compositionID:0,c.input.compositionNode=null,c.input.badSafariComposition?c.domObserver.forceFlush():c.input.compositionPendingChanges&&Promise.resolve().then(function(){return c.domObserver.flush()}),c.input.compositionID++,pc(c,20))};function pc(c,m){clearTimeout(c.input.composingTimeout),m>-1&&(c.input.composingTimeout=setTimeout(function(){return zo(c)},m))}function vc(c){for(c.composing&&(c.input.composing=!1,c.input.compositionEndedAt=Bh());c.input.compositionNodes.length>0;)c.input.compositionNodes.pop().markParentsDirty()}function _h(c){var m=c.domSelectionRange();if(!m.focusNode)return null;var d=it(m.focusNode,m.focusOffset),g=Ht(m.focusNode,m.focusOffset);if(d&&g&&d!=g){var k=g.pmViewDesc,S=c.domObserver.lastChangedTextNode;if(d==S||g==S)return S;if(!k||!k.isText(g.nodeValue))return g;if(c.input.compositionNode==g){var A=d.pmViewDesc;if(!(!A||!A.isText(d.nodeValue)))return g}}return d||g}function Bh(){var c=document.createEvent("Event");return c.initEvent("event",!0,!0),c.timeStamp}function zo(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(Xe&&c.domObserver.flushingSoon>=0)){if(c.domObserver.forceFlush(),vc(c),m||c.docView&&c.docView.dirty){var d=ci(c),g=c.state.selection;return d&&!d.eq(g)?c.dispatch(c.state.tr.setSelection(d)):(c.markCursor||m)&&!g.$from.node(g.$from.sharedDepth(g.to)).inlineContent?c.dispatch(c.state.tr.deleteSelection()):c.updateState(c.state),!0}return!1}}function Fh(c,m){if(c.dom.parentNode){var d=c.dom.parentNode.appendChild(document.createElement("div"));d.appendChild(m),d.style.cssText="position: fixed; left: -10000px; top: 10px";var g=getSelection(),k=document.createRange();k.selectNodeContents(m),c.dom.blur(),g.removeAllRanges(),g.addRange(k),setTimeout(function(){d.parentNode&&d.parentNode.removeChild(d),c.focus()},50)}}var $o=I&&V<15||He&&dt<604;tn.copy=rn.cut=function(c,m){var d=m,g=c.state.selection,k=d.type=="cut";if(!g.empty){var S=$o?null:d.clipboardData,A=g.content(),N=Ct(c,A),z=N.dom,G=N.text;S?(d.preventDefault(),S.clearData(),S.setData("text/html",z.innerHTML),S.setData("text/plain",G)):Fh(c,z),k&&c.dispatch(c.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function qh(c){return c.openStart==0&&c.openEnd==0&&c.content.childCount==1?c.content.firstChild:null}function Hh(c,m){if(c.dom.parentNode){var d=c.input.shiftKey||c.state.selection.$from.parent.type.spec.code,g=c.dom.parentNode.appendChild(document.createElement(d?"textarea":"div"));d||(g.contentEditable="true"),g.style.cssText="position: fixed; left: -10000px; top: 10px",g.focus();var k=c.input.shiftKey&&c.input.lastKeyCode!=45;setTimeout(function(){c.focus(),g.parentNode&&g.parentNode.removeChild(g),d?Uo(c,g.value,null,k,m):Uo(c,g.textContent,g.innerHTML,k,m)},50)}}function Uo(c,m,d,g,k){var S=ke(c,m,d,g,c.state.selection.$from);if(c.someProp("handlePaste",function(z){return z(c,k,S||oe.Slice.empty)}))return!0;if(!S)return!1;var A=qh(S),N=A?c.state.tr.replaceSelectionWith(A,g):c.state.tr.replaceSelection(S);return c.dispatch(N.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mc(c){var m=c.getData("text/plain")||c.getData("Text");if(m)return m;var d=c.getData("text/uri-list");return d?d.replace(/\r?\n/g," "):""}rn.paste=function(c,m){var d=m;if(!(c.composing&&!Xe)){var g=$o?null:d.clipboardData,k=c.input.shiftKey&&c.input.lastKeyCode!=45;g&&Uo(c,mc(g),g.getData("text/html"),k,d)?d.preventDefault():Hh(c,d)}};var gc=Q(function c(m,d,g){B(this,c),this.slice=m,this.move=d,this.node=g}),Vh=Pe?"altKey":"ctrlKey";function yc(c,m){var d=c.someProp("dragCopies",function(g){return!g(m)});return d??!m[Vh]}tn.dragstart=function(c,m){var d=m,g=c.input.mouseDown;if(g&&g.done(),!!d.dataTransfer){var k=c.state.selection,S=k.empty?null:c.posAtCoords(Us(d)),A;if(!(S&&S.pos>=k.from&&S.pos<=(k instanceof se.NodeSelection?k.to-1:k.to))){if(g&&g.mightDrag)A=se.NodeSelection.create(c.state.doc,g.mightDrag.pos);else if(d.target&&d.target.nodeType==1){var N=c.docView.nearestDesc(d.target,!0);N&&N.node.type.spec.draggable&&N!=c.docView&&(A=se.NodeSelection.create(c.state.doc,N.posBefore))}}var z=(A||c.state.selection).content(),G=Ct(c,z),fe=G.dom,be=G.text,me=G.slice;(!d.dataTransfer.files.length||!ae||ye>120)&&d.dataTransfer.clearData(),d.dataTransfer.setData($o?"Text":"text/html",fe.innerHTML),d.dataTransfer.effectAllowed="copyMove",$o||d.dataTransfer.setData("text/plain",be),c.dragging=new gc(me,yc(c,d),A)}},tn.dragend=function(c){var m=c.dragging;window.setTimeout(function(){c.dragging==m&&(c.dragging=null)},50)},rn.dragover=rn.dragenter=function(c,m){return m.preventDefault()},rn.drop=function(c,m){try{zh(c,m,c.dragging)}finally{c.dragging=null}};function zh(c,m,d){if(m.dataTransfer){var g=c.posAtCoords(Us(m));if(g){var k=c.state.doc.resolve(g.pos),S=d&&d.slice;S?c.someProp("transformPasted",function(Ye){S=Ye(S,c,!1)}):S=ke(c,mc(m.dataTransfer),$o?null:m.dataTransfer.getData("text/html"),!1,k);var A=!!(d&&yc(c,m));if(c.someProp("handleDrop",function(Ye){return Ye(c,m,S||oe.Slice.empty,A)})){m.preventDefault();return}if(S){m.preventDefault();var N=S?ge.dropPoint(c.state.doc,k.pos,S):k.pos;N==null&&(N=k.pos);var z=c.state.tr;if(A){var G=d.node;G?G.replace(z):z.deleteSelection()}var fe=z.mapping.map(N),be=S.openStart==0&&S.openEnd==0&&S.content.childCount==1,me=z.doc;if(be?z.replaceRangeWith(fe,fe,S.content.firstChild):z.replaceRange(fe,fe,S),!z.doc.eq(me)){var Ee=z.doc.resolve(fe);if(be&&se.NodeSelection.isSelectable(S.content.firstChild)&&Ee.nodeAfter&&Ee.nodeAfter.sameMarkup(S.content.firstChild))z.setSelection(new se.NodeSelection(Ee));else{var _e=z.mapping.map(N);z.mapping.maps[z.mapping.maps.length-1].forEach(function(Ye,ct,We,Wt){return _e=Wt}),z.setSelection(di(c,Ee,z.doc.resolve(_e)))}c.focus(),c.dispatch(z.setMeta("uiEvent","drop"))}}}}}tn.focus=function(c){c.input.lastFocus=Date.now(),c.focused||(c.domObserver.stop(),c.dom.classList.add("ProseMirror-focused"),c.domObserver.start(),c.focused=!0,setTimeout(function(){c.docView&&c.hasFocus()&&!c.domObserver.currentSelection.eq(c.domSelectionRange())&&Bn(c)},20))},tn.blur=function(c,m){var d=m;c.focused&&(c.domObserver.stop(),c.dom.classList.remove("ProseMirror-focused"),c.domObserver.start(),d.relatedTarget&&c.dom.contains(d.relatedTarget)&&c.domObserver.currentSelection.clear(),c.focused=!1)},tn.beforeinput=function(c,m){var d=m;if(ae&&Xe&&d.inputType=="deleteContentBackward"){c.domObserver.flushSoon();var g=c.input.domChangeCount;setTimeout(function(){if(c.input.domChangeCount==g&&(c.dom.blur(),c.focus(),!c.someProp("handleKeyDown",function(S){return S(c,Dt(8,"Backspace"))}))){var k=c.state.selection.$cursor;k&&k.pos>0&&c.dispatch(c.state.tr.delete(k.pos-1,k.pos).scrollIntoView())}},50)}};for(var bc in rn)tn[bc]=rn[bc];function jo(c,m){if(c==m)return!0;for(var d in c)if(c[d]!==m[d])return!1;for(var g in m)if(!(g in c))return!1;return!0}var wc=(function(){function c(m,d){B(this,c),this.toDOM=m,this.spec=d||wa,this.side=this.spec.side||0}return Q(c,[{key:"map",value:function(d,g,k,S){var A=d.mapResult(g.from+S,this.side<0?-1:1),N=A.pos,z=A.deleted;return z?null:new ba(N-k,N-k,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(d){return this==d||d instanceof c&&(this.spec.key&&this.spec.key==d.spec.key||this.toDOM==d.toDOM&&jo(this.spec,d.spec))}},{key:"destroy",value:function(d){this.spec.destroy&&this.spec.destroy(d)}}]),c})(),Wo=(function(){function c(m,d){B(this,c),this.attrs=m,this.spec=d||wa}return Q(c,[{key:"map",value:function(d,g,k,S){var A=d.map(g.from+S,this.spec.inclusiveStart?-1:1)-k,N=d.map(g.to+S,this.spec.inclusiveEnd?1:-1)-k;return A>=N?null:new ba(A,N,this)}},{key:"valid",value:function(d,g){return g.from<g.to}},{key:"eq",value:function(d){return this==d||d instanceof c&&jo(this.attrs,d.attrs)&&jo(this.spec,d.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(d){return d.type instanceof c}}]),c})(),$h=(function(){function c(m,d){B(this,c),this.attrs=m,this.spec=d||wa}return Q(c,[{key:"map",value:function(d,g,k,S){var A=d.mapResult(g.from+S,1);if(A.deleted)return null;var N=d.mapResult(g.to+S,-1);return N.deleted||N.pos<=A.pos?null:new ba(A.pos-k,N.pos-k,this)}},{key:"valid",value:function(d,g){var k=d.content.findIndex(g.from),S=k.index,A=k.offset,N;return A==g.from&&!(N=d.child(S)).isText&&A+N.nodeSize==g.to}},{key:"eq",value:function(d){return this==d||d instanceof c&&jo(this.attrs,d.attrs)&&jo(this.spec,d.spec)}},{key:"destroy",value:function(){}}]),c})(),ba=(function(){function c(m,d,g){B(this,c),this.from=m,this.to=d,this.type=g}return Q(c,[{key:"copy",value:function(d,g){return new c(d,g,this.type)}},{key:"eq",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(d.type)&&this.from+g==d.from&&this.to+g==d.to}},{key:"map",value:function(d,g,k){return this.type.map(d,this,g,k)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Wo}},{key:"widget",get:function(){return this.type instanceof wc}}],[{key:"widget",value:function(d,g,k){return new c(d,d,new wc(g,k))}},{key:"inline",value:function(d,g,k,S){return new c(d,g,new Wo(k,S))}},{key:"node",value:function(d,g,k,S){return new c(d,g,new $h(k,S))}}]),c})(),ao=[],wa={},Yn=(function(){function c(m,d){B(this,c),this.local=m.length?m:ao,this.children=d.length?d:ao}return Q(c,[{key:"find",value:function(d,g,k){var S=[];return this.findInner(d??0,g??1e9,S,0,k),S}},{key:"findInner",value:function(d,g,k,S,A){for(var N=0;N<this.local.length;N++){var z=this.local[N];z.from<=g&&z.to>=d&&(!A||A(z.spec))&&k.push(z.copy(z.from+S,z.to+S))}for(var G=0;G<this.children.length;G+=3)if(this.children[G]<g&&this.children[G+1]>d){var fe=this.children[G]+1;this.children[G+2].findInner(d-fe,g-fe,k,S+fe,A)}}},{key:"map",value:function(d,g,k){return this==Kr||d.maps.length==0?this:this.mapInner(d,g,0,0,k||wa)}},{key:"mapInner",value:function(d,g,k,S,A){for(var N,z=0;z<this.local.length;z++){var G=this.local[z].map(d,k,S);G&&G.type.valid(g,G)?(N||(N=[])).push(G):A.onRemove&&A.onRemove(this.local[z].spec)}return this.children.length?Uh(this.children,N||[],d,g,k,S,A):N?new c(N.sort(ka),ao):Kr}},{key:"add",value:function(d,g){return g.length?this==Kr?c.create(d,g):this.addInner(d,g,0):this}},{key:"addInner",value:function(d,g,k){var S=this,A,N=0;d.forEach(function(fe,be){var me=be+k,Ee;if(Ee=xc(g,fe,me)){for(A||(A=S.children.slice());N<A.length&&A[N]<be;)N+=3;A[N]==be?A[N+2]=A[N+2].addInner(fe,Ee,me+1):A.splice(N,0,be,be+fe.nodeSize,js(Ee,fe,me+1,wa)),N+=3}});for(var z=Cc(N?Tc(g):g,-k),G=0;G<z.length;G++)z[G].type.valid(d,z[G])||z.splice(G--,1);return new c(z.length?this.local.concat(z).sort(ka):this.local,A||this.children)}},{key:"remove",value:function(d){return d.length==0||this==Kr?this:this.removeInner(d,0)}},{key:"removeInner",value:function(d,g){for(var k=this.children,S=this.local,A=0;A<k.length;A+=3){for(var N=void 0,z=k[A]+g,G=k[A+1]+g,fe=0,be;fe<d.length;fe++)(be=d[fe])&&be.from>z&&be.to<G&&(d[fe]=null,(N||(N=[])).push(be));if(N){k==this.children&&(k=this.children.slice());var me=k[A+2].removeInner(N,z+1);me!=Kr?k[A+2]=me:(k.splice(A,3),A-=3)}}if(S.length){for(var Ee=0,_e;Ee<d.length;Ee++)if(_e=d[Ee])for(var Ye=0;Ye<S.length;Ye++)S[Ye].eq(_e,g)&&(S==this.local&&(S=this.local.slice()),S.splice(Ye--,1))}return k==this.children&&S==this.local?this:S.length||k.length?new c(S,k):Kr}},{key:"forChild",value:function(d,g){if(this==Kr)return this;if(g.isLeaf)return c.empty;for(var k,S,A=0;A<this.children.length;A+=3)if(this.children[A]>=d){this.children[A]==d&&(k=this.children[A+2]);break}for(var N=d+1,z=N+g.content.size,G=0;G<this.local.length;G++){var fe=this.local[G];if(fe.from<z&&fe.to>N&&fe.type instanceof Wo){var be=Math.max(N,fe.from)-N,me=Math.min(z,fe.to)-N;be<me&&(S||(S=[])).push(fe.copy(be,me))}}if(S){var Ee=new c(S.sort(ka),ao);return k?new kc([Ee,k]):Ee}return k||Kr}},{key:"eq",value:function(d){if(this==d)return!0;if(!(d instanceof c)||this.local.length!=d.local.length||this.children.length!=d.children.length)return!1;for(var g=0;g<this.local.length;g++)if(!this.local[g].eq(d.local[g]))return!1;for(var k=0;k<this.children.length;k+=3)if(this.children[k]!=d.children[k]||this.children[k+1]!=d.children[k+1]||!this.children[k+2].eq(d.children[k+2]))return!1;return!0}},{key:"locals",value:function(d){return Xl(this.localsInner(d))}},{key:"localsInner",value:function(d){if(this==Kr)return ao;if(d.inlineContent||!this.local.some(Wo.is))return this.local;for(var g=[],k=0;k<this.local.length;k++)this.local[k].type instanceof Wo||g.push(this.local[k]);return g}},{key:"forEachSet",value:function(d){d(this)}}],[{key:"create",value:function(d,g){return g.length?js(g,d,0,wa):Kr}}]),c})();Yn.empty=new Yn([],[]),Yn.removeOverlap=Xl;var Kr=Yn.empty,kc=(function(){function c(m){B(this,c),this.members=m}return Q(c,[{key:"map",value:function(d,g){var k=this.members.map(function(S){return S.map(d,g,wa)});return c.from(k)}},{key:"forChild",value:function(d,g){if(g.isLeaf)return Yn.empty;for(var k=[],S=0;S<this.members.length;S++){var A=this.members[S].forChild(d,g);A!=Kr&&(A instanceof c?k=k.concat(A.members):k.push(A))}return c.from(k)}},{key:"eq",value:function(d){if(!(d instanceof c)||d.members.length!=this.members.length)return!1;for(var g=0;g<this.members.length;g++)if(!this.members[g].eq(d.members[g]))return!1;return!0}},{key:"locals",value:function(d){for(var g,k=!0,S=0;S<this.members.length;S++){var A=this.members[S].localsInner(d);if(A.length)if(!g)g=A;else{k&&(g=g.slice(),k=!1);for(var N=0;N<A.length;N++)g.push(A[N])}}return g?Xl(k?g:g.sort(ka)):ao}},{key:"forEachSet",value:function(d){for(var g=0;g<this.members.length;g++)this.members[g].forEachSet(d)}}],[{key:"from",value:function(d){switch(d.length){case 0:return Kr;case 1:return d[0];default:return new c(d.every(function(g){return g instanceof Yn})?d:d.reduce(function(g,k){return g.concat(k instanceof Yn?k:k.members)},[]))}}}]),c})();function Uh(c,m,d,g,k,S,A){for(var N=c.slice(),z=function(Mi){var Ca=0;d.maps[G].forEach(function(xa,Go,Cr,Zl){for(var mi=Zl-Cr-(Go-xa),nn=0;nn<N.length;nn+=3){var Bc=N[nn+1];if(!(Bc<0||xa>Bc+Mi-Ca)){var Fc=N[nn]+Mi-Ca;Go>=Fc?N[nn+1]=xa<=Fc?-2:-1:xa>=Mi&&mi&&(N[nn]+=mi,N[nn+1]+=mi)}}Ca+=mi}),Mi=d.maps[G].map(Mi,-1),fe=Mi},G=0,fe=S;G<d.maps.length;G++)z(fe);for(var be=!1,me=0;me<N.length;me+=3)if(N[me+1]<0){if(N[me+1]==-2){be=!0,N[me+1]=-1;continue}var Ee=d.map(c[me]+S),_e=Ee-k;if(_e<0||_e>=g.content.size){be=!0;continue}var Ye=d.map(c[me+1]+S,-1),ct=Ye-k,We=g.content.findIndex(_e),Wt=We.index,$t=We.offset,Ot=g.maybeChild(Wt);if(Ot&&$t==_e&&$t+Ot.nodeSize==ct){var _t=N[me+2].mapInner(d,Ot,Ee+1,c[me]+S+1,A);_t!=Kr?(N[me]=_e,N[me+1]=ct,N[me+2]=_t):(N[me+1]=-2,be=!0)}else be=!0}if(be){var rr=jh(N,c,m,d,k,S,A),er=js(rr,g,0,A);m=er.local;for(var kr=0;kr<N.length;kr+=3)N[kr+1]<0&&(N.splice(kr,3),kr-=3);for(var Er=0,Mr=0;Er<er.children.length;Er+=3){for(var vi=er.children[Er];Mr<N.length&&N[Mr]<vi;)Mr+=3;N.splice(Mr,0,er.children[Er],er.children[Er+1],er.children[Er+2])}}return new Yn(m.sort(ka),N)}function Cc(c,m){if(!m||!c.length)return c;for(var d=[],g=0;g<c.length;g++){var k=c[g];d.push(new ba(k.from+m,k.to+m,k.type))}return d}function jh(c,m,d,g,k,S,A){function N(G,fe){for(var be=0;be<G.local.length;be++){var me=G.local[be].map(g,k,fe);me?d.push(me):A.onRemove&&A.onRemove(G.local[be].spec)}for(var Ee=0;Ee<G.children.length;Ee+=3)N(G.children[Ee+2],G.children[Ee]+fe+1)}for(var z=0;z<c.length;z+=3)c[z+1]==-1&&N(c[z+2],m[z]+S+1);return d}function xc(c,m,d){if(m.isLeaf)return null;for(var g=d+m.nodeSize,k=null,S=0,A;S<c.length;S++)(A=c[S])&&A.from>d&&A.to<g&&((k||(k=[])).push(A),c[S]=null);return k}function Tc(c){for(var m=[],d=0;d<c.length;d++)c[d]!=null&&m.push(c[d]);return m}function js(c,m,d,g){var k=[],S=!1;m.forEach(function(z,G){var fe=xc(c,z,G+d);if(fe){S=!0;var be=js(fe,z,d+G+1,g);be!=Kr&&k.push(G,G+z.nodeSize,be)}});for(var A=Cc(S?Tc(c):c,-d).sort(ka),N=0;N<A.length;N++)A[N].type.valid(m,A[N])||(g.onRemove&&g.onRemove(A[N].spec),A.splice(N--,1));return A.length||k.length?new Yn(A,k):Kr}function ka(c,m){return c.from-m.from||c.to-m.to}function Xl(c){for(var m=c,d=0;d<m.length-1;d++){var g=m[d];if(g.from!=g.to)for(var k=d+1;k<m.length;k++){var S=m[k];if(S.from==g.from){S.to!=g.to&&(m==c&&(m=c.slice()),m[k]=S.copy(S.from,g.to),Sc(m,k+1,S.copy(g.to,S.to)));continue}else{S.from<g.to&&(m==c&&(m=c.slice()),m[d]=g.copy(g.from,S.from),Sc(m,k,g.copy(S.from,g.to)));break}}}return m}function Sc(c,m,d){for(;m<c.length&&ka(d,c[m])>0;)m++;c.splice(m,0,d)}function Ql(c){var m=[];return c.someProp("decorations",function(d){var g=d(c.state);g&&g!=Kr&&m.push(g)}),c.cursorWrapper&&m.push(Yn.create(c.state.doc,[c.cursorWrapper.deco])),kc.from(m)}var Wh={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gh=I&&V<=11,Kh=(function(){function c(){B(this,c),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return Q(c,[{key:"set",value:function(d){this.anchorNode=d.anchorNode,this.anchorOffset=d.anchorOffset,this.focusNode=d.focusNode,this.focusOffset=d.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(d){return d.anchorNode==this.anchorNode&&d.anchorOffset==this.anchorOffset&&d.focusNode==this.focusNode&&d.focusOffset==this.focusOffset}}]),c})(),Jh=(function(){function c(m,d){var g=this;B(this,c),this.view=m,this.handleDOMChange=d,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Kh,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(k){for(var S=0;S<k.length;S++)g.queue.push(k[S]);I&&V<=11&&k.some(function(A){return A.type=="childList"&&A.removedNodes.length||A.type=="characterData"&&A.oldValue.length>A.target.nodeValue.length})?g.flushSoon():Le&&m.composing&&k.some(function(A){return A.type=="childList"&&A.target.nodeName=="TR"})?(m.input.badSafariComposition=!0,g.flushSoon()):g.flush()}),Gh&&(this.onCharData=function(k){g.queue.push({target:k.target,type:"characterData",oldValue:k.prevValue}),g.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return Q(c,[{key:"flushSoon",value:function(){var d=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){d.flushingSoon=-1,d.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Wh)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var d=this;if(this.observer){var g=this.observer.takeRecords();if(g.length){for(var k=0;k<g.length;k++)this.queue.push(g[k]);window.setTimeout(function(){return d.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var d=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return d.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(Ps(this.view)){if(this.suppressingSelectionUpdates)return Bn(this.view);if(I&&V<=11&&!this.view.state.selection.empty){var d=this.view.domSelectionRange();if(d.focusNode&&yt(d.focusNode,d.focusOffset,d.anchorNode,d.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(d){if(!d.focusNode)return!0;for(var g=new Set,k,S=d.focusNode;S;S=qe(S))g.add(S);for(var A=d.anchorNode;A;A=qe(A))if(g.has(A)){k=A;break}var N=k&&this.view.docView.nearestDesc(k);if(N&&N.ignoreMutation({type:"selection",target:k.nodeType==3?k.parentNode:k}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var d=i(this.observer.takeRecords()),g;try{for(d.s();!(g=d.n()).done;){var k=g.value;this.queue.push(k)}}catch(S){d.e(S)}finally{d.f()}}return this.queue}},{key:"flush",value:function(){var d=this.view;if(!(!d.docView||this.flushingSoon>-1)){var g=this.pendingRecords();g.length&&(this.queue=[]);var k=d.domSelectionRange(),S=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(k)&&Ps(d)&&!this.ignoreSelectionChange(k),A=-1,N=-1,z=!1,G=[];if(d.editable)for(var fe=0;fe<g.length;fe++){var be=this.registerMutation(g[fe],G);be&&(A=A<0?be.from:Math.min(be.from,A),N=N<0?be.to:Math.max(be.to,N),be.typeOver&&(z=!0))}if(q&&G.length){var me=G.filter(function(Mr){return Mr.nodeName=="BR"});if(me.length==2){var Ee=t(me,2),_e=Ee[0],Ye=Ee[1];_e.parentNode&&_e.parentNode.parentNode==Ye.parentNode?Ye.remove():_e.remove()}else{var ct=this.currentSelection.focusNode,We=i(me),Wt;try{for(We.s();!(Wt=We.n()).done;){var $t=Wt.value,Ot=$t.parentNode;Ot&&Ot.nodeName=="LI"&&(!ct||Yh(d,ct)!=Ot)&&$t.remove()}}catch(Mr){We.e(Mr)}finally{We.f()}}}else if((ae||Le)&&G.some(function(Mr){return Mr.nodeName=="BR"})&&(d.input.lastKeyCode==8||d.input.lastKeyCode==46)){var _t=i(G),rr;try{for(_t.s();!(rr=_t.n()).done;){var er=rr.value;if(er.nodeName=="BR"&&er.parentNode){var kr=er.nextSibling;kr&&kr.nodeType==1&&kr.contentEditable=="false"&&er.parentNode.removeChild(er)}}}catch(Mr){_t.e(Mr)}finally{_t.f()}}var Er=null;A<0&&S&&d.input.lastFocus>Date.now()-200&&Math.max(d.input.lastTouch,d.input.lastClick.time)<Date.now()-300&&at(k)&&(Er=ci(d))&&Er.eq(se.Selection.near(d.state.doc.resolve(0),1))?(d.input.lastFocus=0,Bn(d),this.currentSelection.set(k),d.scrollToSelection()):(A>-1||S)&&(A>-1&&(d.docView.markDirty(A,N),Xh(d)),d.input.badSafariComposition&&(d.input.badSafariComposition=!1,Zh(d,G)),this.handleDOMChange(A,N,z,G),d.docView&&d.docView.dirty?d.updateState(d.state):this.currentSelection.eq(k)||Bn(d),this.currentSelection.set(k))}}},{key:"registerMutation",value:function(d,g){if(g.indexOf(d.target)>-1)return null;var k=this.view.docView.nearestDesc(d.target);if(d.type=="attributes"&&(k==this.view.docView||d.attributeName=="contenteditable"||d.attributeName=="style"&&!d.oldValue&&!d.target.getAttribute("style"))||!k||k.ignoreMutation(d))return null;if(d.type=="childList"){for(var S=0;S<d.addedNodes.length;S++){var A=d.addedNodes[S];g.push(A),A.nodeType==3&&(this.lastChangedTextNode=A)}if(k.contentDOM&&k.contentDOM!=k.dom&&!k.contentDOM.contains(d.target))return{from:k.posBefore,to:k.posAfter};var N=d.previousSibling,z=d.nextSibling;if(I&&V<=11&&d.addedNodes.length)for(var G=0;G<d.addedNodes.length;G++){var fe=d.addedNodes[G],be=fe.previousSibling,me=fe.nextSibling;(!be||Array.prototype.indexOf.call(d.addedNodes,be)<0)&&(N=be),(!me||Array.prototype.indexOf.call(d.addedNodes,me)<0)&&(z=me)}var Ee=N&&N.parentNode==d.target?Se(N)+1:0,_e=k.localPosFromDOM(d.target,Ee,-1),Ye=z&&z.parentNode==d.target?Se(z):d.target.childNodes.length,ct=k.localPosFromDOM(d.target,Ye,1);return{from:_e,to:ct}}else return d.type=="attributes"?{from:k.posAtStart-k.border,to:k.posAtEnd+k.border}:(this.lastChangedTextNode=d.target,{from:k.posAtStart,to:k.posAtEnd,typeOver:d.target.nodeValue==d.oldValue})}}]),c})(),Ec=new WeakMap,Mc=!1;function Xh(c){if(!Ec.has(c)&&(Ec.set(c,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(c.dom).whiteSpace)!==-1)){if(c.requiresGeckoHackNode=q,Mc)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Mc=!0}}function Oc(c,m){var d=m.startContainer,g=m.startOffset,k=m.endContainer,S=m.endOffset,A=c.domAtPos(c.state.selection.anchor);if(yt(A.node,A.offset,k,S)){var N=[k,S,d,g];d=N[0],g=N[1],k=N[2],S=N[3]}return{anchorNode:d,anchorOffset:g,focusNode:k,focusOffset:S}}function Qh(c,m){if(m.getComposedRanges){var d=m.getComposedRanges(c.root)[0];if(d)return Oc(c,d)}var g;function k(S){S.preventDefault(),S.stopImmediatePropagation(),g=S.getTargetRanges()[0]}return c.dom.addEventListener("beforeinput",k,!0),document.execCommand("indent"),c.dom.removeEventListener("beforeinput",k,!0),g?Oc(c,g):null}function Yh(c,m){for(var d=m.parentNode;d&&d!=c.dom;d=d.parentNode){var g=c.docView.nearestDesc(d,!0);if(g&&g.node.isBlock)return d}return null}function Zh(c,m){var d,g=c.domSelectionRange(),k=g.focusNode,S=g.focusOffset,A=i(m),N;try{for(A.s();!(N=A.n()).done;){var z=N.value;if(((d=z.parentNode)===null||d===void 0?void 0:d.nodeName)=="TR"){for(var G=z.nextSibling;G&&G.nodeName!="TD"&&G.nodeName!="TH";)G=G.nextSibling;if(G){for(var fe=G;;){var be=fe.firstChild;if(!be||be.nodeType!=1||be.contentEditable=="false"||/^(BR|IMG)$/.test(be.nodeName))break;fe=be}fe.insertBefore(z,fe.firstChild),k==z&&c.domSelection().collapse(z,S)}else z.parentNode.removeChild(z)}}}catch(me){A.e(me)}finally{A.f()}}function ep(c,m,d){var g=c.docView.parseRange(m,d),k=g.node,S=g.fromOffset,A=g.toOffset,N=g.from,z=g.to,G=c.domSelectionRange(),fe,be=G.anchorNode;if(be&&c.dom.contains(be.nodeType==1?be:be.parentNode)&&(fe=[{node:be,offset:G.anchorOffset}],at(G)||fe.push({node:G.focusNode,offset:G.focusOffset})),ae&&c.input.lastKeyCode===8)for(var me=A;me>S;me--){var Ee=k.childNodes[me-1],_e=Ee.pmViewDesc;if(Ee.nodeName=="BR"&&!_e){A=me;break}if(!_e||_e.size)break}var Ye=c.state.doc,ct=c.someProp("domParser")||oe.DOMParser.fromSchema(c.state.schema),We=Ye.resolve(N),Wt=null,$t=ct.parse(k,{topNode:We.parent,topMatch:We.parent.contentMatchAt(We.index()),topOpen:!0,from:S,to:A,preserveWhitespace:We.parent.type.whitespace=="pre"?"full":!0,findPositions:fe,ruleFromNode:tp,context:We});if(fe&&fe[0].pos!=null){var Ot=fe[0].pos,_t=fe[1]&&fe[1].pos;_t==null&&(_t=Ot),Wt={anchor:Ot+N,head:_t+N}}return{doc:$t,sel:Wt,from:N,to:z}}function tp(c){var m=c.pmViewDesc;if(m)return m.parseRule();if(c.nodeName=="BR"&&c.parentNode){if(Le&&/^(ul|ol)$/i.test(c.parentNode.nodeName)){var d=document.createElement("div");return d.appendChild(document.createElement("li")),{skip:d}}else if(c.parentNode.lastChild==c||Le&&/^(tr|table)$/i.test(c.parentNode.nodeName))return{ignore:!0}}else if(c.nodeName=="IMG"&&c.getAttribute("mark-placeholder"))return{ignore:!0};return null}var rp=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function np(c,m,d,g,k){var S=c.input.compositionPendingChanges||(c.composing?c.input.compositionID:0);if(c.input.compositionPendingChanges=0,m<0){var A=c.input.lastSelectionTime>Date.now()-50?c.input.lastSelectionOrigin:null,N=ci(c,A);if(N&&!c.state.selection.eq(N)){if(ae&&Xe&&c.input.lastKeyCode===13&&Date.now()-100<c.input.lastKeyCodeTime&&c.someProp("handleKeyDown",function(Cr){return Cr(c,Dt(13,"Enter"))}))return;var z=c.state.tr.setSelection(N);A=="pointer"?z.setMeta("pointer",!0):A=="key"&&z.scrollIntoView(),S&&z.setMeta("composition",S),c.dispatch(z)}return}var G=c.state.doc.resolve(m),fe=G.sharedDepth(d);m=G.before(fe+1),d=c.state.doc.resolve(d).after(fe+1);var be=c.state.selection,me=ep(c,m,d),Ee=c.state.doc,_e=Ee.slice(me.from,me.to),Ye,ct;c.input.lastKeyCode===8&&Date.now()-100<c.input.lastKeyCodeTime?(Ye=c.state.selection.to,ct="end"):(Ye=c.state.selection.from,ct="start"),c.input.lastKeyCode=null;var We=op(_e.content,me.doc.content,me.from,Ye,ct);if(We&&c.input.domChangeCount++,(He&&c.input.lastIOSEnter>Date.now()-225||Xe)&&k.some(function(Cr){return Cr.nodeType==1&&!rp.test(Cr.nodeName)})&&(!We||We.endA>=We.endB)&&c.someProp("handleKeyDown",function(Cr){return Cr(c,Dt(13,"Enter"))})){c.input.lastIOSEnter=0;return}if(!We)if(g&&be instanceof se.TextSelection&&!be.empty&&be.$head.sameParent(be.$anchor)&&!c.composing&&!(me.sel&&me.sel.anchor!=me.sel.head))We={start:be.from,endA:be.to,endB:be.to};else{if(me.sel){var Wt=Ac(c,c.state.doc,me.sel);if(Wt&&!Wt.eq(c.state.selection)){var $t=c.state.tr.setSelection(Wt);S&&$t.setMeta("composition",S),c.dispatch($t)}}return}c.state.selection.from<c.state.selection.to&&We.start==We.endB&&c.state.selection instanceof se.TextSelection&&(We.start>c.state.selection.from&&We.start<=c.state.selection.from+2&&c.state.selection.from>=me.from?We.start=c.state.selection.from:We.endA<c.state.selection.to&&We.endA>=c.state.selection.to-2&&c.state.selection.to<=me.to&&(We.endB+=c.state.selection.to-We.endA,We.endA=c.state.selection.to)),I&&V<=11&&We.endB==We.start+1&&We.endA==We.start&&We.start>me.from&&me.doc.textBetween(We.start-me.from-1,We.start-me.from+1)==" "&&(We.start--,We.endA--,We.endB--);var Ot=me.doc.resolveNoCache(We.start-me.from),_t=me.doc.resolveNoCache(We.endB-me.from),rr=Ee.resolve(We.start),er=Ot.sameParent(_t)&&Ot.parent.inlineContent&&rr.end()>=We.endA;if((He&&c.input.lastIOSEnter>Date.now()-225&&(!er||k.some(function(Cr){return Cr.nodeName=="DIV"||Cr.nodeName=="P"}))||!er&&Ot.pos<me.doc.content.size&&(!Ot.sameParent(_t)||!Ot.parent.inlineContent)&&Ot.pos<_t.pos&&!/\S/.test(me.doc.textBetween(Ot.pos,_t.pos,"","")))&&c.someProp("handleKeyDown",function(Cr){return Cr(c,Dt(13,"Enter"))})){c.input.lastIOSEnter=0;return}if(c.state.selection.anchor>We.start&&ap(Ee,We.start,We.endA,Ot,_t)&&c.someProp("handleKeyDown",function(Cr){return Cr(c,Dt(8,"Backspace"))})){Xe&&ae&&c.domObserver.suppressSelectionUpdates();return}ae&&We.endB==We.start&&(c.input.lastChromeDelete=Date.now()),Xe&&!er&&Ot.start()!=_t.start()&&_t.parentOffset==0&&Ot.depth==_t.depth&&me.sel&&me.sel.anchor==me.sel.head&&me.sel.head==We.endA&&(We.endB-=2,_t=me.doc.resolveNoCache(We.endB-me.from),setTimeout(function(){c.someProp("handleKeyDown",function(Cr){return Cr(c,Dt(13,"Enter"))})},20));var kr=We.start,Er=We.endA,Mr=function(Zl){var mi=Zl||c.state.tr.replace(kr,Er,me.doc.slice(We.start-me.from,We.endB-me.from));if(me.sel){var nn=Ac(c,mi.doc,me.sel);nn&&!(ae&&c.composing&&nn.empty&&(We.start!=We.endB||c.input.lastChromeDelete<Date.now()-100)&&(nn.head==kr||nn.head==mi.mapping.map(Er)-1)||I&&nn.empty&&nn.head==kr)&&mi.setSelection(nn)}return S&&mi.setMeta("composition",S),mi.scrollIntoView()},vi;if(er)if(Ot.pos==_t.pos){I&&V<=11&&Ot.parentOffset==0&&(c.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Bn(c)},20));var Ws=Mr(c.state.tr.delete(kr,Er)),Mi=Ee.resolve(We.start).marksAcross(Ee.resolve(We.endA));Mi&&Ws.ensureMarks(Mi),c.dispatch(Ws)}else if(We.endA==We.endB&&(vi=ip(Ot.parent.content.cut(Ot.parentOffset,_t.parentOffset),rr.parent.content.cut(rr.parentOffset,We.endA-rr.start())))){var Ca=Mr(c.state.tr);vi.type=="add"?Ca.addMark(kr,Er,vi.mark):Ca.removeMark(kr,Er,vi.mark),c.dispatch(Ca)}else if(Ot.parent.child(Ot.index()).isText&&Ot.index()==_t.index()-(_t.textOffset?0:1)){var xa=Ot.parent.textBetween(Ot.parentOffset,_t.parentOffset),Go=function(){return Mr(c.state.tr.insertText(xa,kr,Er))};c.someProp("handleTextInput",function(Cr){return Cr(c,kr,Er,xa,Go)})||c.dispatch(Go())}else c.dispatch(Mr());else c.dispatch(Mr())}function Ac(c,m,d){return Math.max(d.anchor,d.head)>m.content.size?null:di(c,m.resolve(d.anchor),m.resolve(d.head))}function ip(c,m){for(var d=c.firstChild.marks,g=m.firstChild.marks,k=d,S=g,A,N,z,G=0;G<g.length;G++)k=g[G].removeFromSet(k);for(var fe=0;fe<d.length;fe++)S=d[fe].removeFromSet(S);if(k.length==1&&S.length==0)N=k[0],A="add",z=function(_e){return _e.mark(N.addToSet(_e.marks))};else if(k.length==0&&S.length==1)N=S[0],A="remove",z=function(_e){return _e.mark(N.removeFromSet(_e.marks))};else return null;for(var be=[],me=0;me<m.childCount;me++)be.push(z(m.child(me)));if(oe.Fragment.from(be).eq(c))return{mark:N,type:A}}function ap(c,m,d,g,k){if(d-m<=k.pos-g.pos||Yl(g,!0,!1)<k.pos)return!1;var S=c.resolve(m);if(!g.parent.isTextblock){var A=S.nodeAfter;return A!=null&&d==m+A.nodeSize}if(S.parentOffset<S.parent.content.size||!S.parent.isTextblock)return!1;var N=c.resolve(Yl(S,!0,!0));return!N.parent.isTextblock||N.pos>d||Yl(N,!0,!1)<d?!1:g.parent.content.cut(g.parentOffset).eq(N.parent.content)}function Yl(c,m,d){for(var g=c.depth,k=m?c.end():c.pos;g>0&&(m||c.indexAfter(g)==c.node(g).childCount);)g--,k++,m=!1;if(d)for(var S=c.node(g).maybeChild(c.indexAfter(g));S&&!S.isLeaf;)S=S.firstChild,k++;return k}function op(c,m,d,g,k){var S=c.findDiffStart(m,d);if(S==null)return null;var A=c.findDiffEnd(m,d+c.size,d+m.size),N=A.a,z=A.b;if(k=="end"){var G=Math.max(0,S-Math.min(N,z));g-=N+G-S}if(N<S&&c.size<m.size){var fe=g<=S&&g>=N?S-g:0;S-=fe,S&&S<m.size&&Nc(m.textBetween(S-1,S+1))&&(S+=fe?1:-1),z=S+(z-N),N=S}else if(z<S){var be=g<=S&&g>=z?S-g:0;S-=be,S&&S<c.size&&Nc(c.textBetween(S-1,S+1))&&(S+=be?1:-1),N=S+(N-z),z=S}return{start:S,endA:N,endB:z}}function Nc(c){if(c.length!=2)return!1;var m=c.charCodeAt(0),d=c.charCodeAt(1);return m>=56320&&m<=57343&&d>=55296&&d<=56319}var sp=ke,lp=zo,Dc=(function(){function c(m,d){var g=this;B(this,c),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kh,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=d,this.state=d.state,this.directPlugins=d.plugins||[],this.directPlugins.forEach(_c),this.dispatch=this.dispatch.bind(this),this.dom=m&&m.mount||document.createElement("div"),m&&(m.appendChild?m.appendChild(this.dom):typeof m=="function"?m(this.dom):m.mount&&(this.mounted=!0)),this.editable=Ic(this),Lc(this),this.nodeViews=Pc(this),this.docView=T(this.state.doc,Rc(this),Ql(this),this.dom,this),this.domObserver=new Jh(this,function(k,S,A,N){return np(g,k,S,A,N)}),this.domObserver.start(),Ch(this),this.updatePluginViews()}return Q(c,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var d=this._props;this._props={};for(var g in d)this._props[g]=d[g];this._props.state=this.state}return this._props}},{key:"update",value:function(d){d.handleDOMEvents!=this._props.handleDOMEvents&&Wl(this);var g=this._props;this._props=d,d.plugins&&(d.plugins.forEach(_c),this.directPlugins=d.plugins),this.updateStateInner(d.state,g)}},{key:"setProps",value:function(d){var g={};for(var k in this._props)g[k]=this._props[k];g.state=this.state;for(var S in d)g[S]=d[S];this.update(g)}},{key:"updateState",value:function(d){this.updateStateInner(d,this._props)}},{key:"updateStateInner",value:function(d,g){var k,S=this.state,A=!1,N=!1;d.storedMarks&&this.composing&&(vc(this),N=!0),this.state=d;var z=S.plugins!=d.plugins||this._props.plugins!=g.plugins;if(z||this._props.plugins!=g.plugins||this._props.nodeViews!=g.nodeViews){var G=Pc(this);cp(G,this.nodeViews)&&(this.nodeViews=G,A=!0)}(z||g.handleDOMEvents!=this._props.handleDOMEvents)&&Wl(this),this.editable=Ic(this),Lc(this);var fe=Ql(this),be=Rc(this),me=S.plugins!=d.plugins&&!S.doc.eq(d.doc)?"reset":d.scrollToSelection>S.scrollToSelection?"to selection":"preserve",Ee=A||!this.docView.matchesNode(d.doc,be,fe);(Ee||!d.selection.eq(S.selection))&&(N=!0);var _e=me=="preserve"&&N&&this.dom.style.overflowAnchor==null&&ht(this);if(N){this.domObserver.stop();var Ye=Ee&&(I||ae)&&!this.composing&&!S.selection.empty&&!d.selection.empty&&up(S.selection,d.selection);if(Ee){var ct=ae?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=_h(this)),(A||!this.docView.update(d.doc,be,fe,this))&&(this.docView.updateOuterDeco(be),this.docView.destroy(),this.docView=T(d.doc,be,fe,this.dom,this)),ct&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(Ye=!0)}Ye||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Wi(this))?Bn(this,Ye):(ga(this,d.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(S),!((k=this.dragging)===null||k===void 0)&&k.node&&!S.doc.eq(d.doc)&&this.updateDraggedNode(this.dragging,S),me=="reset"?this.dom.scrollTop=0:me=="to selection"?this.scrollToSelection():_e&&Lt(_e)}},{key:"scrollToSelection",value:function(){var d=this,g=this.domSelectionRange().focusNode;if(!(!g||!this.dom.contains(g.nodeType==1?g:g.parentNode))){if(!this.someProp("handleScrollToSelection",function(S){return S(d)}))if(this.state.selection instanceof se.NodeSelection){var k=this.docView.domAfterPos(this.state.selection.from);k.nodeType==1&&ze(this,k.getBoundingClientRect(),g)}else ze(this,this.coordsAtPos(this.state.selection.head,1),g)}}},{key:"destroyPluginViews",value:function(){for(var d;d=this.pluginViews.pop();)d.destroy&&d.destroy()}},{key:"updatePluginViews",value:function(d){if(!d||d.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var g=0;g<this.directPlugins.length;g++){var k=this.directPlugins[g];k.spec.view&&this.pluginViews.push(k.spec.view(this))}for(var S=0;S<this.state.plugins.length;S++){var A=this.state.plugins[S];A.spec.view&&this.pluginViews.push(A.spec.view(this))}}else for(var N=0;N<this.pluginViews.length;N++){var z=this.pluginViews[N];z.update&&z.update(this,d)}}},{key:"updateDraggedNode",value:function(d,g){var k=d.node,S=-1;if(this.state.doc.nodeAt(k.from)==k.node)S=k.from;else{var A=k.from+(this.state.doc.content.size-g.doc.content.size),N=A>0&&this.state.doc.nodeAt(A);N==k.node&&(S=A)}this.dragging=new gc(d.slice,d.move,S<0?void 0:se.NodeSelection.create(this.state.doc,S))}},{key:"someProp",value:function(d,g){var k=this._props&&this._props[d],S;if(k!=null&&(S=g?g(k):k))return S;for(var A=0;A<this.directPlugins.length;A++){var N=this.directPlugins[A].props[d];if(N!=null&&(S=g?g(N):N))return S}var z=this.state.plugins;if(z)for(var G=0;G<z.length;G++){var fe=z[G].props[d];if(fe!=null&&(S=g?g(fe):fe))return S}}},{key:"hasFocus",value:function(){if(I){var d=this.root.activeElement;if(d==this.dom)return!0;if(!d||!this.dom.contains(d))return!1;for(;d&&this.dom!=d&&this.dom.contains(d);){if(d.contentEditable=="false")return!1;d=d.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&cr(this.dom),Bn(this),this.domObserver.start()}},{key:"root",get:function(){var d=this,g=this._root;if(g==null){for(var k=function(z){if(z.nodeType==9||z.nodeType==11&&z.host)return z.getSelection||(Object.getPrototypeOf(z).getSelection=function(){return z.ownerDocument.getSelection()}),{v:d._root=z}},S,A=this.dom.parentNode;A;A=A.parentNode)if(S=k(A),S)return S.v}return g||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(d){return Tn(this,d)}},{key:"coordsAtPos",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return fr(this,d,g)}},{key:"domAtPos",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(d,g)}},{key:"nodeDOM",value:function(d){var g=this.docView.descAt(d);return g?g.nodeDOM:null}},{key:"posAtDOM",value:function(d,g){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,S=this.docView.posFromDOM(d,g,k);if(S==null)throw new RangeError("DOM position not inside the editor");return S}},{key:"endOfTextblock",value:function(d,g){return Ne(this,g||this.state,d)}},{key:"pasteHTML",value:function(d,g){return Uo(this,"",d,!1,g||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(d,g){return Uo(this,d,null,!0,g||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(d){return Ct(this,d)}},{key:"destroy",value:function(){this.docView&&(xh(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ql(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Tt())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(d){return Sh(this,d)}},{key:"domSelectionRange",value:function(){var d=this.domSelection();return d?Le&&this.root.nodeType===11&&Nt(this.dom.ownerDocument)==this.dom&&Qh(this,d)||d:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),c})();Dc.prototype.dispatch=function(c){var m=this._props.dispatchTransaction;m?m.call(this,c):this.updateState(this.state.apply(c))};function Rc(c){var m=Object.create(null);return m.class="ProseMirror",m.contenteditable=String(c.editable),c.someProp("attributes",function(d){if(typeof d=="function"&&(d=d(c.state)),d)for(var g in d)g=="class"?m.class+=" "+d[g]:g=="style"?m.style=(m.style?m.style+";":"")+d[g]:!m[g]&&g!="contenteditable"&&g!="nodeName"&&(m[g]=String(d[g]))}),m.translate||(m.translate="no"),[ba.node(0,c.state.doc.content.size,m)]}function Lc(c){if(c.markCursor){var m=document.createElement("img");m.className="ProseMirror-separator",m.setAttribute("mark-placeholder","true"),m.setAttribute("alt",""),c.cursorWrapper={dom:m,deco:ba.widget(c.state.selection.from,m,{raw:!0,marks:c.markCursor})}}else c.cursorWrapper=null}function Ic(c){return!c.someProp("editable",function(m){return m(c.state)===!1})}function up(c,m){var d=Math.min(c.$anchor.sharedDepth(c.head),m.$anchor.sharedDepth(m.head));return c.$anchor.start(d)!=m.$anchor.start(d)}function Pc(c){var m=Object.create(null);function d(g){for(var k in g)Object.prototype.hasOwnProperty.call(m,k)||(m[k]=g[k])}return c.someProp("nodeViews",d),c.someProp("markViews",d),m}function cp(c,m){var d=0,g=0;for(var k in c){if(c[k]!=m[k])return!0;d++}for(var S in m)g++;return d!=g}function _c(c){if(c.spec.state||c.spec.filterTransaction||c.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}return Zo.Decoration=ba,Zo.DecorationSet=Yn,Zo.EditorView=Dc,Zo.__endComposition=lp,Zo.__parseFromClipboard=sp,Zo}/*!
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 */var ow;function Kfe(){return ow||(ow=1,(function(t,e){(function(n,i){t.exports=i(Ufe(),Wfe(),Gd(),Kd(),Gfe())})(self,function(r,n,i,a,o){return(function(){var s={368:(function(h){/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */(function(w,C){h.exports=C()})(this,function(){function w(Ve){if(Array.isArray(Ve)){for(var ze=0,ht=Array(Ve.length);ze<Ve.length;ze++)ht[ze]=Ve[ze];return ht}else return Array.from(Ve)}var C=Object.hasOwnProperty,x=Object.setPrototypeOf,M=Object.isFrozen,D=Object.getPrototypeOf,B=Object.getOwnPropertyDescriptor,j=Object.freeze,Q=Object.seal,Y=Object.create,te=typeof Reflect<"u"&&Reflect,se=te.apply,oe=te.construct;se||(se=function(ze,ht,wt){return ze.apply(ht,wt)}),j||(j=function(ze){return ze}),Q||(Q=function(ze){return ze}),oe||(oe=function(ze,ht){return new(Function.prototype.bind.apply(ze,[null].concat(w(ht))))});var ge=it(Array.prototype.forEach),Se=it(Array.prototype.pop),qe=it(Array.prototype.push),rt=it(String.prototype.toLowerCase),je=it(String.prototype.match),Tt=it(String.prototype.replace),yt=it(String.prototype.indexOf),At=it(String.prototype.trim),Je=it(RegExp.prototype.test),ut=Ht(TypeError);function it(Ve){return function(ze){for(var ht=arguments.length,wt=Array(ht>1?ht-1:0),Lt=1;Lt<ht;Lt++)wt[Lt-1]=arguments[Lt];return se(Ve,ze,wt)}}function Ht(Ve){return function(){for(var ze=arguments.length,ht=Array(ze),wt=0;wt<ze;wt++)ht[wt]=arguments[wt];return oe(Ve,ht)}}function nt(Ve,ze){x&&x(Ve,null);for(var ht=ze.length;ht--;){var wt=ze[ht];if(typeof wt=="string"){var Lt=rt(wt);Lt!==wt&&(M(ze)||(ze[ht]=Lt),wt=Lt)}Ve[wt]=!0}return Ve}function pt(Ve){var ze=Y(null),ht=void 0;for(ht in Ve)se(C,Ve,[ht])&&(ze[ht]=Ve[ht]);return ze}function at(Ve,ze){for(;Ve!==null;){var ht=B(Ve,ze);if(ht){if(ht.get)return it(ht.get);if(typeof ht.value=="function")return it(ht.value)}Ve=D(Ve)}function wt(Lt){return console.warn("fallback value for",Lt),null}return wt}var Dt=j(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Nt=j(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kt=j(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Vt=j(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Oe=j(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),he=j(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ue=j(["#text"]),ee=j(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ce=j(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=j(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=j(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=Q(/\{\{[\s\S]*|[\s\S]*\}\}/gm),le=Q(/<%[\s\S]*|[\s\S]*%>/gm),ae=Q(/^data-[\-\w.\u00B7-\uFFFF]/),ye=Q(/^aria-[\-\w]+$/),Le=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),He=Q(/^(?:\w+script|data):/i),Pe=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ve){return typeof Ve}:function(Ve){return Ve&&typeof Symbol=="function"&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve};function Xe(Ve){if(Array.isArray(Ve)){for(var ze=0,ht=Array(Ve.length);ze<Ve.length;ze++)ht[ze]=Ve[ze];return ht}else return Array.from(Ve)}var Ge=function(){return typeof window>"u"?null:window},dt=function(ze,ht){if((typeof ze>"u"?"undefined":Ie(ze))!=="object"||typeof ze.createPolicy!="function")return null;var wt=null,Lt="data-tt-policy-suffix";ht.currentScript&&ht.currentScript.hasAttribute(Lt)&&(wt=ht.currentScript.getAttribute(Lt));var nr="dompurify"+(wt?"#"+wt:"");try{return ze.createPolicy(nr,{createHTML:function(cr){return cr}})}catch{return console.warn("TrustedTypes policy "+nr+" could not be created."),null}};function bt(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge(),ze=function(ke){return bt(ke)};if(ze.version="2.3.3",ze.removed=[],!Ve||!Ve.document||Ve.document.nodeType!==9)return ze.isSupported=!1,ze;var ht=Ve.document,wt=Ve.document,Lt=Ve.DocumentFragment,nr=Ve.HTMLTemplateElement,Jt=Ve.Node,cr=Ve.Element,ir=Ve.NodeFilter,yr=Ve.NamedNodeMap,br=yr===void 0?Ve.NamedNodeMap||Ve.MozNamedAttrMap:yr,Vr=Ve.Text,li=Ve.Comment,Xn=Ve.DOMParser,In=Ve.trustedTypes,Tn=cr.prototype,pn=at(Tn,"cloneNode"),Nr=at(Tn,"nextSibling"),Pn=at(Tn,"childNodes"),fr=at(Tn,"parentNode");if(typeof nr=="function"){var Br=wt.createElement("template");Br.content&&Br.content.ownerDocument&&(wt=Br.content.ownerDocument)}var J=dt(In,ht),K=J&&ji?J.createHTML(""):"",_=wt,L=_.implementation,H=_.createNodeIterator,$=_.createDocumentFragment,re=_.getElementsByTagName,Ce=ht.importNode,Ne={};try{Ne=pt(wt).documentMode?wt.documentMode:{}}catch{}var ve={};ze.isSupported=typeof fr=="function"&&L&&typeof L.createHTMLDocument<"u"&&Ne!==9;var ne=q,Te=le,De=ae,et=ye,kt=He,F=Pe,O=Le,y=null,T=nt({},[].concat(Xe(Dt),Xe(Nt),Xe(Kt),Xe(Oe),Xe(ue))),R=null,U=nt({},[].concat(Xe(ee),Xe(ce),Xe(I),Xe(V))),X=null,ie=null,we=!0,xe=!0,$e=!1,Fe=!1,Qe=!1,xt=!1,jt=!1,dr=!1,_n=!1,Ei=!0,ji=!1,Is=!0,Po=!0,ma=!1,ui={},ci=null,_o=nt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Bn=null,Bo=nt({},["audio","video","img","source","image","track"]),Ya=null,Za=nt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eo="http://www.w3.org/1998/Math/MathML",Fo="http://www.w3.org/2000/svg",fi="http://www.w3.org/1999/xhtml",ga=fi,to=!1,di=void 0,Ps=["application/xhtml+xml","text/html"],_s="text/html",Wi=void 0,hi=null,pi=wt.createElement("form"),ro=function(ke){hi&&hi===ke||((!ke||(typeof ke>"u"?"undefined":Ie(ke))!=="object")&&(ke={}),ke=pt(ke),y="ALLOWED_TAGS"in ke?nt({},ke.ALLOWED_TAGS):T,R="ALLOWED_ATTR"in ke?nt({},ke.ALLOWED_ATTR):U,Ya="ADD_URI_SAFE_ATTR"in ke?nt(pt(Za),ke.ADD_URI_SAFE_ATTR):Za,Bn="ADD_DATA_URI_TAGS"in ke?nt(pt(Bo),ke.ADD_DATA_URI_TAGS):Bo,ci="FORBID_CONTENTS"in ke?nt({},ke.FORBID_CONTENTS):_o,X="FORBID_TAGS"in ke?nt({},ke.FORBID_TAGS):{},ie="FORBID_ATTR"in ke?nt({},ke.FORBID_ATTR):{},ui="USE_PROFILES"in ke?ke.USE_PROFILES:!1,we=ke.ALLOW_ARIA_ATTR!==!1,xe=ke.ALLOW_DATA_ATTR!==!1,$e=ke.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=ke.SAFE_FOR_TEMPLATES||!1,Qe=ke.WHOLE_DOCUMENT||!1,dr=ke.RETURN_DOM||!1,_n=ke.RETURN_DOM_FRAGMENT||!1,Ei=ke.RETURN_DOM_IMPORT!==!1,ji=ke.RETURN_TRUSTED_TYPE||!1,jt=ke.FORCE_BODY||!1,Is=ke.SANITIZE_DOM!==!1,Po=ke.KEEP_CONTENT!==!1,ma=ke.IN_PLACE||!1,O=ke.ALLOWED_URI_REGEXP||O,ga=ke.NAMESPACE||fi,di=Ps.indexOf(ke.PARSER_MEDIA_TYPE)===-1?di=_s:di=ke.PARSER_MEDIA_TYPE,Wi=di==="application/xhtml+xml"?function(Ke){return Ke}:rt,Fe&&(xe=!1),_n&&(dr=!0),ui&&(y=nt({},[].concat(Xe(ue))),R=[],ui.html===!0&&(nt(y,Dt),nt(R,ee)),ui.svg===!0&&(nt(y,Nt),nt(R,ce),nt(R,V)),ui.svgFilters===!0&&(nt(y,Kt),nt(R,ce),nt(R,V)),ui.mathMl===!0&&(nt(y,Oe),nt(R,I),nt(R,V))),ke.ADD_TAGS&&(y===T&&(y=pt(y)),nt(y,ke.ADD_TAGS)),ke.ADD_ATTR&&(R===U&&(R=pt(R)),nt(R,ke.ADD_ATTR)),ke.ADD_URI_SAFE_ATTR&&nt(Ya,ke.ADD_URI_SAFE_ATTR),ke.FORBID_CONTENTS&&(ci===_o&&(ci=pt(ci)),nt(ci,ke.FORBID_CONTENTS)),Po&&(y["#text"]=!0),Qe&&nt(y,["html","head","body"]),y.table&&(nt(y,["tbody"]),delete X.tbody),j&&j(ke),hi=ke)},ya=nt({},["mi","mo","mn","ms","mtext"]),Gi=nt({},["foreignobject","desc","title","annotation-xml"]),Qn=nt({},Nt);nt(Qn,Kt),nt(Qn,Vt);var qo=nt({},Oe);nt(qo,he);var Ul=function(ke){var Ke=fr(ke);(!Ke||!Ke.tagName)&&(Ke={namespaceURI:fi,tagName:"template"});var mt=rt(ke.tagName),Qt=rt(Ke.tagName);if(ke.namespaceURI===Fo)return Ke.namespaceURI===fi?mt==="svg":Ke.namespaceURI===eo?mt==="svg"&&(Qt==="annotation-xml"||ya[Qt]):!!Qn[mt];if(ke.namespaceURI===eo)return Ke.namespaceURI===fi?mt==="math":Ke.namespaceURI===Fo?mt==="math"&&Gi[Qt]:!!qo[mt];if(ke.namespaceURI===fi){if(Ke.namespaceURI===Fo&&!Gi[Qt]||Ke.namespaceURI===eo&&!ya[Qt])return!1;var Dr=nt({},["title","style","font","a","script"]);return!qo[mt]&&(Dr[mt]||!Qn[mt])}return!1},Fn=function(ke){qe(ze.removed,{element:ke});try{ke.parentNode.removeChild(ke)}catch{try{ke.outerHTML=K}catch{ke.remove()}}},Bs=function(ke,Ke){try{qe(ze.removed,{attribute:Ke.getAttributeNode(ke),from:Ke})}catch{qe(ze.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(ke),ke==="is"&&!R[ke])if(dr||_n)try{Fn(Ke)}catch{}else try{Ke.setAttribute(ke,"")}catch{}},Fs=function(ke){var Ke=void 0,mt=void 0;if(jt)ke="<remove></remove>"+ke;else{var Qt=je(ke,/^[\r\n\t ]+/);mt=Qt&&Qt[0]}di==="application/xhtml+xml"&&(ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ke+"</body></html>");var Dr=J?J.createHTML(ke):ke;if(ga===fi)try{Ke=new Xn().parseFromString(Dr,di)}catch{}if(!Ke||!Ke.documentElement){Ke=L.createDocument(ga,"template",null);try{Ke.documentElement.innerHTML=to?"":Dr}catch{}}var Rr=Ke.body||Ke.documentElement;return ke&&mt&&Rr.insertBefore(wt.createTextNode(mt),Rr.childNodes[0]||null),ga===fi?re.call(Ke,Qe?"html":"body")[0]:Qe?Ke.documentElement:Rr},no=function(ke){return H.call(ke.ownerDocument||ke,ke,ir.SHOW_ELEMENT|ir.SHOW_COMMENT|ir.SHOW_TEXT,null,!1)},qs=function(ke){return ke instanceof Vr||ke instanceof li?!1:typeof ke.nodeName!="string"||typeof ke.textContent!="string"||typeof ke.removeChild!="function"||!(ke.attributes instanceof br)||typeof ke.removeAttribute!="function"||typeof ke.setAttribute!="function"||typeof ke.namespaceURI!="string"||typeof ke.insertBefore!="function"},Ki=function(ke){return(typeof Jt>"u"?"undefined":Ie(Jt))==="object"?ke instanceof Jt:ke&&(typeof ke>"u"?"undefined":Ie(ke))==="object"&&typeof ke.nodeType=="number"&&typeof ke.nodeName=="string"},qn=function(ke,Ke,mt){ve[ke]&&ge(ve[ke],function(Qt){Qt.call(ze,Ke,mt,hi)})},Ho=function(ke){var Ke=void 0;if(qn("beforeSanitizeElements",ke,null),qs(ke)||je(ke.nodeName,/[\u0080-\uFFFF]/))return Fn(ke),!0;var mt=Wi(ke.nodeName);if(qn("uponSanitizeElement",ke,{tagName:mt,allowedTags:y}),!Ki(ke.firstElementChild)&&(!Ki(ke.content)||!Ki(ke.content.firstElementChild))&&Je(/<[/\w]/g,ke.innerHTML)&&Je(/<[/\w]/g,ke.textContent)||mt==="select"&&Je(/<template/i,ke.innerHTML))return Fn(ke),!0;if(!y[mt]||X[mt]){if(Po&&!ci[mt]){var Qt=fr(ke)||ke.parentNode,Dr=Pn(ke)||ke.childNodes;if(Dr&&Qt)for(var Rr=Dr.length,Sr=Rr-1;Sr>=0;--Sr)Qt.insertBefore(pn(Dr[Sr],!0),Nr(ke))}return Fn(ke),!0}return ke instanceof cr&&!Ul(ke)||(mt==="noscript"||mt==="noembed")&&Je(/<\/no(script|embed)/i,ke.innerHTML)?(Fn(ke),!0):(Fe&&ke.nodeType===3&&(Ke=ke.textContent,Ke=Tt(Ke,ne," "),Ke=Tt(Ke,Te," "),ke.textContent!==Ke&&(qe(ze.removed,{element:ke.cloneNode()}),ke.textContent=Ke)),qn("afterSanitizeElements",ke,null),!1)},Hs=function(ke,Ke,mt){if(Is&&(Ke==="id"||Ke==="name")&&(mt in wt||mt in pi))return!1;if(!(xe&&!ie[Ke]&&Je(De,Ke))){if(!(we&&Je(et,Ke))){if(!R[Ke]||ie[Ke])return!1;if(!Ya[Ke]){if(!Je(O,Tt(mt,F,""))){if(!((Ke==="src"||Ke==="xlink:href"||Ke==="href")&&ke!=="script"&&yt(mt,"data:")===0&&Bn[ke])){if(!($e&&!Je(kt,Tt(mt,F,"")))){if(mt)return!1}}}}}}return!0},Vs=function(ke){var Ke=void 0,mt=void 0,Qt=void 0,Dr=void 0;qn("beforeSanitizeAttributes",ke,null);var Rr=ke.attributes;if(Rr){var Sr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R};for(Dr=Rr.length;Dr--;){Ke=Rr[Dr];var Hn=Ke,Ji=Hn.name,Vo=Hn.namespaceURI;if(mt=At(Ke.value),Qt=Wi(Ji),Sr.attrName=Qt,Sr.attrValue=mt,Sr.keepAttr=!0,Sr.forceKeepAttr=void 0,qn("uponSanitizeAttribute",ke,Sr),mt=Sr.attrValue,!Sr.forceKeepAttr&&(Bs(Ji,ke),!!Sr.keepAttr)){if(Je(/\/>/i,mt)){Bs(Ji,ke);continue}Fe&&(mt=Tt(mt,ne," "),mt=Tt(mt,Te," "));var zs=Wi(ke.nodeName);if(Hs(zs,Qt,mt))try{Vo?ke.setAttributeNS(Vo,Ji,mt):ke.setAttribute(Ji,mt),Se(ze.removed)}catch{}}}qn("afterSanitizeAttributes",ke,null)}},jl=function Ct(ke){var Ke=void 0,mt=no(ke);for(qn("beforeSanitizeShadowDOM",ke,null);Ke=mt.nextNode();)qn("uponSanitizeShadowNode",Ke,null),!Ho(Ke)&&(Ke.content instanceof Lt&&Ct(Ke.content),Vs(Ke));qn("afterSanitizeShadowDOM",ke,null)};return ze.sanitize=function(Ct,ke){var Ke=void 0,mt=void 0,Qt=void 0,Dr=void 0,Rr=void 0;if(to=!Ct,to&&(Ct="<!-->"),typeof Ct!="string"&&!Ki(Ct)){if(typeof Ct.toString!="function")throw ut("toString is not a function");if(Ct=Ct.toString(),typeof Ct!="string")throw ut("dirty is not a string, aborting")}if(!ze.isSupported){if(Ie(Ve.toStaticHTML)==="object"||typeof Ve.toStaticHTML=="function"){if(typeof Ct=="string")return Ve.toStaticHTML(Ct);if(Ki(Ct))return Ve.toStaticHTML(Ct.outerHTML)}return Ct}if(xt||ro(ke),ze.removed=[],typeof Ct=="string"&&(ma=!1),!ma)if(Ct instanceof Jt)Ke=Fs("<!---->"),mt=Ke.ownerDocument.importNode(Ct,!0),mt.nodeType===1&&mt.nodeName==="BODY"||mt.nodeName==="HTML"?Ke=mt:Ke.appendChild(mt);else{if(!dr&&!Fe&&!Qe&&Ct.indexOf("<")===-1)return J&&ji?J.createHTML(Ct):Ct;if(Ke=Fs(Ct),!Ke)return dr?null:K}Ke&&jt&&Fn(Ke.firstChild);for(var Sr=no(ma?Ct:Ke);Qt=Sr.nextNode();)Qt.nodeType===3&&Qt===Dr||Ho(Qt)||(Qt.content instanceof Lt&&jl(Qt.content),Vs(Qt),Dr=Qt);if(Dr=null,ma)return Ct;if(dr){if(_n)for(Rr=$.call(Ke.ownerDocument);Ke.firstChild;)Rr.appendChild(Ke.firstChild);else Rr=Ke;return Ei&&(Rr=Ce.call(ht,Rr,!0)),Rr}var Hn=Qe?Ke.outerHTML:Ke.innerHTML;return Fe&&(Hn=Tt(Hn,ne," "),Hn=Tt(Hn,Te," ")),J&&ji?J.createHTML(Hn):Hn},ze.setConfig=function(Ct){ro(Ct),xt=!0},ze.clearConfig=function(){hi=null,xt=!1},ze.isValidAttribute=function(Ct,ke,Ke){hi||ro({});var mt=Wi(Ct),Qt=Wi(ke);return Hs(mt,Qt,Ke)},ze.addHook=function(Ct,ke){typeof ke=="function"&&(ve[Ct]=ve[Ct]||[],qe(ve[Ct],ke))},ze.removeHook=function(Ct){ve[Ct]&&Se(ve[Ct])},ze.removeHooks=function(Ct){ve[Ct]&&(ve[Ct]=[])},ze.removeAllHooks=function(){ve={}},ze}var St=bt();return St})}),928:(function(h,w,C){var x=C(322);function M(D,B,j){var Q,Y;if(j=j||0,!x(B))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(B,D,j);for(Y=B.length,Q=j;j>=0&&Q<Y;Q+=1)if(B[Q]===D)return Q;return-1}h.exports=M}),690:(function(h,w,C){var x=C(322),M=C(893),D=C(956);function B(j,Q,Y){x(j)?M(j,Q,Y):D(j,Q,Y)}h.exports=B}),893:(function(h){function w(C,x,M){var D=0,B=C.length;for(M=M||null;D<B&&x.call(M,C[D],D,C)!==!1;D+=1);}h.exports=w}),956:(function(h){function w(C,x,M){var D;M=M||null;for(D in C)if(C.hasOwnProperty(D)&&x.call(M,C[D],D,C)===!1)break}h.exports=w}),990:(function(h,w,C){var x=C(893);function M(D){var B;try{B=Array.prototype.slice.call(D)}catch{B=[],x(D,function(Q){B.push(Q)})}return B}h.exports=M}),755:(function(h){var w="_feEventKey";function C(x,M){var D=x[w],B;return D||(D=x[w]={}),B=D[M],B||(B=D[M]=[]),B}h.exports=C}),349:(function(h,w,C){var x=C(758),M=C(690),D=C(755);function B(Y,te,se){if(x(te)){M(te.split(/\s+/g),function(oe){j(Y,oe,se)});return}M(te,function(oe,ge){j(Y,ge,oe)})}function j(Y,te,se){var oe=D(Y,te),ge;se?(M(oe,function(Se,qe){return se===Se.handler?(Q(Y,te,Se.wrappedHandler),ge=qe,!1):!0}),oe.splice(ge,1)):(M(oe,function(Se){Q(Y,te,Se.wrappedHandler)}),oe.splice(0,oe.length))}function Q(Y,te,se){"removeEventListener"in Y?Y.removeEventListener(te,se):"detachEvent"in Y&&Y.detachEvent("on"+te,se)}h.exports=B}),348:(function(h,w,C){var x=C(758),M=C(690),D=C(755);function B(Y,te,se,oe){if(x(te)){M(te.split(/\s+/g),function(ge){j(Y,ge,se,oe)});return}M(te,function(ge,Se){j(Y,Se,ge,se)})}function j(Y,te,se,oe){function ge(Se){se.call(oe||Y,Se||window.event)}"addEventListener"in Y?Y.addEventListener(te,ge):"attachEvent"in Y&&Y.attachEvent("on"+te,ge),Q(Y,te,se,ge)}function Q(Y,te,se,oe){var ge=D(Y,te),Se=!1;M(ge,function(qe){return qe.handler===se?(Se=!0,!1):!0}),Se||ge.push({handler:se,wrappedHandler:oe})}h.exports=B}),24:(function(h,w,C){var x=C(322),M=C(929);function D(B,j){if(j=x(j)?j.join(" "):j,j=j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),M(B.className.baseVal)){B.className=j;return}B.className.baseVal=j}h.exports=D}),204:(function(h,w,C){var x=C(690),M=C(928),D=C(902),B=C(24);function j(Q){var Y=Array.prototype.slice.call(arguments,1),te=Q.classList,se=[],oe;if(te){x(Y,function(ge){Q.classList.add(ge)});return}oe=D(Q),oe&&(Y=[].concat(oe.split(/\s+/),Y)),x(Y,function(ge){M(ge,se)<0&&se.push(ge)}),B(Q,se)}h.exports=j}),522:(function(h,w,C){var x=C(758),M=C(690);function D(B,j,Q){var Y=B.style;if(x(j)){Y[j]=Q;return}M(j,function(te,se){Y[se]=te})}h.exports=D}),902:(function(h,w,C){var x=C(929);function M(D){return!D||!D.className?"":x(D.className.baseVal)?D.className:D.className.baseVal}h.exports=M}),714:(function(h,w,C){var x=C(928),M=C(902);function D(B,j){var Q;return B.classList?B.classList.contains(j):(Q=M(B).split(/\s+/),x(j,Q)>-1)}h.exports=D}),471:(function(h,w,C){var x=C(928),M=C(990),D=Element.prototype,B=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.msMatchesSelector||function(Q){var Y=this.document||this.ownerDocument;return x(this,M(Y.querySelectorAll(Q)))>-1};function j(Q,Y){return B.call(Q,Y)}h.exports=j}),462:(function(h,w,C){var x=C(893),M=C(928),D=C(902),B=C(24);function j(Q){var Y=Array.prototype.slice.call(arguments,1),te=Q.classList,se,oe;if(te){x(Y,function(ge){te.remove(ge)});return}se=D(Q).split(/\s+/),oe=[],x(se,function(ge){M(ge,Y)<0&&oe.push(ge)}),B(Q,oe)}h.exports=j}),969:(function(h){function w(C,x){var M=Object.prototype.hasOwnProperty,D,B,j,Q;for(j=1,Q=arguments.length;j<Q;j+=1){D=arguments[j];for(B in D)M.call(D,B)&&(C[B]=D[B])}return C}h.exports=w}),254:(function(h,w,C){var x=C(956);function M(D,B){var j=document.createElement("img"),Q="";return x(B,function(Y,te){Q+="&"+te+"="+Y}),Q=Q.substring(1),j.src=D+"?"+Q,j.style.display="none",document.body.appendChild(j),document.body.removeChild(j),j}h.exports=M}),391:(function(h,w,C){var x=C(929),M=C(254),D=10080*60*1e3;function B(Q){var Y=new Date().getTime();return Y-Q>D}function j(Q,Y){var te="https://www.google-analytics.com/collect",se=location.hostname,oe="event",ge="use",Se="TOAST UI "+Q+" for "+se+": Statistics",qe=window.localStorage.getItem(Se);!x(window.tui)&&window.tui.usageStatistics===!1||qe&&!B(qe)||(window.localStorage.setItem(Se,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&M(te,{v:1,t:oe,tid:Y,cid:se,dp:se,dh:Q,el:Q,ec:ge})},1e3))}h.exports=j}),322:(function(h){function w(C){return C instanceof Array}h.exports=w}),65:(function(h,w,C){var x=C(929),M=C(934);function D(B){return!x(B)&&!M(B)}h.exports=D}),404:(function(h,w,C){var x=C(790);function M(D){return!x(D)}h.exports=M}),294:(function(h){function w(C){return C instanceof Function}h.exports=w}),934:(function(h){function w(C){return C===null}h.exports=w}),758:(function(h){function w(C){return typeof C=="string"||C instanceof String}h.exports=w}),790:(function(h,w,C){var x=C(65);function M(D){return x(D)&&D!==!1}h.exports=M}),929:(function(h){function w(C){return C===void 0}h.exports=w}),479:(function(h){h.exports=r}),481:(function(h){h.exports=n}),43:(function(h){h.exports=i}),814:(function(h){h.exports=a}),311:(function(h){h.exports=o})},l={};function u(h){var w=l[h];if(w!==void 0)return w.exports;var C=l[h]={exports:{}};return s[h].call(C.exports,C,C.exports,u),C.exports}(function(){u.n=function(h){var w=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(w,{a:w}),w}})(),(function(){u.d=function(h,w){for(var C in w)u.o(w,C)&&!u.o(h,C)&&Object.defineProperty(h,C,{enumerable:!0,get:w[C]})}})(),(function(){u.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})()})(),(function(){u.o=function(h,w){return Object.prototype.hasOwnProperty.call(h,w)}})();var f={};return(function(){u.d(f,{default:function(){return foe}});var h=function(){return h=Object.assign||function(p){for(var b,E=1,P=arguments.length;E<P;E++){b=arguments[E];for(var W in b)Object.prototype.hasOwnProperty.call(b,W)&&(p[W]=b[W])}return p},h.apply(this,arguments)};function w(v,p,b){if(arguments.length===2)for(var E=0,P=p.length,W;E<P;E++)(W||!(E in p))&&(W||(W=Array.prototype.slice.call(p,0,E)),W[E]=p[E]);return v.concat(W||Array.prototype.slice.call(p))}/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var C=function(v,p){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(b[P]=E[P])},C(v,p)};function x(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");C(v,p);function b(){this.constructor=v}v.prototype=p===null?Object.create(p):(b.prototype=p.prototype,new b)}var M=function(){return M=Object.assign||function(p){for(var b,E=1,P=arguments.length;E<P;E++){b=arguments[E];for(var W in b)Object.prototype.hasOwnProperty.call(b,W)&&(p[W]=b[W])}return p},M.apply(this,arguments)};function D(v,p,b){if(arguments.length===2)for(var E=0,P=p.length,W;E<P;E++)(W||!(E in p))&&(W||(W=Array.prototype.slice.call(p,0,E)),W[E]=p[E]);return v.concat(W||Array.prototype.slice.call(p))}var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{},j={};function Q(v){var p,b,E=j[v];if(E)return E;for(E=j[v]=[],p=0;p<128;p++)b=String.fromCharCode(p),/^[0-9a-z]$/i.test(b)?E.push(b):E.push("%"+("0"+p.toString(16).toUpperCase()).slice(-2));for(p=0;p<v.length;p++)E[v.charCodeAt(p)]=v[p];return E}function Y(v,p,b){var E,P,W,Z,de,Re="";for(typeof p!="string"&&(b=p,p=Y.defaultChars),typeof b>"u"&&(b=!0),de=Q(p),E=0,P=v.length;E<P;E++){if(W=v.charCodeAt(E),b&&W===37&&E+2<P&&/^[0-9a-f]{2}$/i.test(v.slice(E+1,E+3))){Re+=v.slice(E,E+3),E+=2;continue}if(W<128){Re+=de[W];continue}if(W>=55296&&W<=57343){if(W>=55296&&W<=56319&&E+1<P&&(Z=v.charCodeAt(E+1),Z>=56320&&Z<=57343)){Re+=encodeURIComponent(v[E]+v[E+1]),E++;continue}Re+="%EF%BF%BD";continue}Re+=encodeURIComponent(v[E])}return Re}Y.defaultChars=";/?:@&=+$,-_.!~*'()#",Y.componentChars="-_.!~*'()";var te=Y,se={},oe={},ge="",Se="",qe="",rt="",je="",Tt="",yt="",At="",Je="",ut="",it="",Ht="",nt="",pt="",at="",Dt="",Nt="",Kt="",Vt="",Oe="",he="",ue="",ee="",ce="",I="",V="",q="&",le="&",ae="",ye="",Le="",He="",Pe="",Ie="",Xe="",Ge="",dt="",bt="",St="",Ve="",ze="",ht="",wt="",Lt="",nr="",Jt="",cr="",ir="",yr="",br="",Vr="",li="",Xn="",In="",Tn="",pn="",Nr="",Pn="",fr="",Br="",J="",K="'",_="",L="",H="",$="",re="",Ce="",Ne="",ve="",ne="*",Te="",De="",et="",kt="",F="",O="",y="",T="",R="",U="",X="",ie="",we="",xe="",$e="",Fe="",Qe="",xt="",jt="",dr="",_n="",Ei="",ji="",Is="",Po="",ma="",ui="",ci="",_o="",Bn="",Bo="",Ya="",Za="",eo="",Fo="",fi="",ga="",to="",di="",Ps="",_s="",Wi="",hi="",pi="",ro="",ya="",Gi="",Qn="",qo="",Ul="",Fn="",Bs="",Fs="",no="",qs="",Ki="",qn="",Ho="",Hs="",Vs="",jl="",Ct="",ke="",Ke="=",mt="",Qt="",Dr="",Rr="",Sr="",Hn="",Ji="",Vo="",zs="",$s="",mh="",gh="",yh="",bh="",tn="",rn="",wh="",kh="",Ch="",Xi="",xh="",Wl="",Gl="",Th="",Sh="",Us="",Eh="",Kl="",io="",Mh="",Oh="",Ah="",Nh="",Dh="",Rh="",Jl="",dc="",Lh="",hc="",Ih="",Ph="",pc="",vc="",_h="",Bh="",zo="",Fh="",$o="",qh="",Hh="",Uo="",mc="",gc="",Vh="",yc="",zh="",bc="",jo="",wc="",Wo="",$h="",ba="",ao="\\",wa="",Yn="",Kr="",kc="",Uh="",Cc="",jh="",xc="",Tc="",js="",ka="",Xl="",Sc="",Ql="",Wh="",Gh="",Kh="",Jh="",Ec="",Mc="",Xh="",Oc="",Qh="",Yh="",Zh="",ep="",tp="",rp="",np="",Ac="",ip="",ap="",Yl="",op="",Nc="",sp="",lp="",Dc="",Rc="",Lc="",Ic="",up="",Pc="",cp="",_c="",c="",m="",d="",g="",k="",S="",A="",N="",z="",G="",fe="",be="",me="",Ee="",_e="",Ye="",ct="",We="",Wt="",$t="",Ot="",_t="",rr="",er="",kr="",Er="",Mr="",vi=":",Ws="",Mi="",Ca="",xa="",Go=",",Cr="@",Zl="",mi="",nn="",Bc="",Fc="",qM="",HM="",VM="",zM="",$M="",UM="",jM="",WM="",GM="",KM="",JM="",XM="",QM="",YM="",ZM="",eO="",tO="",rO="",nO="",iO="",aO="",oO="",sO="",lO="",uO="",cO="",fO="",dO="",hO="",pO="",vO="",mO="",gO="",yO="",bO="",wO="",kO="",CO="",xO="",TO="",SO="",EO="",MO="",OO="",AO="",NO="",DO="",RO="",LO="",IO="",PO="",_O="",BO="",FO="",qO="",HO="",VO="",zO="",$O="",UO="",jO="",WO="",GO="",KO="",JO="",XO="",QO="",YO="",ZO="",eA="",tA="",rA="",nA="",iA="",aA="",oA="",sA="",lA="",uA="",cA="",fA="",dA="",hA="",pA="",vA="",mA="",gA="",yA="`",bA="",wA="",kA="",CA="",xA="",TA="",SA="",EA="",MA="",OA="",AA="",NA="",DA="",RA="",LA="",IA="",PA="",_A="",BA="$",FA="",qA="",HA="",VA="",zA="",$A="",UA="",jA="",WA="",GA="",KA="",JA="",XA="",QA="",YA="",ZA="",eN="",tN="",rN="",nN="",iN="",aN="",oN="",sN="",lN="",uN="",cN="",fN="",dN="",hN="",pN="",vN="",mN="",gN="",yN="",bN="",wN="",kN="",CN="",xN="",TN="",SN="",EN="",MN="",ON="",AN="",NN="",DN="",RN="",LN="",IN="",PN="",_N="",BN="",FN="",qN="",HN="",VN="",zN="",$N="",UN="",jN="",WN="",GN="",KN="",JN="",XN="",QN="",YN="",ZN="",eD="",tD="",rD="",nD="",iD="",aD="",oD="",sD="",lD="",uD="",cD="",fD="",dD="",hD="",pD="",vD="",mD="",gD="",yD="",bD="",wD="",kD="",CD="",xD="",TD="",SD="",ED="",MD="",OD="",AD="",ND="",DD="",RD="",LD="",ID="",PD="",_D="",BD="",FD="",qD="",HD="",VD="",zD="",$D="",UD="",jD="",WD="",GD="",KD="",JD="",XD="",QD="",YD="",ZD="=",eR="",tR="",rR="",nR="",iR="",aR="",oR="",sR="",lR="",uR="",cR="",fR="",dR="",hR="",pR="",vR="",mR="",gR="",yR="",bR="",wR="!",kR="",CR="",xR="",TR="",SR="",ER="",MR="",OR="",AR="",NR="",DR="",RR="",LR="",IR="",PR="",_R="",BR="",FR="fj",qR="",HR="",VR="",zR="",$R="",UR="",jR="",WR="",GR="",KR="",JR="",XR="",QR="",YR="",ZR="",eL="",tL="",rL="",nL="",iL="",aL="",oL="",sL="",lL="",uL="",cL="",fL="",dL="",hL="",pL="",vL="",mL="",gL="",yL="",bL="",wL="",kL="",CL="",xL="",TL="",SL="",EL="",ML="",OL="",AL="",NL="",DL="",RL="",LL="",IL="",PL="",_L="",BL="",FL="",qL="",HL="",VL="",zL="",$L="",UL="",jL="",WL="",GL="",KL="",JL="",XL="",QL="",YL="",ZL="",eI="",tI="",rI="",nI="",iI="",aI="",oI="",sI="",lI="",uI="",cI="",fI="",dI="`",hI="",pI="",vI="",mI="",gI="",yI="",bI="",wI="",kI="",CI="",xI="",TI="",SI="",EI="",MI=">",OI=">",AI="",NI="",DI="",RI="",LI="",II="",PI="",_I="",BI="",FI="",qI="",HI="",VI="",zI="",$I="",UI="",jI="",WI="",GI="",KI="",JI="",XI="",QI="",YI="^",ZI="",eP="",tP="",rP="",nP="",iP="",aP="",oP="",sP="",lP="",uP="",cP="",fP="",dP="",hP="",pP="",vP="",mP="",gP="",yP="",bP="",wP="",kP="",CP="",xP="",TP="",SP="",EP="",MP="",OP="",AP="",NP="",DP="",RP="",LP="",IP="",PP="",_P="",BP="",FP="",qP="",HP="",VP="",zP="",$P="",UP="",jP="",WP="",GP="",KP="",JP="",XP="",QP="",YP="",ZP="",e_="",t_="",r_="",n_="",i_="",a_="",o_="",s_="",l_="",u_="",c_="",f_="",d_="",h_="",p_="",v_="",m_="",g_="",y_="",b_="",w_="",k_="",C_="",x_="",T_="",S_="",E_="",M_="",O_="",A_="",N_="",D_="",R_="",L_="",I_="",P_="",__="",B_="",F_="",q_="",H_="",V_="",z_="",$_="",U_="",j_="",W_="",G_="",K_="",J_="",X_="",Q_="",Y_="",Z_="",eB="",tB="",rB="",nB="",iB="",aB="",oB="",sB="",lB="",uB="",cB="",fB="",dB="",hB="",pB="",vB="",mB="",gB="",yB="",bB="",wB="",kB="",CB="",xB="",TB="",SB="",EB="",MB="",OB="",AB="",NB="",DB="",RB="",LB="",IB="",PB="",_B="",BB="",FB="",qB="",HB="",VB="",zB="",$B="",UB="",jB="",WB="",GB="",KB="",JB="",XB="",QB="",YB="",ZB="",eF="",tF="",rF="",nF="",iF="",aF="",oF="{",sF="[",lF="",uF="",cF="",fF="",dF="",hF="",pF="",vF="",mF="{",gF="",yF="",bF="",wF="",kF="",CF="",xF="",TF="",SF="",EF="",MF="",OF="",AF="",NF="",DF="",RF="",LF="",IF="",PF="",_F="",BF="",FF="",qF="",HF="",VF="",zF="",$F="",UF="",jF="",WF="",GF="",KF="",JF="",XF="",QF="",YF="",ZF="",e2="",t2="",r2="",n2="",i2="",a2="",o2="",s2="",l2="",u2="",c2="",f2="",d2="",h2="",p2="",v2="",m2="",g2="",y2="",b2="",w2="",k2="",C2="",x2="",T2="",S2="",E2="",M2="",O2="",A2="",N2="",D2="",R2="",L2="",I2="",P2="",_2="",B2="",F2="",q2="",H2="",V2="",z2="",$2="",U2="",j2="",W2="",G2="",K2="",J2="",X2="",Q2="",Y2="",Z2="",eq="",tq="",rq="",nq="",iq="",aq="",oq="",sq="",lq="",uq="",cq="",fq="",dq="",hq="",pq="",vq="",mq="",gq="",yq="",bq="",wq="",kq="",Cq="",xq="",Tq="",Sq="",Eq="",Mq="",Oq="",Aq="",Nq="",Dq="_",Rq="",Lq="",Iq="",Pq="",_q="",Bq="(",Fq="",qq="",Hq="",Vq="",zq="",$q="",Uq="",jq="",Wq="",Gq="",Kq="",Jq="",Xq="",Qq="",Yq="",Zq="[",eH="",tH="",rH="",nH="",iH="",aH="",oH="<",sH="<",lH="",uH="",cH="",fH="",dH="",hH="",pH="",vH="",mH="",gH="",yH="",bH="",wH="",kH="",CH="",xH="",TH="",SH="",EH="",MH="",OH="",AH="",NH="",DH="",RH="",LH="",IH="",PH="",_H="",BH="",FH="",qH="",HH="",VH="",zH="",$H="",UH="*",jH="",WH="",GH="",KH="",JH="",XH="",QH="",YH="",ZH="",eV="",tV="",rV="",nV="",iV="",aV="",oV="",sV="",lV="",uV="",cV="",fV="",dV="",hV="",pV="",vV="",mV="",gV="",yV="",bV="",wV="",kV="",CV="",xV="",TV="",SV="",EV="",MV="",OV="",AV="",NV="",DV="",RV="",LV="",IV="",PV="",_V="",BV="",FV="",qV="",HV="",VV="",zV="",$V="",UV="",jV="",WV="",GV="",KV="",JV="",XV="",QV="",YV="",ZV="",ez=`
`,tz="",rz="",nz="",iz="",az="",oz="",sz="",lz="",uz="",cz="",fz="",dz="",hz="",pz="",vz="",mz="",gz="",yz="",bz="",wz="",kz="",Cz="",xz="",Tz="",Sz="",Ez="",Mz="",Oz="",Az="",Nz="",Dz="",Rz="",Lz="",Iz="",Pz="",_z="",Bz="",Fz="",qz="",Hz="",Vz="",zz="",$z="",Uz="",jz="",Wz="",Gz="",Kz="",Jz="",Xz="",Qz="",Yz="",Zz="",e$="",t$="",r$="",n$="",i$="",a$="",o$="",s$="",l$="",u$="",c$="",f$="",d$="",h$="",p$="",v$="",m$="",g$="",y$="",b$="",w$="",k$="",C$="",x$="",T$="",S$="",E$="",M$="",O$="",A$="",N$="",D$="",R$="",L$="",I$="",P$="",_$="",B$="",F$="",q$="",H$="",V$="",z$="",$$="",U$="",j$="",W$="",G$="",K$="",J$="",X$="",Q$="",Y$="",Z$="",eU="",tU="",rU="",nU="",iU="",aU="",oU="",sU="",lU="",uU="",cU="",fU="",dU="",hU="",pU="",vU="",mU="",gU="",yU="",bU="",wU="",kU="",CU="",xU="",TU="",SU="",EU="",MU="",OU="",AU="",NU="",DU="",RU="",LU="",IU="",PU="",_U="",BU="",FU="",qU="",HU="",VU="",zU="",$U="",UU="",jU="",WU="",GU="",KU="",JU="",XU="",QU="",YU="",ZU="",e3="",t3="",r3="",n3="",i3="",a3="",o3="",s3="",l3="",u3="#",c3="",f3="",d3="",h3="",p3="",v3="",m3="",g3="",y3=">",b3="",w3="",k3="",C3="",x3="<",T3="",S3="",E3="",M3="",O3="",A3="",N3="",D3="",R3="",L3="",I3="",P3="",_3="",B3="",F3="",q3="",H3="",V3="",z3="",$3="",U3="",j3="",W3="",G3="",K3="",J3="",X3="",Q3="",Y3="",Z3="",e4="",t4="",r4="",n4="",i4="",a4="",o4="",s4="",l4="",u4="",c4="",f4="",d4="",h4="",p4="",v4="",m4="",g4="",y4="",b4="",w4="",k4="",C4="",x4="",T4="",S4="",E4="",M4="",O4="",A4="",N4="",D4="",R4="",L4="",I4="",P4="",_4="",B4="",F4="",q4="",H4="",V4="",z4="",$4="",U4="",j4="",W4="",G4="",K4="",J4="",X4="",Q4="",Y4="",Z4="",ej="",tj="",rj="",nj="",ij="",aj="",oj="",sj="",lj="",uj="",cj="%",fj=".",dj="",hj="",pj="",vj="",mj="",gj="",yj="",bj="",wj="",kj="",Cj="",xj="",Tj="",Sj="",Ej="",Mj="",Oj="",Aj="",Nj="",Dj="",Rj="+",Lj="",Ij="",Pj="",_j="",Bj="",Fj="",qj="",Hj="",Vj="",zj="",$j="",Uj="",jj="",Wj="",Gj="",Kj="",Jj="",Xj="",Qj="",Yj="",Zj="",eW="",tW="",rW="",nW="",iW="",aW="",oW="",sW="",lW="",uW="",cW="",fW="",dW="",hW="",pW="",vW="",mW="",gW="",yW="",bW="",wW="",kW="",CW="",xW="",TW="",SW="",EW="",MW="",OW="",AW="",NW="",DW="",RW="",LW="",IW="",PW="",_W="",BW="",FW="",qW="",HW="",VW="",zW="?",$W="",UW='"',jW='"',WW="",GW="",KW="",JW="",XW="",QW="",YW="",ZW="",e5="",t5="",r5="",n5="",i5="",a5="",o5="",s5="",l5="",u5="",c5="",f5="",d5="",h5="",p5="",v5="",m5="",g5="",y5="",b5="",w5="",k5="",C5="",x5="",T5="",S5="",E5="",M5="}",O5="]",A5="",N5="",D5="",R5="",L5="",I5="",P5="",_5="",B5="}",F5="",q5="",H5="",V5="",z5="",$5="",U5="",j5="",W5="",G5="",K5="",J5="",X5="",Q5="",Y5="",Z5="",e6="",t6="",r6="",n6="",i6="",a6="",o6="",s6="",l6="",u6="",c6="",f6="",d6="",h6="",p6="",v6="",m6="",g6="",y6="",b6="",w6="",k6="",C6="",x6="",T6="",S6="",E6="",M6="",O6="",A6="",N6="",D6="",R6="",L6="",I6="",P6="",_6="",B6="",F6="",q6="",H6="",V6="",z6="",$6="",U6="",j6="",W6="",G6="",K6="",J6="",X6="",Q6="",Y6="",Z6="",e8="",t8="",r8="",n8="",i8="",a8="",o8="",s8="",l8=")",u8="",c8="",f8="",d8="",h8="",p8="",v8="",m8="",g8="",y8="]",b8="",w8="",k8="",C8="",x8="",T8="",S8="",E8="",M8="",O8="",A8="",N8="",D8="",R8="",L8="",I8="",P8="",_8="",B8="",F8="",q8="",H8="",V8="",z8="",$8="",U8="",j8="",W8="",G8="",K8="",J8="",X8="",Q8="",Y8="",Z8="",eG="",tG="",rG="",nG="",iG="",aG="",oG=";",sG="",lG="",uG="",cG="",fG="",dG="",hG="",pG="",vG="",mG="",gG="",yG="",bG="",wG="",kG="",CG="",xG="",TG="",SG="",EG="",MG="",OG="",AG="",NG="",DG="",RG="",LG="",IG="",PG="",_G="",BG="",FG="",qG="",HG="",VG="",zG="",$G="",UG="",jG="",WG="",GG="",KG="",JG="",XG="",QG="",YG="",ZG="",eK="",tK="/",rK="",nK="",iK="",aK="",oK="",sK="",lK="",uK="",cK="",fK="",dK="",hK="",pK="",vK="",mK="",gK="",yK="",bK="",wK="",kK="",CK="",xK="",TK="",SK="",EK="",MK="",OK="",AK="",NK="",DK="",RK="",LK="",IK="",PK="",_K="",BK="",FK="",qK="",HK="",VK="",zK="",$K="",UK="",jK="",WK="",GK="",KK="",JK="",XK="",QK="",YK="",ZK="",e9="",t9="",r9="",n9="",i9="",a9="",o9="",s9="",l9="",u9="",c9="",f9="",d9="",h9="",p9="",v9="",m9="",g9="",y9="",b9="",w9="",k9="",C9="",x9="",T9="",S9="",E9="",M9="",O9="",A9="",N9="",D9="",R9="",L9="",I9="",P9="",_9="",B9="",F9="",q9="",H9="",V9="",z9="",$9="",U9="",j9="",W9="",G9="",K9="",J9="",X9="",Q9="",Y9="",Z9="",e7="",t7="",r7="",n7="",i7="",a7="",o7="	",s7="",l7="",u7="",c7="",f7="",d7="",h7="",p7="",v7="",m7="",g7="",y7="",b7="",w7="",k7="",C7="",x7="",T7="",S7="",E7="",M7="",O7="",A7="",N7="",D7="",R7="",L7="",I7="",P7="",_7="",B7="",F7="",q7="",H7="",V7="",z7="",$7="",U7="",j7="",W7="",G7="",K7="",J7="",X7="",Q7="",Y7="",Z7="",eJ="",tJ="",rJ="",nJ="",iJ="",aJ="",oJ="",sJ="",lJ="",uJ="",cJ="",fJ="",dJ="",hJ="",pJ="",vJ="",mJ="",gJ="",yJ="",bJ="",wJ="",kJ="",CJ="",xJ="",TJ="",SJ="",EJ="",MJ="",OJ="",AJ="",NJ="",DJ="",RJ="",LJ="",IJ="",PJ="",_J="",BJ="",FJ="",qJ="",HJ="",VJ="",zJ="",$J="",UJ="",jJ="",WJ="",GJ="",KJ="",JJ="",XJ="",QJ="",YJ="",ZJ="",eX="",tX="",rX="",nX="",iX="",aX="",oX="",sX="",lX="",uX="",cX="_",fX="",dX="",hX="",pX="",vX="",mX="",gX="",yX="",bX="",wX="",kX="",CX="",xX="",TX="",SX="",EX="",MX="",OX="",AX="",NX="",DX="",RX="",LX="",IX="",PX="",_X="",BX="",FX="",qX="",HX="",VX="",zX="",$X="",UX="",jX="",WX="",GX="",KX="",JX="",XX="",QX="",YX="",ZX="",eQ="",tQ="",rQ="",nQ="",iQ="",aQ="",oQ="",sQ="",lQ="",uQ="",cQ="",fQ="",dQ="",hQ="",pQ="",vQ="",mQ="",gQ="",yQ="",bQ="",wQ="",kQ="",CQ="",xQ="",TQ="",SQ="",EQ="",MQ="",OQ="",AQ="",NQ="",DQ="",RQ="",LQ="",IQ="",PQ="",_Q="",BQ="",FQ="|",qQ="",HQ="|",VQ="",zQ="",$Q="|",UQ="",jQ="",WQ="",GQ="",KQ="",JQ="",XQ="",QQ="",YQ="",ZQ="",eY="",tY="",rY="",nY="",iY="",aY="",oY="",sY="",lY="",uY="",cY="",fY="",dY="",hY="",pY="",vY="",mY="",gY="",yY="",bY="",wY="",kY="",CY="",xY="",TY="",SY="",EY="",MY="",OY="",AY="",NY="",DY="",RY="",LY="",IY="",PY="",_Y="",BY="",FY="",qY="",HY="",VY="",zY="",$Y="",UY="",jY="",WY="",GY="",KY="",JY="",XY="",QY="",YY="",ZY="",eZ="",tZ="",rZ="",nZ="",iZ="",aZ="",oZ="",sZ="",lZ="",uZ="",cZ="",fZ="",dZ="",hZ="",pZ="",vZ="",mZ="",gZ="",yZ="",bZ="",wZ="",kZ="",CZ="",xZ="",TZ="",SZ="",EZ="",MZ="",OZ="",AZ="",NZ="",DZ="",RZ="",LZ="",IZ="",PZ="",_Z="",BZ="",FZ="",qZ="",HZ="",VZ="",zZ="",$Z="",wy={Aacute:ge,aacute:Se,Abreve:qe,abreve:rt,ac:je,acd:Tt,acE:yt,Acirc:At,acirc:Je,acute:ut,Acy:it,acy:Ht,AElig:nt,aelig:pt,af:at,Afr:Dt,afr:Nt,Agrave:Kt,agrave:Vt,alefsym:Oe,aleph:he,Alpha:ue,alpha:ee,Amacr:ce,amacr:I,amalg:V,amp:q,AMP:le,andand:ae,And:ye,and:Le,andd:He,andslope:Pe,andv:Ie,ang:Xe,ange:Ge,angle:dt,angmsdaa:bt,angmsdab:St,angmsdac:Ve,angmsdad:ze,angmsdae:ht,angmsdaf:wt,angmsdag:Lt,angmsdah:nr,angmsd:Jt,angrt:cr,angrtvb:ir,angrtvbd:yr,angsph:br,angst:Vr,angzarr:li,Aogon:Xn,aogon:In,Aopf:Tn,aopf:pn,apacir:Nr,ap:Pn,apE:fr,ape:Br,apid:J,apos:K,ApplyFunction:_,approx:L,approxeq:H,Aring:$,aring:re,Ascr:Ce,ascr:Ne,Assign:ve,ast:ne,asymp:Te,asympeq:De,Atilde:et,atilde:kt,Auml:F,auml:O,awconint:y,awint:T,backcong:R,backepsilon:U,backprime:X,backsim:ie,backsimeq:we,Backslash:xe,Barv:$e,barvee:Fe,barwed:Qe,Barwed:xt,barwedge:jt,bbrk:dr,bbrktbrk:_n,bcong:Ei,Bcy:ji,bcy:Is,bdquo:Po,becaus:ma,because:ui,Because:ci,bemptyv:_o,bepsi:Bn,bernou:Bo,Bernoullis:Ya,Beta:Za,beta:eo,beth:Fo,between:fi,Bfr:ga,bfr:to,bigcap:di,bigcirc:Ps,bigcup:_s,bigodot:Wi,bigoplus:hi,bigotimes:pi,bigsqcup:ro,bigstar:ya,bigtriangledown:Gi,bigtriangleup:Qn,biguplus:qo,bigvee:Ul,bigwedge:Fn,bkarow:Bs,blacklozenge:Fs,blacksquare:no,blacktriangle:qs,blacktriangledown:Ki,blacktriangleleft:qn,blacktriangleright:Ho,blank:Hs,blk12:Vs,blk14:jl,blk34:Ct,block:ke,bne:Ke,bnequiv:mt,bNot:Qt,bnot:Dr,Bopf:Rr,bopf:Sr,bot:Hn,bottom:Ji,bowtie:Vo,boxbox:zs,boxdl:$s,boxdL:mh,boxDl:gh,boxDL:yh,boxdr:bh,boxdR:tn,boxDr:rn,boxDR:wh,boxh:kh,boxH:Ch,boxhd:Xi,boxHd:xh,boxhD:Wl,boxHD:Gl,boxhu:Th,boxHu:Sh,boxhU:Us,boxHU:Eh,boxminus:Kl,boxplus:io,boxtimes:Mh,boxul:Oh,boxuL:Ah,boxUl:Nh,boxUL:Dh,boxur:Rh,boxuR:Jl,boxUr:dc,boxUR:Lh,boxv:hc,boxV:Ih,boxvh:Ph,boxvH:pc,boxVh:vc,boxVH:_h,boxvl:Bh,boxvL:zo,boxVl:Fh,boxVL:$o,boxvr:qh,boxvR:Hh,boxVr:Uo,boxVR:mc,bprime:gc,breve:Vh,Breve:yc,brvbar:zh,bscr:bc,Bscr:jo,bsemi:wc,bsim:Wo,bsime:$h,bsolb:ba,bsol:ao,bsolhsub:wa,bull:Yn,bullet:Kr,bump:kc,bumpE:Uh,bumpe:Cc,Bumpeq:jh,bumpeq:xc,Cacute:Tc,cacute:js,capand:ka,capbrcup:Xl,capcap:Sc,cap:Ql,Cap:Wh,capcup:Gh,capdot:Kh,CapitalDifferentialD:Jh,caps:Ec,caret:Mc,caron:Xh,Cayleys:Oc,ccaps:Qh,Ccaron:Yh,ccaron:Zh,Ccedil:ep,ccedil:tp,Ccirc:rp,ccirc:np,Cconint:Ac,ccups:ip,ccupssm:ap,Cdot:Yl,cdot:op,cedil:Nc,Cedilla:sp,cemptyv:lp,cent:Dc,centerdot:Rc,CenterDot:Lc,cfr:Ic,Cfr:up,CHcy:Pc,chcy:cp,check:_c,checkmark:c,Chi:m,chi:d,circ:g,circeq:k,circlearrowleft:S,circlearrowright:A,circledast:N,circledcirc:z,circleddash:G,CircleDot:fe,circledR:be,circledS:me,CircleMinus:Ee,CirclePlus:_e,CircleTimes:Ye,cir:ct,cirE:We,cire:Wt,cirfnint:$t,cirmid:Ot,cirscir:_t,ClockwiseContourIntegral:rr,CloseCurlyDoubleQuote:er,CloseCurlyQuote:kr,clubs:Er,clubsuit:Mr,colon:vi,Colon:Ws,Colone:Mi,colone:Ca,coloneq:xa,comma:Go,commat:Cr,comp:Zl,compfn:mi,complement:nn,complexes:Bc,cong:Fc,congdot:qM,Congruent:HM,conint:VM,Conint:zM,ContourIntegral:$M,copf:UM,Copf:jM,coprod:WM,Coproduct:GM,copy:KM,COPY:JM,copysr:XM,CounterClockwiseContourIntegral:QM,crarr:YM,cross:ZM,Cross:eO,Cscr:tO,cscr:rO,csub:nO,csube:iO,csup:aO,csupe:oO,ctdot:sO,cudarrl:lO,cudarrr:uO,cuepr:cO,cuesc:fO,cularr:dO,cularrp:hO,cupbrcap:pO,cupcap:vO,CupCap:mO,cup:gO,Cup:yO,cupcup:bO,cupdot:wO,cupor:kO,cups:CO,curarr:xO,curarrm:TO,curlyeqprec:SO,curlyeqsucc:EO,curlyvee:MO,curlywedge:OO,curren:AO,curvearrowleft:NO,curvearrowright:DO,cuvee:RO,cuwed:LO,cwconint:IO,cwint:PO,cylcty:_O,dagger:BO,Dagger:FO,daleth:qO,darr:HO,Darr:VO,dArr:zO,dash:$O,Dashv:UO,dashv:jO,dbkarow:WO,dblac:GO,Dcaron:KO,dcaron:JO,Dcy:XO,dcy:QO,ddagger:YO,ddarr:ZO,DD:eA,dd:tA,DDotrahd:rA,ddotseq:nA,deg:iA,Del:aA,Delta:oA,delta:sA,demptyv:lA,dfisht:uA,Dfr:cA,dfr:fA,dHar:dA,dharl:hA,dharr:pA,DiacriticalAcute:vA,DiacriticalDot:mA,DiacriticalDoubleAcute:gA,DiacriticalGrave:yA,DiacriticalTilde:bA,diam:wA,diamond:kA,Diamond:CA,diamondsuit:xA,diams:TA,die:SA,DifferentialD:EA,digamma:MA,disin:OA,div:AA,divide:NA,divideontimes:DA,divonx:RA,DJcy:LA,djcy:IA,dlcorn:PA,dlcrop:_A,dollar:BA,Dopf:FA,dopf:qA,Dot:HA,dot:VA,DotDot:zA,doteq:$A,doteqdot:UA,DotEqual:jA,dotminus:WA,dotplus:GA,dotsquare:KA,doublebarwedge:JA,DoubleContourIntegral:XA,DoubleDot:QA,DoubleDownArrow:YA,DoubleLeftArrow:ZA,DoubleLeftRightArrow:eN,DoubleLeftTee:tN,DoubleLongLeftArrow:rN,DoubleLongLeftRightArrow:nN,DoubleLongRightArrow:iN,DoubleRightArrow:aN,DoubleRightTee:oN,DoubleUpArrow:sN,DoubleUpDownArrow:lN,DoubleVerticalBar:uN,DownArrowBar:cN,downarrow:fN,DownArrow:dN,Downarrow:hN,DownArrowUpArrow:pN,DownBreve:vN,downdownarrows:mN,downharpoonleft:gN,downharpoonright:yN,DownLeftRightVector:bN,DownLeftTeeVector:wN,DownLeftVectorBar:kN,DownLeftVector:CN,DownRightTeeVector:xN,DownRightVectorBar:TN,DownRightVector:SN,DownTeeArrow:EN,DownTee:MN,drbkarow:ON,drcorn:AN,drcrop:NN,Dscr:DN,dscr:RN,DScy:LN,dscy:IN,dsol:PN,Dstrok:_N,dstrok:BN,dtdot:FN,dtri:qN,dtrif:HN,duarr:VN,duhar:zN,dwangle:$N,DZcy:UN,dzcy:jN,dzigrarr:WN,Eacute:GN,eacute:KN,easter:JN,Ecaron:XN,ecaron:QN,Ecirc:YN,ecirc:ZN,ecir:eD,ecolon:tD,Ecy:rD,ecy:nD,eDDot:iD,Edot:aD,edot:oD,eDot:sD,ee:lD,efDot:uD,Efr:cD,efr:fD,eg:dD,Egrave:hD,egrave:pD,egs:vD,egsdot:mD,el:gD,Element:yD,elinters:bD,ell:wD,els:kD,elsdot:CD,Emacr:xD,emacr:TD,empty:SD,emptyset:ED,EmptySmallSquare:MD,emptyv:OD,EmptyVerySmallSquare:AD,emsp13:ND,emsp14:DD,emsp:RD,ENG:LD,eng:ID,ensp:PD,Eogon:_D,eogon:BD,Eopf:FD,eopf:qD,epar:HD,eparsl:VD,eplus:zD,epsi:$D,Epsilon:UD,epsilon:jD,epsiv:WD,eqcirc:GD,eqcolon:KD,eqsim:JD,eqslantgtr:XD,eqslantless:QD,Equal:YD,equals:ZD,EqualTilde:eR,equest:tR,Equilibrium:rR,equiv:nR,equivDD:iR,eqvparsl:aR,erarr:oR,erDot:sR,escr:lR,Escr:uR,esdot:cR,Esim:fR,esim:dR,Eta:hR,eta:pR,ETH:vR,eth:mR,Euml:gR,euml:yR,euro:bR,excl:wR,exist:kR,Exists:CR,expectation:xR,exponentiale:TR,ExponentialE:SR,fallingdotseq:ER,Fcy:MR,fcy:OR,female:AR,ffilig:NR,fflig:DR,ffllig:RR,Ffr:LR,ffr:IR,filig:PR,FilledSmallSquare:_R,FilledVerySmallSquare:BR,fjlig:FR,flat:qR,fllig:HR,fltns:VR,fnof:zR,Fopf:$R,fopf:UR,forall:jR,ForAll:WR,fork:GR,forkv:KR,Fouriertrf:JR,fpartint:XR,frac12:QR,frac13:YR,frac14:ZR,frac15:eL,frac16:tL,frac18:rL,frac23:nL,frac25:iL,frac34:aL,frac35:oL,frac38:sL,frac45:lL,frac56:uL,frac58:cL,frac78:fL,frasl:dL,frown:hL,fscr:pL,Fscr:vL,gacute:mL,Gamma:gL,gamma:yL,Gammad:bL,gammad:wL,gap:kL,Gbreve:CL,gbreve:xL,Gcedil:TL,Gcirc:SL,gcirc:EL,Gcy:ML,gcy:OL,Gdot:AL,gdot:NL,ge:DL,gE:RL,gEl:LL,gel:IL,geq:PL,geqq:_L,geqslant:BL,gescc:FL,ges:qL,gesdot:HL,gesdoto:VL,gesdotol:zL,gesl:$L,gesles:UL,Gfr:jL,gfr:WL,gg:GL,Gg:KL,ggg:JL,gimel:XL,GJcy:QL,gjcy:YL,gla:ZL,gl:eI,glE:tI,glj:rI,gnap:nI,gnapprox:iI,gne:aI,gnE:oI,gneq:sI,gneqq:lI,gnsim:uI,Gopf:cI,gopf:fI,grave:dI,GreaterEqual:hI,GreaterEqualLess:pI,GreaterFullEqual:vI,GreaterGreater:mI,GreaterLess:gI,GreaterSlantEqual:yI,GreaterTilde:bI,Gscr:wI,gscr:kI,gsim:CI,gsime:xI,gsiml:TI,gtcc:SI,gtcir:EI,gt:MI,GT:OI,Gt:AI,gtdot:NI,gtlPar:DI,gtquest:RI,gtrapprox:LI,gtrarr:II,gtrdot:PI,gtreqless:_I,gtreqqless:BI,gtrless:FI,gtrsim:qI,gvertneqq:HI,gvnE:VI,Hacek:zI,hairsp:$I,half:UI,hamilt:jI,HARDcy:WI,hardcy:GI,harrcir:KI,harr:JI,hArr:XI,harrw:QI,Hat:YI,hbar:ZI,Hcirc:eP,hcirc:tP,hearts:rP,heartsuit:nP,hellip:iP,hercon:aP,hfr:oP,Hfr:sP,HilbertSpace:lP,hksearow:uP,hkswarow:cP,hoarr:fP,homtht:dP,hookleftarrow:hP,hookrightarrow:pP,hopf:vP,Hopf:mP,horbar:gP,HorizontalLine:yP,hscr:bP,Hscr:wP,hslash:kP,Hstrok:CP,hstrok:xP,HumpDownHump:TP,HumpEqual:SP,hybull:EP,hyphen:MP,Iacute:OP,iacute:AP,ic:NP,Icirc:DP,icirc:RP,Icy:LP,icy:IP,Idot:PP,IEcy:_P,iecy:BP,iexcl:FP,iff:qP,ifr:HP,Ifr:VP,Igrave:zP,igrave:$P,ii:UP,iiiint:jP,iiint:WP,iinfin:GP,iiota:KP,IJlig:JP,ijlig:XP,Imacr:QP,imacr:YP,image:ZP,ImaginaryI:e_,imagline:t_,imagpart:r_,imath:n_,Im:i_,imof:a_,imped:o_,Implies:s_,incare:l_,in:"",infin:u_,infintie:c_,inodot:f_,intcal:d_,int:h_,Int:p_,integers:v_,Integral:m_,intercal:g_,Intersection:y_,intlarhk:b_,intprod:w_,InvisibleComma:k_,InvisibleTimes:C_,IOcy:x_,iocy:T_,Iogon:S_,iogon:E_,Iopf:M_,iopf:O_,Iota:A_,iota:N_,iprod:D_,iquest:R_,iscr:L_,Iscr:I_,isin:P_,isindot:__,isinE:B_,isins:F_,isinsv:q_,isinv:H_,it:V_,Itilde:z_,itilde:$_,Iukcy:U_,iukcy:j_,Iuml:W_,iuml:G_,Jcirc:K_,jcirc:J_,Jcy:X_,jcy:Q_,Jfr:Y_,jfr:Z_,jmath:eB,Jopf:tB,jopf:rB,Jscr:nB,jscr:iB,Jsercy:aB,jsercy:oB,Jukcy:sB,jukcy:lB,Kappa:uB,kappa:cB,kappav:fB,Kcedil:dB,kcedil:hB,Kcy:pB,kcy:vB,Kfr:mB,kfr:gB,kgreen:yB,KHcy:bB,khcy:wB,KJcy:kB,kjcy:CB,Kopf:xB,kopf:TB,Kscr:SB,kscr:EB,lAarr:MB,Lacute:OB,lacute:AB,laemptyv:NB,lagran:DB,Lambda:RB,lambda:LB,lang:IB,Lang:PB,langd:_B,langle:BB,lap:FB,Laplacetrf:qB,laquo:HB,larrb:VB,larrbfs:zB,larr:$B,Larr:UB,lArr:jB,larrfs:WB,larrhk:GB,larrlp:KB,larrpl:JB,larrsim:XB,larrtl:QB,latail:YB,lAtail:ZB,lat:eF,late:tF,lates:rF,lbarr:nF,lBarr:iF,lbbrk:aF,lbrace:oF,lbrack:sF,lbrke:lF,lbrksld:uF,lbrkslu:cF,Lcaron:fF,lcaron:dF,Lcedil:hF,lcedil:pF,lceil:vF,lcub:mF,Lcy:gF,lcy:yF,ldca:bF,ldquo:wF,ldquor:kF,ldrdhar:CF,ldrushar:xF,ldsh:TF,le:SF,lE:EF,LeftAngleBracket:MF,LeftArrowBar:OF,leftarrow:AF,LeftArrow:NF,Leftarrow:DF,LeftArrowRightArrow:RF,leftarrowtail:LF,LeftCeiling:IF,LeftDoubleBracket:PF,LeftDownTeeVector:_F,LeftDownVectorBar:BF,LeftDownVector:FF,LeftFloor:qF,leftharpoondown:HF,leftharpoonup:VF,leftleftarrows:zF,leftrightarrow:$F,LeftRightArrow:UF,Leftrightarrow:jF,leftrightarrows:WF,leftrightharpoons:GF,leftrightsquigarrow:KF,LeftRightVector:JF,LeftTeeArrow:XF,LeftTee:QF,LeftTeeVector:YF,leftthreetimes:ZF,LeftTriangleBar:e2,LeftTriangle:t2,LeftTriangleEqual:r2,LeftUpDownVector:n2,LeftUpTeeVector:i2,LeftUpVectorBar:a2,LeftUpVector:o2,LeftVectorBar:s2,LeftVector:l2,lEg:u2,leg:c2,leq:f2,leqq:d2,leqslant:h2,lescc:p2,les:v2,lesdot:m2,lesdoto:g2,lesdotor:y2,lesg:b2,lesges:w2,lessapprox:k2,lessdot:C2,lesseqgtr:x2,lesseqqgtr:T2,LessEqualGreater:S2,LessFullEqual:E2,LessGreater:M2,lessgtr:O2,LessLess:A2,lesssim:N2,LessSlantEqual:D2,LessTilde:R2,lfisht:L2,lfloor:I2,Lfr:P2,lfr:_2,lg:B2,lgE:F2,lHar:q2,lhard:H2,lharu:V2,lharul:z2,lhblk:$2,LJcy:U2,ljcy:j2,llarr:W2,ll:G2,Ll:K2,llcorner:J2,Lleftarrow:X2,llhard:Q2,lltri:Y2,Lmidot:Z2,lmidot:eq,lmoustache:tq,lmoust:rq,lnap:nq,lnapprox:iq,lne:aq,lnE:oq,lneq:sq,lneqq:lq,lnsim:uq,loang:cq,loarr:fq,lobrk:dq,longleftarrow:hq,LongLeftArrow:pq,Longleftarrow:vq,longleftrightarrow:mq,LongLeftRightArrow:gq,Longleftrightarrow:yq,longmapsto:bq,longrightarrow:wq,LongRightArrow:kq,Longrightarrow:Cq,looparrowleft:xq,looparrowright:Tq,lopar:Sq,Lopf:Eq,lopf:Mq,loplus:Oq,lotimes:Aq,lowast:Nq,lowbar:Dq,LowerLeftArrow:Rq,LowerRightArrow:Lq,loz:Iq,lozenge:Pq,lozf:_q,lpar:Bq,lparlt:Fq,lrarr:qq,lrcorner:Hq,lrhar:Vq,lrhard:zq,lrm:$q,lrtri:Uq,lsaquo:jq,lscr:Wq,Lscr:Gq,lsh:Kq,Lsh:Jq,lsim:Xq,lsime:Qq,lsimg:Yq,lsqb:Zq,lsquo:eH,lsquor:tH,Lstrok:rH,lstrok:nH,ltcc:iH,ltcir:aH,lt:oH,LT:sH,Lt:lH,ltdot:uH,lthree:cH,ltimes:fH,ltlarr:dH,ltquest:hH,ltri:pH,ltrie:vH,ltrif:mH,ltrPar:gH,lurdshar:yH,luruhar:bH,lvertneqq:wH,lvnE:kH,macr:CH,male:xH,malt:TH,maltese:SH,Map:"",map:EH,mapsto:MH,mapstodown:OH,mapstoleft:AH,mapstoup:NH,marker:DH,mcomma:RH,Mcy:LH,mcy:IH,mdash:PH,mDDot:_H,measuredangle:BH,MediumSpace:FH,Mellintrf:qH,Mfr:HH,mfr:VH,mho:zH,micro:$H,midast:UH,midcir:jH,mid:WH,middot:GH,minusb:KH,minus:JH,minusd:XH,minusdu:QH,MinusPlus:YH,mlcp:ZH,mldr:eV,mnplus:tV,models:rV,Mopf:nV,mopf:iV,mp:aV,mscr:oV,Mscr:sV,mstpos:lV,Mu:uV,mu:cV,multimap:fV,mumap:dV,nabla:hV,Nacute:pV,nacute:vV,nang:mV,nap:gV,napE:yV,napid:bV,napos:wV,napprox:kV,natural:CV,naturals:xV,natur:TV,nbsp:SV,nbump:EV,nbumpe:MV,ncap:OV,Ncaron:AV,ncaron:NV,Ncedil:DV,ncedil:RV,ncong:LV,ncongdot:IV,ncup:PV,Ncy:_V,ncy:BV,ndash:FV,nearhk:qV,nearr:HV,neArr:VV,nearrow:zV,ne:$V,nedot:UV,NegativeMediumSpace:jV,NegativeThickSpace:WV,NegativeThinSpace:GV,NegativeVeryThinSpace:KV,nequiv:JV,nesear:XV,nesim:QV,NestedGreaterGreater:YV,NestedLessLess:ZV,NewLine:ez,nexist:tz,nexists:rz,Nfr:nz,nfr:iz,ngE:az,nge:oz,ngeq:sz,ngeqq:lz,ngeqslant:uz,nges:cz,nGg:fz,ngsim:dz,nGt:hz,ngt:pz,ngtr:vz,nGtv:mz,nharr:gz,nhArr:yz,nhpar:bz,ni:wz,nis:kz,nisd:Cz,niv:xz,NJcy:Tz,njcy:Sz,nlarr:Ez,nlArr:Mz,nldr:Oz,nlE:Az,nle:Nz,nleftarrow:Dz,nLeftarrow:Rz,nleftrightarrow:Lz,nLeftrightarrow:Iz,nleq:Pz,nleqq:_z,nleqslant:Bz,nles:Fz,nless:qz,nLl:Hz,nlsim:Vz,nLt:zz,nlt:$z,nltri:Uz,nltrie:jz,nLtv:Wz,nmid:Gz,NoBreak:Kz,NonBreakingSpace:Jz,nopf:Xz,Nopf:Qz,Not:Yz,not:Zz,NotCongruent:e$,NotCupCap:t$,NotDoubleVerticalBar:r$,NotElement:n$,NotEqual:i$,NotEqualTilde:a$,NotExists:o$,NotGreater:s$,NotGreaterEqual:l$,NotGreaterFullEqual:u$,NotGreaterGreater:c$,NotGreaterLess:f$,NotGreaterSlantEqual:d$,NotGreaterTilde:h$,NotHumpDownHump:p$,NotHumpEqual:v$,notin:m$,notindot:g$,notinE:y$,notinva:b$,notinvb:w$,notinvc:k$,NotLeftTriangleBar:C$,NotLeftTriangle:x$,NotLeftTriangleEqual:T$,NotLess:S$,NotLessEqual:E$,NotLessGreater:M$,NotLessLess:O$,NotLessSlantEqual:A$,NotLessTilde:N$,NotNestedGreaterGreater:D$,NotNestedLessLess:R$,notni:L$,notniva:I$,notnivb:P$,notnivc:_$,NotPrecedes:B$,NotPrecedesEqual:F$,NotPrecedesSlantEqual:q$,NotReverseElement:H$,NotRightTriangleBar:V$,NotRightTriangle:z$,NotRightTriangleEqual:$$,NotSquareSubset:U$,NotSquareSubsetEqual:j$,NotSquareSuperset:W$,NotSquareSupersetEqual:G$,NotSubset:K$,NotSubsetEqual:J$,NotSucceeds:X$,NotSucceedsEqual:Q$,NotSucceedsSlantEqual:Y$,NotSucceedsTilde:Z$,NotSuperset:eU,NotSupersetEqual:tU,NotTilde:rU,NotTildeEqual:nU,NotTildeFullEqual:iU,NotTildeTilde:aU,NotVerticalBar:oU,nparallel:sU,npar:lU,nparsl:uU,npart:cU,npolint:fU,npr:dU,nprcue:hU,nprec:pU,npreceq:vU,npre:mU,nrarrc:gU,nrarr:yU,nrArr:bU,nrarrw:wU,nrightarrow:kU,nRightarrow:CU,nrtri:xU,nrtrie:TU,nsc:SU,nsccue:EU,nsce:MU,Nscr:OU,nscr:AU,nshortmid:NU,nshortparallel:DU,nsim:RU,nsime:LU,nsimeq:IU,nsmid:PU,nspar:_U,nsqsube:BU,nsqsupe:FU,nsub:qU,nsubE:HU,nsube:VU,nsubset:zU,nsubseteq:$U,nsubseteqq:UU,nsucc:jU,nsucceq:WU,nsup:GU,nsupE:KU,nsupe:JU,nsupset:XU,nsupseteq:QU,nsupseteqq:YU,ntgl:ZU,Ntilde:e3,ntilde:t3,ntlg:r3,ntriangleleft:n3,ntrianglelefteq:i3,ntriangleright:a3,ntrianglerighteq:o3,Nu:s3,nu:l3,num:u3,numero:c3,numsp:f3,nvap:d3,nvdash:h3,nvDash:p3,nVdash:v3,nVDash:m3,nvge:g3,nvgt:y3,nvHarr:b3,nvinfin:w3,nvlArr:k3,nvle:C3,nvlt:x3,nvltrie:T3,nvrArr:S3,nvrtrie:E3,nvsim:M3,nwarhk:O3,nwarr:A3,nwArr:N3,nwarrow:D3,nwnear:R3,Oacute:L3,oacute:I3,oast:P3,Ocirc:_3,ocirc:B3,ocir:F3,Ocy:q3,ocy:H3,odash:V3,Odblac:z3,odblac:$3,odiv:U3,odot:j3,odsold:W3,OElig:G3,oelig:K3,ofcir:J3,Ofr:X3,ofr:Q3,ogon:Y3,Ograve:Z3,ograve:e4,ogt:t4,ohbar:r4,ohm:n4,oint:i4,olarr:a4,olcir:o4,olcross:s4,oline:l4,olt:u4,Omacr:c4,omacr:f4,Omega:d4,omega:h4,Omicron:p4,omicron:v4,omid:m4,ominus:g4,Oopf:y4,oopf:b4,opar:w4,OpenCurlyDoubleQuote:k4,OpenCurlyQuote:C4,operp:x4,oplus:T4,orarr:S4,Or:E4,or:M4,ord:O4,order:A4,orderof:N4,ordf:D4,ordm:R4,origof:L4,oror:I4,orslope:P4,orv:_4,oS:B4,Oscr:F4,oscr:q4,Oslash:H4,oslash:V4,osol:z4,Otilde:$4,otilde:U4,otimesas:j4,Otimes:W4,otimes:G4,Ouml:K4,ouml:J4,ovbar:X4,OverBar:Q4,OverBrace:Y4,OverBracket:Z4,OverParenthesis:ej,para:tj,parallel:rj,par:nj,parsim:ij,parsl:aj,part:oj,PartialD:sj,Pcy:lj,pcy:uj,percnt:cj,period:fj,permil:dj,perp:hj,pertenk:pj,Pfr:vj,pfr:mj,Phi:gj,phi:yj,phiv:bj,phmmat:wj,phone:kj,Pi:Cj,pi:xj,pitchfork:Tj,piv:Sj,planck:Ej,planckh:Mj,plankv:Oj,plusacir:Aj,plusb:Nj,pluscir:Dj,plus:Rj,plusdo:Lj,plusdu:Ij,pluse:Pj,PlusMinus:_j,plusmn:Bj,plussim:Fj,plustwo:qj,pm:Hj,Poincareplane:Vj,pointint:zj,popf:$j,Popf:Uj,pound:jj,prap:Wj,Pr:Gj,pr:Kj,prcue:Jj,precapprox:Xj,prec:Qj,preccurlyeq:Yj,Precedes:Zj,PrecedesEqual:eW,PrecedesSlantEqual:tW,PrecedesTilde:rW,preceq:nW,precnapprox:iW,precneqq:aW,precnsim:oW,pre:sW,prE:lW,precsim:uW,prime:cW,Prime:fW,primes:dW,prnap:hW,prnE:pW,prnsim:vW,prod:mW,Product:gW,profalar:yW,profline:bW,profsurf:wW,prop:kW,Proportional:CW,Proportion:xW,propto:TW,prsim:SW,prurel:EW,Pscr:MW,pscr:OW,Psi:AW,psi:NW,puncsp:DW,Qfr:RW,qfr:LW,qint:IW,qopf:PW,Qopf:_W,qprime:BW,Qscr:FW,qscr:qW,quaternions:HW,quatint:VW,quest:zW,questeq:$W,quot:UW,QUOT:jW,rAarr:WW,race:GW,Racute:KW,racute:JW,radic:XW,raemptyv:QW,rang:YW,Rang:ZW,rangd:e5,range:t5,rangle:r5,raquo:n5,rarrap:i5,rarrb:a5,rarrbfs:o5,rarrc:s5,rarr:l5,Rarr:u5,rArr:c5,rarrfs:f5,rarrhk:d5,rarrlp:h5,rarrpl:p5,rarrsim:v5,Rarrtl:m5,rarrtl:g5,rarrw:y5,ratail:b5,rAtail:w5,ratio:k5,rationals:C5,rbarr:x5,rBarr:T5,RBarr:S5,rbbrk:E5,rbrace:M5,rbrack:O5,rbrke:A5,rbrksld:N5,rbrkslu:D5,Rcaron:R5,rcaron:L5,Rcedil:I5,rcedil:P5,rceil:_5,rcub:B5,Rcy:F5,rcy:q5,rdca:H5,rdldhar:V5,rdquo:z5,rdquor:$5,rdsh:U5,real:j5,realine:W5,realpart:G5,reals:K5,Re:J5,rect:X5,reg:Q5,REG:Y5,ReverseElement:Z5,ReverseEquilibrium:e6,ReverseUpEquilibrium:t6,rfisht:r6,rfloor:n6,rfr:i6,Rfr:a6,rHar:o6,rhard:s6,rharu:l6,rharul:u6,Rho:c6,rho:f6,rhov:d6,RightAngleBracket:h6,RightArrowBar:p6,rightarrow:v6,RightArrow:m6,Rightarrow:g6,RightArrowLeftArrow:y6,rightarrowtail:b6,RightCeiling:w6,RightDoubleBracket:k6,RightDownTeeVector:C6,RightDownVectorBar:x6,RightDownVector:T6,RightFloor:S6,rightharpoondown:E6,rightharpoonup:M6,rightleftarrows:O6,rightleftharpoons:A6,rightrightarrows:N6,rightsquigarrow:D6,RightTeeArrow:R6,RightTee:L6,RightTeeVector:I6,rightthreetimes:P6,RightTriangleBar:_6,RightTriangle:B6,RightTriangleEqual:F6,RightUpDownVector:q6,RightUpTeeVector:H6,RightUpVectorBar:V6,RightUpVector:z6,RightVectorBar:$6,RightVector:U6,ring:j6,risingdotseq:W6,rlarr:G6,rlhar:K6,rlm:J6,rmoustache:X6,rmoust:Q6,rnmid:Y6,roang:Z6,roarr:e8,robrk:t8,ropar:r8,ropf:n8,Ropf:i8,roplus:a8,rotimes:o8,RoundImplies:s8,rpar:l8,rpargt:u8,rppolint:c8,rrarr:f8,Rrightarrow:d8,rsaquo:h8,rscr:p8,Rscr:v8,rsh:m8,Rsh:g8,rsqb:y8,rsquo:b8,rsquor:w8,rthree:k8,rtimes:C8,rtri:x8,rtrie:T8,rtrif:S8,rtriltri:E8,RuleDelayed:M8,ruluhar:O8,rx:A8,Sacute:N8,sacute:D8,sbquo:R8,scap:L8,Scaron:I8,scaron:P8,Sc:_8,sc:B8,sccue:F8,sce:q8,scE:H8,Scedil:V8,scedil:z8,Scirc:$8,scirc:U8,scnap:j8,scnE:W8,scnsim:G8,scpolint:K8,scsim:J8,Scy:X8,scy:Q8,sdotb:Y8,sdot:Z8,sdote:eG,searhk:tG,searr:rG,seArr:nG,searrow:iG,sect:aG,semi:oG,seswar:sG,setminus:lG,setmn:uG,sext:cG,Sfr:fG,sfr:dG,sfrown:hG,sharp:pG,SHCHcy:vG,shchcy:mG,SHcy:gG,shcy:yG,ShortDownArrow:bG,ShortLeftArrow:wG,shortmid:kG,shortparallel:CG,ShortRightArrow:xG,ShortUpArrow:TG,shy:SG,Sigma:EG,sigma:MG,sigmaf:OG,sigmav:AG,sim:NG,simdot:DG,sime:RG,simeq:LG,simg:IG,simgE:PG,siml:_G,simlE:BG,simne:FG,simplus:qG,simrarr:HG,slarr:VG,SmallCircle:zG,smallsetminus:$G,smashp:UG,smeparsl:jG,smid:WG,smile:GG,smt:KG,smte:JG,smtes:XG,SOFTcy:QG,softcy:YG,solbar:ZG,solb:eK,sol:tK,Sopf:rK,sopf:nK,spades:iK,spadesuit:aK,spar:oK,sqcap:sK,sqcaps:lK,sqcup:uK,sqcups:cK,Sqrt:fK,sqsub:dK,sqsube:hK,sqsubset:pK,sqsubseteq:vK,sqsup:mK,sqsupe:gK,sqsupset:yK,sqsupseteq:bK,square:wK,Square:kK,SquareIntersection:CK,SquareSubset:xK,SquareSubsetEqual:TK,SquareSuperset:SK,SquareSupersetEqual:EK,SquareUnion:MK,squarf:OK,squ:AK,squf:NK,srarr:DK,Sscr:RK,sscr:LK,ssetmn:IK,ssmile:PK,sstarf:_K,Star:BK,star:FK,starf:qK,straightepsilon:HK,straightphi:VK,strns:zK,sub:$K,Sub:UK,subdot:jK,subE:WK,sube:GK,subedot:KK,submult:JK,subnE:XK,subne:QK,subplus:YK,subrarr:ZK,subset:e9,Subset:t9,subseteq:r9,subseteqq:n9,SubsetEqual:i9,subsetneq:a9,subsetneqq:o9,subsim:s9,subsub:l9,subsup:u9,succapprox:c9,succ:f9,succcurlyeq:d9,Succeeds:h9,SucceedsEqual:p9,SucceedsSlantEqual:v9,SucceedsTilde:m9,succeq:g9,succnapprox:y9,succneqq:b9,succnsim:w9,succsim:k9,SuchThat:C9,sum:x9,Sum:T9,sung:S9,sup1:E9,sup2:M9,sup3:O9,sup:A9,Sup:N9,supdot:D9,supdsub:R9,supE:L9,supe:I9,supedot:P9,Superset:_9,SupersetEqual:B9,suphsol:F9,suphsub:q9,suplarr:H9,supmult:V9,supnE:z9,supne:$9,supplus:U9,supset:j9,Supset:W9,supseteq:G9,supseteqq:K9,supsetneq:J9,supsetneqq:X9,supsim:Q9,supsub:Y9,supsup:Z9,swarhk:e7,swarr:t7,swArr:r7,swarrow:n7,swnwar:i7,szlig:a7,Tab:o7,target:s7,Tau:l7,tau:u7,tbrk:c7,Tcaron:f7,tcaron:d7,Tcedil:h7,tcedil:p7,Tcy:v7,tcy:m7,tdot:g7,telrec:y7,Tfr:b7,tfr:w7,there4:k7,therefore:C7,Therefore:x7,Theta:T7,theta:S7,thetasym:E7,thetav:M7,thickapprox:O7,thicksim:A7,ThickSpace:N7,ThinSpace:D7,thinsp:R7,thkap:L7,thksim:I7,THORN:P7,thorn:_7,tilde:B7,Tilde:F7,TildeEqual:q7,TildeFullEqual:H7,TildeTilde:V7,timesbar:z7,timesb:$7,times:U7,timesd:j7,tint:W7,toea:G7,topbot:K7,topcir:J7,top:X7,Topf:Q7,topf:Y7,topfork:Z7,tosa:eJ,tprime:tJ,trade:rJ,TRADE:nJ,triangle:iJ,triangledown:aJ,triangleleft:oJ,trianglelefteq:sJ,triangleq:lJ,triangleright:uJ,trianglerighteq:cJ,tridot:fJ,trie:dJ,triminus:hJ,TripleDot:pJ,triplus:vJ,trisb:mJ,tritime:gJ,trpezium:yJ,Tscr:bJ,tscr:wJ,TScy:kJ,tscy:CJ,TSHcy:xJ,tshcy:TJ,Tstrok:SJ,tstrok:EJ,twixt:MJ,twoheadleftarrow:OJ,twoheadrightarrow:AJ,Uacute:NJ,uacute:DJ,uarr:RJ,Uarr:LJ,uArr:IJ,Uarrocir:PJ,Ubrcy:_J,ubrcy:BJ,Ubreve:FJ,ubreve:qJ,Ucirc:HJ,ucirc:VJ,Ucy:zJ,ucy:$J,udarr:UJ,Udblac:jJ,udblac:WJ,udhar:GJ,ufisht:KJ,Ufr:JJ,ufr:XJ,Ugrave:QJ,ugrave:YJ,uHar:ZJ,uharl:eX,uharr:tX,uhblk:rX,ulcorn:nX,ulcorner:iX,ulcrop:aX,ultri:oX,Umacr:sX,umacr:lX,uml:uX,UnderBar:cX,UnderBrace:fX,UnderBracket:dX,UnderParenthesis:hX,Union:pX,UnionPlus:vX,Uogon:mX,uogon:gX,Uopf:yX,uopf:bX,UpArrowBar:wX,uparrow:kX,UpArrow:CX,Uparrow:xX,UpArrowDownArrow:TX,updownarrow:SX,UpDownArrow:EX,Updownarrow:MX,UpEquilibrium:OX,upharpoonleft:AX,upharpoonright:NX,uplus:DX,UpperLeftArrow:RX,UpperRightArrow:LX,upsi:IX,Upsi:PX,upsih:_X,Upsilon:BX,upsilon:FX,UpTeeArrow:qX,UpTee:HX,upuparrows:VX,urcorn:zX,urcorner:$X,urcrop:UX,Uring:jX,uring:WX,urtri:GX,Uscr:KX,uscr:JX,utdot:XX,Utilde:QX,utilde:YX,utri:ZX,utrif:eQ,uuarr:tQ,Uuml:rQ,uuml:nQ,uwangle:iQ,vangrt:aQ,varepsilon:oQ,varkappa:sQ,varnothing:lQ,varphi:uQ,varpi:cQ,varpropto:fQ,varr:dQ,vArr:hQ,varrho:pQ,varsigma:vQ,varsubsetneq:mQ,varsubsetneqq:gQ,varsupsetneq:yQ,varsupsetneqq:bQ,vartheta:wQ,vartriangleleft:kQ,vartriangleright:CQ,vBar:xQ,Vbar:TQ,vBarv:SQ,Vcy:EQ,vcy:MQ,vdash:OQ,vDash:AQ,Vdash:NQ,VDash:DQ,Vdashl:RQ,veebar:LQ,vee:IQ,Vee:PQ,veeeq:_Q,vellip:BQ,verbar:FQ,Verbar:qQ,vert:HQ,Vert:VQ,VerticalBar:zQ,VerticalLine:$Q,VerticalSeparator:UQ,VerticalTilde:jQ,VeryThinSpace:WQ,Vfr:GQ,vfr:KQ,vltri:JQ,vnsub:XQ,vnsup:QQ,Vopf:YQ,vopf:ZQ,vprop:eY,vrtri:tY,Vscr:rY,vscr:nY,vsubnE:iY,vsubne:aY,vsupnE:oY,vsupne:sY,Vvdash:lY,vzigzag:uY,Wcirc:cY,wcirc:fY,wedbar:dY,wedge:hY,Wedge:pY,wedgeq:vY,weierp:mY,Wfr:gY,wfr:yY,Wopf:bY,wopf:wY,wp:kY,wr:CY,wreath:xY,Wscr:TY,wscr:SY,xcap:EY,xcirc:MY,xcup:OY,xdtri:AY,Xfr:NY,xfr:DY,xharr:RY,xhArr:LY,Xi:IY,xi:PY,xlarr:_Y,xlArr:BY,xmap:FY,xnis:qY,xodot:HY,Xopf:VY,xopf:zY,xoplus:$Y,xotime:UY,xrarr:jY,xrArr:WY,Xscr:GY,xscr:KY,xsqcup:JY,xuplus:XY,xutri:QY,xvee:YY,xwedge:ZY,Yacute:eZ,yacute:tZ,YAcy:rZ,yacy:nZ,Ycirc:iZ,ycirc:aZ,Ycy:oZ,ycy:sZ,yen:lZ,Yfr:uZ,yfr:cZ,YIcy:fZ,yicy:dZ,Yopf:hZ,yopf:pZ,Yscr:vZ,yscr:mZ,YUcy:gZ,yucy:yZ,yuml:bZ,Yuml:wZ,Zacute:kZ,zacute:CZ,Zcaron:xZ,zcaron:TZ,Zcy:SZ,zcy:EZ,Zdot:MZ,zdot:OZ,zeetrf:AZ,ZeroWidthSpace:NZ,Zeta:DZ,zeta:RZ,zfr:LZ,Zfr:IZ,ZHcy:PZ,zhcy:_Z,zigrarr:BZ,zopf:FZ,Zopf:qZ,Zscr:HZ,zscr:VZ,zwj:zZ,zwnj:$Z},UZ="",jZ="",WZ="",GZ="",KZ="",JZ="",XZ="",QZ="",YZ="",ZZ="&",eee="&",tee="",ree="",nee="",iee="",aee="",oee="",see="",lee="",uee="",cee="",fee="",dee="",hee="",pee="",vee="",mee="",gee="",yee="",bee="",wee="",kee="",Cee="",xee="",Tee="",See="",Eee="",Mee="",Oee="",Aee="",Nee=">",Dee=">",Ree="",Lee="",Iee="",Pee="",_ee="",Bee="",Fee="",qee="",Hee="",Vee="",zee="",$ee="<",Uee="<",jee="",Wee="",Gee="",Kee="",Jee="",Xee="",Qee="",Yee="",Zee="",ete="",tte="",rte="",nte="",ite="",ate="",ote="",ste="",lte="",ute="",cte="",fte="",dte="",hte="",pte="",vte='"',mte='"',gte="",yte="",bte="",wte="",kte="",Cte="",xte="",Tte="",Ste="",Ete="",Mte="",Ote="",Ate="",Nte="",Dte="",Rte="",Lte="",Ite="",Pte="",_te="",Bte="",Fte="",qte="",Hte="",Vte="",zte={Aacute:UZ,aacute:jZ,Acirc:WZ,acirc:GZ,acute:KZ,AElig:JZ,aelig:XZ,Agrave:QZ,agrave:YZ,amp:ZZ,AMP:eee,Aring:tee,aring:ree,Atilde:nee,atilde:iee,Auml:aee,auml:oee,brvbar:see,Ccedil:lee,ccedil:uee,cedil:cee,cent:fee,copy:dee,COPY:hee,curren:pee,deg:vee,divide:mee,Eacute:gee,eacute:yee,Ecirc:bee,ecirc:wee,Egrave:kee,egrave:Cee,ETH:xee,eth:Tee,Euml:See,euml:Eee,frac12:Mee,frac14:Oee,frac34:Aee,gt:Nee,GT:Dee,Iacute:Ree,iacute:Lee,Icirc:Iee,icirc:Pee,iexcl:_ee,Igrave:Bee,igrave:Fee,iquest:qee,Iuml:Hee,iuml:Vee,laquo:zee,lt:$ee,LT:Uee,macr:jee,micro:Wee,middot:Gee,nbsp:Kee,not:Jee,Ntilde:Xee,ntilde:Qee,Oacute:Yee,oacute:Zee,Ocirc:ete,ocirc:tte,Ograve:rte,ograve:nte,ordf:ite,ordm:ate,Oslash:ote,oslash:ste,Otilde:lte,otilde:ute,Ouml:cte,ouml:fte,para:dte,plusmn:hte,pound:pte,quot:vte,QUOT:mte,raquo:gte,reg:yte,REG:bte,sect:wte,shy:kte,sup1:Cte,sup2:xte,sup3:Tte,szlig:Ste,THORN:Ete,thorn:Mte,times:Ote,Uacute:Ate,uacute:Nte,Ucirc:Dte,ucirc:Rte,Ugrave:Lte,ugrave:Ite,uml:Pte,Uuml:_te,uuml:Bte,Yacute:Fte,yacute:qte,yen:Hte,yuml:Vte},$te="&",Ute="'",jte=">",Wte="<",Gte='"',ky={amp:$te,apos:Ute,gt:jte,lt:Wte,quot:Gte},fp={},Kte={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Jte=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(fp,"__esModule",{value:!0});var Cy=Jte(Kte),Xte=String.fromCodePoint||function(v){var p="";return v>65535&&(v-=65536,p+=String.fromCharCode(v>>>10&1023|55296),v=56320|v&1023),p+=String.fromCharCode(v),p};function Qte(v){return v>=55296&&v<=57343||v>1114111?"":(v in Cy.default&&(v=Cy.default[v]),Xte(v))}fp.default=Qte;var qc=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.decodeHTML=oe.decodeHTMLStrict=oe.decodeXML=void 0;var dp=qc(wy),Yte=qc(zte),Zte=qc(ky),xy=qc(fp),ere=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;oe.decodeXML=Ty(Zte.default),oe.decodeHTMLStrict=Ty(dp.default);function Ty(v){var p=Ey(v);return function(b){return String(b).replace(ere,p)}}var Sy=function(v,p){return v<p?1:-1};oe.decodeHTML=(function(){for(var v=Object.keys(Yte.default).sort(Sy),p=Object.keys(dp.default).sort(Sy),b=0,E=0;b<p.length;b++)v[E]===p[b]?(p[b]+=";?",E++):p[b]+=";";var P=new RegExp("&(?:"+p.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),W=Ey(dp.default);function Z(de){return de.substr(-1)!==";"&&(de+=";"),W(de)}return function(de){return String(de).replace(P,Z)}})();function Ey(v){return function(b){if(b.charAt(1)==="#"){var E=b.charAt(2);return E==="X"||E==="x"?xy.default(parseInt(b.substr(3),16)):xy.default(parseInt(b.substr(2),10))}return v[b.slice(1,-1)]||b}}var Zn={},My=B&&B.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.escapeUTF8=Zn.escape=Zn.encodeNonAsciiHTML=Zn.encodeHTML=Zn.encodeXML=void 0;var tre=My(ky),Oy=Ny(tre.default),Ay=Dy(Oy);Zn.encodeXML=Iy(Oy);var rre=My(wy),hp=Ny(rre.default),nre=Dy(hp);Zn.encodeHTML=are(hp,nre),Zn.encodeNonAsciiHTML=Iy(hp);function Ny(v){return Object.keys(v).sort().reduce(function(p,b){return p[v[b]]="&"+b+";",p},{})}function Dy(v){for(var p=[],b=[],E=0,P=Object.keys(v);E<P.length;E++){var W=P[E];W.length===1?p.push("\\"+W):b.push(W)}p.sort();for(var Z=0;Z<p.length-1;Z++){for(var de=Z;de<p.length-1&&p[de].charCodeAt(1)+1===p[de+1].charCodeAt(1);)de+=1;var Re=1+de-Z;Re<3||p.splice(Z,Re,p[Z]+"-"+p[de])}return b.unshift("["+p.join("")+"]"),new RegExp(b.join("|"),"g")}var Ry=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,ire=String.prototype.codePointAt!=null?function(v){return v.codePointAt(0)}:function(v){return(v.charCodeAt(0)-55296)*1024+v.charCodeAt(1)-56320+65536};function Hc(v){return"&#x"+(v.length>1?ire(v):v.charCodeAt(0)).toString(16).toUpperCase()+";"}function are(v,p){return function(b){return b.replace(p,function(E){return v[E]}).replace(Ry,Hc)}}var Ly=new RegExp(Ay.source+"|"+Ry.source,"g");function ore(v){return v.replace(Ly,Hc)}Zn.escape=ore;function sre(v){return v.replace(Ay,Hc)}Zn.escapeUTF8=sre;function Iy(v){return function(p){return p.replace(Ly,function(b){return v[b]||Hc(b)})}}(function(v){Object.defineProperty(v,"__esModule",{value:!0}),v.decodeXMLStrict=v.decodeHTML5Strict=v.decodeHTML4Strict=v.decodeHTML5=v.decodeHTML4=v.decodeHTMLStrict=v.decodeHTML=v.decodeXML=v.encodeHTML5=v.encodeHTML4=v.escapeUTF8=v.escape=v.encodeNonAsciiHTML=v.encodeHTML=v.encodeXML=v.encode=v.decodeStrict=v.decode=void 0;var p=oe,b=Zn;function E(Re,Be){return(!Be||Be<=0?p.decodeXML:p.decodeHTML)(Re)}v.decode=E;function P(Re,Be){return(!Be||Be<=0?p.decodeXML:p.decodeHTMLStrict)(Re)}v.decodeStrict=P;function W(Re,Be){return(!Be||Be<=0?b.encodeXML:b.encodeHTML)(Re)}v.encode=W;var Z=Zn;Object.defineProperty(v,"encodeXML",{enumerable:!0,get:function(){return Z.encodeXML}}),Object.defineProperty(v,"encodeHTML",{enumerable:!0,get:function(){return Z.encodeHTML}}),Object.defineProperty(v,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return Z.encodeNonAsciiHTML}}),Object.defineProperty(v,"escape",{enumerable:!0,get:function(){return Z.escape}}),Object.defineProperty(v,"escapeUTF8",{enumerable:!0,get:function(){return Z.escapeUTF8}}),Object.defineProperty(v,"encodeHTML4",{enumerable:!0,get:function(){return Z.encodeHTML}}),Object.defineProperty(v,"encodeHTML5",{enumerable:!0,get:function(){return Z.encodeHTML}});var de=oe;Object.defineProperty(v,"decodeXML",{enumerable:!0,get:function(){return de.decodeXML}}),Object.defineProperty(v,"decodeHTML",{enumerable:!0,get:function(){return de.decodeHTML}}),Object.defineProperty(v,"decodeHTMLStrict",{enumerable:!0,get:function(){return de.decodeHTMLStrict}}),Object.defineProperty(v,"decodeHTML4",{enumerable:!0,get:function(){return de.decodeHTML}}),Object.defineProperty(v,"decodeHTML5",{enumerable:!0,get:function(){return de.decodeHTML}}),Object.defineProperty(v,"decodeHTML4Strict",{enumerable:!0,get:function(){return de.decodeHTMLStrict}}),Object.defineProperty(v,"decodeHTML5Strict",{enumerable:!0,get:function(){return de.decodeHTMLStrict}}),Object.defineProperty(v,"decodeXMLStrict",{enumerable:!0,get:function(){return de.decodeXML}})})(se);var Py="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",lre=92,ure=/[\\&]/,pp="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",cre=new RegExp("\\\\"+pp+"|"+Py,"gi"),fre='[&<>"]',_y=new RegExp(fre,"g"),dre=function(v){return v.charCodeAt(0)===lre?v.charAt(1):se.decodeHTML(v)};function eu(v){return ure.test(v)?v.replace(cre,dre):v}function Vc(v){try{return te(v)}catch{return v}}function hre(v){switch(v){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return v}}function Gs(v){return _y.test(v)?v.replace(_y,hre):v}function vp(v,p){for(var b=[],E=0;E<p;E++)b.push(v);return b.join("")}function By(v){return v?!/[^ \t]+/.test(v):!0}var pre=(function(){function v(p){this.current=p,this.root=p,this.entering=!0}return v.prototype.next=function(){var p=this.current,b=this.entering;if(p===null)return null;var E=mp(p);return b&&E?p.firstChild?(this.current=p.firstChild,this.entering=!0):this.entering=!1:p===this.root?this.current=null:p.next===null?(this.current=p.parent,this.entering=!1):(this.current=p.next,this.entering=!0),{entering:b,node:p}},v.prototype.resumeAt=function(p,b){this.current=p,this.entering=b===!0},v})();function mp(v){switch(v.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var vre=1,zc={};function mre(v){return zc[v]}function gp(v){delete zc[v]}function gre(){zc={}}var tu=(function(){function v(p,b){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,p==="document"?this.id=-1:this.id=vre++,this.type=p,this.sourcepos=b,zc[this.id]=this}return v.prototype.isContainer=function(){return mp(this)},v.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},v.prototype.replaceWith=function(p){this.insertBefore(p),this.unlink()},v.prototype.insertAfter=function(p){p.unlink(),p.next=this.next,p.next&&(p.next.prev=p),p.prev=this,this.next=p,this.parent&&(p.parent=this.parent,p.next||(p.parent.lastChild=p))},v.prototype.insertBefore=function(p){p.unlink(),p.prev=this.prev,p.prev&&(p.prev.next=p),p.next=this,this.prev=p,p.parent=this.parent,p.prev||(p.parent.firstChild=p)},v.prototype.appendChild=function(p){p.unlink(),p.parent=this,this.lastChild?(this.lastChild.next=p,p.prev=this.lastChild,this.lastChild=p):(this.firstChild=p,this.lastChild=p)},v.prototype.prependChild=function(p){p.unlink(),p.parent=this,this.firstChild?(this.firstChild.prev=p,p.next=this.firstChild,this.firstChild=p):(this.firstChild=p,this.lastChild=p)},v.prototype.walker=function(){return new pre(this)},v})(),Ta=(function(v){x(p,v);function p(b,E){var P=v.call(this,b,E)||this;return P.open=!0,P.lineOffsets=null,P.stringContent=null,P.lastLineBlank=!1,P.lastLineChecked=!1,P.type=b,P}return p})(tu),yre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.listData=null,b}return p})(Ta),bre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.level=0,b.headingType="atx",b}return p})(Ta),wre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.isFenced=!1,b.fenceChar=null,b.fenceLength=0,b.fenceOffset=-1,b.info=null,b.infoPadding=0,b}return p})(Ta),kre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.columns=[],b}return p})(Ta),Cre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.startIdx=0,b.endIdx=0,b.paddingLeft=0,b.paddingRight=0,b.ignored=!1,b}return p})(Ta),xre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.title="",b.dest="",b.label="",b}return p})(Ta),Tre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.syntaxLength=0,b.offset=-1,b.info="",b}return p})(Ta),Sre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.htmlBlockType=-1,b}return p})(Ta),Ere=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.destination=null,b.title=null,b.extendedAutolink=!1,b}return p})(tu),Mre=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.tickCount=0,b}return p})(tu),Ore=(function(v){x(p,v);function p(){var b=v!==null&&v.apply(this,arguments)||this;return b.info="",b}return p})(tu);function Lr(v,p){switch(v){case"heading":return new bre(v,p);case"list":case"item":return new yre(v,p);case"link":case"image":return new Ere(v,p);case"codeBlock":return new wre(v,p);case"htmlBlock":return new Sre(v,p);case"table":return new kre(v,p);case"tableCell":return new Cre(v,p);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Ta(v,p);case"code":return new Mre(v,p);case"refDef":return new xre(v,p);case"customBlock":return new Tre(v,p);case"customInline":return new Ore(v,p);default:return new tu(v,p)}}function Fy(v){return v.type==="codeBlock"}function Are(v){return v.type==="htmlBlock"}function Nre(v){return v.type==="heading"}function qy(v){return v.type==="list"}function Dre(v){return v.type==="table"}function Ks(v){return v.type==="refDef"}function Hy(v){return v.type==="customBlock"}function Rre(v){return v.type==="customInline"}function zr(v,p){var b=Lr("text",p);return b.literal=v,b}var Vy="[A-Za-z][A-Za-z0-9-]*",Lre="[a-zA-Z_:][a-zA-Z0-9:._-]*",Ire="[^\"'=<>`\\x00-\\x20]+",Pre="'[^']*'",_re='"[^"]*"',Bre="(?:"+Ire+"|"+Pre+"|"+_re+")",Fre="(?:\\s*=\\s*"+Bre+")",qre="(?:\\s+"+Lre+Fre+"?)",zy="<"+Vy+qre+"*\\s*/?>",$y="</"+Vy+"\\s*[>]",Hre="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Vre="[<][?].*?[?][>]",zre="<![A-Z]+\\s+[^>]*>",$re="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Ure="(?:"+zy+"|"+$y+"|"+Hre+"|"+Vre+"|"+zre+"|"+$re+")",jre=new RegExp("^"+Ure,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var yp;if(String.fromCodePoint)yp=function(v){try{return String.fromCodePoint(v)}catch(p){if(p instanceof RangeError)return"";throw p}};else{var Wre=String.fromCharCode,Gre=Math.floor;yp=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];var b=16384,E=[],P,W,Z=-1,de=v.length;if(!de)return"";for(var Re="";++Z<de;){var Be=Number(v[Z]);if(!isFinite(Be)||Be<0||Be>1114111||Gre(Be)!==Be)return"";Be<=65535?E.push(Be):(Be-=65536,P=(Be>>10)+55296,W=Be%1024+56320,E.push(P,W)),(Z+1===de||E.length>b)&&(Re+=Wre.apply(void 0,E),E.length=0)}return Re}}var bp=yp,Kre="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Jre="[^<\\s]*[^<?!.,:*_?~\\s]",Xre="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function Qre(v){var p=/\)+$/.exec(v);if(p){for(var b=0,E=0,P=v;E<P.length;E++){var W=P[E];W==="("?b<0?b=1:b+=1:W===")"&&(b-=1)}if(b<0){var Z=Math.min(-b,p[0].length);return v.substring(0,v.length-Z)}}return v}function Yre(v){return v.replace(/&[A-Za-z0-9]+;$/,"")}function Zre(v){for(var p=new RegExp(Xre,"g"),b=[],E;E=p.exec(v);){var P=E[0];/[_-]+$/.test(P)||b.push({text:P,range:[E.index,E.index+P.length-1],url:"mailto:"+P})}return b}function ene(v){for(var p=new RegExp("(www|https?://)."+Kre+Jre,"g"),b=[],E;E=p.exec(v);){var P=Yre(Qre(E[0])),W=E[1]==="www"?"http://":"";b.push({text:P,range:[E.index,E.index+P.length-1],url:""+W+P})}return b}function tne(v){return D(D([],ene(v)),Zre(v)).sort(function(p,b){return p.range[0]-b.range[0]})}function rne(v,p){typeof p=="boolean"&&(p=tne);for(var b,E=function(){var P=b.entering,W=b.node;if(P&&W.type==="text"&&W.parent.type!=="link"){var Z=W.literal,de=p(Z);if(!de||!de.length)return"continue";for(var Re=0,Be=W.sourcepos[0],tt=Be[0],st=Be[1],Ze=function(Oa,doe){return[[tt,st+Oa],[tt,st+doe]]},Mt=[],Et=0,tr=de;Et<tr.length;Et++){var Ir=tr[Et],Jr=Ir.range,Sa=Ir.url,gi=Ir.text;Jr[0]>Re&&Mt.push(zr(Z.substring(Re,Jr[0]),Ze(Re,Jr[0]-1)));var ti=Lr("link",Ze.apply(void 0,Jr));ti.appendChild(zr(gi,Ze.apply(void 0,Jr))),ti.destination=Sa,ti.extendedAutolink=!0,Mt.push(ti),Re=Jr[1]+1}Re<Z.length&&Mt.push(zr(Z.substring(Re),Ze(Re,Z.length-1)));for(var Oi=0,Ea=Mt;Oi<Ea.length;Oi++){var Ma=Ea[Oi];W.insertBefore(Ma)}W.unlink()}};b=v.next();)E()}function $c(v){return v[v.length-1]}function Uy(v){return v.slice(1,v.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function Uc(v,p){Object.keys(v).forEach(function(b){p(b,v[b])})}function nne(v){for(var p=[],b=1;b<arguments.length;b++)p[b-1]=arguments[b];var E=M({},v);return p.forEach(function(P){delete E[P]}),E}function Js(v){return!Object.keys(v).length}function ine(v){Object.keys(v).forEach(function(p){delete v[p]})}var wp=10,kp=42,jc=95,ane=96,jy=91,one=93,Wc=126,Wy=60,sne=33,Gy=92,lne=38,Ky=40,Cp=41,une=58,Ko=39,Jo=34,Xo=36,xp="\\\\"+pp,Jy=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),cne=new RegExp('^(?:"('+xp+'|[^"\\x00])*"|'+("'("+xp+"|[^'\\x00])*'")+"|"+("\\(("+xp+"|[^()\\x00])*\\))")),fne=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Xy=new RegExp("^"+pp),dne=new RegExp("^"+Py,"i"),hne=/`+/,pne=/^`+/,vne=/\.\.\./g,mne=/--+/g,gne=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,yne=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,bne=/^ *(?:\n *)?/,Tp=/^[ \t\n\x0b\x0c\x0d]/,Qy=/^\s/,wne=/ *$/,kne=/^ */,Yy=/^ *(?:\n|$)/,Cne=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,xne=/^[^\n`\[\]\\!<&*_'"~$]+/m,Tne=(function(){function v(p){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=p}return v.prototype.sourcepos=function(p,b){var E=this.linePosOffset+this.lineOffsets[this.lineIdx],P=this.lineStartNum+this.lineIdx,W=[P,p+E];return typeof b=="number"?[W,[P,b+E]]:W},v.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},v.prototype.match=function(p){var b=p.exec(this.subject.slice(this.pos));return b===null?null:(this.pos+=b.index+b[0].length,b[0])},v.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},v.prototype.spnl=function(){return this.match(bne),!0},v.prototype.parseBackticks=function(p){var b=this.pos+1,E=this.match(pne);if(E===null)return!1;for(var P=this.pos,W;(W=this.match(hne))!==null;)if(W===E){var Z=this.subject.slice(P,this.pos-E.length),de=this.sourcepos(b,this.pos),Re=Z.split(`
`);if(Re.length>1){var Be=$c(Re);this.lineIdx+=Re.length-1,this.linePosOffset=-(this.pos-Be.length-E.length),de[1]=this.sourcepos(this.pos),Z=Re.join(" ")}var tt=Lr("code",de);return Z.length>0&&Z.match(/[^ ]/)!==null&&Z[0]==" "&&Z[Z.length-1]==" "?tt.literal=Z.slice(1,Z.length-1):tt.literal=Z,tt.tickCount=E.length,p.appendChild(tt),!0}return this.pos=P,p.appendChild(zr(E,this.sourcepos(b,this.pos-1))),!0},v.prototype.parseBackslash=function(p){var b=this.subject,E;this.pos+=1;var P=this.pos;return this.peek()===wp?(this.pos+=1,E=Lr("linebreak",this.sourcepos(this.pos-1,this.pos)),p.appendChild(E),this.nextLine()):Xy.test(b.charAt(this.pos))?(p.appendChild(zr(b.charAt(this.pos),this.sourcepos(P,this.pos))),this.pos+=1):p.appendChild(zr("\\",this.sourcepos(P,P))),!0},v.prototype.parseAutolink=function(p){var b,E,P,W=this.pos+1;return(b=this.match(gne))?(E=b.slice(1,b.length-1),P=Lr("link",this.sourcepos(W,this.pos)),P.destination=Vc("mailto:"+E),P.title="",P.appendChild(zr(E,this.sourcepos(W+1,this.pos-1))),p.appendChild(P),!0):(b=this.match(yne))?(E=b.slice(1,b.length-1),P=Lr("link",this.sourcepos(W,this.pos)),P.destination=Vc(E),P.title="",P.appendChild(zr(E,this.sourcepos(W+1,this.pos-1))),p.appendChild(P),!0):!1},v.prototype.parseHtmlTag=function(p){var b=this.pos+1,E=this.match(jre);if(E===null)return!1;var P=Lr("htmlInline",this.sourcepos(b,this.pos));return P.literal=E,p.appendChild(P),!0},v.prototype.scanDelims=function(p){var b=0,E=this.pos;if(p===Ko||p===Jo)b++,this.pos++;else for(;this.peek()===p;)b++,this.pos++;if(b===0||b<2&&(p===Wc||p===Xo))return this.pos=E,null;var P=E===0?`
`:this.subject.charAt(E-1),W=this.peek(),Z;W===-1?Z=`
`:Z=bp(W);var de=Qy.test(Z),Re=Jy.test(Z),Be=Qy.test(P),tt=Jy.test(P),st=!de&&(!Re||Be||tt),Ze=!Be&&(!tt||de||Re),Mt,Et;return p===jc?(Mt=st&&(!Ze||tt),Et=Ze&&(!st||Re)):p===Ko||p===Jo?(Mt=st&&!Ze,Et=Ze):p===Xo?(Mt=!de,Et=!Be):(Mt=st,Et=Ze),this.pos=E,{numdelims:b,canOpen:Mt,canClose:Et}},v.prototype.handleDelim=function(p,b){var E=this.scanDelims(p);if(!E)return!1;var P=E.numdelims,W=this.pos+1,Z;this.pos+=P,p===Ko?Z="":p===Jo?Z="":Z=this.subject.slice(W-1,this.pos);var de=zr(Z,this.sourcepos(W,this.pos));return b.appendChild(de),(E.canOpen||E.canClose)&&(this.options.smart||p!==Ko&&p!==Jo)&&(this.delimiters={cc:p,numdelims:P,origdelims:P,node:de,previous:this.delimiters,next:null,canOpen:E.canOpen,canClose:E.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},v.prototype.removeDelimiter=function(p){p.previous!==null&&(p.previous.next=p.next),p.next===null?this.delimiters=p.previous:p.next.previous=p.previous},v.prototype.removeDelimitersBetween=function(p,b){p.next!==b&&(p.next=b,b.previous=p)},v.prototype.processEmphasis=function(p){var b,E,P,W,Z,de,Re,Be=!1,tt=(b={},b[jc]=[p,p,p],b[kp]=[p,p,p],b[Ko]=[p],b[Jo]=[p],b[Wc]=[p],b[Xo]=[p],b);for(P=this.delimiters;P!==null&&P.previous!==p;)P=P.previous;for(;P!==null;){var st=P.cc,Ze=st===jc||st===kp;if(!P.canClose)P=P.next;else{for(E=P.previous,Re=!1;E!==null&&E!==p&&E!==tt[st][Ze?P.origdelims%3:0];){if(Be=Ze&&(P.canOpen||E.canClose)&&P.origdelims%3!==0&&(E.origdelims+P.origdelims)%3===0,E.cc===P.cc&&E.canOpen&&!Be){Re=!0;break}E=E.previous}if(W=P,Ze||st===Wc||st===Xo){if(!Re)P=P.next;else if(E){var Mt=P.numdelims>=2&&E.numdelims>=2?2:1,Et=Ze?0:1;Z=E.node,de=P.node;var tr=Ze?Mt===1?"emph":"strong":"strike";st===Xo&&(tr="customInline");var Ir=Lr(tr),Jr=Z.sourcepos[1],Sa=de.sourcepos[0];Ir.sourcepos=[[Jr[0],Jr[1]-Mt+1],[Sa[0],Sa[1]+Mt-1]],Z.sourcepos[1][1]-=Mt,de.sourcepos[0][1]+=Mt,Z.literal=Z.literal.slice(Mt),de.literal=de.literal.slice(Mt),E.numdelims-=Mt,P.numdelims-=Mt;for(var gi=Z.next,ti=void 0;gi&&gi!==de;)ti=gi.next,gi.unlink(),Ir.appendChild(gi),gi=ti;if(st===Xo){var Oi=Ir.firstChild,Ea=Oi.literal||"",Ma=Ea.split(/\s/)[0];Ir.info=Ma,Ea.length<=Ma.length?Oi.unlink():(Oi.sourcepos[0][1]+=Ma.length,Oi.literal=Ea.replace(Ma+" ",""))}if(Z.insertAfter(Ir),this.removeDelimitersBetween(E,P),E.numdelims<=Et&&(E.numdelims===0&&Z.unlink(),this.removeDelimiter(E)),P.numdelims<=Et){P.numdelims===0&&de.unlink();var Oa=P.next;this.removeDelimiter(P),P=Oa}}}else st===Ko?(P.node.literal="",Re&&(E.node.literal=""),P=P.next):st===Jo&&(P.node.literal="",Re&&(E.node.literal=""),P=P.next);Re||(tt[st][Ze?W.origdelims%3:0]=W.previous,W.canOpen||this.removeDelimiter(W))}}for(;this.delimiters!==null&&this.delimiters!==p;)this.removeDelimiter(this.delimiters)},v.prototype.parseLinkTitle=function(){var p=this.match(cne);return p===null?null:eu(p.substr(1,p.length-2))},v.prototype.parseLinkDestination=function(){var p=this.match(fne);if(p===null){if(this.peek()===Wy)return null;for(var b=this.pos,E=0,P=void 0;(P=this.peek())!==-1;)if(P===Gy&&Xy.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(P===Ky)this.pos+=1,E+=1;else if(P===Cp){if(E<1)break;this.pos+=1,E-=1}else{if(Tp.exec(bp(P))!==null)break;this.pos+=1}return this.pos===b&&P!==Cp||E!==0?null:(p=this.subject.substr(b,this.pos-b),Vc(eu(p)))}return Vc(eu(p.substr(1,p.length-2)))},v.prototype.parseLinkLabel=function(){var p=this.match(Cne);return p===null||p.length>1001?0:p.length},v.prototype.parseOpenBracket=function(p){var b=this.pos;this.pos+=1;var E=zr("[",this.sourcepos(this.pos,this.pos));return p.appendChild(E),this.addBracket(E,b,!1),!0},v.prototype.parseBang=function(p){var b=this.pos;if(this.pos+=1,this.peek()===jy){this.pos+=1;var E=zr("![",this.sourcepos(this.pos-1,this.pos));p.appendChild(E),this.addBracket(E,b+1,!0)}else{var E=zr("!",this.sourcepos(this.pos,this.pos));p.appendChild(E)}return!0},v.prototype.parseCloseBracket=function(p){var b=null,E=null,P=!1;this.pos+=1;var W=this.pos,Z=this.brackets;if(Z===null)return p.appendChild(zr("]",this.sourcepos(W,W))),!0;if(!Z.active)return p.appendChild(zr("]",this.sourcepos(W,W))),this.removeBracket(),!0;var de=Z.image,Re=this.pos;this.peek()===Ky&&(this.pos++,this.spnl()&&(b=this.parseLinkDestination())!==null&&this.spnl()&&(Tp.test(this.subject.charAt(this.pos-1))&&(E=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Cp?(this.pos+=1,P=!0):this.pos=Re);var Be="";if(!P){var tt=this.pos,st=this.parseLinkLabel();if(st>2?Be=this.subject.slice(tt,tt+st):Z.bracketAfter||(Be=this.subject.slice(Z.index,W)),st===0&&(this.pos=Re),Be){Be=Uy(Be);var Ze=this.refMap[Be];Ze&&(b=Ze.destination,E=Ze.title,P=!0)}}if(P){var Mt=Lr(de?"image":"link");Mt.destination=b,Mt.title=E||"",Mt.sourcepos=[Z.startpos,this.sourcepos(this.pos)];for(var Et=Z.node.next,tr=void 0;Et;)tr=Et.next,Et.unlink(),Mt.appendChild(Et),Et=tr;if(p.appendChild(Mt),this.processEmphasis(Z.previousDelimiter),this.removeBracket(),Z.node.unlink(),!de)for(Z=this.brackets;Z!==null;)Z.image||(Z.active=!1),Z=Z.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[p.id]={node:p,refLabel:Be}),!0}return this.removeBracket(),this.pos=W,p.appendChild(zr("]",this.sourcepos(W,W))),this.options.referenceDefinition&&(this.refLinkCandidateMap[p.id]={node:p,refLabel:Be}),!0},v.prototype.addBracket=function(p,b,E){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:p,startpos:this.sourcepos(b+(E?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:b,image:E,active:!0}},v.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},v.prototype.parseEntity=function(p){var b,E=this.pos+1;return(b=this.match(dne))?(p.appendChild(zr(se.decodeHTML(b),this.sourcepos(E,this.pos))),!0):!1},v.prototype.parseString=function(p){var b,E=this.pos+1;if(b=this.match(xne)){if(this.options.smart){var P=b.replace(vne,"").replace(mne,function(Z){var de=0,Re=0;return Z.length%3===0?Re=Z.length/3:Z.length%2===0?de=Z.length/2:Z.length%3===2?(de=1,Re=(Z.length-2)/3):(de=2,Re=(Z.length-4)/3),vp("",Re)+vp("",de)});p.appendChild(zr(P,this.sourcepos(E,this.pos)))}else{var W=zr(b,this.sourcepos(E,this.pos));p.appendChild(W)}return!0}return!1},v.prototype.parseNewline=function(p){this.pos+=1;var b=p.lastChild;if(b&&b.type==="text"&&b.literal[b.literal.length-1]===" "){var E=b.literal[b.literal.length-2]===" ",P=b.literal.length;b.literal=b.literal.replace(wne,"");var W=P-b.literal.length;b.sourcepos[1][1]-=W,p.appendChild(Lr(E?"linebreak":"softbreak",this.sourcepos(this.pos-W,this.pos)))}else p.appendChild(Lr("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(kne),!0},v.prototype.parseReference=function(p,b){if(!this.options.referenceDefinition)return 0;this.subject=p.stringContent,this.pos=0;var E=null,P=this.pos,W=this.parseLinkLabel();if(W===0)return 0;var Z=this.subject.substr(0,W);if(this.peek()===une)this.pos++;else return this.pos=P,0;this.spnl();var de=this.parseLinkDestination();if(de===null)return this.pos=P,0;var Re=this.pos;this.spnl(),this.pos!==Re&&(E=this.parseLinkTitle()),E===null&&(E="",this.pos=Re);var Be=!0;if(this.match(Yy)===null&&(E===""?Be=!1:(E="",this.pos=Re,Be=this.match(Yy)!==null)),!Be)return this.pos=P,0;var tt=Uy(Z);if(tt==="")return this.pos=P,0;var st=this.getReferenceDefSourcepos(p);p.sourcepos[0][0]=st[1][0]+1;var Ze=Lr("refDef",st);return Ze.title=E,Ze.dest=de,Ze.label=tt,p.insertBefore(Ze),b[tt]?this.refDefCandidateMap[Ze.id]=Ze:b[tt]=Np(Ze),this.pos-P},v.prototype.mergeTextNodes=function(p){for(var b,E=[];b=p.next();){var P=b.entering,W=b.node;if(P&&W.type==="text")E.push(W);else if(E.length===1)E=[];else if(E.length>1){var Z=E[0],de=E[E.length-1];Z.sourcepos&&de.sourcepos&&(Z.sourcepos[1]=de.sourcepos[1]),Z.next=de.next,Z.next&&(Z.next.prev=Z);for(var Re=1;Re<E.length;Re+=1)Z.literal+=E[Re].literal,E[Re].unlink();E=[]}}},v.prototype.getReferenceDefSourcepos=function(p){for(var b=p.stringContent.split(/\n|\r\n/),E=!1,P=0,W={line:0,ch:0},Z=0;Z<b.length;Z+=1){var de=b[Z];if(Tp.test(de))break;if(/\:/.test(de)&&P===0){if(E)break;var Re=de.indexOf(":")===de.length-1?Z+1:Z;W={line:Re,ch:b[Re].length},E=!0}var Be=de.match(/'|"/g);if(Be&&(P+=Be.length),P===2){W={line:Z,ch:de.length};break}}return[[p.sourcepos[0][0],p.sourcepos[0][1]],[p.sourcepos[0][0]+W.line,W.ch]]},v.prototype.parseInline=function(p){var b,E=!1,P=this.peek();if(P===-1)return!1;switch(P){case wp:E=this.parseNewline(p);break;case Gy:E=this.parseBackslash(p);break;case ane:E=this.parseBackticks(p);break;case kp:case jc:case Wc:case Xo:E=this.handleDelim(P,p);break;case Ko:case Jo:E=!!(!((b=this.options)===null||b===void 0)&&b.smart)&&this.handleDelim(P,p);break;case jy:E=this.parseOpenBracket(p);break;case sne:E=this.parseBang(p);break;case one:E=this.parseCloseBracket(p);break;case Wy:E=this.parseAutolink(p)||this.parseHtmlTag(p);break;case lne:p.disabledEntityParse||(E=this.parseEntity(p));break;default:E=this.parseString(p);break}return E||(this.pos+=1,p.appendChild(zr(bp(P),this.sourcepos(this.pos,this.pos+1)))),!0},v.prototype.parse=function(p){for(this.subject=p.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=p.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=p.sourcepos[0][0],Nre(p)&&(this.lineOffsets[0]+=p.level+1);this.parseInline(p););p.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(p.walker());var b=this.options,E=b.extendedAutolinks,P=b.customParser;if(E&&rne(p.walker(),E),P&&p.firstChild)for(var W,Z=p.firstChild.walker();W=Z.next();){var de=W.node,Re=W.entering;P[de.type]&&P[de.type](de,{entering:Re,options:this.options})}},v})(),Sne=/^\[([ \txX])\][ \t]+/;function Ene(v,p){if(p.firstChild&&p.firstChild.type==="paragraph"){var b=p.firstChild,E=b.stringContent.match(Sne);if(E){var P=E[0].length;b.stringContent=b.stringContent.substring(P-1),b.sourcepos[0][1]+=P,b.lineOffsets[0]+=P,p.listData.task=!0,p.listData.checked=/[xX]/.test(E[1])}}}var Mne={continue:function(){return 0},finalize:function(){},canContain:function(v){return v==="tableHead"||v==="tableBody"},acceptsLines:!1},One={continue:function(){return 0},finalize:function(){},canContain:function(v){return v==="tableRow"},acceptsLines:!1},Ane={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableRow"||v==="tableDelimRow"},acceptsLines:!1},Nne={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableDelimCell"},acceptsLines:!1},Dne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Rne={continue:function(){return 1},finalize:function(){},canContain:function(v){return v==="tableCell"},acceptsLines:!1},Lne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Gc=4,Zy=9,eb=62,Ine=60,tb=32,rb=91,nb=/[^ \t\f\v\r\n]/,Pne=/^(?:`{3,}|~{3,})(?= *$)/;function ib(v){for(var p=v;p;){if(p.lastLineBlank)return!0;var b=p.type;if(!p.lastLineChecked&&(b==="list"||b==="item"))p.lastLineChecked=!0,p=p.lastChild;else{p.lastLineChecked=!0;break}}return!1}function ei(v,p){return p<v.length?v.charCodeAt(p):-1}function ab(v){return!nb.test(v)}function Xs(v){return v===tb||v===Zy}var _ne=/^\$\$$/,Bne={continue:function(v,p){var b=v.currentLine,E=b.match(_ne);if(E)return v.lastLineLength=E[0].length,v.finalize(p,v.lineNumber),2;for(var P=p.offset;P>0&&Xs(ei(b,v.offset));)v.advanceOffset(1,!0),P--;return 0},finalize:function(v,p){if(p.stringContent!==null){var b=p.stringContent,E=b.indexOf(`
`),P=b.slice(0,E),W=b.slice(E+1),Z=P.match(/^(\s*)(.*)/);p.info=eu(Z[2].trim()),p.literal=W,p.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},ob={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Fne={continue:function(){return 0},finalize:function(){},canContain:function(v){return v!=="item"},acceptsLines:!1},qne={continue:function(){return 0},finalize:function(v,p){for(var b=p.firstChild;b;){if(ib(b)&&b.next){p.listData.tight=!1;break}for(var E=b.firstChild;E;){if(ib(E)&&(b.next||E.next)){p.listData.tight=!1;break}E=E.next}b=b.next}},canContain:function(v){return v==="item"},acceptsLines:!1},Hne={continue:function(v){var p=v.currentLine;if(!v.indented&&ei(p,v.nextNonspace)===eb)v.advanceNextNonspace(),v.advanceOffset(1,!1),Xs(ei(p,v.offset))&&v.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(v){return v!=="item"},acceptsLines:!1},Vne={continue:function(v,p){if(v.blank){if(p.firstChild===null)return 1;v.advanceNextNonspace()}else if(v.indent>=p.listData.markerOffset+p.listData.padding)v.advanceOffset(p.listData.markerOffset+p.listData.padding,!0);else return 1;return 0},finalize:Ene,canContain:function(v){return v!=="item"},acceptsLines:!1},zne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},$ne={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},Une={continue:function(v,p){var b=v.currentLine,E=v.indent;if(p.isFenced){var P=E<=3&&b.charAt(v.nextNonspace)===p.fenceChar&&b.slice(v.nextNonspace).match(Pne);if(P&&P[0].length>=p.fenceLength)return v.lastLineLength=v.offset+E+P[0].length,v.finalize(p,v.lineNumber),2;for(var W=p.fenceOffset;W>0&&Xs(ei(b,v.offset));)v.advanceOffset(1,!0),W--}else if(E>=Gc)v.advanceOffset(Gc,!0);else if(v.blank)v.advanceNextNonspace();else return 1;return 0},finalize:function(v,p){var b;if(p.stringContent!==null){if(p.isFenced){var E=p.stringContent,P=E.indexOf(`
`),W=E.slice(0,P),Z=E.slice(P+1),de=W.match(/^(\s*)(.*)/);p.infoPadding=de[1].length,p.info=eu(de[2].trim()),p.literal=Z}else p.literal=(b=p.stringContent)===null||b===void 0?void 0:b.replace(/(\n *)+$/,`
`);p.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},jne={continue:function(v,p){return v.blank&&(p.htmlBlockType===6||p.htmlBlockType===7)?1:0},finalize:function(v,p){var b;p.literal=((b=p.stringContent)===null||b===void 0?void 0:b.replace(/(\n *)+$/,""))||null,p.stringContent=null},canContain:function(){return!1},acceptsLines:!0},Wne={continue:function(v){return v.blank?1:0},finalize:function(v,p){if(p.stringContent!==null){for(var b,E=!1;ei(p.stringContent,0)===rb&&(b=v.inlineParser.parseReference(p,v.refMap));)p.stringContent=p.stringContent.slice(b),E=!0;E&&ab(p.stringContent)&&p.unlink()}},canContain:function(){return!1},acceptsLines:!0},Gne=ob,Kne=ob,Qs={document:Fne,list:qne,blockQuote:Hne,item:Vne,heading:zne,thematicBreak:$ne,codeBlock:Une,htmlBlock:jne,paragraph:Wne,table:Mne,tableBody:One,tableHead:Ane,tableRow:Rne,tableCell:Lne,tableDelimRow:Nne,tableDelimCell:Dne,refDef:Gne,customBlock:Bne,frontMatter:Kne};function Sp(v){for(var p=0,b=0,E=[],P=0;P<v.length;P+=1)if(v[P]==="|"&&v[P-1]!=="\\"){var W=v.substring(p,P);p===0&&By(W)?b=P+1:E.push(W),p=P+1}if(p<v.length){var W=v.substring(p,v.length);By(W)||E.push(W)}return[b,E]}function Ep(v,p,b,E){for(var P=[],W=0,Z=p;W<Z.length;W++){var de=Z[W],Re=de.match(/^[ \t]+/),Be=Re?Re[0].length:0,tt=void 0,st=void 0;if(Be===de.length)Be=0,tt=0,st="";else{var Ze=de.match(/[ \t]+$/);tt=Ze?Ze[0].length:0,st=de.slice(Be,de.length-tt)}var Mt=E+Be,Et=Lr(v,[[b,E],[b,E+de.length-1]]);Et.stringContent=st.replace(/\\\|/g,"|"),Et.startIdx=P.length,Et.endIdx=P.length,Et.lineOffsets=[Mt-1],Et.paddingLeft=Be,Et.paddingRight=tt,P.push(Et),E+=de.length+1}return P}function Jne(v){var p=null,b=v.stringContent,E=b[0],P=b[b.length-1];return P===":"?p=E===":"?"center":"right":E===":"&&(p="left"),{align:p}}var Xne=function(v,p){var b=p.stringContent;if(p.type==="paragraph"&&!v.indented&&!v.blank){var E=b.length-1,P=b.lastIndexOf(`
`,E-1)+1,W=b.slice(P,E),Z=v.currentLine.slice(v.nextNonspace),de=Sp(W),Re=de[0],Be=de[1],tt=Sp(Z),st=tt[0],Ze=tt[1],Mt=/^[ \t]*:?-+:?[ \t]*$/;if(!Be.length||!Ze.length||Ze.some(function(Oa){return!Mt.test(Oa)})||Ze.length===1&&Z.indexOf("|")!==0)return 0;var Et=p.lineOffsets,tr=v.lineNumber-1,Ir=$c(Et)+1,Jr=Lr("table",[[tr,Ir],[v.lineNumber,v.offset]]);if(Jr.columns=Ze.map(function(){return{align:null}}),p.insertAfter(Jr),Et.length===1)p.unlink();else{p.stringContent=b.slice(0,P);var Sa=b.lastIndexOf(`
`,P-2)+1,gi=P-Sa-1;v.lastLineLength=Et[Et.length-2]+gi,v.finalize(p,tr-1)}v.advanceOffset(v.currentLine.length-v.offset,!1);var ti=Lr("tableHead",[[tr,Ir],[v.lineNumber,v.offset]]);Jr.appendChild(ti);var Oi=Lr("tableRow",[[tr,Ir],[tr,Ir+W.length-1]]),Ea=Lr("tableDelimRow",[[v.lineNumber,v.nextNonspace+1],[v.lineNumber,v.offset]]);ti.appendChild(Oi),ti.appendChild(Ea),Ep("tableCell",Be,tr,Ir+Re).forEach(function(Oa){Oi.appendChild(Oa)});var Ma=Ep("tableDelimCell",Ze,v.lineNumber,v.nextNonspace+1+st);return Ma.forEach(function(Oa){Ea.appendChild(Oa)}),Jr.columns=Ma.map(Jne),v.tip=Jr,2}return 0},Qne=function(v,p){if(p.type!=="table"&&p.type!=="tableBody"||!v.blank&&v.currentLine.indexOf("|")===-1)return 0;if(v.advanceOffset(v.currentLine.length-v.offset,!1),v.blank){var b=p;return p.type==="tableBody"&&(b=p.parent,v.finalize(p,v.lineNumber-1)),v.finalize(b,v.lineNumber-1),0}var E=p;p.type==="table"&&(E=v.addChild("tableBody",v.nextNonspace),E.stringContent=null);var P=Lr("tableRow",[[v.lineNumber,v.nextNonspace+1],[v.lineNumber,v.currentLine.length]]);E.appendChild(P);var W=E.parent,Z=v.currentLine.slice(v.nextNonspace),de=Sp(Z),Re=de[0],Be=de[1];return Ep("tableCell",Be,v.lineNumber,v.nextNonspace+1+Re).forEach(function(tt,st){st>=W.columns.length&&(tt.ignored=!0),P.appendChild(tt)}),2},Yne=/^(\$\$)(\s*[a-zA-Z])+/,Zne=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,eie=function(v){var p;if(!v.indented&&!Zne.test(v.currentLine)&&(p=v.currentLine.match(Yne))){var b=p[1].length;v.closeUnmatchedBlocks();var E=v.addChild("customBlock",v.nextNonspace);return E.syntaxLength=b,E.offset=v.indent,v.advanceNextNonspace(),v.advanceOffset(b,!1),2}return 0},tie=/^`{3,}(?!.*`)|^~{3,}/,rie=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+zy+"|"+$y+")\\s*$","i")],nie=/^(?:=+|-+)[ \t]*$/,iie=/^#{1,6}(?:[ \t]+|$)/,aie=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,sb=/^[*+-]/,lb=/^(\d{1,9})([.)])/;function oie(v,p){var b=v.currentLine.slice(v.nextNonspace),E,P,W={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:v.indent,task:!1,checked:!1};if(v.indent>=4)return null;if(E=b.match(sb))W.type="bullet",W.bulletChar=E[0][0];else if((E=b.match(lb))&&(p.type!=="paragraph"||E[1]==="1"))W.type="ordered",W.start=parseInt(E[1],10),W.delimiter=E[2];else return null;if(P=ei(v.currentLine,v.nextNonspace+E[0].length),!(P===-1||P===Zy||P===tb)||p.type==="paragraph"&&!v.currentLine.slice(v.nextNonspace+E[0].length).match(nb))return null;v.advanceNextNonspace(),v.advanceOffset(E[0].length,!0);var Z=v.column,de=v.offset;do v.advanceOffset(1,!0),P=ei(v.currentLine,v.offset);while(v.column-Z<5&&Xs(P));var Re=ei(v.currentLine,v.offset)===-1,Be=v.column-Z;return Be>=5||Be<1||Re?(W.padding=E[0].length+1,v.column=Z,v.offset=de,Xs(ei(v.currentLine,v.offset))&&v.advanceOffset(1,!0)):W.padding=E[0].length+Be,W}function sie(v,p){return v.type===p.type&&v.delimiter===p.delimiter&&v.bulletChar===p.bulletChar}function ub(v,p){return v.options.disallowDeepHeading&&(p.type==="blockQuote"||p.type==="item")}var lie=function(v){return!v.indented&&ei(v.currentLine,v.nextNonspace)===eb?(v.advanceNextNonspace(),v.advanceOffset(1,!1),Xs(ei(v.currentLine,v.offset))&&v.advanceOffset(1,!0),v.closeUnmatchedBlocks(),v.addChild("blockQuote",v.nextNonspace),1):0},uie=function(v,p){var b;if(!v.indented&&!ub(v,p)&&(b=v.currentLine.slice(v.nextNonspace).match(iie))){v.advanceNextNonspace(),v.advanceOffset(b[0].length,!1),v.closeUnmatchedBlocks();var E=v.addChild("heading",v.nextNonspace);return E.level=b[0].trim().length,E.headingType="atx",E.stringContent=v.currentLine.slice(v.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),v.advanceOffset(v.currentLine.length-v.offset),2}return 0},cie=function(v){var p;if(!v.indented&&(p=v.currentLine.slice(v.nextNonspace).match(tie))){var b=p[0].length;v.closeUnmatchedBlocks();var E=v.addChild("codeBlock",v.nextNonspace);return E.isFenced=!0,E.fenceLength=b,E.fenceChar=p[0][0],E.fenceOffset=v.indent,v.advanceNextNonspace(),v.advanceOffset(b,!1),2}return 0},fie=function(v,p){if(!v.indented&&ei(v.currentLine,v.nextNonspace)===Ine){var b=v.currentLine.slice(v.nextNonspace),E=v.options.disallowedHtmlBlockTags,P=void 0;for(P=1;P<=7;P++){var W=b.match(rie[P]);if(W){if(P===7){if(p.type==="paragraph")return 0;if(E.length>0){var Z=new RegExp("</?(?:"+E.join("|")+")","i");if(Z.test(W[0]))return 0}}v.closeUnmatchedBlocks();var de=v.addChild("htmlBlock",v.offset);return de.htmlBlockType=P,2}}}return 0},die=function(v,p){var b;if(p.stringContent!==null&&!v.indented&&p.type==="paragraph"&&!ub(v,p.parent)&&(b=v.currentLine.slice(v.nextNonspace).match(nie))){v.closeUnmatchedBlocks();for(var E=void 0;ei(p.stringContent,0)===rb&&(E=v.inlineParser.parseReference(p,v.refMap));)p.stringContent=p.stringContent.slice(E);if(p.stringContent.length>0){var P=Lr("heading",p.sourcepos);return P.level=b[0][0]==="="?1:2,P.headingType="setext",P.stringContent=p.stringContent,p.insertAfter(P),p.unlink(),v.tip=P,v.advanceOffset(v.currentLine.length-v.offset,!1),2}return 0}return 0},hie=function(v){return!v.indented&&aie.test(v.currentLine.slice(v.nextNonspace))?(v.closeUnmatchedBlocks(),v.addChild("thematicBreak",v.nextNonspace),v.advanceOffset(v.currentLine.length-v.offset,!1),2):0},pie=function(v,p){var b,E=p;return(!v.indented||p.type==="list")&&(b=oie(v,E))?(v.closeUnmatchedBlocks(),(v.tip.type!=="list"||!sie(E.listData,b))&&(E=v.addChild("list",v.nextNonspace),E.listData=b),E=v.addChild("item",v.nextNonspace),E.listData=b,1):0},vie=function(v){return v.indented&&v.tip.type!=="paragraph"&&!v.blank?(v.advanceOffset(Gc,!0),v.closeUnmatchedBlocks(),v.addChild("codeBlock",v.offset),2):0},Mp=[lie,uie,cie,fie,die,hie,pie,vie,Xne,Qne,eie],cb=/^(-{3}|\+{3}|;{3})$/,mie=function(v,p){var b=v.currentLine,E=v.lineNumber,P=v.indented;if(E===1&&!P&&p.type==="document"&&cb.test(b)){v.closeUnmatchedBlocks();var W=v.addChild("frontMatter",v.nextNonspace);return W.stringContent=b,v.advanceNextNonspace(),v.advanceOffset(b.length,!1),2}return 0},gie={continue:function(v,p){var b=v.currentLine,E=b.match(cb);return p.type==="frontMatter"&&E?(p.stringContent+=b,v.lastLineLength=E[0].length,v.finalize(p,v.lineNumber),2):0},finalize:function(v,p){p.stringContent!==null&&(p.literal=p.stringContent,p.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},yie=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],bie=/^[#`~*+_=<>0-9-;$]/,wie=/\r\n|\n|\r/;function Op(){return Lr("document",[[1,1],[0,0]])}var kie={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},Cie=(function(){function v(p){this.options=M(M({},kie),p),this.doc=Op(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Qs.frontMatter=gie,Mp.unshift(mie)),this.inlineParser=new Tne(this.options)}return v.prototype.advanceOffset=function(p,b){b===void 0&&(b=!1);for(var E=this.currentLine,P,W,Z;p>0&&(Z=E[this.offset]);)Z==="	"?(P=4-this.column%4,b?(this.partiallyConsumedTab=P>p,W=P>p?p:P,this.column+=W,this.offset+=this.partiallyConsumedTab?0:1,p-=W):(this.partiallyConsumedTab=!1,this.column+=P,this.offset+=1,p-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,p-=1)},v.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},v.prototype.findNextNonspace=function(){for(var p=this.currentLine,b=this.offset,E=this.column,P;(P=p.charAt(b))!=="";)if(P===" ")b++,E++;else if(P==="	")b++,E+=4-E%4;else break;this.blank=P===`
`||P==="\r"||P==="",this.nextNonspace=b,this.nextNonspaceColumn=E,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=Gc},v.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var p=4-this.column%4;this.tip.stringContent+=vp(" ",p)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},v.prototype.addChild=function(p,b){for(;!Qs[this.tip.type].canContain(p);)this.finalize(this.tip,this.lineNumber-1);var E=b+1,P=Lr(p,[[this.lineNumber,E],[0,0]]);return P.stringContent="",this.tip.appendChild(P),this.tip=P,P},v.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var p=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=p}this.allClosed=!0}},v.prototype.finalize=function(p,b){var E=p.parent;p.open=!1,p.sourcepos[1]=[b,this.lastLineLength],Qs[p.type].finalize(this,p),this.tip=E},v.prototype.processInlines=function(p){var b,E=this.options.customParser,P=p.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;b=P.next();){var W=b.node,Z=b.entering,de=W.type;E&&E[de]&&E[de](W,{entering:Z,options:this.options}),!Z&&(de==="paragraph"||de==="heading"||de==="tableCell"&&!W.ignored)&&this.inlineParser.parse(W)}},v.prototype.incorporateLine=function(p){var b=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,p.indexOf("\0")!==-1&&(p=p.replace(/\0/g,"")),this.currentLine=p;for(var E=!0,P;(P=b.lastChild)&&P.open;){switch(b=P,this.findNextNonspace(),Qs[b.type].continue(this,b)){case 0:break;case 1:E=!1;break;case 2:this.lastLineLength=p.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!E){b=b.parent;break}}this.allClosed=b===this.oldtip,this.lastMatchedContainer=b;for(var W=b.type!=="paragraph"&&Qs[b.type].acceptsLines,Z=Mp.length;!W;){if(this.findNextNonspace(),b.type!=="table"&&b.type!=="tableBody"&&b.type!=="paragraph"&&!this.indented&&!bie.test(p.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var de=0;de<Z;){var Re=Mp[de](this,b);if(Re===1){b=this.tip;break}else if(Re===2){b=this.tip,W=!0;break}else de++}if(de===Z){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&b.lastChild&&(b.lastChild.lastLineBlank=!0);for(var Be=b.type,tt=this.blank&&!(Be==="blockQuote"||Fy(b)&&b.isFenced||Be==="item"&&!b.firstChild&&b.sourcepos[0][0]===this.lineNumber),st=b;st;)st.lastLineBlank=tt,st=st.parent;Qs[Be].acceptsLines?(this.addLine(),Are(b)&&b.htmlBlockType>=1&&b.htmlBlockType<=5&&yie[b.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=p.length,this.finalize(b,this.lineNumber))):this.offset<p.length&&!this.blank&&(b=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=p.length},v.prototype.parse=function(p,b){this.doc=Op(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var E=p.split(wie),P=E.length;this.lines=b||E,this.options.referenceDefinition&&this.clearRefMaps(),p.charCodeAt(p.length-1)===wp&&(P-=1);for(var W=0;W<P;W++)this.incorporateLine(E[W]);for(;this.tip;)this.finalize(this.tip,P);return this.processInlines(this.doc),this.doc},v.prototype.partialParseStart=function(p,b){this.doc=Op(),this.tip=this.doc,this.lineNumber=p-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var E=b.length,P=0;P<E;P++)this.incorporateLine(b[P]);return this.doc},v.prototype.partialParseExtends=function(p){for(var b=0;b<p.length;b++)this.incorporateLine(p[b])},v.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},v.prototype.setRefMaps=function(p,b,E){this.refMap=p,this.refLinkCandidateMap=b,this.refDefCandidateMap=E},v.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(p){ine(p)})},v})();function fb(v,p){return v[0]<p[0]?1:v[0]>p[0]?-1:v[1]<p[1]?1:v[1]>p[1]?-1:0}function xie(v,p){var b=v[0],E=v[1];return fb(E,p)===1?1:fb(b,p)===-1?-1:0}function Tie(v,p){if(!(v.parent!==p.parent||v===p)){for(var b=v.next;b&&b!==p;){for(var E=b.next,P=0,W=["parent","prev","next"];P<W.length;P++){var Z=W[P];b[Z]&&(gp(b[Z].id),b[Z]=null)}b=E}v.next=p.next,p.next?p.next.prev=v:v.parent.lastChild=v}}function Sie(v){for(var p=[],b=v.firstChild;b;)p.push(b),b=b.next;return p}function db(v,p){for(var b=0,E=p;b<E.length;b++){var P=E[b];v.insertBefore(P)}}function Eie(v,p){for(var b=p.length-1;b>=0;b-=1)v.prependChild(p[b])}function Mie(v,p){if(!(!v||!v.parent||p===0)){var b=v.parent.walker();b.resumeAt(v,!0);for(var E;E=b.next();){var P=E.node,W=E.entering;W&&(P.sourcepos[0][0]+=p,P.sourcepos[1][0]+=p)}}}function hb(v,p){var b=v[0],E=v[1];return E[0]<p?1:b[0]>p?-1:0}function Kc(v,p){for(var b=v.firstChild;b;){var E=hb(b.sourcepos,p);if(E===0)return b;if(E===-1)return b.prev||b;b=b.next}return v.lastChild}function Oie(v){for(;v.lastChild;)v=v.lastChild;return v}function Aie(v){for(;v.parent&&v.parent.type!=="document"&&v.parent.sourcepos[0][0]===v.sourcepos[0][0];)v=v.parent;return v}function Nie(v,p){for(var b=v.firstChild,E=null;b;){var P=hb(b.sourcepos,p);if(P===0){if(b.sourcepos[0][0]===p||!b.firstChild)return b;E=b,b=b.firstChild}else{if(P===-1)break;E=b,b=b.next}}return E?Aie(Oie(E)):null}function Die(v,p){for(var b=v,E=null;b;){var P=xie(b.sourcepos,p);if(P===0)if(b.firstChild)E=b,b=b.firstChild;else return b;else{if(P===-1)return E;if(b.next)b=b.next;else return E}}return b}function pb(v){return mre(v)||null}function Ap(v,p,b){if(b===void 0&&(b=null),p)for(var E=p.walker();p&&p!==b;){v(p);var P=E.next();if(P)p=P.node;else break}}function Rie(v){var p=pb(v);if(!p)return!0;for(;p&&p.type!=="document";){if(!p.parent&&!p.prev&&!p.next)return!0;p=p.parent}return!1}var vb=/\r\n|\n|\r/;function Lie(v){var p=v.match(/^[ \t]+/);if(p&&(p[0].length>=2||/\t/.test(p[0])))return!0;var b=p?v.slice(p.length):v;return sb.test(b)||lb.test(b)}function Iie(v){return!ab(v)&&v.indexOf("|")!==-1}function Np(v){var p=v.id,b=v.title,E=v.sourcepos,P=v.dest;return{id:p,title:b,sourcepos:E,unlinked:!1,destination:P}}var Pie=(function(){function v(p,b){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(b!=null&&b.referenceDefinition),this.parser=new Cie(b),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},p=p||"",this.lineTexts=p.split(vb),this.root=this.parser.parse(p,this.lineTexts)}return v.prototype.updateLineTexts=function(p,b,E){var P,W=p[0],Z=p[1],de=b[0],Re=b[1],Be=E.split(vb),tt=Be.length,st=this.lineTexts[W-1],Ze=this.lineTexts[de-1];Be[0]=st.slice(0,Z-1)+Be[0],Be[tt-1]=Be[tt-1]+Ze.slice(Re-1);var Mt=de-W+1;return(P=this.lineTexts).splice.apply(P,D([W-1,Mt],Be)),tt-Mt},v.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var p=this.lineTexts,b=p.length-1;p[b]==="";)b-=1;p.length-2>b&&(b+=1),this.root.sourcepos[1]=[b+1,p[b].length]},v.prototype.replaceRangeNodes=function(p,b,E){p?(db(p,E),Tie(p,b),[p.id,b.id].forEach(function(P){return gp(P)}),p.unlink()):b?(db(b,E),gp(b.id),b.unlink()):Eie(this.root,E)},v.prototype.getNodeRange=function(p,b){var E=Kc(this.root,p[0]),P=Kc(this.root,b[0]);return P&&P.next&&b[0]+1===P.next.sourcepos[0][0]&&(P=P.next),[E,P]},v.prototype.trigger=function(p,b){this.eventHandlerMap[p].forEach(function(E){E(b)})},v.prototype.extendEndLine=function(p){for(;this.lineTexts[p]==="";)p+=1;return p},v.prototype.parseRange=function(p,b,E,P){p&&p.prev&&(qy(p.prev)&&Lie(this.lineTexts[E-1])||Dre(p.prev)&&Iie(this.lineTexts[E-1]))&&(p=p.prev,E=p.sourcepos[0][0]);for(var W=this.lineTexts.slice(E-1,P),Z=this.parser.partialParseStart(E,W),de=b?b.next:this.root.firstChild,Re=Z.lastChild,Be=Re&&Fy(Re)&&Re.open,tt=Re&&Hy(Re)&&Re.open,st=Re&&qy(Re);(Be||tt)&&de||st&&de&&(de.type==="list"||de.sourcepos[0][1]>=2);){var Ze=this.extendEndLine(de.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(P,Ze)),p||(p=b),b=de,P=Ze,de=de.next}this.parser.partialParseFinish();var Mt=Sie(Z);return{newNodes:Mt,extStartNode:p,extEndNode:b}},v.prototype.getRemovedNodeRange=function(p,b){return!p||p&&Ks(p)||b&&Ks(b)?null:{id:[p.id,b.id],line:[p.sourcepos[0][0]-1,b.sourcepos[1][0]-1]}},v.prototype.markDeletedRefMap=function(p,b){var E=this;if(!Js(this.refMap)){var P=function(W){if(Ks(W)){var Z=E.refMap[W.label];Z&&W.id===Z.id&&(Z.unlinked=!0)}};p&&Ap(P,p.parent,b),b&&Ap(P,b)}},v.prototype.replaceWithNewRefDefState=function(p){var b=this;if(!Js(this.refMap)){var E=function(P){if(Ks(P)){var W=P.label,Z=b.refMap[W];(!Z||Z.unlinked)&&(b.refMap[W]=Np(P))}};p.forEach(function(P){Ap(E,P)})}},v.prototype.replaceWithRefDefCandidate=function(){var p=this;Js(this.refDefCandidateMap)||Uc(this.refDefCandidateMap,function(b,E){var P=E.label,W=E.sourcepos,Z=p.refMap[P];(!Z||Z.unlinked||Z.sourcepos[0][0]>W[0][0])&&(p.refMap[P]=Np(E))})},v.prototype.getRangeWithRefDef=function(p,b,E,P,W){if(this.referenceDefinition&&!Js(this.refMap)){var Z=Kc(this.root,p-1),de=Kc(this.root,b+1);Z&&Ks(Z)&&Z!==E&&Z!==P&&(E=Z,p=E.sourcepos[0][0]),de&&Ks(de)&&de!==E&&de!==P&&(P=de,b=this.extendEndLine(P.sourcepos[1][0]+W))}return[E,P,p,b]},v.prototype.parse=function(p,b,E){E===void 0&&(E=0);var P=this.getNodeRange(p,b),W=P[0],Z=P[1],de=W?Math.min(W.sourcepos[0][0],p[0]):p[0],Re=this.extendEndLine((Z?Math.max(Z.sourcepos[1][0],b[0]):b[0])+E),Be=this.parseRange.apply(this,this.getRangeWithRefDef(de,Re,W,Z,E)),tt=Be.newNodes,st=Be.extStartNode,Ze=Be.extEndNode,Mt=this.getRemovedNodeRange(st,Ze),Et=Ze?Ze.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(st,Ze),this.replaceRangeNodes(st,Ze,tt),this.replaceWithNewRefDefState(tt)):this.replaceRangeNodes(st,Ze,tt),{nodes:tt,removedNodeRange:Mt,nextNode:Et}},v.prototype.parseRefLink=function(){var p=this,b=[];return Js(this.refMap)||Uc(this.refMap,function(E,P){P.unlinked&&delete p.refMap[E],Uc(p.refLinkCandidateMap,function(W,Z){var de=Z.node,Re=Z.refLabel;Re===E&&b.push(p.parse(de.sourcepos[0],de.sourcepos[1]))})}),b},v.prototype.removeUnlinkedCandidate=function(){Js(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(p){Uc(p,function(b){Rie(b)&&delete p[b]})})},v.prototype.editMarkdown=function(p,b,E){var P=this.updateLineTexts(p,b,E),W=this.parse(p,b,P),Z=nne(W,"nextNode");Mie(W.nextNode,P),this.updateRootNodeState();var de=[Z];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),de=de.concat(this.parseRefLink())),this.trigger("change",de),de},v.prototype.getLineTexts=function(){return this.lineTexts},v.prototype.getRootNode=function(){return this.root},v.prototype.findNodeAtPosition=function(p){var b=Die(this.root,p);return!b||b===this.root?null:b},v.prototype.findFirstNodeAtLine=function(p){return Nie(this.root,p)},v.prototype.on=function(p,b){this.eventHandlerMap[p].push(b)},v.prototype.off=function(p,b){var E=this.eventHandlerMap[p],P=E.indexOf(b);E.splice(P,1)},v.prototype.findNodeById=function(p){return pb(p)},v.prototype.removeAllNode=function(){gre()},v})(),_ie=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],mb=new RegExp("<(/?(?:"+_ie.join("|")+")[^>]*>)","ig");function gb(v){return mb.test(v)?v.replace(mb,function(p,b){return"&lt;"+b}):v}var yb={heading:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"h"+v.level,outerNewLine:!0}},text:function(v){return{type:"text",content:v.literal}},softbreak:function(v,p){var b=p.options;return{type:"html",content:b.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"em"}},strong:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"strong"}},paragraph:function(v,p){var b,E=p.entering,P=(b=v.parent)===null||b===void 0?void 0:b.parent;return P&&P.type==="list"&&P.listData.tight?null:{type:E?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(v,p){var b=p.entering,E=v.listData,P=E.type,W=E.start,Z=P==="bullet"?"ul":"ol",de={};return Z==="ol"&&W!==null&&W!==1&&(de.start=W.toString()),{type:b?"openTag":"closeTag",tagName:Z,attributes:de,outerNewLine:!0}},item:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(v,p){var b=p.options,E=b.tagFilter?gb(v.literal):v.literal;return{type:"html",content:E}},htmlBlock:function(v,p){var b=p.options,E=b.tagFilter?gb(v.literal):v.literal;return b.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:E},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:E,outerNewLine:!0}},code:function(v){return[{type:"openTag",tagName:"code"},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(v){var p=v.info,b=p?p.split(/\s+/):[],E=[];return b.length>0&&b[0].length>0&&E.push("language-"+Gs(b[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:E},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(v,p){var b=p.entering;if(b){var E=v,P=E.title,W=E.destination;return{type:"openTag",tagName:"a",attributes:M({href:Gs(W)},P&&{title:Gs(P)})}}return{type:"closeTag",tagName:"a"}},image:function(v,p){var b=p.getChildrenText,E=p.skipChildren,P=v,W=P.title,Z=P.destination;return E(),{type:"openTag",tagName:"img",selfClose:!0,attributes:M({src:Gs(Z),alt:b(v)},W&&{title:Gs(W)})}},customBlock:function(v,p,b){var E=v.info.trim().toLowerCase(),P=b[E];if(P)try{return P(v,p)}catch(W){console.warn("[@toast-ui/editor] - The error occurred when "+E+" block node was parsed in markdown renderer: "+W)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:v.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(v){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:v.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(v,p,b){var E=v,P=E.info,W=E.firstChild,Z=P.trim().toLowerCase(),de=b[Z],Re=p.entering;if(de)try{return de(v,p)}catch(Be){console.warn("[@toast-ui/editor] - The error occurred when "+Z+" inline node was parsed in markdown renderer: "+Be)}return Re?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+P+(W?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},bb={strike:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"del"}},item:function(v,p){var b=p.entering,E=v.listData,P=E.checked,W=E.task;if(b){var Z={type:"openTag",tagName:"li",outerNewLine:!0};return W?[Z,{type:"openTag",tagName:"input",selfClose:!0,attributes:M(M({},P&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:Z}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(v,p){var b=p.entering;return{type:b?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(v,p){var b=p.entering;if(b)return{type:"openTag",tagName:"tr",outerNewLine:!0};var E=[];if(v.lastChild)for(var P=v.parent.parent.columns.length,W=v.lastChild.endIdx,Z=W+1;Z<P;Z+=1)E.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return E.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),E},tableCell:function(v,p){var b=p.entering;if(v.ignored)return{type:"text",content:""};var E=v.parent.parent,P=E.type==="tableHead"?"th":"td",W=E.parent,Z=W.columns[v.startIdx],de=Z!=null&&Z.align?{align:Z.align}:null;return b?M({type:"openTag",tagName:P,outerNewLine:!0},de&&{attributes:de}):{type:"closeTag",tagName:P,outerNewLine:!0}}},Bie={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function Fie(v){for(var p=[],b=v.walker(),E=null;E=b.next();){var P=E.node;P.type==="text"&&p.push(P.literal)}return p.join("")}var qie=(function(){function v(p){this.buffer=[],this.options=M(M({},Bie),p),this.convertors=this.createConvertors(),delete this.options.convertors}return v.prototype.createConvertors=function(){var p=M({},yb);if(this.options.gfm&&(p=M(M({},p),bb)),this.options.convertors){var b=this.options.convertors,E=Object.keys(b),P=M(M({},yb),bb);E.forEach(function(W){var Z=p[W],de=b[W],Re=Object.keys(P).indexOf(W)===-1?W.toLowerCase():W;Z?p[Re]=function(Be,tt,st){return tt.origin=function(){return Z(Be,tt,st)},de(Be,tt)}:p[Re]=de})}return p},v.prototype.getConvertors=function(){return this.convertors},v.prototype.getOptions=function(){return this.options},v.prototype.render=function(p){var b=this;this.buffer=[];for(var E=p.walker(),P=null,W=function(){var de=P.node,Re=P.entering,Be=Z.convertors[de.type];if(!Be)return"continue";var tt=!1,st={entering:Re,leaf:!mp(de),options:Z.options,getChildrenText:Fie,skipChildren:function(){tt=!0}},Ze=Hy(de)||Rre(de)?Be(de,st,Z.convertors):Be(de,st);if(Ze){var Mt=Array.isArray(Ze)?Ze:[Ze];Mt.forEach(function(Et,tr){Et.type==="openTag"&&b.options.nodeId&&tr===0&&(Et.attributes||(Et.attributes={}),Et.attributes["data-nodeid"]=String(de.id)),b.renderHTMLNode(Et)}),tt&&(E.resumeAt(de,!1),E.next())}},Z=this;P=E.next();)W();return this.addNewLine(),this.buffer.join("")},v.prototype.renderHTMLNode=function(p){switch(p.type){case"openTag":case"closeTag":this.renderElementNode(p);break;case"text":this.renderTextNode(p);break;case"html":this.renderRawHtmlNode(p);break}},v.prototype.generateOpenTagString=function(p){var b=this,E=p.tagName,P=p.classNames,W=p.attributes;this.buffer.push("<"+E),P&&P.length>0&&this.buffer.push(' class="'+P.join(" ")+'"'),W&&Object.keys(W).forEach(function(Z){var de=W[Z];b.buffer.push(" "+Z+'="'+de+'"')}),p.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},v.prototype.generateCloseTagString=function(p){var b=p.tagName;this.buffer.push("</"+b+">")},v.prototype.addNewLine=function(){this.buffer.length&&$c($c(this.buffer))!==`
`&&this.buffer.push(`
`)},v.prototype.addOuterNewLine=function(p){p.outerNewLine&&this.addNewLine()},v.prototype.addInnerNewLine=function(p){p.innerNewLine&&this.addNewLine()},v.prototype.renderTextNode=function(p){this.buffer.push(Gs(p.content))},v.prototype.renderRawHtmlNode=function(p){this.addOuterNewLine(p),this.buffer.push(p.content),this.addOuterNewLine(p)},v.prototype.renderElementNode=function(p){p.type==="openTag"?(this.addOuterNewLine(p),this.generateOpenTagString(p),p.selfClose?this.addOuterNewLine(p):this.addInnerNewLine(p)):(this.addInnerNewLine(p),this.generateCloseTagString(p),this.addOuterNewLine(p))},v})(),Hie=u(956),Vie=u.n(Hie),zie=u(969),wb=u.n(zie),$ie=u(348),kb=u.n($ie),Uie=u(349),Cb=u.n(Uie),jie=u(204),xb=u.n(jie),Wie=u(462),Dp=u.n(Wie),Gie=u(522),Tb=u.n(Gie),Kie=u(990),Jie=u.n(Kie),Xie=u(322),Qie=u.n(Xie),Yie=u(758),Zie=u.n(Yie),eae=u(929),Jc=u.n(eae),tae=u(714),rae=u.n(tae);u(471);var Sb="[A-Za-z][A-Za-z0-9-]*",nae="[a-zA-Z_:][a-zA-Z0-9:._-]*",iae="[^\"'=<>`\\x00-\\x20]+",aae="'[^']*'",oae='"[^"]*"',sae="(?:"+iae+"|"+aae+"|"+oae+")",lae="(?:\\s*=\\s*"+sae+")",Eb="(?:\\s+"+nae+lae+"?)",uae="<("+Sb+")("+Eb+")*\\s*/?>",cae="</("+Sb+")\\s*[>]",fae="(?:"+uae+"|"+cae+")",Mb=new RegExp("^"+fae,"i");u(934),u(391);function Rp(v,p){return v.indexOf(p)!==-1}var dae=["rel","target","hreflang","type"];function hae(v){if(!v)return null;var p={};return dae.forEach(function(b){Jc()(v[b])||(p[b]=v[b])}),p}function pae(v){return v[v.length-1]}function Lp(v){return typeof v=="object"&&v!==null}function Ip(v,p){var b=h({},v);return v&&p&&Object.keys(p).forEach(function(E){Lp(b[E])?Array.isArray(p[E])?b[E]=Pp(p[E]):b.hasOwnProperty(E)?b[E]=Ip(b[E],p[E]):b[E]=_p(p[E]):b[E]=p[E]}),b}function Pp(v){return v.map(function(p){return Lp(p)?Array.isArray(p)?Pp(p):_p(p):p})}function _p(v){var p=Object.keys(v);return p.length?p.reduce(function(b,E){return Lp(v[E])?b[E]=Array.isArray(v[E])?Pp(v[E]):_p(v[E]):b[E]=v[E],b},{}):v}function Ob(v,p){return p===void 0&&(p={}),Object.keys(p).forEach(function(b){v.hasOwnProperty(b)&&typeof v[b]=="object"?Array.isArray(p[b])?v[b]=p[b]:Ob(v[b],p[b]):v[b]=p[b]}),v}function Ab(v,p){return v>p?[p,v]:[v,p]}function vae(v,p,b){var E=parseInt(v.left,10),P=parseInt(v.top,10),W=parseInt(v.width,10)+parseInt(v.paddingLeft,10)+parseInt(v.paddingRight,10),Z=parseInt(v.height,10)+parseInt(v.paddingTop,10)+parseInt(v.paddingBottom,10);return p>=E&&p<=E+W&&b>=P&&b<=P+Z}var mae="toastui-editor-";function Xc(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];for(var b=[],E=0,P=v;E<P.length;E++){var W=P[E],Z=void 0;Array.isArray(W)?Z=W[0]?W[1]:null:Z=W,Z&&b.push(""+mae+Z)}return b.join(" ")}function Nb(v){v.parentNode&&v.parentNode.removeChild(v)}function Db(v,p,b){Jc()(b)&&(b=!rae()(v,p));var E=b?xb():Dp();E(v,p)}function gae(v,p){var b=document.createElement("div");Zie()(v)?b.innerHTML=v:b.appendChild(v);var E=b.firstChild;return E}function yae(v){var p=/<img class="ProseMirror-separator" alt="">/g,b=/ class="ProseMirror-trailingBreak"/g,E=v;return E=E.replace(p,""),E=E.replace(b,""),E}var bae=u(294),Rb=u.n(bae);function wae(v){return v.sourcepos[0][1]}function kae(v){switch(v.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Cae(v,p,b){for(b===void 0&&(b=!0),v=b?v:v.parent;v&&v.type!=="document";){if(p(v))return v;v=v.parent}return null}function xae(v){var p=v.firstChild.literal;switch(v.type){case"emph":return"*"+p+"*";case"strong":return"**"+p+"**";case"strike":return"~~"+p+"~~";case"code":return"`"+p+"`";case"link":case"image":var b=v,E=b.destination,P=b.title,W=v.type==="link"?"":"!";return W+"["+p+"]("+E+(P?' "'+P+'"':"")+")";default:return null}}var Tae={},Lb=/\$\$widget\d+\s/;function Ib(v){var p=v.search(Lb);if(p!==-1){var b=v.substring(p),E=b.replace(Lb,"").replace("$$","");v=v.substring(0,p),v+=Ib(E)}return v}function Sae(v,p){var b=Tae[v],E=b.rule,P=b.toDOM,W=Ib(p).match(E);return W&&(p=W[0]),P(p)}function Eae(v){for(var p,b="",E=v.walker();p=E.next();){var P=p.node,W=p.entering;W&&(P!==v&&P.type!=="text"?(b+=xae(P),E.resumeAt(v,!1),E.next()):P.type==="text"&&(b+=P.literal))}return b}var Mae=u(368),Oae=u.n(Mae),Aae=["iframe","embed"],Pb=[];function Nae(v){Rp(Aae,v)&&Pb.push(v.toLowerCase())}function Dae(v,p){return Oae().sanitize(v,h({ADD_TAGS:Pb,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},p))}function Rae(v,p){return v.literal.replace(new RegExp("(<\\s*"+p+"[^>]*>)|(</"+p+"\\s*[>])","ig"),"").trim()}function Lae(v){v=v.match(Mb)[0];var p=v.match(new RegExp(Eb,"g"));return p?p.reduce(function(b,E){var P=E.trim().split("="),W=P[0],Z=P.slice(1);return Z.length&&(b[W]=Z.join("=").replace(/'|"/g,"").trim()),b},{}):{}}var Iae=/^\s*<\s*\//,Pae={paragraph:function(v,p){var b=p.entering,E=p.origin,P=p.options;return P.nodeId?{type:b?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:E()},softbreak:function(v){var p=v.prev&&v.prev.type==="htmlInline",b=p&&/<br ?\/?>/.test(v.prev.literal),E=b?`
`:`<br>
`;return{type:"html",content:E}},item:function(v,p){var b=p.entering;if(b){var E={},P=[];return v.listData.task&&(E["data-task"]="",P.push("task-list-item"),v.listData.checked&&(P.push("checked"),E["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:P,attributes:E,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(v){var p={"data-backticks":String(v.tickCount)};return[{type:"openTag",tagName:"code",attributes:p},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(v){var p=v,b=p.fenceLength,E=p.info,P=E?E.split(/\s+/):[],W=[],Z={};if(b>3&&(Z["data-backticks"]=b),P.length>0&&P[0].length>0){var de=P[0];W.push("lang-"+de),Z["data-language"]=de}return[{type:"openTag",tagName:"pre",classNames:W},{type:"openTag",tagName:"code",attributes:Z},{type:"text",content:v.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(v,p){var b=p.origin,E=p.entering,P=p.skipChildren,W=v.info;if(W.indexOf("widget")!==-1&&E){P();var Z=Eae(v),de=Sae(W,Z).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:de},{type:"closeTag",tagName:"span"}]}return b()}};function _ae(v,p){var b=h({},Pae);return v&&(b.link=function(E,P){var W=P.entering,Z=P.origin,de=Z();return W&&(de.attributes=h(h({},de.attributes),v)),de}),p&&Object.keys(p).forEach(function(E){var P=b[E],W=p[E];P&&Rb()(W)?b[E]=function(Z,de){var Re=h({},de);return Re.origin=function(){return P(Z,de)},W(Z,Re)}:Rp(["htmlBlock","htmlInline"],E)&&!Rb()(W)?b[E]=function(Z,de){var Re=Z.literal.match(Mb);if(Re){var Be=Re[0],tt=Re[1],st=Re[3],Ze=(tt||st).toLowerCase(),Mt=W[Ze],Et=Rae(Z,Ze);if(Mt){var tr=h({},Z);return tr.attrs=Lae(Be),tr.childrenHTML=Et,tr.type=Ze,de.entering=!Iae.test(Z.literal),Mt(tr,de)}}return de.origin()}:b[E]=W}),b}var Bae=["UL","OL","BLOCKQUOTE"];function Fae(v,p){for(var b=0;v&&v!==p&&(Rp(Bae,v.tagName)||(b+=v.offsetTop),v.offsetParent!==p.offsetParent);)v=v.parentElement;return b}function qae(v,p){for(var b=p,E=null;b;){var P=b.firstElementChild;if(!P)break;var W=_b(P,v,Fae(b,p));E=b,b=W}var Z=b||E;return Z===p?null:Z}function _b(v,p,b){return v&&p>b+v.offsetTop?_b(v.nextElementSibling,p,b)||v:null}var Hae={};function Bp(v){v&&(delete Hae[Number(v.getAttribute("data-nodeid"))],Jie()(v.children).forEach(function(p){Bp(p)}))}var Fp=Xc("md-preview-highlight");function Vae(v,p){for(var b=v.firstChild;b&&b.next&&!(wae(b.next)>p+1);)b=b.next;return b}var zae=(function(){function v(p,b){var E=document.createElement("div");this.el=E,this.eventEmitter=p,this.isViewer=!!b.isViewer,this.el.className=Xc("md-preview");var P=b.linkAttributes,W=b.customHTMLRenderer,Z=b.sanitizer,de=b.highlight,Re=de===void 0?!1:de;this.renderer=new qie({gfm:!0,nodeId:!0,convertors:_ae(P,W)}),this.cursorNodeId=null,this.sanitizer=Z,this.initEvent(Re),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return v.prototype.initContentSection=function(){this.previewContent=gae('<div class="'+Xc("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},v.prototype.toggleActive=function(p){Db(this.el,"active",p)},v.prototype.initEvent=function(p){var b=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(p&&(this.eventEmitter.listen("changeToolbarState",function(E){var P=E.mdNode,W=E.cursorPos;b.updateCursorNode(P,W)}),this.eventEmitter.listen("blur",function(){b.removeHighlight()})),kb()(this.el,"scroll",function(E){b.eventEmitter.emit("scroll","preview",qae(E.target.scrollTop,b.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return b.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return b.toggleActive(!1)}))},v.prototype.removeHighlight=function(){if(this.cursorNodeId){var p=this.getElementByNodeId(this.cursorNodeId);p&&Dp()(p,Fp)}},v.prototype.updateCursorNode=function(p,b){p&&(p=Cae(p,function(Z){return!kae(Z)}),p.type==="tableRow"?p=Vae(p,b[1]):p.type==="tableBody"&&(p=null));var E=p?p.id:null;if(this.cursorNodeId!==E){var P=this.getElementByNodeId(this.cursorNodeId),W=this.getElementByNodeId(E);P&&Dp()(P,Fp),W&&xb()(W,Fp),this.cursorNodeId=E}},v.prototype.getElementByNodeId=function(p){return p?this.previewContent.querySelector('[data-nodeid="'+p+'"]'):null},v.prototype.update=function(p){var b=this;p.forEach(function(E){return b.replaceRangeNodes(E)}),this.eventEmitter.emit("afterPreviewRender",this)},v.prototype.replaceRangeNodes=function(p){var b=this,E=p.nodes,P=p.removedNodeRange,W=this.previewContent,Z=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(E.map(function(Et){return b.renderer.render(Et)}).join("")));if(!P)W.insertAdjacentHTML("afterbegin",Z);else{var de=P.id,Re=de[0],Be=de[1],tt=this.getElementByNodeId(Re),st=this.getElementByNodeId(Be);if(tt){tt.insertAdjacentHTML("beforebegin",Z);for(var Ze=tt;Ze&&Ze!==st;){var Mt=Ze.nextElementSibling;Nb(Ze),Bp(Ze),Ze=Mt}Ze!=null&&Ze.parentNode&&(Nb(Ze),Bp(Ze))}}},v.prototype.getRenderer=function(){return this.renderer},v.prototype.destroy=function(){Cb()(this.el,"scroll"),this.el=null},v.prototype.getElement=function(){return this.el},v.prototype.getHTML=function(){return yae(this.previewContent.innerHTML)},v.prototype.setHTML=function(p){this.previewContent.innerHTML=p},v.prototype.setHeight=function(p){Tb()(this.el,{height:p+"px"})},v.prototype.setMinHeight=function(p){Tb()(this.el,{minHeight:p+"px"})},v})(),$ae=zae,Qc=u(814),qp=u(479),Bb=u(311),Uae=u(481),jae=u(43),Wae=u(928),Gae=u.n(Wae),Kae=(function(){function v(){this.keys=[],this.values=[]}return v.prototype.getKeyIndex=function(p){return Gae()(p,this.keys)},v.prototype.get=function(p){return this.values[this.getKeyIndex(p)]},v.prototype.set=function(p,b){var E=this.getKeyIndex(p);return E>-1?this.values[E]=b:(this.keys.push(p),this.values.push(b)),this},v.prototype.has=function(p){return this.getKeyIndex(p)>-1},v.prototype.delete=function(p){var b=this.getKeyIndex(p);return b>-1?(this.keys.splice(b,1),this.values.splice(b,1),!0):!1},v.prototype.forEach=function(p,b){var E=this;b===void 0&&(b=this),this.values.forEach(function(P,W){P&&E.keys[W]&&p.call(b,P,E.keys[W],E)})},v.prototype.clear=function(){this.keys=[],this.values=[]},v})(),Fb=Kae,Hp="en-US",Jae=(function(){function v(){this.code=Hp,this.langs=new Fb}return v.prototype.setCode=function(p){this.code=p||Hp},v.prototype.setLanguage=function(p,b){var E=this;p=[].concat(p),p.forEach(function(P){if(!E.langs.has(P))E.langs.set(P,b);else{var W=E.langs.get(P);E.langs.set(P,wb()(W,b))}})},v.prototype.get=function(p,b){b||(b=this.code);var E=this.langs.get(b);E||(E=this.langs.get(Hp));var P=E[p];if(!P)throw new Error('There is no text key "'+p+'" in '+b);return P},v})(),Xae=new Jae;function Qae(v,p){for(var b=v.depth;b;){var E=v.node(b);if(p(E,b))return{node:E,depth:b,offset:b>0?v.before(b):0};b-=1}return null}var qb=new Map,Hb=(function(){function v(p,b,E,P){this.table=p,this.tableRows=b,this.tableStartPos=E,this.rowInfo=P}return v.create=function(p){var b=Qae(p,function(Et){var tr=Et.type;return tr.name==="table"});if(b){var E=b.node,P=b.depth,W=b.offset,Z=qb.get(E);if((Z==null?void 0:Z.tableStartPos)===W+1)return Z;var de=[],Re=p.start(P),Be=E.child(0),tt=E.child(1),st=Vp(Be,Re),Ze=Vp(tt,Re+Be.nodeSize);Be.forEach(function(Et){return de.push(Et)}),tt.forEach(function(Et){return de.push(Et)});var Mt=new v(E,de,Re,st.concat(Ze));return qb.set(E,Mt),Mt}return null},Object.defineProperty(v.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),v.prototype.getCellInfo=function(p,b){return this.rowInfo[p][b]},v.prototype.posAt=function(p,b){for(var E=0,P=this.tableStartPos;;E+=1){var W=P+this.tableRows[E].nodeSize;if(E===p){for(var Z=b;Z<this.totalColumnCount&&this.rowInfo[E][Z].offset<P;)Z+=1;return Z===this.totalColumnCount?W:this.rowInfo[E][Z].offset}P=W}},v.prototype.getNodeAndPos=function(p,b){var E=this.rowInfo[p][b];return{node:this.table.nodeAt(E.offset-this.tableStartOffset),pos:E.offset}},v.prototype.extendedRowspan=function(p,b){return!1},v.prototype.extendedColspan=function(p,b){return!1},v.prototype.getRowspanCount=function(p,b){return 0},v.prototype.getColspanCount=function(p,b){return 0},v.prototype.decreaseColspanCount=function(p,b){return 0},v.prototype.decreaseRowspanCount=function(p,b){return 0},v.prototype.getColspanStartInfo=function(p,b){return null},v.prototype.getRowspanStartInfo=function(p,b){return null},v.prototype.getCellStartOffset=function(p,b){var E=this.rowInfo[p][b].offset;return this.extendedRowspan(p,b)?this.posAt(p,b):E},v.prototype.getCellEndOffset=function(p,b){var E=this.rowInfo[p][b],P=E.offset,W=E.nodeSize;return this.extendedRowspan(p,b)?this.posAt(p,b):P+W},v.prototype.getCellIndex=function(p){for(var b=0;b<this.totalRowCount;b+=1)for(var E=this.rowInfo[b],P=0;P<this.totalColumnCount;P+=1)if(E[P].offset+1>p.pos)return[b,P];return[0,0]},v.prototype.getRectOffsets=function(p,b){var E,P,W;b===void 0&&(b=p),p.pos>b.pos&&(E=[b,p],p=E[0],b=E[1]);var Z=this.getCellIndex(p),de=Z[0],Re=Z[1],Be=this.getCellIndex(b),tt=Be[0],st=Be[1];return P=Ab(de,tt),de=P[0],tt=P[1],W=Ab(Re,st),Re=W[0],st=W[1],this.getSpannedOffsets({startRowIdx:de,startColIdx:Re,endRowIdx:tt,endColIdx:st})},v.prototype.getSpannedOffsets=function(p){return p},v})(),Vp=function(v,p){var b=[];return v.forEach(function(E,P){var W={rowspanMap:{},colspanMap:{},length:0};E.forEach(function(Z,de){for(var Re=Z.nodeSize,Be=0;W[Be];)Be+=1;W[Be]={offset:p+P+de+2,nodeSize:Re},W.length+=1}),b.push(W)}),b};function Yae(v,p){return Ob(Hb.prototype,v),Vp=p,Hb}function Zae(v){var p=v.plugin,b=v.eventEmitter,E=v.usageStatistics,P=v.instance,W={Plugin:Qc.Plugin,PluginKey:Qc.PluginKey,Selection:Qc.Selection,TextSelection:Qc.TextSelection},Z={Decoration:Bb.Decoration,DecorationSet:Bb.DecorationSet},de={Fragment:jae.Fragment},Re={InputRule:qp.InputRule,inputRules:qp.inputRules,undoInputRule:qp.undoInputRule},Be={keymap:Uae.keymap},tt={eventEmitter:b,usageStatistics:E,instance:P,pmState:W,pmView:Z,pmModel:de,pmRules:Re,pmKeymap:Be,i18n:Xae};if(Qie()(p)){var st=p[0],Ze=p[1],Mt=Ze===void 0?{}:Ze;return st(tt,Mt)}return p(tt)}function eoe(v){var p=v.plugins,b=v.eventEmitter,E=v.usageStatistics,P=v.instance;return b.listen("mixinTableOffsetMapPrototype",Yae),(p??[]).reduce(function(W,Z){var de=Zae({plugin:Z,eventEmitter:b,usageStatistics:E,instance:P});if(!de)throw new Error("The return value of the executed plugin is empty.");var Re=de.markdownParsers,Be=de.toHTMLRenderers,tt=de.toMarkdownRenderers,st=de.markdownPlugins,Ze=de.wysiwygPlugins,Mt=de.wysiwygNodeViews,Et=de.markdownCommands,tr=de.wysiwygCommands,Ir=de.toolbarItems;return Be&&(W.toHTMLRenderers=Ip(W.toHTMLRenderers,Be)),tt&&(W.toMarkdownRenderers=Ip(W.toMarkdownRenderers,tt)),st&&(W.mdPlugins=W.mdPlugins.concat(st)),Ze&&(W.wwPlugins=W.wwPlugins.concat(Ze)),Mt&&(W.wwNodeViews=h(h({},W.wwNodeViews),Mt)),Et&&(W.mdCommands=h(h({},W.mdCommands),Et)),tr&&(W.wwCommands=h(h({},W.wwCommands),tr)),Ir&&(W.toolbarItems=W.toolbarItems.concat(Ir)),Re&&(W.markdownParsers=h(h({},W.markdownParsers),Re)),W},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var toe=u(404),roe=u.n(toe),Vb=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],noe=(function(){function v(){var p=this;this.events=new Fb,this.eventTypes=Vb.reduce(function(b,E){return h(h({},b),{type:E})},{}),this.hold=!1,Vb.forEach(function(b){p.addEventType(b)})}return v.prototype.listen=function(p,b){var E=this.getTypeInfo(p),P=this.events.get(E.type)||[];if(!this.hasEventType(E.type))throw new Error("There is no event type "+E.type);E.namespace&&(b.namespace=E.namespace),P.push(b),this.events.set(E.type,P)},v.prototype.emit=function(p){for(var b=[],E=1;E<arguments.length;E++)b[E-1]=arguments[E];var P=this.getTypeInfo(p),W=this.events.get(P.type),Z=[];return!this.hold&&W&&W.forEach(function(de){var Re=de.apply(void 0,b);Jc()(Re)||Z.push(Re)}),Z},v.prototype.emitReduce=function(p,b){for(var E=[],P=2;P<arguments.length;P++)E[P-2]=arguments[P];var W=this.events.get(p);return!this.hold&&W&&W.forEach(function(Z){var de=Z.apply(void 0,w([b],E));roe()(de)||(b=de)}),b},v.prototype.getTypeInfo=function(p){var b=p.split(".");return{type:b[0],namespace:b[1]}},v.prototype.hasEventType=function(p){return!Jc()(this.eventTypes[this.getTypeInfo(p).type])},v.prototype.addEventType=function(p){if(this.hasEventType(p))throw new Error("There is already have event type "+p);this.eventTypes[p]=p},v.prototype.removeEventHandler=function(p,b){var E=this,P=this.getTypeInfo(p),W=P.type,Z=P.namespace;W&&b?this.removeEventHandlerWithHandler(W,b):W&&!Z?this.events.delete(W):!W&&Z?this.events.forEach(function(de,Re){E.removeEventHandlerWithTypeInfo(Re,Z)}):W&&Z&&this.removeEventHandlerWithTypeInfo(W,Z)},v.prototype.removeEventHandlerWithHandler=function(p,b){var E=this.events.get(p);if(E){var P=E.indexOf(b);E.indexOf(b)>=0&&E.splice(P,1)}},v.prototype.removeEventHandlerWithTypeInfo=function(p,b){var E=[],P=this.events.get(p);P&&(P.map(function(W){return W.namespace!==b&&E.push(W),null}),this.events.set(p,E))},v.prototype.getEvents=function(){return this.events},v.prototype.holdEventInvoke=function(p){this.hold=!0,p(),this.hold=!1},v})(),ioe=noe,aoe="data-task",ooe="data-task-disabled",soe="checked";function loe(v){["htmlBlock","htmlInline"].forEach(function(p){v[p]&&Object.keys(v[p]).forEach(function(b){return Nae(b)})})}var uoe=(function(){function v(p){var b=this;this.options=wb()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},p),this.eventEmitter=new ioe;var E=hae(this.options.linkAttributes),P=eoe({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},W=P.toHTMLRenderers,Z=P.markdownParsers,de=this.options,Re=de.customHTMLRenderer,Be=de.extendedAutolinks,tt=de.referenceDefinition,st=de.frontMatter,Ze=de.customHTMLSanitizer,Mt={linkAttributes:E,customHTMLRenderer:h(h({},W),Re),extendedAutolinks:Be,referenceDefinition:tt,frontMatter:st,sanitizer:Ze||Dae};loe(Mt.customHTMLRenderer),this.options.events&&Vie()(this.options.events,function(gi,ti){b.on(ti,gi)});var Et=this.options,tr=Et.el,Ir=Et.initialValue,Jr=Et.theme,Sa=tr.innerHTML;Jr!=="light"&&tr.classList.add(Xc(Jr)),tr.innerHTML="",this.toastMark=new Pie("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:Be,referenceDefinition:tt,disallowDeepHeading:!0,frontMatter:st,customParser:Z}),this.preview=new $ae(this.eventEmitter,h(h({},Mt),{isViewer:!0})),kb()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),Ir?this.setMarkdown(Ir):Sa&&this.preview.setHTML(Sa),tr.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return v.prototype.toggleTask=function(p){var b=p.target,E=getComputedStyle(b,":before");!b.hasAttribute(ooe)&&b.hasAttribute(aoe)&&vae(E,p.offsetX,p.offsetY)&&(Db(b,soe),this.eventEmitter.emit("change",{source:"viewer",date:p}))},v.prototype.setMarkdown=function(p){var b=this.toastMark.getLineTexts(),E=b.length,P=pae(b),W=[E,P.length+1],Z=this.toastMark.editMarkdown([1,1],W,p||"");this.eventEmitter.emit("updatePreview",Z)},v.prototype.on=function(p,b){this.eventEmitter.listen(p,b)},v.prototype.off=function(p){this.eventEmitter.removeEventHandler(p)},v.prototype.addHook=function(p,b){this.eventEmitter.removeEventHandler(p),this.eventEmitter.listen(p,b)},v.prototype.destroy=function(){Cb()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},v.prototype.isViewer=function(){return!0},v.prototype.isMarkdownMode=function(){return!1},v.prototype.isWysiwygMode=function(){return!1},v})(),coe=uoe,foe=coe})(),f=f.default,f})()})})(av)),av.exports}var Jfe=Kfe();const Xfe=zfe(Jfe),Qfe={class:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4"},Yfe={class:"flex text-gray-500 dark:text-gray-400 text-sm overflow-x-auto whitespace-nowrap items-center"},Zfe=["onClick"],ede={key:0,class:"flex items-center text-gray-800 dark:text-gray-200"},tde={key:1,class:"flex items-center text-gray-800 dark:text-gray-200"},rde={class:"flex space-x-2"},nde={key:0,class:"text-center py-10 text-gray-500 dark:text-gray-400"},ide={key:1},ade={key:0,class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm mb-6 border border-gray-200 dark:border-gray-700 transition-colors"},ode={key:1,class:"mb-8"},sde={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},lde=["onClick"],ude={class:"overflow-hidden"},cde={class:"font-medium truncate block dark:text-gray-200"},fde={key:0,class:"text-xs text-gray-400"},dde={key:0,class:"text-gray-400 italic"},hde={class:"grid grid-cols-1 gap-3"},pde=["onClick"],vde={key:0,class:"w-8 h-8 text-red-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},mde={key:1,class:"w-8 h-8 text-blue-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},gde={class:"truncate"},yde={class:"font-medium text-gray-800 dark:text-gray-200 truncate"},bde={class:"text-xs text-gray-500 dark:text-gray-400"},wde={key:0,class:"ml-2 bg-gray-100 dark:bg-gray-700 px-1 rounded"},kde={class:"flex items-center space-x-2"},Cde=["onClick"],xde=["href"],Tde={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden"},Sde={class:"flex justify-between items-center p-4 border-b dark:border-gray-700"},Ede={class:"font-bold text-lg dark:text-white truncate"},Mde={class:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 flex justify-center items-center p-4"},Ode=["src"],Ade=["src"],Nde={key:2,class:"text-center p-10"},Dde=["href"],Rde={__name:"HomeView",setup(t){const e=Vfe();xg();const r=Bt(null),n=Bt([]),i=Bt([]),a=Bt(!1),o=Bt([]),s=Bt(""),l=Bt(!1),u=Bt("name_asc"),f=Bt(null),h=Bt(null);function w(){Zu(()=>{var Y;!((Y=r.value)!=null&&Y.description)||!h.value||(h.value.innerHTML="",new Xfe({el:h.value,initialValue:r.value.description}))})}function C(Y){return Y?new Date(Y).toLocaleDateString("de-CH"):""}async function x(Y){l.value&&!Y&&(s.value="",l.value=!1),a.value=!0;try{const te=Y?`/api/files.php?folder_id=${Y}`:"/api/files.php",se=await zt.get(te);r.value=se.data.current_folder,n.value=se.data.folders,i.value=se.data.files,o.value=se.data.breadcrumbs||[],l.value||(s.value=""),w()}catch(te){console.error(te)}finally{a.value=!1}}async function M(){var Y;if(!s.value.trim()){l.value=!1,x((Y=r.value)==null?void 0:Y.id);return}a.value=!0,l.value=!0;try{const te=await zt.get(`/api/files.php?action=search&query=${encodeURIComponent(s.value)}`);n.value=te.data.folders,i.value=te.data.files,r.value=null,o.value=[]}catch(te){console.error(te)}finally{a.value=!1}}const D=An(()=>{let Y=[...n.value];return j(Y)}),B=An(()=>{let Y=[...i.value];return j(Y,!0)});function j(Y,te=!1){return Y.sort((se,oe)=>u.value==="name_asc"?(se.name||se.filename).localeCompare(oe.name||oe.filename):u.value==="name_desc"?(oe.name||oe.filename).localeCompare(se.name||se.filename):u.value==="date_desc"?new Date(oe.created_at||0)-new Date(se.created_at||0):u.value==="date_asc"?new Date(se.created_at||0)-new Date(oe.created_at||0):0)}function Q(Y){f.value=Y}return ku(()=>e.query.folder,Y=>{l.value||x(Y||null)},{immediate:!0}),(Y,te)=>{var se,oe;return lt(),vt("div",null,[pe("div",Qfe,[pe("nav",Yfe,[pe("button",{onClick:te[0]||(te[0]=ge=>x(null)),class:Ri(["hover:text-elektron-blue font-medium transition-colors",{"font-bold text-gray-800 dark:text-gray-200 cursor-default":!((se=r.value)!=null&&se.parent_id)&&!l.value,"hover:text-elektron-blue":((oe=r.value)==null?void 0:oe.parent_id)||l.value}])}," Home ",2),l.value?(lt(),vt("span",tde,[te[7]||(te[7]=pe("svg",{class:"w-4 h-4 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),sa(' Suche: "'+hr(s.value)+'" ',1)])):(lt(),vt(Ar,{key:0},[(lt(!0),vt(Ar,null,ia(o.value,(ge,Se)=>(lt(),vt("span",{key:Se,class:"flex items-center"},[te[5]||(te[5]=pe("svg",{class:"w-4 h-4 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),pe("button",{onClick:qe=>x(ge.id),class:"hover:text-elektron-blue font-medium transition-colors"},hr(ge.name),9,Zfe)]))),128)),r.value&&r.value.parent_id?(lt(),vt("span",ede,[te[6]||(te[6]=pe("svg",{class:"w-4 h-4 mx-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),sa(" "+hr(r.value.name),1)])):gr("",!0)],64))]),pe("div",rde,[Di(pe("input",{"onUpdate:modelValue":te[1]||(te[1]=ge=>s.value=ge),onKeyup:Ax(M,["enter"]),placeholder:"Suchen...",class:"border border-gray-300 dark:border-gray-600 rounded px-3 py-1 text-sm bg-white dark:bg-gray-700 dark:text-white focus:outline-none focus:border-elektron-blue"},null,544),[[Ia,s.value]]),pe("button",{onClick:M,class:"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 px-3 py-1 rounded text-sm transition-colors dark:text-white"},[...te[8]||(te[8]=[pe("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),Di(pe("select",{"onUpdate:modelValue":te[2]||(te[2]=ge=>u.value=ge),class:"border border-gray-300 dark:border-gray-600 rounded px-2 py-1 text-sm bg-white dark:bg-gray-700 dark:text-white focus:outline-none focus:border-elektron-blue"},[...te[9]||(te[9]=[pe("option",{value:"name_asc"},"Name (A-Z)",-1),pe("option",{value:"name_desc"},"Name (Z-A)",-1),pe("option",{value:"date_desc"},"Neueste zuerst",-1),pe("option",{value:"date_asc"},"lteste zuerst",-1)])],512),[[Ox,u.value]])])]),a.value?(lt(),vt("div",nde,"Lade...")):(lt(),vt("div",ide,[r.value&&r.value.description&&!l.value?(lt(),vt("div",ade,[pe("div",{ref_key:"viewerRef",ref:h,class:"toastui-editor-contents dark:text-gray-200"},null,512)])):gr("",!0),D.value.length>0?(lt(),vt("div",ode,[te[11]||(te[11]=pe("h3",{class:"text-sm font-bold text-gray-400 uppercase mb-3 tracking-wider"},"Ordner",-1)),pe("div",sde,[(lt(!0),vt(Ar,null,ia(D.value,ge=>(lt(),vt("div",{key:ge.id,onClick:Se=>x(ge.id),class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-elektron-blue dark:hover:border-elektron-blue hover:shadow-md transition flex items-center"},[te[10]||(te[10]=pe("svg",{class:"w-8 h-8 text-yellow-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[pe("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),pe("div",ude,[pe("span",cde,hr(ge.name),1),l.value?(lt(),vt("span",fde,"in "+hr(ge.parent_name||"Home"),1)):gr("",!0)])],8,lde))),128))])])):gr("",!0),pe("div",null,[te[16]||(te[16]=pe("h3",{class:"text-sm font-bold text-gray-400 uppercase mb-3 tracking-wider"},"Dateien",-1)),B.value.length===0?(lt(),vt("div",dde,"Keine Dateien vorhanden.")):gr("",!0),pe("div",hde,[(lt(!0),vt(Ar,null,ia(B.value,ge=>(lt(),vt("div",{key:ge.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex items-center justify-between transition-colors"},[pe("div",{class:"flex items-center overflow-hidden flex-1 cursor-pointer",onClick:Se=>Q(ge)},[ge.mime_type==="application/pdf"?(lt(),vt("svg",vde,[...te[12]||(te[12]=[pe("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"},null,-1)])])):(lt(),vt("svg",mde,[...te[13]||(te[13]=[pe("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z","clip-rule":"evenodd"},null,-1)])])),pe("div",gde,[pe("div",yde,hr(ge.filename),1),pe("div",bde,[sa(hr(C(ge.created_at))+" ",1),l.value?(lt(),vt("span",wde,"in "+hr(ge.folder_name||"Home"),1)):gr("",!0)])])],8,pde),pe("div",kde,[ge.mime_type==="application/pdf"||ge.filename.endsWith(".pdf")?(lt(),vt("button",{key:0,onClick:Se=>Q(ge),class:"p-2 text-gray-500 hover:text-elektron-blue dark:text-gray-400 dark:hover:text-elektron-blue",title:"Vorschau"},[...te[14]||(te[14]=[pe("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Cde)):gr("",!0),pe("a",{href:"/uploads/"+ge.path,download:"",target:"_blank",class:"p-2 text-elektron-blue hover:bg-blue-50 dark:hover:bg-gray-700 rounded-full"},[...te[15]||(te[15]=[pe("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,xde)])]))),128))])])])),f.value?(lt(),vt("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:te[4]||(te[4]=Eu(ge=>f.value=null,["self"]))},[pe("div",Tde,[pe("div",Sde,[pe("h3",Ede,hr(f.value.filename),1),pe("button",{onClick:te[3]||(te[3]=ge=>f.value=null),class:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white"},[...te[17]||(te[17]=[pe("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),pe("div",Mde,[f.value.filename.endsWith(".pdf")?(lt(),vt("iframe",{key:0,src:"/uploads/"+f.value.path,class:"w-full h-full min-h-[500px]",frameborder:"0"},null,8,Ode)):["jpg","jpeg","png","gif","webp"].includes(f.value.filename.split(".").pop().toLowerCase())?(lt(),vt("img",{key:1,src:"/uploads/"+f.value.path,class:"max-w-full max-h-full object-contain"},null,8,Ade)):(lt(),vt("div",Nde,[te[18]||(te[18]=pe("p",{class:"text-gray-500 dark:text-gray-400 mb-4"},"Vorschau nicht verfgbar",-1)),pe("a",{href:"/uploads/"+f.value.path,download:"",class:"bg-elektron-blue text-white px-4 py-2 rounded"},"Herunterladen",8,Dde)]))])])])):gr("",!0)])}}},Lde={class:"max-w-md mx-auto mt-10 bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 transition-colors"},Ide={class:"mb-4"},Pde={key:0,class:"text-red-500 mb-4"},_de={__name:"LoginView",setup(t){const e=Bt(""),r=Bt(""),n=xg();async function i(){try{const a=await zt.post("/api/auth.php",{action:"login",password:e.value});a.data.success?n.push("/admin"):r.value=a.data.error||"Login fehlgeschlagen"}catch{r.value="Netzwerkfehler"}}return(a,o)=>(lt(),vt("div",Lde,[o[3]||(o[3]=pe("h1",{class:"text-2xl font-bold mb-6 text-center text-elektron-blue"},"Admin Login",-1)),pe("form",{onSubmit:Eu(i,["prevent"])},[pe("div",Ide,[o[1]||(o[1]=pe("label",{class:"block text-gray-700 dark:text-gray-300 font-bold mb-2"},"Passwort",-1)),Di(pe("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),type:"password",class:"w-full border dark:border-gray-600 rounded px-3 py-2 dark:bg-gray-700 dark:text-white focus:outline-none focus:border-elektron-blue",required:""},null,512),[[Ia,e.value]])]),r.value?(lt(),vt("p",Pde,hr(r.value),1)):gr("",!0),o[2]||(o[2]=pe("button",{type:"submit",class:"w-full bg-elektron-blue text-white font-bold py-2 px-4 rounded hover:bg-opacity-90"},"Login",-1))],32)]))}};function an(t){this.content=t}an.prototype={constructor:an,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new an(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new an(r)},addToStart:function(t,e){return new an([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new an(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new an(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=an.from(t),t.size?new an(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=an.from(t),t.size?new an(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=an.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};an.from=function(t){if(t instanceof an)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new an(e)};function pT(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)r++;return r}if(i.content.size||a.content.size){let o=pT(i.content,a.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function vT(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let o=t.child(--i),s=e.child(--a),l=o.nodeSize;if(o==s){r-=l,n-=l;continue}if(!o.sameMarkup(s))return{a:r,b:n};if(o.isText&&o.text!=s.text){let u=0,f=Math.min(o.text.length,s.text.length);for(;u<f&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||s.content.size){let u=vT(o.content,s.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class Ue{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let o=0,s=0;s<r;o++){let l=this.content[o],u=s+l.nodeSize;if(u>e&&n(l,i+s,a||null,o)!==!1&&l.content.size){let f=s+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,i+f)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",o=!0;return this.nodesBetween(e,r,(s,l)=>{let u=s.isText?s.text.slice(Math.max(e,l)-l,r-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&n&&(o?o=!1:a+=n),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Ue(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,o=0;o<r;a++){let s=this.content[a],l=o+s.nodeSize;l>e&&((o<e||l>r)&&(s.isText?s=s.cut(Math.max(0,e-o),Math.min(s.text.length,r-o)):s=s.cut(Math.max(0,e-o-1),Math.min(s.content.size,r-o-1))),n.push(s),i+=s.nodeSize),o=l}return new Ue(n,i)}cutByIndex(e,r){return e==r?Ue.empty:e==0&&r==this.content.length?this:new Ue(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Ue(i,a)}addToStart(e){return new Ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return pT(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return vT(this,e,r,n)}findIndex(e){if(e==0)return nf(0,e);if(e==this.size)return nf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),a=n+i.nodeSize;if(a>=e)return a==e?nf(r+1,a):nf(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ue.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ue(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ue.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Ue(r||e,n)}static from(e){if(!e)return Ue.empty;if(e instanceof Ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ue.empty=new Ue([],0);const lv={index:0,offset:0};function nf(t,e){return lv.index=t,lv.offset=e,lv}function Gf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Gf(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Gf(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let lr=class hm{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return hm.none;if(e instanceof hm)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};lr.none=[];class Kf extends Error{}class ot{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=gT(this.content,e+this.openStart,r);return n&&new ot(n,this.openStart,this.openEnd)}removeBetween(e,r){return new ot(mT(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return ot.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ot(Ue.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new ot(e,n,i)}}ot.empty=new ot(Ue.empty,0,0);function mT(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:o,offset:s}=t.findIndex(r);if(i==e||a.isText){if(s!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(mT(a.content,e-i-1,r-i-1)))}function gT(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),o=t.maybeChild(i);if(a==e||o.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=gT(o.content,e-a-1,r,o);return s&&t.replaceChild(i,o.copy(s))}function Bde(t,e,r){if(r.openStart>t.depth)throw new Kf("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Kf("Inconsistent open depths");return yT(t,e,r,0)}function yT(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let o=yT(t,e,r,n+1);return a.copy(a.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,s=o.content;return ys(o,s.cut(0,t.parentOffset).append(r.content).append(s.cut(e.parentOffset)))}else{let{start:o,end:s}=Fde(r,t);return ys(a,wT(t,o,s,e,n))}else return ys(a,Jf(t,e,n))}function bT(t,e){if(!e.type.compatibleContent(t.type))throw new Kf("Cannot join "+e.type.name+" onto "+t.type.name)}function pm(t,e,r){let n=t.node(r);return bT(n,e.node(r)),n}function gs(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Au(t,e,r,n){let i=(e||t).node(r),a=0,o=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(gs(t.nodeAfter,n),a++));for(let s=a;s<o;s++)gs(i.child(s),n);e&&e.depth==r&&e.textOffset&&gs(e.nodeBefore,n)}function ys(t,e){return t.type.checkContent(e),t.copy(e)}function wT(t,e,r,n,i){let a=t.depth>i&&pm(t,e,i+1),o=n.depth>i&&pm(r,n,i+1),s=[];return Au(null,t,i,s),a&&o&&e.index(i)==r.index(i)?(bT(a,o),gs(ys(a,wT(t,e,r,n,i+1)),s)):(a&&gs(ys(a,Jf(t,e,i+1)),s),Au(e,r,i,s),o&&gs(ys(o,Jf(r,n,i+1)),s)),Au(n,null,i,s),new Ue(s)}function Jf(t,e,r){let n=[];if(Au(null,t,r,n),t.depth>r){let i=pm(t,e,r+1);gs(ys(i,Jf(t,e,r+1)),n)}return Au(e,null,r,n),new Ue(n)}function Fde(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(Ue.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class Vu{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return lr.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let s=n;n=i,i=s}let a=n.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Xf(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let o=e;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(n.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Vu(r,n,a)}static resolveCached(e,r){let n=sw.get(e);if(n)for(let a=0;a<n.elts.length;a++){let o=n.elts[a];if(o.pos==r)return o}else sw.set(e,n=new qde);let i=n.elts[n.i]=Vu.resolve(e,r);return n.i=(n.i+1)%Hde,i}}class qde{constructor(){this.elts=[],this.i=0}}const Hde=12,sw=new WeakMap;class Xf{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vde=Object.create(null);let Co=class vm{constructor(e,r,n,i=lr.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||Ue.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Gf(this.attrs,r||e.defaultAttrs||Vde)&&lr.sameSet(this.marks,n||lr.none)}copy(e=null){return e==this.content?this:new vm(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new vm(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return ot.empty;let i=this.resolve(e),a=this.resolve(r),o=n?0:i.sharedDepth(r),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new ot(u,i.depth-o,a.depth-o)}replace(e,r,n){return Bde(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Vu.resolveCached(this,e)}resolveNoCache(e){return Vu.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),kT(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ue.empty,i=0,a=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,a),s=o&&o.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=lr.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!lr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=Ue.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};Co.prototype.text=void 0;class Qf extends Co{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Qf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Qf(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function kT(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class xs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new zde(e,r);if(n.next==null)return xs.empty;let i=CT(n);n.next&&n.err("Unexpected trailing text");let a=Jde(Kde(i));return Xde(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(o,s){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return Ue.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:h}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let w=a(h,s.concat(f));if(w)return w}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in r)&&(!i.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:i}),r[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)a+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return a}).join(`
`)}}xs.empty=new xs(!0);class zde{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function CT(t){let e=[];do e.push($de(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function $de(t){let e=[];do e.push(Ude(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Ude(t){let e=Gde(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=jde(t,e);else break;return e}function lw(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function jde(t,e){let r=lw(t),n=r;return t.eat(",")&&(t.next!="}"?n=lw(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Wde(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let o=r[a];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Gde(t){if(t.eat("(")){let e=CT(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Wde(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Kde(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}function n(o,s,l){let u={term:l,to:s};return e[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=r())}else if(o.type=="star"){let l=r();return n(s,l),i(a(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return i(a(o.expr,s),l),i(a(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let f=r();i(a(o.expr,l),f),l=f}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let f=r();n(l,f),i(a(o.expr,l),f),l=f}return[n(l)]}else{if(o.type=="name")return[n(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function xT(t,e){return e-t}function uw(t,e){let r=[];return n(e),r.sort(xT);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&r.indexOf(l)==-1&&n(l)}}}function Jde(t){let e=Object.create(null);return r(uw(t,0));function r(n){let i=[];n.forEach(o=>{t[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let f=0;f<i.length;f++)i[f][0]==s&&(u=i[f][1]);uw(t,l).forEach(f=>{u||i.push([s,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let a=e[n.join(",")]=new xs(n.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(xT);a.next.push({type:i[o][0],next:e[s.join(",")]||r(s)})}return a}}function Xde(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function TT(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function ST(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function ET(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function MT(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Yde(t,n,e[n]);return r}let cw=class OT{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=MT(e,n.attrs),this.defaultAttrs=TT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ST(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Co(this,this.computeAttrs(e),Ue.from(r),lr.setFrom(n))}createChecked(e=null,r,n){return r=Ue.from(r),this.checkContent(r),new Co(this,this.computeAttrs(e),r,lr.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ue.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(Ue.empty,!0);return a?new Co(this,e,r.append(a),lr.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ET(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:lr.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,o)=>n[a]=new OT(a,r,o));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Qde(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class Yde{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Qde(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Jd{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=MT(e,i.attrs),this.excluded=null;let a=TT(this.attrs);this.instance=a?new lr(this,a):null}create(e=null){return!e&&this.instance?this.instance:new lr(this,ST(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,o)=>n[a]=new Jd(a,i++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){ET(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class AT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=an.from(e.nodes),r.marks=an.from(e.marks||{}),this.nodes=cw.compile(this.spec.nodes,this),this.marks=Jd.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;if(a.contentMatch=n[o]||(n[o]=xs.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=s=="_"?null:s?fw(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:fw(this,o.split(" "))}this.nodeFromJSON=i=>Co.fromJSON(this,i),this.markFromJSON=i=>lr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Qf(n,n.defaultAttrs,e,lr.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function fw(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],o=a;if(a)r.push(a);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Zde(t){return t.tag!=null}function ehe(t){return t.style!=null}class Ts{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(Zde(i))this.tags.push(i);else if(ehe(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new hw(this,r,!1);return n.addAll(e,lr.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new hw(this,r,!0);return n.addAll(e,lr.none,r.from,r.to),ot.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(nhe(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(e);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let s=r[o];if((s.priority==null?50:s.priority)<a)break}r.splice(o,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(o=>{n(o=pw(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(o=>{n(o=pw(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ts(e,Ts.schemaRules(e)))}}const NT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},the={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},DT={ol:!0,ul:!0},zu=1,mm=2,Nu=4;function dw(t,e,r){return e!=null?(e?zu:0)|(e==="full"?mm:0):t&&t.whitespace=="pre"?zu|mm:r&~Nu}class af{constructor(e,r,n,i,a,o){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=lr.none,this.match=a||(o&Nu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ue.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&zu)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=Ue.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ue.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!NT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hw{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,o=dw(null,r.preserveWhitespace,0)|(n?Nu:0);i?a=new af(i.type,i.attrs,lr.none,!0,r.topMatch||i.type.contentMatch,o):n?a=new af(null,null,lr.none,!0,null,o):a=new af(e.schema.topNodeType,null,lr.none,!0,null,o),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&mm?"full":this.localPreserveWS||(i.options&zu)>0,{schema:o}=this.parser;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)if(a==="full")n=n.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(o.linebreakReplacement.create())){let s=n.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),r,!0),s[l]&&this.insertNode(o.text(s[l]),r,!/\S/.test(s[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(o.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),s;DT.hasOwnProperty(o)&&this.parser.normalizeLists&&rhe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));e:if(l?l.ignore:the.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,f=this.needsBlock;if(NT.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=l&&l.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),u&&this.sync(a),this.needsBlock=f}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],o=n.getPropertyValue(a);if(o)for(let s=void 0;;){let l=this.parser.matchStyle(a,o,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return r}addElementByRule(e,r,n,i){let a,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(s)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=i==null?null:e.childNodes[i];o!=s;o=o.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(o,r);this.findAtPoint(e,a)}findPlace(e,r,n){let i,a;for(let o=this.open,s=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+s)&&(i=u,a=l,!u.length))break;if(l.solid){if(n)break;s+=2}}if(!i)return null;this.sync(a);for(let o=0;o<i.length;o++)r=this.enterInner(i[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let o=lr.none;for(let s of i.concat(e.marks))(a.type?a.type.allowsMarkType(s.type):vw(s.type,e.type))&&(o=s.addToSet(o));return a.content.push(e.mark(o)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n,!1);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let s=dw(e,a,o.options);o.options&Nu&&o.content.length==0&&(s|=Nu);let l=lr.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):vw(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new af(e,r,l,i,null,s)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=zu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=r[s];if(u==""){if(s==r.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function rhe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&DT.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function nhe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function pw(t){let e={};for(let r in t)e[r]=t[r];return e}function vw(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:f}=s.edge(l);if(u==e||a.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class zl{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=uv(r).createDocumentFragment());let i=n,a=[];return e.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],f=this.serializeMark(u,o.isInline,r);f&&(a.push([u,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=Sf(uv(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&Sf(uv(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return Sf(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=mw(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return mw(e.marks)}}function mw(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function uv(t){return t.document||window.document}const gw=new WeakMap;function ihe(t){let e=gw.get(t);return e===void 0&&gw.set(t,e=ahe(t)),e}function ahe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function Sf(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=ihe(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let h in u)if(u[h]!=null){let w=h.indexOf(" ");w>0?l.setAttributeNS(h.slice(0,w),h.slice(w+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=f;h<e.length;h++){let w=e[h];if(w===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:C,contentDOM:x}=Sf(t,w,r,n);if(l.appendChild(C),x){if(s)throw new RangeError("Multiple content holes");s=x}}}return{dom:l,contentDOM:s}}const RT=65535,LT=Math.pow(2,16);function ohe(t,e){return t+e*LT}function yw(t){return t&RT}function she(t){return(t-(t&RT))/LT}const IT=1,PT=2,Ef=4,_T=8;class gm{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&_T)>0}get deletedBefore(){return(this.delInfo&(IT|Ef))>0}get deletedAfter(){return(this.delInfo&(PT|Ef))>0}get deletedAcross(){return(this.delInfo&Ef)>0}}class $n{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&$n.empty)return $n.empty}recover(e){let r=0,n=yw(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+she(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+a],f=this.ranges[s+o],h=l+u;if(e<=h){let w=u?e==l?-1:e==h?1:r:r,C=l+i+(w<0?0:f);if(n)return C;let x=e==(r<0?l:h)?null:ohe(s/3,e-l),M=e==l?PT:e==h?IT:Ef;return(r<0?e!=l:e!=h)&&(M|=_T),new gm(C,M,x)}i+=f-u}return n?e+i:new gm(e+i,0,null)}touches(e,r){let n=0,i=yw(r),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[s+a],f=l+u;if(e<=f&&s==i*3)return!0;n+=this.ranges[s+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+r],f=this.ranges[i+n];e(s,s+u,l,l+f),a+=f-u}}invert(){return new $n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$n.empty:new $n(e<0?[0,-e,0]:[0,0,e])}}$n.empty=new $n([]);class $u{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new $u(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new $u;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],s=o.mapResult(e,r);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return n?e:new gm(e,i,null)}}const cv=Object.create(null);class Cn{getMap(){return $n.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=cv[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in cv)throw new RangeError("Duplicate use of step JSON ID "+e);return cv[e]=r,r.prototype.jsonID=e,r}}class Fr{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Fr(e,null)}static fail(e){return new Fr(null,e)}static fromReplace(e,r,n,i){try{return Fr.ok(e.replace(r,n,i))}catch(a){if(a instanceof Kf)return Fr.fail(a.message);throw a}}}function Sg(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(Sg(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return Ue.fromArray(n)}class yo extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new ot(Sg(r.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return Fr.fromReplace(e,this.from,this.to,a)}invert(){return new aa(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new yo(r.pos,n.pos,this.mark)}merge(e){return e instanceof yo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yo(r.from,r.to,e.markFromJSON(r.mark))}}Cn.jsonID("addMark",yo);class aa extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new ot(Sg(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Fr.fromReplace(e,this.from,this.to,n)}invert(){return new yo(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new aa(r.pos,n.pos,this.mark)}merge(e){return e instanceof aa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new aa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new aa(r.from,r.to,e.markFromJSON(r.mark))}}Cn.jsonID("removeMark",aa);class bo extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Fr.fromReplace(e,this.pos,this.pos+1,new ot(Ue.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new bo(this.pos,r.marks[i]);return new bo(this.pos,this.mark)}}return new Ss(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new bo(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bo(r.pos,e.markFromJSON(r.mark))}}Cn.jsonID("addNodeMark",bo);class Ss extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Fr.fromReplace(e,this.pos,this.pos+1,new ot(Ue.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new bo(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ss(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ss(r.pos,e.markFromJSON(r.mark))}}Cn.jsonID("removeNodeMark",Ss);class gn extends Cn{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&ym(e,this.from,this.to)?Fr.fail("Structure replace would overwrite content"):Fr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $n([this.from,this.to-this.from,this.slice.size])}invert(e){return new gn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new gn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?ot.empty:new ot(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gn(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?ot.empty:new ot(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gn(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gn(r.from,r.to,ot.fromJSON(e,r.slice),!!r.structure)}}Cn.jsonID("replace",gn);class Yr extends Cn{constructor(e,r,n,i,a,o,s=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(e){if(this.structure&&(ym(e,this.from,this.gapFrom)||ym(e,this.gapTo,this.to)))return Fr.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Fr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Fr.fromReplace(e,this.from,this.to,n):Fr.fail("Content does not fit in gap")}getMap(){return new $n([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Yr(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new Yr(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Yr(r.from,r.to,r.gapFrom,r.gapTo,ot.fromJSON(e,r.slice),r.insert,!!r.structure)}}Cn.jsonID("replaceAround",Yr);function ym(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let o=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function lhe(t,e,r,n){let i=[],a=[],o,s;t.doc.nodesBetween(e,r,(l,u,f)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&f.type.allowsMarkType(n.type)){let w=Math.max(u,e),C=Math.min(u+l.nodeSize,r),x=n.addToSet(h);for(let M=0;M<h.length;M++)h[M].isInSet(x)||(o&&o.to==w&&o.mark.eq(h[M])?o.to=C:i.push(o=new aa(w,C,h[M])));s&&s.to==w?s.to=C:a.push(s=new yo(w,C,n))}}),i.forEach(l=>t.step(l)),a.forEach(l=>t.step(l))}function uhe(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(n instanceof Jd){let u=o.marks,f;for(;f=n.isInSet(u);)(l||(l=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,r);for(let f=0;f<l.length;f++){let h=l[f],w;for(let C=0;C<i.length;C++){let x=i[C];x.step==a-1&&h.eq(i[C].style)&&(w=x)}w?(w.to=u,w.step=a):i.push({style:h,from:Math.max(s,e),to:u,step:a})}}}),i.forEach(o=>t.step(new aa(o.from,o.to,o.style)))}function Eg(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<a.childCount;l++){let u=a.child(l),f=s+u.nodeSize,h=n.matchType(u.type);if(!h)o.push(new gn(s,f,ot.empty));else{n=h;for(let w=0;w<u.marks.length;w++)r.allowsMarkType(u.marks[w].type)||t.step(new aa(s,f,u.marks[w]));if(i&&u.isText&&r.whitespace!="pre"){let w,C=/\r?\n|\r/g,x;for(;w=C.exec(u.text);)x||(x=new ot(Ue.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new gn(s+w.index,s+w.index+w[0].length,x))}}s=f}if(!n.validEnd){let l=n.fillBefore(Ue.empty,!0);t.replace(s,s,new ot(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function che(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Xd(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,i=0,a=0;;--n){let o=t.$from.node(n),s=t.$from.index(n)+i,l=t.$to.indexAfter(n)-a;if(n<t.depth&&o.canReplace(s,l,r))return n;if(n==0||o.type.spec.isolating||!che(o,s,l))break;s&&(i=1),l<o.childCount&&(a=1)}return null}function fhe(t,e,r){let{$from:n,$to:i,depth:a}=e,o=n.before(a+1),s=i.after(a+1),l=o,u=s,f=Ue.empty,h=0;for(let x=a,M=!1;x>r;x--)M||n.index(x)>0?(M=!0,f=Ue.from(n.node(x).copy(f)),h++):l--;let w=Ue.empty,C=0;for(let x=a,M=!1;x>r;x--)M||i.after(x+1)<i.end(x)?(M=!0,w=Ue.from(i.node(x).copy(w)),C++):u++;t.step(new Yr(l,u,o,s,new ot(f.append(w),h,C),f.size-h,!0))}function dhe(t,e,r=null,n=t){let i=hhe(t,e),a=i&&phe(n,e);return a?i.map(bw).concat({type:e,attrs:r}).concat(a.map(bw)):null}function bw(t){return{type:t,attrs:null}}function hhe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let o=a.length?a[0]:e;return r.canReplaceWith(n,i,o)?a:null}function phe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),o=e.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:o}function vhe(t,e,r){let n=Ue.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let s=r[o].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ue.from(r[o].type.create(r[o].attrs,n))}let i=e.start,a=e.end;t.step(new Yr(i,a,i,a,new ot(n,0,0),r.length,!0))}function mhe(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(o,s)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&ghe(t.doc,t.mapping.slice(a).map(s),n)){let u=null;if(n.schema.linebreakReplacement){let C=n.whitespace=="pre",x=!!n.contentMatch.matchType(n.schema.linebreakReplacement);C&&!x?u=!1:!C&&x&&(u=!0)}u===!1&&FT(t,o,s,a),Eg(t,t.mapping.slice(a).map(s,1),n,void 0,u===null);let f=t.mapping.slice(a),h=f.map(s,1),w=f.map(s+o.nodeSize,1);return t.step(new Yr(h,w,h+1,w-1,new ot(Ue.from(n.create(l,null,o.marks)),0,0),1,!0)),u===!0&&BT(t,o,s,a),!1}})}function BT(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let o,s=/\r?\n|\r/g;for(;o=s.exec(i.text);){let l=t.mapping.slice(n).map(r+1+a+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function FT(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+a);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function ghe(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function yhe(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let o=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,o);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Yr(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ot(Ue.from(o),0,0),1,!0))}function gl(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,o=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,f=r-2;u>a;u--,f--){let h=i.node(u),w=i.index(u);if(h.type.spec.isolating)return!1;let C=h.content.cutByIndex(w,h.childCount),x=n&&n[f+1];x&&(C=C.replaceChild(0,x.type.create(x.attrs)));let M=n&&n[f]||h;if(!h.canReplace(w+1,h.childCount)||!M.type.validContent(C))return!1}let s=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function bhe(t,e,r=1,n){let i=t.doc.resolve(e),a=Ue.empty,o=Ue.empty;for(let s=i.depth,l=i.depth-r,u=r-1;s>l;s--,u--){a=Ue.from(i.node(s).copy(a));let f=n&&n[u];o=Ue.from(f?f.type.create(f.attrs,o):i.node(s).copy(o))}t.step(new gn(e,e,new ot(a.append(o),r,r),!0))}function qT(t,e){let r=t.resolve(e),n=r.index();return khe(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function whe(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),o=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function khe(t,e){return!!(t&&e&&!t.isLeaf&&whe(t,e))}function Che(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),o=a.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);f&&!h?n=!1:!f&&h&&(n=!0)}let s=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);FT(t,f.node(),f.before(),s)}o.inlineContent&&Eg(t,e+r-1,o,a.node().contentMatchAt(a.index()),n==null);let l=t.mapping.slice(s),u=l.map(e-r);if(t.step(new gn(u,l.map(e+r,-1),ot.empty,!0)),n===!0){let f=t.doc.resolve(u);BT(t,f.node(),f.before(),t.steps.length)}return t}function xhe(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function The(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let o=n.depth;o>=0;o--){let s=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(s>0?1:0),u=n.node(o),f=!1;if(a==1)f=u.canReplace(l,l,i);else{let h=u.contentMatchAt(l).findWrapping(i.firstChild.type);f=h&&u.canReplaceWith(l,l,h[0])}if(f)return s==0?n.pos:s<0?n.before(o+1):n.after(o+1)}return null}function Mg(t,e,r=e,n=ot.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return HT(i,a,n)?new gn(e,r,n):new She(i,a,n).fit()}function HT(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class She{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ue.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ue.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,o=n.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new ot(a,o,s);return e>-1?new Yr(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new gn(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=fv(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],f,h=null;if(r==1&&(o?u.matchType(o.type)||(h=u.fillBefore(Ue.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:s,parent:a,inject:h};if(r==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:a,wrap:f};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=fv(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ot(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=fv(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new ot(hu(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new ot(hu(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let M=0;M<a.length;M++)this.openFrontierNode(a[M]);let o=this.unplaced,s=n?n.content:o.content,l=o.openStart-e,u=0,f=[],{match:h,type:w}=this.frontier[r];if(i){for(let M=0;M<i.childCount;M++)f.push(i.child(M));h=h.matchFragment(i)}let C=s.size+e-(o.content.size-o.openEnd);for(;u<s.childCount;){let M=s.child(u),D=h.matchType(M.type);if(!D)break;u++,(u>1||l==0||M.content.size)&&(h=D,f.push(VT(M.mark(w.allowedMarks(M.marks)),u==1?l:0,u==s.childCount?C:-1)))}let x=u==s.childCount;x||(C=-1),this.placed=pu(this.placed,r,Ue.from(f)),this.frontier[r].match=h,x&&C<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let M=0,D=s;M<C;M++){let B=D.lastChild;this.frontier.push({type:B.type,match:B.contentMatchAt(B.childCount)}),D=B.content}this.unplaced=x?e==0?ot.empty:new ot(hu(o.content,e-1,1),e-1,C<0?o.openEnd:e-1):new ot(hu(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!dv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=dv(e,r,i,n,a);if(o){for(let s=r-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],f=dv(e,s,u,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=pu(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=pu(this.placed,this.depth,Ue.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ue.empty,!0);r.childCount&&(this.placed=pu(this.placed,this.frontier.length,r))}}function hu(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(hu(t.firstChild.content,e-1,r)))}function pu(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(pu(t.lastChild.content,e-1,r)))}function fv(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function VT(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,VT(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Ue.empty,!0)))),t.copy(n)}function dv(t,e,r,n,i){let a=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==a.childCount&&!r.compatibleContent(a.type))return null;let s=n.fillBefore(a.content,!0,o);return s&&!Ehe(r,a.content,o)?s:null}function Ehe(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function Mhe(t){return t.spec.defining||t.spec.definingForContent}function Ohe(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(HT(i,a,n))return t.step(new gn(e,r,n));let o=$T(i,a);o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let w=i.depth,C=i.pos-1;w>0;w--,C--){let x=i.node(w).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;o.indexOf(w)>-1?s=w:i.before(w)==C&&o.splice(1,0,-w)}let l=o.indexOf(s),u=[],f=n.openStart;for(let w=n.content,C=0;;C++){let x=w.firstChild;if(u.push(x),C==n.openStart)break;w=x.content}for(let w=f-1;w>=0;w--){let C=u[w],x=Mhe(C.type);if(x&&!C.sameMarkup(i.node(Math.abs(s)-1)))f=w;else if(x||!C.type.isTextblock)break}for(let w=n.openStart;w>=0;w--){let C=(w+f+1)%(n.openStart+1),x=u[C];if(x)for(let M=0;M<o.length;M++){let D=o[(M+l)%o.length],B=!0;D<0&&(B=!1,D=-D);let j=i.node(D-1),Q=i.index(D-1);if(j.canReplaceWith(Q,Q,x.type,x.marks))return t.replace(i.before(D),B?a.after(D):r,new ot(zT(n.content,0,n.openStart,C),C,n.openEnd))}}let h=t.steps.length;for(let w=o.length-1;w>=0&&(t.replace(e,r,n),!(t.steps.length>h));w--){let C=o[w];C<0||(e=i.before(C),r=a.after(C))}}function zT(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(zT(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),o=a.fillBefore(t).append(t);t=o.append(a.matchFragment(o).fillBefore(Ue.empty,!0))}return t}function Ahe(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=xhe(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new ot(Ue.from(n),0,0))}function Nhe(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=$T(n,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return t.delete(n.start(s),i.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return t.delete(n.before(s),i.after(s))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&i.end(o)-r!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function $T(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}class yl extends Cn{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Fr.fromReplace(e,this.pos,this.pos+1,new ot(Ue.from(i),0,r.isLeaf?0:1))}getMap(){return $n.empty}invert(e){return new yl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new yl(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yl(r.pos,r.attr,r.value)}}Cn.jsonID("attr",yl);class Uu extends Cn{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Fr.ok(n)}getMap(){return $n.empty}invert(e){return new Uu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Uu(r.attr,r.value)}}Cn.jsonID("docAttr",Uu);let Sl=class extends Error{};Sl=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Sl.prototype=Object.create(Error.prototype);Sl.prototype.constructor=Sl;Sl.prototype.name="TransformError";class Dhe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $u}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Sl(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let i=this.mapping.maps[n];n&&(e=i.map(e,1),r=i.map(r,-1)),i.forEach((a,o,s,l)=>{e=Math.min(e,s),r=Math.max(r,l)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=ot.empty){let i=Mg(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new ot(Ue.from(n),0,0))}delete(e,r){return this.replace(e,r,ot.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Ohe(this,e,r,n),this}replaceRangeWith(e,r,n){return Ahe(this,e,r,n),this}deleteRange(e,r){return Nhe(this,e,r),this}lift(e,r){return fhe(this,e,r),this}join(e,r=1){return Che(this,e,r),this}wrap(e,r){return vhe(this,e,r),this}setBlockType(e,r=e,n,i=null){return mhe(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return yhe(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new yl(e,r,n)),this}setDocAttribute(e,r){return this.step(new Uu(e,r)),this}addNodeMark(e,r){return this.step(new bo(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof lr)r.isInSet(n.marks)&&this.step(new Ss(e,r));else{let i=n.marks,a,o=[];for(;a=r.isInSet(i);)o.push(new Ss(e,a)),i=a.removeFromSet(i);for(let s=o.length-1;s>=0;s--)this.step(o[s])}return this}split(e,r=1,n){return bhe(this,e,r,n),this}addMark(e,r,n){return lhe(this,e,r,n),this}removeMark(e,r,n){return uhe(this,e,r,n),this}clearIncompatible(e,r,n){return Eg(this,e,r,n),this}}const hv=Object.create(null);class Gt{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new UT(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=ot.empty){let n=r.content.lastChild,i=null;for(let s=0;s<r.openEnd;s++)i=n,n=n.lastChild;let a=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],f=e.mapping.slice(a);e.replaceRange(f.map(l.pos),f.map(u.pos),s?ot.empty:r),s==0&&Cw(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=e.mapping.slice(n),u=l.map(o.pos),f=l.map(s.pos);a?e.deleteRange(u,f):(e.replaceRangeWith(u,f,r),Cw(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Xt(e):sl(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let o=r<0?sl(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):sl(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Nn(e.node(0))}static atStart(e){return sl(e,e,0,0,1)||new Nn(e)}static atEnd(e){return sl(e,e,e.content.size,e.childCount,-1)||new Nn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=hv[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in hv)throw new RangeError("Duplicate use of selection JSON ID "+e);return hv[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Xt.between(this.$anchor,this.$head).getBookmark()}}Gt.prototype.visible=!0;class UT{constructor(e,r){this.$from=e,this.$to=r}}let ww=!1;function kw(t){!ww&&!t.parent.inlineContent&&(ww=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Xt extends Gt{constructor(e,r=e){kw(e),kw(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Gt.near(n);let i=e.resolve(r.map(this.anchor));return new Xt(i.parent.inlineContent?i:n,n)}replace(e,r=ot.empty){if(super.replace(e,r),r==ot.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Xt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Qd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Xt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=Gt.findFrom(r,n,!0)||Gt.findFrom(r,-n,!0);if(a)r=a.$head;else return Gt.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Gt.findFrom(e,-n,!0)||Gt.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Xt(e,r)}}Gt.jsonID("text",Xt);class Qd{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Qd(e.map(this.anchor),e.map(this.head))}resolve(e){return Xt.between(e.resolve(this.anchor),e.resolve(this.head))}}class It extends Gt{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?Gt.near(a):new It(a)}content(){return new ot(Ue.from(this.node),0,0)}eq(e){return e instanceof It&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Og(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new It(e.resolve(r.anchor))}static create(e,r){return new It(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}It.prototype.visible=!1;Gt.jsonID("node",It);class Og{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Qd(n,n):new Og(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&It.isSelectable(n)?new It(r):Gt.near(r)}}class Nn extends Gt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=ot.empty){if(r==ot.empty){e.delete(0,e.doc.content.size);let n=Gt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Nn(e)}map(e){return new Nn(e)}eq(e){return e instanceof Nn}getBookmark(){return Rhe}}Gt.jsonID("all",Nn);const Rhe={map(){return this},resolve(t){return new Nn(t)}};function sl(t,e,r,n,i,a=!1){if(e.inlineContent)return Xt.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let s=e.child(o);if(s.isAtom){if(!a&&It.isSelectable(s))return It.create(t,r-(i<0?s.nodeSize:0))}else{let l=sl(t,s,r+i,i<0?s.childCount:0,i,a);if(l)return l}r+=s.nodeSize*i}return null}function Cw(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof gn||i instanceof Yr))return;let a=t.mapping.maps[n],o;a.forEach((s,l,u,f)=>{o==null&&(o=f)}),t.setSelection(Gt.near(t.doc.resolve(o),r))}const xw=1,of=2,Tw=4;class Lhe extends Dhe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|xw)&~of,this.storedMarks=null,this}get selectionSet(){return(this.updated&xw)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=of,this}ensureMarks(e){return lr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&of)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~of,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||lr.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let o=this.doc.resolve(r);a=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Gt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Tw,this}get scrolledIntoView(){return(this.updated&Tw)>0}}function Sw(t,e){return!e||!t?t:t.bind(e)}class vu{constructor(e,r,n){this.name=e,this.init=Sw(r.init,n),this.apply=Sw(r.apply,n)}}const Ihe=[new vu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vu("selection",{init(t,e){return t.selection||Gt.atStart(e.doc)},apply(t){return t.selection}}),new vu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new vu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class pv{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ihe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new vu(n.key,n.spec.state,n))})}}class fs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,f=l<r.length&&s.spec.appendTransaction.call(s,l?r.slice(l):r,u,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),a=!0}i&&(i[o]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new fs(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new Lhe(this)}static create(e){let r=new pv(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new fs(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new pv(this.schema,e.plugins),n=r.fields,i=new fs(r);for(let a=0;a<n.length;a++){let o=n[a].name;i[o]=this.hasOwnProperty(o)?this[o]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new pv(e.schema,e.plugins),a=new fs(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=Co.fromJSON(e.schema,r.doc);else if(o.name=="selection")a.selection=Gt.fromJSON(a.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){a[o.name]=u.fromJSON.call(l,e,r[s],a);return}}a[o.name]=o.init(e,a)}}),a}}function jT(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=jT(i,e,{})),r[n]=i}return r}class Jn{constructor(e){this.spec=e,this.props={},e.props&&jT(e.props,this,this.props),this.key=e.key?e.key.key:WT("plugin")}getState(e){return e[this.key]}}const vv=Object.create(null);function WT(t){return t in vv?t+"$"+ ++vv[t]:(vv[t]=0,t+"$")}class ac{constructor(e="key"){this.key=WT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},El=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let bm=null;const Pa=function(t,e,r){let n=bm||(bm=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},Phe=function(){bm=null},Es=function(t,e,r,n){return r&&(Ew(t,e,r,n,-1)||Ew(t,e,r,n,1))},_he=/^(img|br|input|textarea|hr)$/i;function Ew(t,e,r,n,i){for(var a;;){if(t==r&&e==n)return!0;if(e==(i<0?0:bi(t))){let o=t.parentNode;if(!o||o.nodeType!=1||oc(t)||_he.test(t.nodeName)||t.contentEditable=="false")return!1;e=ln(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((a=o.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?bi(t):0}else return!1}}function bi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Bhe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=bi(t)}else if(t.parentNode&&!oc(t))e=ln(t),t=t.parentNode;else return null}}function Fhe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!oc(t))e=ln(t)+1,t=t.parentNode;else return null}}function qhe(t,e,r){for(let n=e==0,i=e==bi(t);n||i;){if(t==r)return!0;let a=ln(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==bi(t)}}function oc(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Yd=function(t){return t.focusNode&&Es(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ls(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function Hhe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Vhe(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(bi(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(bi(n.startContainer),n.startOffset)}}}const da=typeof navigator<"u"?navigator:null,Mw=typeof document<"u"?document:null,Lo=da&&da.userAgent||"",wm=/Edge\/(\d+)/.exec(Lo),GT=/MSIE \d/.exec(Lo),km=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lo),Gn=!!(GT||km||wm),xo=GT?document.documentMode:km?+km[1]:wm?+wm[1]:0,ki=!Gn&&/gecko\/(\d+)/i.test(Lo);ki&&+(/Firefox\/(\d+)/.exec(Lo)||[0,0])[1];const Cm=!Gn&&/Chrome\/(\d+)/.exec(Lo),Qr=!!Cm,KT=Cm?+Cm[1]:0,dn=!Gn&&!!da&&/Apple Computer/.test(da.vendor),Ml=dn&&(/Mobile\/\w+/.test(Lo)||!!da&&da.maxTouchPoints>2),yi=Ml||(da?/Mac/.test(da.platform):!1),JT=da?/Win/.test(da.platform):!1,Ha=/Android \d/.test(Lo),sc=!!Mw&&"webkitFontSmoothing"in Mw.documentElement.style,zhe=sc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function $he(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Da(t,e){return typeof t=="number"?t:t[e]}function Uhe(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function Ow(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=El(o);continue}let s=o,l=s==a.body,u=l?$he(a):Uhe(s),f=0,h=0;if(e.top<u.top+Da(n,"top")?h=-(u.top-e.top+Da(i,"top")):e.bottom>u.bottom-Da(n,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+Da(i,"top")-u.top:e.bottom-u.bottom+Da(i,"bottom")),e.left<u.left+Da(n,"left")?f=-(u.left-e.left+Da(i,"left")):e.right>u.right-Da(n,"right")&&(f=e.right-u.right+Da(i,"right")),f||h)if(l)a.defaultView.scrollBy(f,h);else{let C=s.scrollLeft,x=s.scrollTop;h&&(s.scrollTop+=h),f&&(s.scrollLeft+=f);let M=s.scrollLeft-C,D=s.scrollTop-x;e={left:e.left-M,top:e.top-D,right:e.right-M,bottom:e.bottom-D}}let w=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(w))break;o=w=="absolute"?o.offsetParent:El(o)}}function jhe(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let s=t.root.elementFromPoint(a,o);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=r-20){n=s,i=l.top;break}}return{refDOM:n,refTop:i,stack:XT(t.dom)}}function XT(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=El(n));return e}function Whe({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;QT(r,n==0?0:n-e)}function QT(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let el=null;function Ghe(t){if(t.setActive)return t.setActive();if(el)return t.focus(el);let e=XT(t);t.focus(el==null?{get preventScroll(){return el={preventScroll:!0},!0}}:void 0),el||(el=!1,QT(e,0))}function YT(t,e){let r,n=2e8,i,a=0,o=e.top,s=e.top,l,u;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let w;if(f.nodeType==1)w=f.getClientRects();else if(f.nodeType==3)w=Pa(f).getClientRects();else continue;for(let C=0;C<w.length;C++){let x=w[C];if(x.top<=o&&x.bottom>=s){o=Math.max(x.bottom,o),s=Math.min(x.top,s);let M=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(M<n){r=f,n=M,i=M&&r.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,f.nodeType==1&&M&&(a=h+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!l&&x.left<=e.left&&x.right>=e.left&&(l=f,u={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!r&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(a=h+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?Khe(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:YT(r,i)}function Khe(t,e){let r=t.nodeValue.length,n=document.createRange(),i;for(let a=0;a<r;a++){n.setEnd(t,a+1),n.setStart(t,a);let o=lo(n,1);if(o.top!=o.bottom&&Ag(e,o)){i={node:t,offset:a+(e.left>=(o.left+o.right)/2?1:0)};break}}return n.detach(),i||{node:t,offset:0}}function Ag(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Jhe(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function Xhe(t,e,r){let{node:n,offset:i}=YT(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();a=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}function Qhe(t,e,r,n){let i=-1;for(let a=e,o=!1;a!=t.dom;){let s=t.docView.nearestDesc(a,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!o&&l.left>n.left||l.top>n.top?i=s.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=s.posAfter),o=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;a=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function ZT(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let o=t.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(Ag(e,u))return ZT(o,e,u)}}if((a=(a+1)%n)==i)break}return t}function Yhe(t,e){let r=t.dom.ownerDocument,n,i=0,a=Vhe(r,e.left,e.top);a&&({node:n,offset:i}=a);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!Ag(e,u)||(o=ZT(t.dom,e,u),!o))return null}if(dn)for(let u=o;n&&u;u=El(u))u.draggable&&(n=void 0);if(o=Jhe(o,e),n){if(ki&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let u;sc&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(s=Qhe(t,n,i,e))}s==null&&(s=Xhe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Aw(t){return t.top<t.bottom||t.left<t.right}function lo(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Aw(n))return n}return Array.prototype.find.call(r,Aw)||t.getBoundingClientRect()}const Zhe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function eS(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),o=sc||ki;if(n.nodeType==3)if(o&&(Zhe.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=lo(Pa(n,i,i),r);if(ki&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=lo(Pa(n,i-1,i-1),-1);if(u.top==l.top){let f=lo(Pa(n,i,i+1),-1);if(f.top!=l.top)return ou(f,f.left<u.left)}}return l}else{let l=i,u=i,f=r<0?1:-1;return r<0&&!i?(u++,f=-1):r>=0&&i==n.nodeValue.length?(l--,f=1):r<0?l--:u++,ou(lo(Pa(n,l,u),f),f<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==bi(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return mv(l.getBoundingClientRect(),!1)}if(a==null&&i<bi(n)){let l=n.childNodes[i];if(l.nodeType==1)return mv(l.getBoundingClientRect(),!0)}return mv(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==bi(n))){let l=n.childNodes[i-1],u=l.nodeType==3?Pa(l,bi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return ou(lo(u,1),!1)}if(a==null&&i<bi(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Pa(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return ou(lo(u,-1),!0)}return ou(lo(n.nodeType==3?Pa(n):n,-r),r>=0)}function ou(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function mv(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function tS(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function epe(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return tS(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=eS(t,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Pa(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let f=l[u];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const tpe=/[\u0590-\u08ac]/;function rpe(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,o=i==n.parent.content.size,s=t.domSelection();return s?!tpe.test(n.parent.textContent)||!s.modify?r=="left"||r=="backward"?a:o:tS(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),w=s.caretBidiLevel;s.modify("move",r,"character");let C=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:x,focusOffset:M}=t.domSelectionRange(),D=x&&!C.contains(x.nodeType==1?x:x.parentNode)||l==x&&u==M;try{s.collapse(f,h),l&&(l!=f||u!=h)&&s.extend&&s.extend(l,u)}catch{}return w!=null&&(s.caretBidiLevel=w),D}):n.pos==n.start()||n.pos==n.end()}let Nw=null,Dw=null,Rw=!1;function npe(t,e,r){return Nw==e&&Dw==r?Rw:(Nw=e,Dw=r,Rw=r=="up"||r=="down"?epe(t,e,r):rpe(t,e,r))}const Ci=0,Lw=1,ds=2,ha=3;class lc{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Ci,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,o;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!r||a.node))if(n&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let s=i.children[o];if(s.size){i=s;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let o=this.children[n],s=a+o.size;if(s>e||o instanceof nS){i=e-a;break}a=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof rS&&a.side>=0;n--);if(r<=0){let a,o=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,o=!1);return a&&r&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?ln(a.dom)+1:0}}else{let a,o=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?ln(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=n,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&e<=u){let f=o+l.border;if(e>=f&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=o;for(let h=s;h>0;h--){let w=this.children[h-1];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(1)){i=ln(w.dom)+1;break}e-=w.size}i==-1&&(i=0)}if(i>-1&&(u>r||s==this.children.length-1)){r=u;for(let f=s+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){a=ln(h.dom);break}r+=h.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),o=Math.max(e,r);for(let C=0,x=0;C<this.children.length;C++){let M=this.children[C],D=x+M.size;if(a>x&&o<D)return M.setSelection(e-x-M.border,r-x-M.border,n,i);x=D}let s=this.domFromPos(e,e?-1:1),l=r==e?s:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),f=n.domSelectionRange(),h=!1;if((ki||dn)&&e==r){let{node:C,offset:x}=s;if(C.nodeType==3){if(h=!!(x&&C.nodeValue[x-1]==`
`),h&&x==C.nodeValue.length)for(let M=C,D;M;M=M.parentNode){if(D=M.nextSibling){D.nodeName=="BR"&&(s=l={node:D.parentNode,offset:ln(D)+1});break}let B=M.pmViewDesc;if(B&&B.node&&B.node.isBlock)break}}else{let M=C.childNodes[x-1];h=M&&(M.nodeName=="BR"||M.contentEditable=="false")}}if(ki&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let C=f.focusNode.childNodes[f.focusOffset];C&&C.contentEditable=="false"&&(i=!0)}if(!(i||h&&dn)&&Es(s.node,s.offset,f.anchorNode,f.anchorOffset)&&Es(l.node,l.offset,f.focusNode,f.focusOffset))return;let w=!1;if((u.extend||e==r)&&!(h&&ki)){u.collapse(s.node,s.offset);try{e!=r&&u.extend(l.node,l.offset),w=!0}catch{}}if(!w){if(e>r){let x=s;s=l,l=x}let C=document.createRange();C.setEnd(l.node,l.offset),C.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(C)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],o=n+a.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let s=n+a.border,l=o-a.border;if(e>=s&&r<=l){this.dirty=e==n||r==o?ds:Lw,e==s&&r==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=ha:a.markDirty(e-s,r-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?ds:ha}n=o}this.dirty=ds}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ds:Lw;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class rS extends lc{constructor(e,r,n,i){let a,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Ci&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ipe extends lc{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ms extends lc{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],o=a&&a(r,i,n);return(!o||!o.dom)&&(o=zl.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Ms(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ha||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ha&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Ci){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ci}}slice(e,r,n){let i=Ms.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;r<o&&(a=Tm(a,r,o,n)),e>0&&(a=Tm(a,0,e,n));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class To extends lc{constructor(e,r,n,i,a,o,s,l,u){super(e,[],a,o),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=s}static create(e,r,n,i,a,o){let s=a.nodeViews[r.type.name],l,u=s&&s(r,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),f=u&&u.dom,h=u&&u.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=zl.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let w=f;return f=oS(f,n,r),u?l=new ape(e,r,n,i,f,h||null,w,u,a,o+1):r.isText?new Zd(e,r,n,i,f,w,a):new To(e,r,n,i,f,h||null,w,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ue.empty)}return e}matchesNode(e,r,n){return this.dirty==Ci&&e.eq(this.node)&&Yf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new spe(this,o&&o.node,e);cpe(this.node,this.innerDeco,(u,f,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e,f):u.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?lr.none:this.node.child(f).marks,n,e,f),l.placeWidget(u,e,i)},(u,f,h,w)=>{l.syncToMarks(u.marks,n,e,w);let C;l.findNodeMatch(u,f,h,w)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(C=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,f,h,C,e)||l.updateNextNode(u,f,h,e,w,i)||l.addNode(u,f,h,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ds)&&(o&&this.protectLocalComposition(e,o),iS(this.contentDOM,this.children,e),Ml&&fpe(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Xt)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,s=dpe(this.node.content,o,n-r,i-r);return s<0?null:{node:a,pos:s,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new ipe(this,a,r,i);e.input.compositionNodes.push(o),this.children=Tm(this.children,n,n+i.length,e,o)}update(e,r,n,i){return this.dirty==ha||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ci}updateOuterDeco(e){if(Yf(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=aS(this.dom,this.nodeDOM,xm(this.outerDeco,this.node,r),xm(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Iw(t,e,r,n,i){oS(n,e,t);let a=new To(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class Zd extends To{constructor(e,r,n,i,a,o,s){super(e,r,n,i,a,null,o,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==ha||this.dirty!=Ci&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Ci||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ci,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new Zd(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ha)}get domAtom(){return!1}isText(e){return this.node.text==e}}class nS extends lc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ci&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ape extends To{constructor(e,r,n,i,a,o,s,l,u,f){super(e,r,n,i,a,o,s,u,f),this.spec=l}update(e,r,n,i){if(this.dirty==ha)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iS(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let o=e[a],s=o.dom;if(s.parentNode==t){for(;s!=n;)n=Pw(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(s,n);if(o instanceof Ms){let l=n?n.previousSibling:t.lastChild;iS(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=Pw(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const Du=function(t){t&&(this.nodeName=t)};Du.prototype=Object.create(null);const hs=[new Du];function xm(t,e,r){if(t.length==0)return hs;let n=r?hs[0]:new Du,i=[n];for(let a=0;a<t.length;a++){let o=t[a].type.attrs;if(o){o.nodeName&&i.push(n=new Du(o.nodeName));for(let s in o){let l=o[s];l!=null&&(r&&i.length==1&&i.push(n=new Du(e.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return i}function aS(t,e,r,n){if(r==hs&&n==hs)return e;let i=e;for(let a=0;a<n.length;a++){let o=n[a],s=r[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=hs[0]),i=l}ope(i,s||hs[0],o)}return i}function ope(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function oS(t,e,r){return aS(t,t,hs,xm(e,r,t.nodeType!=1))}function Yf(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function Pw(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class spe{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lpe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,i){let a=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;a<s&&(a==o-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<o;)this.destroyRest(),this.top.dirty=Ci,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1,u=this.top.children.length;i<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let f=this.index;f<u;f++){let h=this.top.children[f];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){l=f;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let f=Ms.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let o=this.top.children[i];return o.dirty==ha&&o.dom==o.contentDOM&&(o.dirty=ds),o.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof To){let u=this.preMatch.matched.get(l);if(u!=null&&u!=a)return!1;let f=l.dom,h,w=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ha&&Yf(r,l.outerDeco));if(!w&&l.update(e,r,n,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!w&&(h=this.recreateWrapper(l,e,r,n,i,o)))return this.destroyBetween(this.index,s),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=ds,h.updateChildren(i,o+1),h.dirty=Ci),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Yf(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=To.create(this.top,r,n,i,a,o);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,r,n,i,a){let o=To.create(this.top,e,r,n,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new rS(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Ms;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Zd)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((dn||Qr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new nS(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lpe(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(n){let u=r.children[n-1];if(u instanceof Ms)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function upe(t,e){return t.type.side-e.type.side}function cpe(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);n(f,i,e.forChild(a,f),u),a+=f.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){let f,h;for(;o<i.length&&i[o].to==a;){let D=i[o++];D.widget&&(f?(h||(h=[f])).push(D):f=D)}if(f)if(h){h.sort(upe);for(let D=0;D<h.length;D++)r(h[D],u,!!l)}else r(f,u,!!l);let w,C;if(l)C=-1,w=l,l=null;else if(u<t.childCount)C=u,w=t.child(u++);else break;for(let D=0;D<s.length;D++)s[D].to<=a&&s.splice(D--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let x=a+w.nodeSize;if(w.isText){let D=x;o<i.length&&i[o].from<D&&(D=i[o].from);for(let B=0;B<s.length;B++)s[B].to<D&&(D=s[B].to);D<x&&(l=w.cut(D-a),w=w.cut(0,D-a),x=D,C=-1)}else for(;o<i.length&&i[o].to<x;)o++;let M=w.isInline&&!w.isLeaf?s.filter(D=>!D.inline):s.slice();n(w,M,e.forChild(a,w),C),a=x}}function fpe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function dpe(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let o=t.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=r){if(a>=n&&l.slice(n-e.length-s,n-s)==e)return n-e.length;let u=s<n?l.lastIndexOf(e,n-s-1):-1;if(u>=0&&u+e.length+s>=r)return s+u;if(r==n&&l.length>=n+e.length-s&&l.slice(n-s,n-s+e.length)==e)return n}}return-1}function Tm(t,e,r,n,i){let a=[];for(let o=0,s=0;o<t.length;o++){let l=t[o],u=s,f=s+=l.size;u>=r||f<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),f>r&&a.push(l.slice(r-u,l.size,n)))}return a}function Ng(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let s=n.resolve(o),l,u;if(Yd(r)){for(l=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&It.isSelectable(h)&&i.parent&&!(h.isInline&&qhe(r.focusNode,r.focusOffset,i.dom))){let w=i.posBefore;u=new It(o==w?s:n.resolve(w))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=o,w=o;for(let C=0;C<r.rangeCount;C++){let x=r.getRangeAt(C);h=Math.min(h,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),w=Math.max(w,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(h<0)return null;[l,o]=w==t.state.selection.anchor?[w,h]:[h,w],s=n.resolve(o)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!u){let h=e=="pointer"||t.state.selection.head<s.pos&&!a?1:-1;u=Dg(t,f,s,h)}return u}function sS(t){return t.editable?t.hasFocus():uS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function za(t,e=!1){let r=t.state.selection;if(lS(t,r),!!sS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Qr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Es(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ppe(t);else{let{anchor:n,head:i}=r,a,o;_w&&!(r instanceof Xt)&&(r.$from.parent.inlineContent||(a=Bw(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=Bw(t,r.to))),t.docView.setSelection(n,i,t,e),_w&&(a&&Fw(a),o&&Fw(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&hpe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _w=dn||Qr&&KT<63;function Bw(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(dn&&i&&i.contentEditable=="false")return gv(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return gv(i);if(a)return gv(a)}}function gv(t){return t.contentEditable="true",dn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Fw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function hpe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!sS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ppe(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,ln(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Gn&&xo<=11&&(r.disabled=!0,r.disabled=!1)}function lS(t,e){if(e instanceof It){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(qw(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else qw(t)}function qw(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Dg(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||Xt.between(e,r,n)}function Hw(t){return t.editable&&!t.hasFocus()?!1:uS(t)}function uS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vpe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Es(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Sm(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&Gt.findFrom(a,e)}function po(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Vw(t,e,r){let n=t.state.selection;if(n instanceof Xt)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return po(t,new Xt(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Sm(t.state,e);return i&&i instanceof It?po(t,i):!1}else if(!(yi&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=t.docView.descAt(s))&&!o.contentDOM?It.isSelectable(a)?po(t,new It(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):sc?po(t,new Xt(t.state.doc.resolve(e<0?s:s+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof It&&n.node.isInline)return po(t,new Xt(e>0?n.$to:n.$from));{let i=Sm(t.state,e);return i?po(t,i):!1}}}function Zf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ru(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function tl(t,e){return e<0?mpe(t):gpe(t)}function mpe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,o=!1;for(ki&&r.nodeType==1&&n<Zf(r)&&Ru(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let s=r.childNodes[n-1];if(Ru(s,-1))i=r,a=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}}else{if(cS(r))break;{let s=r.previousSibling;for(;s&&Ru(s,-1);)i=r.parentNode,a=ln(s),s=s.previousSibling;if(s)r=s,n=Zf(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?Em(t,r,n):i&&Em(t,i,a)}function gpe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Zf(r),a,o;for(;;)if(n<i){if(r.nodeType!=1)break;let s=r.childNodes[n];if(Ru(s,1))a=r,o=++n;else break}else{if(cS(r))break;{let s=r.nextSibling;for(;s&&Ru(s,1);)a=s.parentNode,o=ln(s)+1,s=s.nextSibling;if(s)r=s,n=0,i=Zf(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&Em(t,a,o)}function cS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ype(t,e){for(;t&&e==t.childNodes.length&&!oc(t);)e=ln(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function bpe(t,e){for(;t&&!e&&!oc(t);)e=ln(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Em(t,e,r){if(e.nodeType!=3){let a,o;(o=ype(e,r))?(e=o,r=0):(a=bpe(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Yd(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&za(t)},50)}function zw(t,e){let r=t.state.doc.resolve(e);if(!(Qr||JT)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function $w(t,e,r){let n=t.state.selection;if(n instanceof Xt&&!n.empty||r.indexOf("s")>-1||yi&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Sm(t.state,e);if(o&&o instanceof It)return po(t,o)}if(!i.parent.inlineContent){let o=e<0?i:a,s=n instanceof Nn?Gt.near(o,e):Gt.findFrom(o,e);return s?po(t,s):!1}return!1}function Uw(t,e){if(!(t.state.selection instanceof Xt))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let o=t.state.tr;return e<0?o.delete(r.pos-a.nodeSize,r.pos):o.delete(r.pos,r.pos+a.nodeSize),t.dispatch(o),!0}return!1}function jw(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function wpe(t){if(!dn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;jw(t,n,"true"),setTimeout(()=>jw(t,n,"false"),20)}return!1}function kpe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Cpe(t,e){let r=e.keyCode,n=kpe(e);if(r==8||yi&&r==72&&n=="c")return Uw(t,-1)||tl(t,-1);if(r==46&&!e.shiftKey||yi&&r==68&&n=="c")return Uw(t,1)||tl(t,1);if(r==13||r==27)return!0;if(r==37||yi&&r==66&&n=="c"){let i=r==37?zw(t,t.state.selection.from)=="ltr"?-1:1:-1;return Vw(t,i,n)||tl(t,i)}else if(r==39||yi&&r==70&&n=="c"){let i=r==39?zw(t,t.state.selection.from)=="ltr"?1:-1:1;return Vw(t,i,n)||tl(t,i)}else{if(r==38||yi&&r==80&&n=="c")return $w(t,-1,n)||tl(t,-1);if(r==40||yi&&r==78&&n=="c")return wpe(t)||$w(t,1,n)||tl(t,1);if(n==(yi?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Rg(t,e){t.someProp("transformCopied",C=>{e=C(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let C=n.firstChild;r.push(C.type.name,C.attrs!=C.type.defaultAttrs?C.attrs:null),n=C.content}let o=t.someProp("clipboardSerializer")||zl.fromSchema(t.state.schema),s=mS(),l=s.createElement("div");l.appendChild(o.serializeFragment(n,{document:s}));let u=l.firstChild,f,h=0;for(;u&&u.nodeType==1&&(f=vS[u.nodeName.toLowerCase()]);){for(let C=f.length-1;C>=0;C--){let x=s.createElement(f[C]);for(;l.firstChild;)x.appendChild(l.firstChild);l.appendChild(x),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${h?` -${h}`:""} ${JSON.stringify(r)}`);let w=t.someProp("clipboardTextSerializer",C=>C(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:w,slice:e}}function fS(t,e,r,n,i){let a=i.parent.type.spec.code,o,s;if(!r&&!e)return null;let l=!!e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",w=>{e=w(e,a||n,t)}),a)return s=new ot(Ue.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",w=>{s=w(s,t,!0)}),s;let h=t.someProp("clipboardTextParser",w=>w(e,i,n,t));if(h)s=h;else{let w=i.marks(),{schema:C}=t.state,x=zl.fromSchema(C);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(M=>{let D=o.appendChild(document.createElement("p"));M&&D.appendChild(x.serializeNode(C.text(M,w)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),o=Epe(r),sc&&Mpe(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let w=o.firstChild;for(;w&&w.nodeType!=1;)w=w.nextSibling;if(!w)break;o=w}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Ts.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(w){return w.nodeName=="BR"&&!w.nextSibling&&w.parentNode&&!xpe.test(w.parentNode.nodeName)?{ignore:!0}:null}})),f)s=Ope(Ww(s,+f[1],+f[2]),f[4]);else if(s=ot.maxOpen(Tpe(s.content,i),!0),s.openStart||s.openEnd){let h=0,w=0;for(let C=s.content.firstChild;h<s.openStart&&!C.type.spec.isolating;h++,C=C.firstChild);for(let C=s.content.lastChild;w<s.openEnd&&!C.type.spec.isolating;w++,C=C.lastChild);s=Ww(s,h,w)}return t.someProp("transformPasted",h=>{s=h(s,t,l)}),s}const xpe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Tpe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,o=[];if(t.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&hS(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=pS(o[o.length-1],a.length));let f=dS(s,l);o.push(f),i=i.matchType(f.type),a=l}}),o)return Ue.from(o)}return t}function dS(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Ue.from(t));return t}function hS(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=hS(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(Ue.from(dS(r,t,i+1))))}}function pS(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,pS(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Ue.empty,!0);return t.copy(r.append(n))}function Mm(t,e,r,n,i,a){let o=e<0?t.firstChild:t.lastChild,s=o.content;return t.childCount>1&&(a=0),i<n-1&&(s=Mm(s,e,r,n,i+1,a)),i>=r&&(s=e<0?o.contentMatchAt(0).fillBefore(s,a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(Ue.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(s))}function Ww(t,e,r){return e<t.openStart&&(t=new ot(Mm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new ot(Mm(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const vS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Gw=null;function mS(){return Gw||(Gw=document.implementation.createHTMLDocument("title"))}let yv=null;function Spe(t){let e=window.trustedTypes;return e?(yv||(yv=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),yv.createHTML(t)):t}function Epe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=mS().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&vS[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=Spe(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}function Mpe(t){let e=t.querySelectorAll(Qr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function Ope(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:o}=t;for(let s=n.length-2;s>=0;s-=2){let l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=Ue.from(l.create(n[s+1],i)),a++,o++}return new ot(i,a,o)}const Dn={},Rn={},Ape={touchstart:!0,touchmove:!0};class Npe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Dpe(t){for(let e in Dn){let r=Dn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Lpe(t,n)&&!Lg(t,n)&&(t.editable||!(n.type in Rn))&&r(t,n)},Ape[e]?{passive:!0}:void 0)}dn&&t.dom.addEventListener("input",()=>null),Om(t)}function wo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Rpe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Om(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Lg(t,n))})}function Lg(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function Lpe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Ipe(t,e){!Lg(t,e)&&Dn[e.type]&&(t.editable||!(e.type in Rn))&&Dn[e.type](t,e)}Rn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!yS(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ha&&Qr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Ml&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ls(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Cpe(t,r)?r.preventDefault():wo(t,"key")};Rn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Rn.keypress=(t,e)=>{let r=e;if(yS(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||yi&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Xt)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),a=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i,a))&&t.dispatch(a()),r.preventDefault()}};function eh(t){return{left:t.clientX,top:t.clientY}}function Ppe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Ig(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let o=a.depth+1;o>0;o--)if(t.someProp(e,s=>o>a.depth?s(t,r,a.nodeAfter,a.before(o),i,!0):s(t,r,a.node(o),a.before(o),i,!1)))return!0;return!1}function bl(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function _pe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&It.isSelectable(n)?(bl(t,new It(r)),!0):!1}function Bpe(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof It&&(n=r.node);let a=t.state.doc.resolve(e);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(It.isSelectable(s)){n&&r.$from.depth>0&&o>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(o);break}}return i!=null?(bl(t,It.create(t.state.doc,i)),!0):!1}function Fpe(t,e,r,n,i){return Ig(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?Bpe(t,r):_pe(t,r))}function qpe(t,e,r,n){return Ig(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function Hpe(t,e,r,n){return Ig(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||Vpe(t,r,n)}function Vpe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(bl(t,Xt.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)bl(t,Xt.create(n,s+1,s+1+o.content.size));else if(It.isSelectable(o))bl(t,It.create(n,s));else continue;return!0}}function Pg(t){return ed(t)}const gS=yi?"metaKey":"ctrlKey";Dn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Pg(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&Ppe(r,t.input.lastClick)&&!r[gS]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a,button:r.button};let o=t.posAtCoords(eh(r));o&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new zpe(t,o,r,!!n)):(a=="doubleClick"?qpe:Hpe)(t,o.pos,o.inside,r)?r.preventDefault():wo(t,"pointer"))};class zpe{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[gS],this.allowDefault=n.shiftKey;let a,o;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);a=f.parent,o=f.depth?f.before():0}const s=i?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof It&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ki&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>za(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(eh(e))),this.updateAllowDefault(e),this.allowDefault||!r?wo(this.view,"pointer"):Fpe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||dn&&this.mightDrag&&!this.mightDrag.node.isAtom||Qr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(bl(this.view,Gt.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):wo(this.view,"pointer")}move(e){this.updateAllowDefault(e),wo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Dn.touchstart=t=>{t.input.lastTouch=Date.now(),Pg(t),wo(t,"pointer")};Dn.touchmove=t=>{t.input.lastTouch=Date.now(),wo(t,"pointer")};Dn.contextmenu=t=>Pg(t);function yS(t,e){return t.composing?!0:dn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const $pe=Ha?5e3:-1;Rn.compositionstart=Rn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Xt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||Qr&&JT&&Upe(t)))t.markCursor=t.state.storedMarks||r.marks(),ed(t,!0),t.markCursor=null;else if(ed(t,!e.selection.empty),ki&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){let s=t.domSelection();s&&s.collapse(o,o.nodeValue.length);break}else i=o,a=-1}}t.input.composing=!0}bS(t,$pe)};function Upe(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}Rn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,bS(t,20))};function bS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ed(t),e))}function wS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Wpe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function jpe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=Bhe(e.focusNode,e.focusOffset),n=Fhe(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function Wpe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ed(t,e=!1){if(!(Ha&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wS(t),e||t.docView&&t.docView.dirty){let r=Ng(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Gpe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const ju=Gn&&xo<15||Ml&&zhe<604;Dn.copy=Rn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=ju?null:r.clipboardData,o=n.content(),{dom:s,text:l}=Rg(t,o);a?(r.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):Gpe(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Kpe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Jpe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Wu(t,n.value,null,i,e):Wu(t,n.textContent,n.innerHTML,i,e)},50)}function Wu(t,e,r,n,i){let a=fS(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,a||ot.empty)))return!0;if(!a)return!1;let o=Kpe(a),s=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(a);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function kS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Rn.paste=(t,e)=>{let r=e;if(t.composing&&!Ha)return;let n=ju?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Wu(t,kS(n),n.getData("text/html"),i,r)?r.preventDefault():Jpe(t,r)};class CS{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Xpe=yi?"altKey":"ctrlKey";function xS(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Xpe]}Dn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(eh(r)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof It?i.to-1:i.to))){if(n&&n.mightDrag)o=It.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=It.create(t.state.doc,h.posBefore))}}let s=(o||t.state.selection).content(),{dom:l,text:u,slice:f}=Rg(t,s);(!r.dataTransfer.files.length||!Qr||KT>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(ju?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",ju||r.dataTransfer.setData("text/plain",u),t.dragging=new CS(f,xS(t,r),o)};Dn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Rn.dragover=Rn.dragenter=(t,e)=>e.preventDefault();Rn.drop=(t,e)=>{try{Qpe(t,e,t.dragging)}finally{t.dragging=null}};function Qpe(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(eh(e));if(!n)return;let i=t.state.doc.resolve(n.pos),a=r&&r.slice;a?t.someProp("transformPasted",C=>{a=C(a,t,!1)}):a=fS(t,kS(e.dataTransfer),ju?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(r&&xS(t,e));if(t.someProp("handleDrop",C=>C(t,e,a||ot.empty,o))){e.preventDefault();return}if(!a)return;e.preventDefault();let s=a?The(t.state.doc,i.pos,a):i.pos;s==null&&(s=i.pos);let l=t.state.tr;if(o){let{node:C}=r;C?C.replace(l):l.deleteSelection()}let u=l.mapping.map(s),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,h=l.doc;if(f?l.replaceRangeWith(u,u,a.content.firstChild):l.replaceRange(u,u,a),l.doc.eq(h))return;let w=l.doc.resolve(u);if(f&&It.isSelectable(a.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new It(w));else{let C=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((x,M,D,B)=>C=B),l.setSelection(Dg(t,w,l.doc.resolve(C)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}Dn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&za(t)},20))};Dn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Dn.beforeinput=(t,e)=>{if(Qr&&Ha&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,ls(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Rn)Dn[t]=Rn[t];function Gu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class td{constructor(e,r){this.toDOM=e,this.spec=r||bs,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new Un(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof td&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class So{constructor(e,r){this.attrs=e,this.spec=r||bs}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new Un(a,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof So&&Gu(this.attrs,e.attrs)&&Gu(this.spec,e.spec)}static is(e){return e.type instanceof So}destroy(){}}class _g{constructor(e,r){this.attrs=e,this.spec=r||bs}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=a.pos?null:new Un(a.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof _g&&Gu(this.attrs,e.attrs)&&Gu(this.spec,e.spec)}destroy(){}}class Un{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Un(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Un(e,e,new td(r,n))}static inline(e,r,n,i){return new Un(e,r,new So(n,i))}static node(e,r,n,i){return new Un(e,r,new _g(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof So}get widget(){return this.type instanceof td}}const ll=[],bs={};class _r{constructor(e,r){this.local=e.length?e:ll,this.children=r.length?r:ll}static create(e,r){return r.length?rd(r,e,0,bs):vn}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=r&&s.to>=e&&(!a||a(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,r-s,n,i+s,a)}}map(e,r,n){return this==vn||e.maps.length==0?this:this.mapInner(e,r,0,0,n||bs)}mapInner(e,r,n,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,i);l&&l.type.valid(r,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?Ype(this.children,o||[],e,r,n,i,a):o?new _r(o.sort(ws),ll):vn}add(e,r){return r.length?this==vn?_r.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((s,l)=>{let u=l+n,f;if(f=SS(r,s,u)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,f,u+1):i.splice(a,0,l,l+s.nodeSize,rd(f,s,u+1,bs)),a+=3}});let o=TS(a?ES(r):r,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new _r(o.length?this.local.concat(o).sort(ws):this.local,i||this.children)}remove(e){return e.length==0||this==vn?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let o,s=n[a]+r,l=n[a+1]+r;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>s&&h.to<l&&(e[f]=null,(o||(o=[])).push(h));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(o,s+1);u!=vn?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<e.length;a++)if(o=e[a])for(let s=0;s<i.length;s++)i[s].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new _r(i,n):vn}forChild(e,r){if(this==vn)return this;if(r.isLeaf)return _r.empty;let n,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let a=e+1,o=a+r.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof So){let u=Math.max(a,l.from)-a,f=Math.min(o,l.to)-a;u<f&&(i||(i=[])).push(l.copy(u,f))}}if(i){let s=new _r(i.sort(ws),ll);return n?new mo([s,n]):s}return n||vn}eq(e){if(this==e)return!0;if(!(e instanceof _r)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Bg(this.localsInner(e))}localsInner(e){if(this==vn)return ll;if(e.inlineContent||!this.local.some(So.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof So||r.push(this.local[n]);return r}forEachSet(e){e(this)}}_r.empty=new _r([],[]);_r.removeOverlap=Bg;const vn=_r.empty;class mo{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,bs));return mo.from(n)}forChild(e,r){if(r.isLeaf)return _r.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=vn&&(a instanceof mo?n=n.concat(a.members):n.push(a))}return mo.from(n)}eq(e){if(!(e instanceof mo)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let o=0;o<a.length;o++)r.push(a[o])}}return r?Bg(n?r:r.sort(ws)):ll}static from(e){switch(e.length){case 0:return vn;case 1:return e[0];default:return new mo(e.every(r=>r instanceof _r)?e:e.reduce((r,n)=>r.concat(n instanceof _r?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function Ype(t,e,r,n,i,a,o){let s=t.slice();for(let u=0,f=a;u<r.maps.length;u++){let h=0;r.maps[u].forEach((w,C,x,M)=>{let D=M-x-(C-w);for(let B=0;B<s.length;B+=3){let j=s[B+1];if(j<0||w>j+f-h)continue;let Q=s[B]+f-h;C>=Q?s[B+1]=w<=Q?-2:-1:w>=f&&D&&(s[B]+=D,s[B+1]+=D)}h+=D}),f=r.maps[u].map(f,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let f=r.map(t[u]+a),h=f-i;if(h<0||h>=n.content.size){l=!0;continue}let w=r.map(t[u+1]+a,-1),C=w-i,{index:x,offset:M}=n.content.findIndex(h),D=n.maybeChild(x);if(D&&M==h&&M+D.nodeSize==C){let B=s[u+2].mapInner(r,D,f+1,t[u]+a+1,o);B!=vn?(s[u]=h,s[u+1]=C,s[u+2]=B):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=Zpe(s,t,e,r,i,a,o),f=rd(u,n,0,o);e=f.local;for(let h=0;h<s.length;h+=3)s[h+1]<0&&(s.splice(h,3),h-=3);for(let h=0,w=0;h<f.children.length;h+=3){let C=f.children[h];for(;w<s.length&&s[w]<C;)w+=3;s.splice(w,0,f.children[h],f.children[h+1],f.children[h+2])}}return new _r(e.sort(ws),s)}function TS(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new Un(i.from+e,i.to+e,i.type))}return r}function Zpe(t,e,r,n,i,a,o){function s(l,u){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(n,i,u);h?r.push(h):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)s(l.children[f+2],l.children[f]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+a+1);return r}function SS(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,o;a<t.length;a++)(o=t[a])&&o.from>r&&o.to<n&&((i||(i=[])).push(o),t[a]=null);return i}function ES(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function rd(t,e,r,n){let i=[],a=!1;e.forEach((s,l)=>{let u=SS(t,s,l+r);if(u){a=!0;let f=rd(u,s,r+l+1,n);f!=vn&&i.push(l,l+s.nodeSize,f)}});let o=TS(a?ES(t):t,-r).sort(ws);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||(n.onRemove&&n.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new _r(o,i):vn}function ws(t,e){return t.from-e.from||t.to-e.to}function Bg(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),Kw(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),Kw(e,i,n.copy(a.from,n.to)));break}}}return e}function Kw(t,e,r){for(;e<t.length&&ws(r,t[e])>0;)e++;t.splice(e,0,r)}function bv(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=vn&&e.push(n)}),t.cursorWrapper&&e.push(_r.create(t.state.doc,[t.cursorWrapper.deco])),mo.from(e)}const eve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},tve=Gn&&xo<=11;class rve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class nve{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new rve,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Gn&&xo<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():dn&&e.composing&&n.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),tve&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,eve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Hw(this.view)){if(this.suppressingSelectionUpdates)return za(this.view);if(Gn&&xo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Es(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=El(a))r.add(a);for(let a=e.anchorNode;a;a=El(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Hw(e)&&!this.ignoreSelectionChange(n),a=-1,o=-1,s=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let h=this.registerMutation(r[f],l);h&&(a=a<0?h.from:Math.min(h.from,a),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(s=!0))}if(ki&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,w]=f;h.parentNode&&h.parentNode.parentNode==w.parentNode?w.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let w of f){let C=w.parentNode;C&&C.nodeName=="LI"&&(!h||ove(e,h)!=C)&&w.remove()}}}else if((Qr||dn)&&l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let h=f.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&f.parentNode.removeChild(f)}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Yd(n)&&(u=Ng(e))&&u.eq(Gt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,za(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,o),ive(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,sve(e,l)),this.handleDOMChange(a,o,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||za(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Gn&&xo<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:w}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(a=w)}let o=i&&i.parentNode==e.target?ln(i)+1:0,s=n.localPosFromDOM(e.target,o,-1),l=a&&a.parentNode==e.target?ln(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Jw=new WeakMap,Xw=!1;function ive(t){if(!Jw.has(t)&&(Jw.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ki,Xw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xw=!0}}function Qw(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Es(o.node,o.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function ave(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Qw(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Qw(t,r):null}function ove(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function sve(t,e){var r;let{focusNode:n,focusOffset:i}=t.domSelectionRange();for(let a of e)if(((r=a.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let o=a.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let s=o;for(;;){let l=s.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;s=l}s.insertBefore(a,s.firstChild),n==a&&t.domSelection().collapse(a,i)}else a.parentNode.removeChild(a)}}function lve(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:o,to:s}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:l.anchorOffset}],Yd(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Qr&&t.input.lastKeyCode===8)for(let D=a;D>i;D--){let B=n.childNodes[D-1],j=B.pmViewDesc;if(B.nodeName=="BR"&&!j){a=D;break}if(!j||j.size)break}let h=t.state.doc,w=t.someProp("domParser")||Ts.fromSchema(t.state.schema),C=h.resolve(o),x=null,M=w.parse(n,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:i,to:a,preserveWhitespace:C.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:uve,context:C});if(u&&u[0].pos!=null){let D=u[0].pos,B=u[1]&&u[1].pos;B==null&&(B=D),x={anchor:D+o,head:B+o}}return{doc:M,sel:x,from:o,to:s}}function uve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(dn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||dn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const cve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fve(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let oe=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ge=Ng(t,oe);if(ge&&!t.state.selection.eq(ge)){if(Qr&&Ha&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",qe=>qe(t,ls(13,"Enter"))))return;let Se=t.state.tr.setSelection(ge);oe=="pointer"?Se.setMeta("pointer",!0):oe=="key"&&Se.scrollIntoView(),a&&Se.setMeta("composition",a),t.dispatch(Se)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(r);e=o.before(s+1),r=t.state.doc.resolve(r).after(s+1);let l=t.state.selection,u=lve(t,e,r),f=t.state.doc,h=f.slice(u.from,u.to),w,C;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(w=t.state.selection.to,C="end"):(w=t.state.selection.from,C="start"),t.input.lastKeyCode=null;let x=pve(h.content,u.doc.content,u.from,w,C);if(x&&t.input.domChangeCount++,(Ml&&t.input.lastIOSEnter>Date.now()-225||Ha)&&i.some(oe=>oe.nodeType==1&&!cve.test(oe.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",oe=>oe(t,ls(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(n&&l instanceof Xt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))x={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let oe=Yw(t,t.state.doc,u.sel);if(oe&&!oe.eq(t.state.selection)){let ge=t.state.tr.setSelection(oe);a&&ge.setMeta("composition",a),t.dispatch(ge)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof Xt&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Gn&&xo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>u.from&&u.doc.textBetween(x.start-u.from-1,x.start-u.from+1)==" "&&(x.start--,x.endA--,x.endB--);let M=u.doc.resolveNoCache(x.start-u.from),D=u.doc.resolveNoCache(x.endB-u.from),B=f.resolve(x.start),j=M.sameParent(D)&&M.parent.inlineContent&&B.end()>=x.endA;if((Ml&&t.input.lastIOSEnter>Date.now()-225&&(!j||i.some(oe=>oe.nodeName=="DIV"||oe.nodeName=="P"))||!j&&M.pos<u.doc.content.size&&(!M.sameParent(D)||!M.parent.inlineContent)&&M.pos<D.pos&&!/\S/.test(u.doc.textBetween(M.pos,D.pos,"","")))&&t.someProp("handleKeyDown",oe=>oe(t,ls(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&hve(f,x.start,x.endA,M,D)&&t.someProp("handleKeyDown",oe=>oe(t,ls(8,"Backspace")))){Ha&&Qr&&t.domObserver.suppressSelectionUpdates();return}Qr&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Ha&&!j&&M.start()!=D.start()&&D.parentOffset==0&&M.depth==D.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==x.endA&&(x.endB-=2,D=u.doc.resolveNoCache(x.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(oe){return oe(t,ls(13,"Enter"))})},20));let Q=x.start,Y=x.endA,te=oe=>{let ge=oe||t.state.tr.replace(Q,Y,u.doc.slice(x.start-u.from,x.endB-u.from));if(u.sel){let Se=Yw(t,ge.doc,u.sel);Se&&!(Qr&&t.composing&&Se.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(Se.head==Q||Se.head==ge.mapping.map(Y)-1)||Gn&&Se.empty&&Se.head==Q)&&ge.setSelection(Se)}return a&&ge.setMeta("composition",a),ge.scrollIntoView()},se;if(j)if(M.pos==D.pos){Gn&&xo<=11&&M.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>za(t),20));let oe=te(t.state.tr.delete(Q,Y)),ge=f.resolve(x.start).marksAcross(f.resolve(x.endA));ge&&oe.ensureMarks(ge),t.dispatch(oe)}else if(x.endA==x.endB&&(se=dve(M.parent.content.cut(M.parentOffset,D.parentOffset),B.parent.content.cut(B.parentOffset,x.endA-B.start())))){let oe=te(t.state.tr);se.type=="add"?oe.addMark(Q,Y,se.mark):oe.removeMark(Q,Y,se.mark),t.dispatch(oe)}else if(M.parent.child(M.index()).isText&&M.index()==D.index()-(D.textOffset?0:1)){let oe=M.parent.textBetween(M.parentOffset,D.parentOffset),ge=()=>te(t.state.tr.insertText(oe,Q,Y));t.someProp("handleTextInput",Se=>Se(t,Q,Y,oe,ge))||t.dispatch(ge())}else t.dispatch(te());else t.dispatch(te())}function Yw(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Dg(t,e.resolve(r.anchor),e.resolve(r.head))}function dve(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,o,s,l;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=f=>f.mark(s.addToSet(f.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=f=>f.mark(s.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(l(e.child(f)));if(Ue.from(u).eq(t))return{mark:s,type:o}}function hve(t,e,r,n,i){if(r-e<=i.pos-n.pos||wv(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let s=a.nodeAfter;return s!=null&&r==e+s.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=t.resolve(wv(a,!0,!0));return!o.parent.isTextblock||o.pos>r||wv(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function wv(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function pve(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:o,b:s}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));n-=o+l-a}if(o<a&&t.size<e.size){let l=n<=a&&n>=o?a-n:0;a-=l,a&&a<e.size&&Zw(e.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}else if(s<a){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<t.size&&Zw(t.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}return{start:a,endA:o,endB:s}}function Zw(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class th{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Npe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(ik),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rk(this),tk(this),this.nodeViews=nk(this),this.docView=Iw(this.state.doc,ek(this),bv(this),this.dom,this),this.domObserver=new nve(this,(n,i,a,o)=>fve(this,n,i,a,o)),this.domObserver.start(),Dpe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Om(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ik),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,o=!1;e.storedMarks&&this.composing&&(wS(this),o=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(s||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let C=nk(this);mve(C,this.nodeViews)&&(this.nodeViews=C,a=!0)}(s||r.handleDOMEvents!=this._props.handleDOMEvents)&&Om(this),this.editable=rk(this),tk(this);let l=bv(this),u=ek(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(i.selection))&&(o=!0);let w=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&jhe(this);if(o){this.domObserver.stop();let C=h&&(Gn||Qr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&vve(i.selection,e.selection);if(h){let x=Qr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=jpe(this)),(a||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Iw(e.doc,u,l,this.dom,this)),x&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vpe(this))?za(this,C):(lS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():w&&Whe(w)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof It){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&Ow(this,r.getBoundingClientRect(),e)}else Ow(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new CS(e.slice,e.move,i<0?void 0:It.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[e];if(s!=null&&(i=r?r(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[e];if(s!=null&&(i=r?r(s):s))return i}}hasFocus(){if(Gn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ghe(this.dom),za(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Yhe(this,e)}coordsAtPos(e,r=1){return eS(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return npe(this,r||this.state,e)}pasteHTML(e,r){return Wu(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Wu(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return Rg(this,e)}destroy(){this.docView&&(Rpe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],bv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Phe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Ipe(this,e)}domSelectionRange(){let e=this.domSelection();return e?dn&&this.root.nodeType===11&&Hhe(this.dom.ownerDocument)==this.dom&&ave(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}th.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function ek(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Un.node(0,t.state.doc.content.size,e)]}function tk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Un.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function vve(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function nk(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function mve(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function ik(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var No={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gve=typeof navigator<"u"&&/Mac/.test(navigator.platform),yve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var un=0;un<10;un++)No[48+un]=No[96+un]=String(un);for(var un=1;un<=24;un++)No[un+111]="F"+un;for(var un=65;un<=90;un++)No[un]=String.fromCharCode(un+32),nd[un]=String.fromCharCode(un);for(var kv in No)nd.hasOwnProperty(kv)||(nd[kv]=No[kv]);function bve(t){var e=gve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||yve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?nd:No)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const wve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),kve=typeof navigator<"u"&&/Win/.test(navigator.platform);function Cve(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,o;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))wve?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function xve(t){let e=Object.create(null);for(let r in t)e[Cve(r)]=t[r];return e}function Cv(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Ku(t){return new Jn({props:{handleKeyDown:Tve(t)}})}function Tve(t){let e=xve(t);return function(r,n){let i=bve(n),a,o=e[Cv(i,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let s=e[Cv(i,n,!1)];if(s&&s(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(kve&&n.ctrlKey&&n.altKey)&&(a=No[n.keyCode])&&a!=i){let s=e[Cv(a,n)];if(s&&s(r.state,r.dispatch,r))return!0}}return!1}}const Fg=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Sve(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const Eve=(t,e,r)=>{let n=Sve(t,r);if(!n)return!1;let i=MS(n);if(!i){let o=n.blockRange(),s=o&&Xd(o);return s==null?!1:(e&&e(t.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(RS(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Ol(a,"end")||It.isSelectable(a)))for(let o=n.depth;;o--){let s=Mg(t.doc,n.before(o),n.after(o),ot.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ol(a,"end")?Gt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):It.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ol(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const Mve=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=MS(n)}let o=a&&a.nodeBefore;return!o||!It.isSelectable(o)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function MS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Ove(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const OS=(t,e,r)=>{let n=Ove(t,r);if(!n)return!1;let i=AS(n);if(!i)return!1;let a=i.nodeAfter;if(RS(t,i,e,1))return!0;if(n.parent.content.size==0&&(Ol(a,"start")||It.isSelectable(a))){let o=Mg(t.doc,n.before(),n.after(),ot.empty);if(o&&o.slice.size<o.to-o.from){if(e){let s=t.tr.step(o);s.setSelection(Ol(a,"start")?Gt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):It.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},Ave=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=AS(n)}let o=a&&a.nodeAfter;return!o||!It.isSelectable(o)?!1:(e&&e(t.tr.setSelection(It.create(t.doc,a.pos)).scrollIntoView()),!0)};function AS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const NS=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function qg(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Hg=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),o=qg(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(e){let s=r.after(),l=t.tr.replaceWith(s,s,o.createAndFill());l.setSelection(Gt.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},Nve=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Nn||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=qg(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=t.tr.insert(o,a.createAndFill());s.setSelection(Xt.create(s.doc,o+1)),e(s.scrollIntoView())}return!0},Dve=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(gl(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Xd(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function Rve(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof It&&e.selection.node.isBlock)return!n.parentOffset||!gl(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],o,s,l=!1,u=!1;for(let C=n.depth;;C--)if(n.node(C).isBlock){l=n.end(C)==n.pos+(n.depth-C),u=n.start(C)==n.pos-(n.depth-C),s=qg(n.node(C-1).contentMatchAt(n.indexAfter(C-1))),a.unshift(l&&s?{type:s}:null),o=C;break}else{if(C==1)return!1;a.unshift(null)}let f=e.tr;(e.selection instanceof Xt||e.selection instanceof Nn)&&f.deleteSelection();let h=f.mapping.map(n.pos),w=gl(f.doc,h,a.length,a);if(w||(a[0]=s?{type:s}:null,w=gl(f.doc,h,a.length,a)),!w)return!1;if(f.split(h,a.length,a),!l&&u&&n.node(o).type!=s){let C=f.mapping.map(n.before(o)),x=f.doc.resolve(C);s&&n.node(o-1).canReplaceWith(x.index(),x.index()+1,s)&&f.setNodeMarkup(f.mapping.map(n.before(o)),s)}return r&&r(f.scrollIntoView()),!0}}const Lve=Rve(),DS=(t,e)=>(e&&e(t.tr.setSelection(new Nn(t.doc))),!0);function Ive(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||qT(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function RS(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,o,s,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&Ive(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(s=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&s.matchType(o[0]||a.type).validEnd){if(r){let C=e.pos+a.nodeSize,x=Ue.empty;for(let B=o.length-1;B>=0;B--)x=Ue.from(o[B].create(null,x));x=Ue.from(i.copy(x));let M=t.tr.step(new Yr(e.pos-1,C,e.pos,C,new ot(x,1,0),o.length,!0)),D=M.doc.resolve(C+2*o.length);D.nodeAfter&&D.nodeAfter.type==i.type&&qT(M.doc,D.pos)&&M.join(D.pos),r(M.scrollIntoView())}return!0}let f=a.type.spec.isolating||n>0&&l?null:Gt.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),w=h&&Xd(h);if(w!=null&&w>=e.depth)return r&&r(t.tr.lift(h,w).scrollIntoView()),!0;if(u&&Ol(a,"start",!0)&&Ol(i,"end")){let C=i,x=[];for(;x.push(C),!C.isTextblock;)C=C.lastChild;let M=a,D=1;for(;!M.isTextblock;M=M.firstChild)D++;if(C.canReplace(C.childCount,C.childCount,M.content)){if(r){let B=Ue.empty;for(let Q=x.length-1;Q>=0;Q--)B=Ue.from(x[Q].copy(B));let j=t.tr.step(new Yr(e.pos-x.length,e.pos+a.nodeSize,e.pos+D,e.pos+a.nodeSize-D,new ot(B,x.length,0),0,!0));r(j.scrollIntoView())}return!0}}return!1}function LS(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(Xt.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const Pve=LS(-1),_ve=LS(1);function Bve(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,o=i.blockRange(a),s=o&&dhe(o,t,e);return s?(n&&n(r.tr.wrap(o,s).scrollIntoView()),!0):!1}}function Vg(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=r.selection.ranges[a];r.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=r.doc.resolve(u),h=f.index();i=f.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=r.selection.ranges[o];a.setBlockType(s,l,t,e)}n(a.scrollIntoView())}return!0}}function Fve(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:a,$to:o}=e[i],s=a.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(a.pos,o.pos,(l,u)=>{if(s)return!1;s=l.inlineContent&&l.type.allowsMarkType(r)}),s)return!0}return!1}function uc(t,e=null,r){return function(n,i){let{empty:a,$cursor:o,ranges:s}=n.selection;if(a&&!o||!Fve(n.doc,s,t))return!1;if(i)if(o)t.isInSet(n.storedMarks||o.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{let l,u=n.tr;l=!s.some(f=>n.doc.rangeHasMark(f.$from.pos,f.$to.pos,t));for(let f=0;f<s.length;f++){let{$from:h,$to:w}=s[f];if(!l)u.removeMark(h.pos,w.pos,t);else{let C=h.pos,x=w.pos,M=h.nodeAfter,D=w.nodeBefore,B=M&&M.isText?/^\s*/.exec(M.text)[0].length:0,j=D&&D.isText?/\s*$/.exec(D.text)[0].length:0;C+B<x&&(C+=B,x-=j),u.addMark(C,x,t.create(e))}}i(u.scrollIntoView())}return!0}}function rh(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}let xv=rh(Fg,Eve,Mve),ak=rh(Fg,OS,Ave);const _a={Enter:rh(NS,Nve,Dve,Lve),"Mod-Enter":Hg,Backspace:xv,"Mod-Backspace":xv,"Shift-Backspace":xv,Delete:ak,"Mod-Delete":ak,"Mod-a":DS},IS={"Ctrl-h":_a.Backspace,"Alt-Backspace":_a["Mod-Backspace"],"Ctrl-d":_a.Delete,"Ctrl-Alt-Backspace":_a["Mod-Delete"],"Alt-Delete":_a["Mod-Delete"],"Alt-d":_a["Mod-Delete"],"Ctrl-a":Pve,"Ctrl-e":_ve};for(let t in _a)IS[t]=_a[t];const qve=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ok=qve?IS:_a;class Io{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?Hve(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}}function Hve(t){return function(e,r,n,i){let a=t;if(r[1]){let o=r[0].lastIndexOf(r[1]);a+=r[0].slice(o+r[1].length),n+=o;let s=n-i;s>0&&(a=r[0].slice(o-s,o)+a,n=i)}return e.tr.insertText(a,n,i)}}const Vve=500;function PS({rules:t}){let e=new Jn({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,a){return sk(r,n,i,a,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&sk(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function sk(t,e,r,n,i,a){if(t.composing)return!1;let o=t.state,s=o.doc.resolve(e),l=s.parent.textBetween(Math.max(0,s.parentOffset-Vve),s.parentOffset,null,"")+n;for(let u=0;u<i.length;u++){let f=i[u];if(!f.inCodeMark&&s.marks().some(x=>x.type.spec.code))continue;if(s.parent.type.spec.code){if(!f.inCode)continue}else if(f.inCode==="only")continue;let h=f.match.exec(l);if(!h||h[0].length<n.length)continue;let w=e-(h[0].length-n.length);if(!f.inCodeMark){let x=!1;if(o.doc.nodesBetween(w,s.pos,M=>{M.isInline&&M.marks.some(D=>D.type.spec.code)&&(x=!0)}),x)continue}let C=f.handler(o,h,w,r);if(C)return f.undoable&&C.setMeta(a,{transform:C,from:e,to:r,text:n}),t.dispatch(C),!0}return!1}const zve=(t,e)=>{let r=t.plugins;for(let n=0;n<r.length;n++){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let o=t.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l--)o.step(s.steps[l].invert(s.docs[l]));if(a.text){let l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else o.delete(a.from,a.to);e(o)}return!0}}return!1};new Io(/--$/,"",{inCodeMark:!1});new Io(/\.\.\.$/,"",{inCodeMark:!1});new Io(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new Io(/"$/,"",{inCodeMark:!1});new Io(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new Io(/'$/,"",{inCodeMark:!1});var id=200,Zr=function(){};Zr.prototype.append=function(e){return e.length?(e=Zr.from(e),!this.length&&e||e.length<id&&this.leafAppend(e)||this.length<id&&e.leafPrepend(this)||this.appendInner(e)):this};Zr.prototype.prepend=function(e){return e.length?Zr.from(e).append(this):this};Zr.prototype.appendInner=function(e){return new $ve(this,e)};Zr.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Zr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Zr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Zr.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Zr.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,o){return i.push(e(a,o))},r,n),i};Zr.from=function(e){return e instanceof Zr?e:e&&e.length?new _S(e):Zr.empty};var _S=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=id)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=id)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Zr);Zr.empty=new _S([]);var $ve=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(n,Math.min(i,s),a,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Zr);const Uve=500;class Li{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let o=e.tr,s,l,u=[],f=[];return this.items.forEach((h,w)=>{if(!h.step){i||(i=this.remapping(n,w+1),a=i.maps.length),a--,f.push(h);return}if(i){f.push(new ra(h.map));let C=h.step.map(i.slice(a)),x;C&&o.maybeStep(C).doc&&(x=o.mapping.maps[o.mapping.maps.length-1],u.push(new ra(x,void 0,void 0,u.length+f.length))),a--,x&&i.appendMap(x,a)}else o.maybeStep(h.step);if(h.selection)return s=i?h.selection.map(i.slice(a)):h.selection,l=new Li(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(e,r,n,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),w=new ra(e.mapping.maps[f],h,r),C;(C=l&&l.merge(w))&&(w=C,f?a.pop():s=s.slice(0,s.length-1)),a.push(w),r&&(o++,r=void 0),i||(l=w)}let u=o-n.depth;return u>Wve&&(s=jve(s,u),o-=u),new Li(s.append(a),o)}remapping(e,r){let n=new $u;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Li(this.items.append(e.map(r=>new ra(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(w=>{w.selection&&s--},i);let l=r;this.items.forEach(w=>{let C=a.getMirror(--l);if(C==null)return;o=Math.min(o,C);let x=a.maps[C];if(w.step){let M=e.steps[C].invert(e.docs[C]),D=w.selection&&w.selection.map(a.slice(l+1,C));D&&s++,n.push(new ra(x,M,D))}else n.push(new ra(x))},i);let u=[];for(let w=r;w<o;w++)u.push(new ra(a.maps[w]));let f=this.items.slice(0,i).append(u).append(n),h=new Li(f,s);return h.emptyItemCount()>Uve&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=e)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let f=o.selection&&o.selection.map(r.slice(n));f&&a++;let h=new ra(u.invert(),l,f),w,C=i.length-1;(w=i.length&&i[C].merge(h))?i[C]=w:i.push(h)}}else o.map&&n--},this.items.length,0),new Li(Zr.from(i.reverse()),a)}}Li.empty=new Li(Zr.empty,0);function jve(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class ra{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new ra(r.getMap().invert(),r,this.selection)}}}class vo{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const Wve=20;function Gve(t,e,r,n){let i=r.getMeta(Eo),a;if(i)return i.historyState;r.getMeta(Xve)&&(t=new vo(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Eo))return o.getMeta(Eo).redo?new vo(t.done.addTransform(r,void 0,n,Mf(e)),t.undone,lk(r.mapping.maps),t.prevTime,t.prevComposition):new vo(t.done,t.undone.addTransform(r,void 0,n,Mf(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=s&&(t.prevTime<(r.time||0)-n.newGroupDelay||!Kve(r,t.prevRanges)),u=o?Tv(t.prevRanges,r.mapping):lk(r.mapping.maps);return new vo(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Mf(e)),Li.empty,u,r.time,s??t.prevComposition)}else return(a=r.getMeta("rebased"))?new vo(t.done.rebased(r,a),t.undone.rebased(r,a),Tv(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new vo(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Tv(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function Kve(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}function lk(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,o)=>e.push(a,o));return e}function Tv(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}function Jve(t,e,r){let n=Mf(e),i=Eo.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let o=a.selection.resolve(a.transform.doc),s=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new vo(r?s:a.remaining,r?a.remaining:s,null,0,-1);return a.transform.setSelection(o).setMeta(Eo,{redo:r,historyState:l})}let Sv=!1,uk=null;function Mf(t){let e=t.plugins;if(uk!=e){Sv=!1,uk=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Sv=!0;break}}return Sv}const Eo=new ac("history"),Xve=new ac("closeHistory");function BS(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Jn({key:Eo,state:{init(){return new vo(Li.empty,Li.empty,null,0,-1)},apply(e,r,n){return Gve(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Lu:n=="historyRedo"?zg:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function FS(t,e){return(r,n)=>{let i=Eo.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=Jve(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const Lu=FS(!1,!0),zg=FS(!0,!0);function Qve(t){let e=Eo.getState(t);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.2 | Fri Feb 17 2023
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Am=function(t,e){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Am(t,e)};function ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Am(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ae=function(){return Ae=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(this,arguments)};function Kn(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Yt(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Yve(t,e,r){var n;r=r||null;for(n in t)if(t.hasOwnProperty(n)&&e.call(r,t[n],n,t)===!1)break}var Al=Yve;function Zve(t,e){var r=Object.prototype.hasOwnProperty,n,i,a,o;for(a=1,o=arguments.length;a<o;a+=1){n=arguments[a];for(i in n)r.call(n,i)&&(t[i]=n[i])}return t}var $g=Zve;function eme(t){return typeof t=="string"||t instanceof String}var Xa=eme;function tme(t){return t instanceof Array}var $l=tme;function rme(t,e,r){var n=0,i=t.length;for(r=r||null;n<i&&e.call(r,t[n],n,t)!==!1;n+=1);}var Nl=rme,nme=$l,ime=Nl,ame=Al;function ome(t,e,r){nme(t)?ime(t,e,r):ame(t,e,r)}var nh=ome,sme=Xa,lme=nh;function ume(t,e,r){var n=t.style;if(sme(e)){n[e]=r;return}lme(e,function(i,a){n[a]=i})}var pa=ume,cme=$l;function fme(t,e,r){var n,i;if(r=r||0,!cme(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,r);for(i=e.length,n=r;r>=0&&n<i;n+=1)if(e[n]===t)return n;return-1}var Os=fme;function dme(t){return t===void 0}var zi=dme,hme=zi;function pme(t){return!t||!t.className?"":hme(t.className.baseVal)?t.className:t.className.baseVal}var Ug=pme,vme=$l,mme=zi;function gme(t,e){if(e=vme(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),mme(t.className.baseVal)){t.className=e;return}t.className.baseVal=e}var qS=gme,ck=nh,yme=Os,bme=Ug,wme=qS;function kme(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n=[],i;if(r){ck(e,function(a){t.classList.add(a)});return}i=bme(t),i&&(e=[].concat(i.split(/\s+/),e)),ck(e,function(a){yme(a,n)<0&&n.push(a)}),wme(t,n)}var la=kme,fk=Nl,Cme=Os,xme=Ug,Tme=qS;function Sme(t){var e=Array.prototype.slice.call(arguments,1),r=t.classList,n,i;if(r){fk(e,function(a){r.remove(a)});return}n=xme(t).split(/\s+/),i=[],fk(n,function(a){Cme(a,e)<0&&i.push(a)}),Tme(t,i)}var Ii=Sme;function Eme(t){return typeof t=="number"||t instanceof Number}var Ba=Eme;function Mme(t){return t===null}var ad=Mme,Ome=Al;function Ame(t,e){var r=document.createElement("img"),n="";return Ome(e,function(i,a){n+="&"+a+"="+i}),n=n.substring(1),r.src=t+"?"+n,r.style.display="none",document.body.appendChild(r),document.body.removeChild(r),r}var Nme=Ame,Dme=zi,Rme=Nme,Lme=10080*60*1e3;function Ime(t){var e=new Date().getTime();return e-t>Lme}function Pme(t,e){var r="https://www.google-analytics.com/collect",n=location.hostname,i="event",a="use",o="TOAST UI "+t+" for "+n+": Statistics",s=window.localStorage.getItem(o);!Dme(window.tui)&&window.tui.usageStatistics===!1||s&&!Ime(s)||(window.localStorage.setItem(o,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&Rme(r,{v:1,t:i,tid:e,cid:n,dp:n,dh:t,el:t,ec:a})},1e3))}var _me=Pme,Bme=/[\u0020]+/g,Fme=/[>(){}[\]+-.!#|]/g,dk=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,hk=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,qme=/[*_~`]/g,pk=/!\[.*\]\(.*\)/g,Hme=/[[\]]/g,vk=/(?:^|[^\\])\\(?!\\)/g,Vme='[&<>"]',mk=new RegExp(Vme,"g");function zme(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function cl(t){return mk.test(t)?t.replace(mk,zme):t}function $me(){_me("editor","UA-129966929-1")}function hn(t,e){return t.indexOf(e)!==-1}var Ume=["rel","target","hreflang","type"],jme={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function HS(t){if(!t)return null;var e={};return Ume.forEach(function(r){zi(t[r])||(e[r]=t[r])}),e}function od(t,e){for(var r="",n=0;n<e;n+=1)r+=t;return r}function Wme(t){var e=!1;return Al(jme,function(r){return r.test(t)&&(e=!0),!e}),e}function sd(t){for(var e=[],r=pk.exec(t);r;)e.push([r.index,r.index+r[0].length]),r=pk.exec(t);return t.replace(Hme,function(n,i){var a=e.some(function(o){return i>o[0]&&i<o[1]});return a?n:"\\"+n})}function Gme(t){var e=function(i){return"\\"+i},r=function(i){return i+"\\"},n=t.replace(Bme," ");return hk.test(n)&&(n=n.replace(hk,e)),vk.test(n)&&(n=n.replace(vk,r)),n=n.replace(qme,e),dk.test(n)&&(n=n.replace(dk,e)),Wme(n)&&(n=n.replace(Fme,e)),n}function Kme(t){var e;return t.indexOf('"')===-1?e='""':e=t.indexOf("'")===-1?"''":"()",e[0]+t+e[1]}function Nm(t){return ad(t)||zi(t)}function jg(t,e){if(t===null&&t===e)return!0;if(typeof t!="object"||typeof e!="object"||Nm(t)||Nm(e))return t===e;for(var r in t)if(t[r]!==e[r])return!1;for(var r in e)if(!(r in t))return!1;return!0}function kn(t){return t[t.length-1]}function Jme(t,e,r){return t>=e&&t<=r}function Wg(t){return typeof t=="object"&&t!==null}function ld(t,e){var r=Ae({},t);return t&&e&&Object.keys(e).forEach(function(n){Wg(r[n])?Array.isArray(e[n])?r[n]=Gg(e[n]):r.hasOwnProperty(n)?r[n]=ld(r[n],e[n]):r[n]=Kg(e[n]):r[n]=e[n]}),r}function Gg(t){return t.map(function(e){return Wg(e)?Array.isArray(e)?Gg(e):Kg(e):e})}function Kg(t){var e=Object.keys(t);return e.length?e.reduce(function(r,n){return Wg(t[n])?r[n]=Array.isArray(t[n])?Gg(t[n]):Kg(t[n]):r[n]=t[n],r},{}):t}function Jg(t,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(r){t.hasOwnProperty(r)&&typeof t[r]=="object"?Array.isArray(e[r])?t[r]=e[r]:Jg(t[r],e[r]):t[r]=e[r]}),t}function gk(t,e){return t>e?[e,t]:[t,e]}var Xme=Nl;function Qme(t){var e;try{e=Array.prototype.slice.call(t)}catch{e=[],Xme(t,function(n){e.push(n)})}return e}var va=Qme;function ud(t,e){var r=t.nodes.paragraph;return e?r.create(null,Xa(e)?t.text(e):e):r.createAndFill()}function cn(t,e,r){return t.text(e,r)}function xr(t,e,r){r===void 0&&(r=e);var n=t.doc.content.size,i=n>0?n-1:1;return Xt.create(t.doc,Math.min(e,i),Math.min(r,i))}function Xg(t,e,r){var n=e.pos;return t.replaceWith(n,n,ud(r)),t.setSelection(xr(t,n+1))}function cd(t){for(var e=t.state,r=t.from,n=t.startIndex,i=t.endIndex,a=t.createText,o=e.tr,s=e.doc,l=e.schema,u=n;u<=i;u+=1){var f=s.child(u),h=f.nodeSize,w=f.textContent,C=f.content,x=a(w),M=x?cn(l,x):Ue.empty,D=o.mapping.map(r),B=D+C.size;o.replaceWith(D,B,M),r+=h}return o}function Qg(t,e,r,n){var i=r.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),n).setSelection(xr(t,t.mapping.map(e)-i))}function cc(t){return t.sourcepos[0][0]}function ih(t){return t.sourcepos[1][0]}function ah(t){return t.sourcepos[0][1]}function Mo(t){return t.sourcepos[1][1]}function Yme(t){var e=t.type;return e==="htmlBlock"||e==="htmlInline"}function Zme(t){var e=t.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function ege(t){return t&&t.type==="codeBlock"}function As(t){return t&&(t.type==="item"||t.type==="list")}function VS(t){return As(t)&&t.listData.type==="ordered"}function tge(t){return As(t)&&t.listData.type!=="ordered"}function yk(t){return t&&(t.type==="tableCell"||t.type==="tableDelimCell")}function rge(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Dl(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";){if(e(t))return t;t=t.parent}return null}function nge(t,e,r){for(r===void 0&&(r=!0),t=r?t:t.parent;t&&t.type!=="document";)e(t),t=t.parent}function Xr(t,e){return[t[0],t[1]+e]}function Oo(t,e){return[t[0],e]}function ige(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var r=t,n=r.destination,i=r.title,a=t.type==="link"?"":"!";return a+"["+e+"]("+n+(i?' "'+i+'"':"")+")";default:return null}}function age(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function oge(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Ju=[],zS={},bk=/\$\$widget\d+\s/;function oh(t){var e=t.search(bk);if(e!==-1){var r=t.substring(e),n=r.replace(bk,"").replace("$$","");t=t.substring(0,e),t+=oh(n)}return t}function $S(t,e){return"$$"+t+" "+e+"$$"}function US(t,e){var r=zS[t],n=r.rule,i=r.toDOM,a=oh(e).match(n);return a&&(e=a[0]),i(e)}function sge(){return Ju}function lge(t){Ju=t,Ju.forEach(function(e,r){zS["widget"+r]=e})}function Ev(t,e,r,n){return t.concat(ks(e,r,n))}function ks(t,e,r){r===void 0&&(r=0);var n=[],i=(Ju[r]||{}).rule,a=r+1;if(t=oh(t),i&&i.test(t)){for(var o=void 0;(o=t.search(i))!==-1;){var s=t.substring(0,o);s&&(n=Ev(n,s,e,a)),t=t.substring(o);var l=t.match(i)[0],u="widget"+r;n.push(e.nodes.widget.create({info:u},e.text($S(u,l)))),t=t.substring(l.length)}t&&(n=Ev(n,t,e,a))}else t&&(n=r<Ju.length-1?Ev(n,t,e,a):[e.text(t)]);return n}function jS(t){for(var e,r="",n=t.walker();e=n.next();){var i=e.node,a=e.entering;a&&(i!==t&&i.type!=="text"?(r+=ige(i),n.resumeAt(t,!1),n.next()):i.type==="text"&&(r+=i.literal))}return r}function WS(){return{deleteSelection:function(){return Fg},selectAll:function(){return DS},undo:function(){return Lu},redo:function(){return zg}}}function uge(t){return new Jn({props:{decorations:function(e){var r=e.doc;if(t.text&&r.childCount===1&&r.firstChild.isTextblock&&r.firstChild.content.size===0){var n=document.createElement("span");return la(n,"placeholder"),t.className&&la(n,t.className),n.textContent=t.text,_r.create(r,[Un.widget(1,n)])}return null}}})}var cge=Os,fge=Ug;function dge(t,e){var r;return t.classList?t.classList.contains(e):(r=fge(t).split(/\s+/),cge(e,r)>-1)}var GS=dge,hge=Os,pge=va,sf=Element.prototype,vge=sf.matches||sf.webkitMatchesSelector||sf.mozMatchesSelector||sf.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return hge(this,pge(e.querySelectorAll(t)))>-1};function mge(t,e){return vge.call(t,e)}var gge=mge,KS="[A-Za-z][A-Za-z0-9-]*",yge="[a-zA-Z_:][a-zA-Z0-9:._-]*",bge="[^\"'=<>`\\x00-\\x20]+",wge="'[^']*'",kge='"[^"]*"',Cge="(?:"+bge+"|"+wge+"|"+kge+")",xge="(?:\\s*=\\s*"+Cge+")",JS="(?:\\s+"+yge+xge+"?)",XS="<("+KS+")("+JS+")*\\s*/?>",Tge="</("+KS+")\\s*[>]",QS="(?:"+XS+"|"+Tge+")",Rl=new RegExp("^"+QS,"i"),Dm=/<br\s*\/*>/i,Sge=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,YS="</p><p>";function Yg(t,e,r){var n=parseInt(t.left,10),i=parseInt(t.top,10),a=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),o=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=n&&e<=n+a&&r>=i&&r<=i+o}var ZS="toastui-editor-";function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n],o=void 0;Array.isArray(a)?o=a[0]?a[1]:null:o=a,o&&r.push(""+ZS+o)}return r.join(" ")}function Gr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(r){return ZS+"md-"+r}).join(" ")}function Ege(t){return(t==null?void 0:t.nodeType)===Node.TEXT_NODE}function sh(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Mge(t,e){var r=va(t.querySelectorAll(e));return r.length?r:[]}function Oge(t,e){e=$l(e)?va(e):[e],e.forEach(function(r){t.appendChild(r)})}function Age(t,e){e.parentNode&&e.parentNode.insertBefore(t,e)}function Ns(t){t.parentNode&&t.parentNode.removeChild(t)}function Nge(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);return Ns(t),e}function Zg(t,e,r){zi(r)&&(r=!GS(t,e));var n=r?la:Ii;n(t,e)}function eE(t,e){var r=document.createElement("div");Xa(t)?r.innerHTML=t:r.appendChild(t);var n=r.firstChild;return e&&e.appendChild(n),n}function ey(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce(function(r,n){return r+parseInt(e.getPropertyValue(n),10)},0)+t.offsetWidth}function ua(t,e){var r;for(Xa(e)?r=function(n){return gge(n,e)}:r=function(n){return n===e};t&&t!==document;){if(sh(t)&&r(t))return t;t=t.parentNode}return null}function tE(t,e){for(var r=0,n=0;t&&t!==e;){var i=t.offsetTop,a=t.offsetLeft,o=t.offsetParent;if(r+=i,n+=a,o===e.offsetParent)break;t=t.offsetParent}return{offsetTop:r,offsetLeft:n}}function ty(t,e){Object.keys(t).forEach(function(r){Nm(t[r])?e.removeAttribute(r):e.setAttribute(r,t[r])})}function Dge(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),r=new RegExp(QS,"ig"),n=e.match(r);return n==null||n.forEach(function(i,a){if(Dm.test(i)){var o=YS;if(a){var s=n[a-1],l=s.match(XS);if(l&&!/br/i.test(l[1])){var u=l[1];o="</"+u+"><"+u+">"}}e=e.replace(Dm,o)}}),e}function ry(t){var e=/<img class="ProseMirror-separator" alt="">/g,r=/ class="ProseMirror-trailingBreak"/g,n=t;return n=n.replace(e,""),n=n.replace(r,""),n}var rE=new ac("widget"),wk=5,Rge=(function(){function t(e,r){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=r,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=ua(e.dom.parentElement,"."+gt("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(e){var r=rE.getState(e.state);if(this.removeWidget(),r){var n=r.node,i=r.style,a=e.coordsAtPos(r.pos),o=a.top,s=a.left,l=a.bottom,u=l-o,f=this.rootEl.getBoundingClientRect(),h=o-f.top;pa(n,{opacity:"0"}),this.rootEl.appendChild(n),pa(n,{position:"absolute",left:s-f.left+wk+"px",top:(i==="bottom"?h+u-wk:h-u)+"px",opacity:"1"}),this.popup=n,e.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t})();function Lge(t){return new Jn({key:rE,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Rge(e,t)}})}function Ige(t){t.listen("addImageBlobHook",function(e,r){var n=new FileReader;n.onload=function(i){var a=i.target;return r(a.result)},n.readAsDataURL(e)})}function ny(t,e,r){var n=function(i,a){t.emit("command","addImage",{imageUrl:i,altText:a||e.name||"image"})};t.emit("addImageBlobHook",e,n,r)}function nE(t){var e=va(t).filter(function(n){var i=n.type;return i.indexOf("image")!==-1});if(e.length===1){var r=e[0];if(r)return r.getAsFile()}return null}function Pge(t){var e=t.eventEmitter;return new Jn({props:{handleDOMEvents:{drop:function(r,n){var i,a=(i=n.dataTransfer)===null||i===void 0?void 0:i.files;return a&&Nl(a,function(o){return o.type.indexOf("image")!==-1?(n.preventDefault(),n.stopPropagation(),ny(e,o,n.type),!1):!0}),!0}}}})}var wr=(function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t})();function iE(t){var e=document.createElement("span"),r=US(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(r),{dom:e}}function Rm(t){return t.type.name==="widget"}var aE=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(r){var n=r.textContent,i=n.match(/\$\$(widget\d+)/),a=i[1];return{info:a}}}]}},enumerable:!1,configurable:!0}),e})(wr),oE=(function(){function t(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return t.prototype.createState=function(){return fs.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var e=this,r=e.eventEmitter,n=e.view,i=e.editorType;n.dom.addEventListener("focus",function(){return r.emit("focus",i)}),n.dom.addEventListener("blur",function(){return r.emit("blur",i)})},t.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),r=Kn(Kn([],this.keymaps),[Ku(Ae({"Shift-Enter":ok.Enter},ok)),BS(),uge(this.placeholder),Lge(this.eventEmitter),Pge(this.context)]);return e?r.concat(e):r},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var e=sge(),r=e.map(function(n){var i=n.rule;return new Io(i,function(a,o,s,l){var u=a.schema,f=a.tr,h=a.doc,w=o.input.match(new RegExp(i,"g")),C=h.resolve(s),x=C.parent,M=0;if(Rm(x)&&(x=C.node(C.depth-1)),x.forEach(function(j){return Rm(j)&&(M+=1)}),w.length>M){var D=kn(w),B=ks(D,u);return f.replaceWith(l-D.length+1,l,B)}return null})});return r.length?PS({rules:r}):null},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.createSchema=function(){return new AT({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(e){var r=WS(),n=r.undo,i=r.redo,a=this.specs.keymaps(e),o={"Mod-z":n(),"Shift-Mod-z":i()};return e?a.concat(Ku(o)):a},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(r){return r(e.eventEmitter)})},t.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(r){delete e[r]})},t.prototype.moveCursorToStart=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(xr(r,1)).scrollIntoView()),e&&this.focus()},t.prototype.moveCursorToEnd=function(e){var r=this.view.state.tr;this.view.dispatch(r.setSelection(xr(r,r.doc.content.size-1)).scrollIntoView()),e&&this.focus()},t.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(e){pa(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){pa(this.el,{minHeight:e+"px"})},t.prototype.getElement=function(){return this.el},t})();function _ge(t){return t instanceof Function}var Ti=_ge,Bge=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function lf(t,e,r){return t.focus(),e(r)(t.state,t.dispatch,t)}var sE=(function(){function t(e){this.specs=e}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return Ae(Ae({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,r){var n,i=r.name,a=r.schema;return Ae(Ae({},e),(n={},n[i]=a,n))},{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(e,r){var n=this.specs.filter(function(a){var o=a.commands;return o}).reduce(function(a,o){var s={},l=o.commands();return Ti(l)?s[o.name]=function(u){return lf(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(f){return lf(e,l[u],f)}}),Ae(Ae({},a),s)},{}),i=WS();return Object.keys(i).forEach(function(a){n[a]=function(o){return lf(e,i[a],o)}}),r&&Object.keys(r).forEach(function(a){n[a]=function(o){return lf(e,r[a],o)}}),n},t.prototype.keymaps=function(e){var r=this.specs.filter(function(n){return n.keymaps}).map(function(n){return n.keymaps()});return r.map(function(n){return e||Object.keys(n).forEach(function(i){hn(Bge,i)||delete n[i]}),Ku(n)})},t.prototype.setContext=function(e){this.specs.forEach(function(r){r.setContext(e)})},t})();function lE(t){var e=t.from,r=t.to;return t instanceof Nn?[e+1,r-1]:[e,r]}function kk(t){return t.index(0)+1}function Ll(t,e,r){r===void 0&&(r=1);var n=0;return t.forEach(function(i,a){Rm(i)&&a+2<e&&(n+=2*r)}),n}function Of(t,e,r){r===void 0&&(r=e);var n=e===r,i=t.resolve(e),a=kk(i),o=a,s=i.start(1),l=s;if(!n){var u=t.resolve(r===t.content.size?r-1:r);l=u.start(1),o=kk(u),u.pos===t.content.size&&(r=t.content.size-2)}var f=Math.max(e-s+1,1),h=Math.max(r-l+1,1);return[[a,f+Ll(t.child(a-1),f,-1)],[o,h+Ll(t.child(o-1),h,-1)]]}function uE(t,e){for(var r=[],n=0,i=0;n<e;n+=1){var a=t.child(n);r[n]=i,i+=a.nodeSize}return r}function as(t,e,r){var n=uE(t,r[0]),i=e[0]-1,a=r[0]-1,o=t.child(i),s=t.child(a),l=n[i],u=n[a];return l+=e[1]+Ll(o,e[1]-1),u+=r[1]+Ll(s,r[1]-1),[l,Math.min(u,t.content.size)]}function jr(t){var e=t.$from,r=t.$to,n=t.from,i=t.to,a=e.doc;return t instanceof Nn&&(e=a.resolve(n+1),r=a.resolve(i-1)),e.depth===0&&(e=a.resolve(n-1),r=e),{startFromOffset:e.start(1),endFromOffset:r.start(1),startToOffset:e.end(1),endToOffset:r.end(1),startIndex:e.index(0),endIndex:r.index(0),from:e.pos,to:r.pos}}function fd(t,e){for(var r=1,n=1,i=0,a=0;i<t.childCount;i+=1){var o=t.child(i).nodeSize;if(r=a+1,n=a+o-1,i===e)break;a+=o}return{startOffset:r,endOffset:n}}var Ck="heading",Fge="blockQuote",qge="listItem",Hge="table",Vge="tableCell",zge="codeBlock",$ge="thematicBreak",Af="link",uf="code",lh="meta",Ds="delimiter",Uge="taskDelimiter",iy="markedText",jge="html",Wge="customBlock",xk={strong:2,emph:1,strike:2};function ur(t,e,r,n){return{start:t,end:e,spec:{type:r,attrs:n}}}function Gge(t,e,r){var n=t.level,i=t.headingType,a=[ur(e,r,Ck,{level:n})];return i==="atx"?a.push(ur(e,Xr(e,n),Ds)):a.push(ur(Oo(r,0),r,Ck,{seText:!0})),a}function Mv(t,e,r){var n=t.type,i=Xr(e,xk[n]),a=Xr(r,-xk[n]);return[ur(i,a,n),ur(e,i,Ds),ur(a,r,Ds)]}function cE(t,e,r,n){return[ur(t,e,Af),ur(Oo(t,r[1]+1),Oo(e,n),Af,{desc:!0}),ur(Oo(e,n+2),Xr(e,-1),Af,{url:!0})]}function Kge(t,e,r){var n=t.lastChild,i=n?Mo(n)+1:3,a=Xr(e,1);return Kn([ur(e,a,lh)],cE(e,r,a,i))}function Jge(t,e,r){var n=t.lastChild,i=t.extendedAutolink,a=n?Mo(n)+1:2;return i?[ur(e,r,Af,{desc:!0})]:cE(e,r,e,a)}function Xge(t,e,r){var n=t.tickCount,i=Xr(e,n),a=Xr(r,-n);return[ur(e,r,uf),ur(e,i,uf,{start:!0}),ur(i,a,uf,{marked:!0}),ur(a,r,uf,{end:!0})]}function fE(t,e,r,n){var i={start:e,end:r,spec:{attrs:{className:n+"-line-background",codeStart:e[0],codeEnd:r[0]}},lineBackground:!0};return t.type!=="item"&&t.type!=="blockQuote"?[Ae(Ae({},i),{end:e,spec:{attrs:{className:n+"-line-background start"}}}),Ae(Ae({},i),{start:[Math.min(e[0]+1,r[0]),e[1]]})]:null}function Qge(t,e,r,n){var i=t.fenceOffset,a=t.fenceLength,o=t.fenceChar,s=t.info,l=t.infoPadding,u=t.parent,f=i+a,h=[ur(Oo(e,1),r,zge)];o&&h.push(ur(e,Xr(e,f),Ds)),s&&h.push(ur(Xr(e,a),Xr(e,a+l+s.length),lh));var w="^(\\s{0,4})("+o+"{"+a+",})",C=new RegExp(w);C.test(n)&&h.push(ur(Oo(r,1),r,Ds));var x=fE(u,e,r,"code-block");return x?h.concat(x):h}function Yge(t,e,r){var n=t,i=n.offset,a=n.syntaxLength,o=n.info,s=n.parent,l=i+a,u=[ur(Oo(e,1),r,Wge)];u.push(ur(e,Xr(e,l),Ds)),o&&u.push(ur(Xr(e,l),Xr(e,a+o.length),lh)),u.push(ur(Oo(r,1),r,Ds));var f=fE(s,e,r,"custom-block");return f?u.concat(f):u}function dE(t,e){for(var r=[];t;){var n=t.type;(n==="paragraph"||n==="codeBlock")&&r.push(ur([cc(t),ah(t)-1],[ih(t),Mo(t)+1],e)),t=t.next}return r}function Zge(t){for(var e=[];t;)e.push(ur([cc(t),ah(t)],[ih(t),Mo(t)+1],iy)),t=t.next;return e}function eye(t,e,r){var n=t.parent&&t.parent.type!=="blockQuote"?[ur(e,r,Fge)]:[];if(t.firstChild){var i=[];t.firstChild.type==="paragraph"?i=Zge(t.firstChild.firstChild):t.firstChild.type==="list"&&(i=dE(t.firstChild,iy)),n=Kn(Kn([],n),i)}return n}function tye(t){for(var e=0;t.parent.parent&&t.parent.parent.type==="item";)t=t.parent.parent,e+=1;var r=[{odd:!0},{even:!0}][e%2];return[qge,Ae(Ae({},r),{listStyle:!0})]}function rye(t,e){var r=t.listData,n=r.padding,i=r.task,a=tye(t),o=[ur.apply(void 0,Kn([e,Xr(e,n)],a))];return i&&(o.push(ur(Xr(e,n),Xr(e,n+3),Uge)),o.push(ur(Xr(e,n+1),Xr(e,n+2),lh))),o.concat(dE(t.firstChild,iy))}var Tk={heading:Gge,strong:Mv,emph:Mv,strike:Mv,link:Jge,image:Kge,code:Xge,codeBlock:Qge,blockQuote:eye,item:rye,customBlock:Yge},Sk={thematicBreak:$ge,table:Hge,tableCell:Vge,htmlInline:jge};function nye(t,e,r,n){var i=t.type;return Ti(Tk[i])?Tk[i](t,e,r,n):Sk[i]?[ur(e,r,Sk[i])]:null}var Xu={};function iye(t){var e=t.schema,r=t.toastMark;return new Jn({appendTransaction:function(n,i,a){var o=n[0],s=a.tr;if(o.docChanged){var l=[],u=o.getMeta("editResult");u.forEach(function(f){var h=f.nodes,w=f.removedNodeRange;if(h.length){l=l.concat(cye(s,h));for(var C=0,x=h;C<x.length;C++)for(var M=x[C],D=M.walker(),B=D.next();B;){var j=B.node,Q=B.entering;Q&&(l=l.concat(fye(j,r))),B=D.next()}}else if(w)for(var Y=s.doc.childCount-1,te=w.line,se=te[0],oe=te[1],ge=Math.min(se,Y),Se=Math.min(oe,Y),qe=ge;qe<=Se;qe+=1)Xu[qe]=!0}),sye(s,e,l)}return s.setMeta("widget",o.getMeta("widget"))}})}function aye(t,e,r){return Object.keys(r).some(function(n){return r[n]!==t.child(e).attrs[n]})}function oye(t,e,r,n,i){i===void 0&&(i={});for(var a=n.startIndex,o=n.endIndex,s=n.from,l=n.to,u=!1,f=a;f<=o;f+=1)delete Xu[f],u=aye(e,f,i);u&&t.setBlockType(s,l,r,i)}function sye(t,e,r){var n=t.doc,i=e.nodes.paragraph,a=uE(n,n.childCount);r.forEach(function(o){var s=o.start,l=o.end,u=o.spec,f=o.lineBackground,h=Math.min(s[0],n.childCount)-1,w=Math.min(l[0],n.childCount)-1,C=n.child(h),x=n.child(w),M=a[h],D=a[w];if(M+=s[1]+Ll(C,s[1]-1),D+=l[1]+Ll(x,l[1]-1),u)if(f){var B={from:M,to:D,startIndex:h,endIndex:w};oye(t,n,i,B,u.attrs)}else t.addMark(M,D,e.mark(u.type,u.attrs));else t.removeMark(M,D)}),lye(t,a,i)}function lye(t,e,r){Object.keys(Xu).forEach(function(n){var i=Number(n),a=Math.min(Number(n)+1,t.doc.childCount-1),o=e[i],s=e[a]-1;i===a&&(s+=2),t.setBlockType(o,s,r)})}function uye(t,e,r){var n=[];Xu={};for(var i=e[0]-1;i<r[0];i+=1){var a=t.child(i),o=a.attrs.codeEnd,s=a.attrs.codeStart;if(s&&o&&!hn(n,s)){n.push(s),o=Math.min(o,t.childCount);for(var l=s-1,u=r[0],f=l;f<u;f+=1)Xu[f]=!0}}}function cye(t,e){var r=t.doc,n=e[0].sourcepos[0],i=kn(e).sourcepos,a=i[1],o=[n[0],n[1]],s=[a[0],a[1]+1],l=[];return uye(r,n,a),l.push({start:o,end:s}),l}function fye(t,e){var r=e.getLineTexts(),n=[cc(t),ah(t)],i=[ih(t),Mo(t)+1],a=nye(t,n,i,r[i[0]-1]);return a??[]}var dye=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function hye(t){var e=t.type;return As(t)?t.listData.task?"taskList":t.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":hn(dye,e)?e:null}function pye(t){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0;return nge(t,function(n){var i=hye(n);i&&(i==="bulletList"||i==="orderedList"?r&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,r=!1):e[i]={active:!0})}),e}function vye(t){var e=t.toastMark,r=t.eventEmitter;return new Jn({view:function(){return{update:function(n,i){var a=n.state,o=a.doc,s=a.selection;if(!(i&&i.doc.eq(o)&&i.selection.eq(s))){var l=s.from,u=a.doc.resolve(l).start(),f=a.doc.content.findIndex(l).index+1,h=l-u;l===u&&(h+=1);var w=[f,h],C=e.findNodeAtPosition(w),x=pye(C);r.emit("changeToolbarState",{cursorPos:w,mdNode:C,toolbarState:x}),r.emit("setFocusedNode",C)}}}}})}var mye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(wr),Tr=(function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(e){this.context=e},t})();function ni(t,e){return Do(t,e-1)}function Do(t,e){return t.child(e).textContent}var mu=/^\s*> ?/,gye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(r,n){return n?r.replace(mu,"").trim():"> "+r.trim()},e.prototype.extendBlockQuote=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema,u=jr(a),f=u.endFromOffset,h=u.endToOffset,w=u.endIndex,C=u.to,x=Do(o,w),M=mu.test(x);if(M&&C>f&&a.empty){var D=!x.replace(mu,"").trim();if(D)s.deleteRange(f,h).split(s.mapping.map(h));else{var B=x.slice(C-f).trim(),j=cn(l,r.createBlockQuoteText(B));Qg(s,h,B,j)}return i(s),!0}return!1}},e.prototype.commands=function(){var r=this;return function(){return function(n,i){var a=n.selection,o=n.doc,s=jr(a),l=s.startFromOffset,u=s.endToOffset,f=s.startIndex,h=s.endIndex,w=mu.test(Do(o,f)),C=cd({state:n,startIndex:f,endIndex:h,from:l,createText:function(x){return r.createBlockQuoteText(x,w)}});return i(C.setSelection(xr(C,C.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var r=this.commands()();return{"alt-q":r,"alt-Q":r,Enter:this.extendBlockQuote()}},e})(Tr),Rs=/(^\s*)([-*+] |[\d]+\. )/,ay=/(^\s*)([\d])+\.( \[[ xX]])? /,$a=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,dd=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,yye=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,bye=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,wye=/(^\s*)([-*+])( \[[ xX]]) /;function oy(t){return ay.test(t)?"ordered":"bullet"}function sy(t){for(var e=0;t&&t.type!=="document";)t.type==="list"&&(e+=1),t=t.parent;return e}function Lm(t,e,r,n){for(var i=t.getLineTexts(),a=i.length,o=[],s=e;n?s<a:s>1;){s=n?s+1:s-1;var l=t.findFirstNodeAtLine(s),u=sy(l);if(u===r)o.push({line:s,depth:r,mdNode:l});else if(u<r)break}return o}function kye(t){var e=t.toastMark,r=t.mdNode,n=t.line,i=sy(r),a=Lm(e,n,i,!1).reverse(),o=Lm(e,n,i,!0);return a.concat([{line:n,depth:i,mdNode:r}]).concat(o)}function Cye(t){if(!Rs.test(t))return"* "+t;var e=oy(t);return e==="bullet"&&dd.test(t)?t=t.replace(wye,"$1$2 "):e==="ordered"&&(t=t.replace(ay,"$1* ")),t}function xye(t,e){if(!Rs.test(t))return e+". "+t;var r=oy(t);if(r==="bullet"||r==="ordered"&&dd.test(t))t=t.replace(dd,"$1"+e+". ");else if(r==="ordered"){var n=$a.exec(t)[3];Number(n)!==e&&(t=t.replace(ay,"$1"+e+". "))}return t}function hE(t,e,r,n){n===void 0&&(n=0);var i=Number.MAX_VALUE,a=0,o=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),a=Math.max(u-1,a);var f=ni(t,u);return f=r==="bullet"?Cye(f):xye(f,l+1+n),{text:f,line:u}});return{changedResults:o,firstIndex:i,lastIndex:a}}function Ek(t,e){var r=kye(e);return hE(e.doc,r,t)}var Tye={bullet:function(t){return Ek("bullet",t)},ordered:function(t){return Ek("ordered",t)},task:function(t){var e=t.mdNode,r=t.doc,n=t.line,i=ni(r,n);return e.listData.task?i=i.replace(bye,"$1$2"):As(e)&&(i=i.replace(Rs,"$1$2[ ] ")),{changedResults:[{text:i,line:n}]}}},Sye={bullet:function(t){var e=t.doc,r=t.line,n=ni(e,r),i=[{text:"* "+n,line:r}];return{changedResults:i}},ordered:function(t){for(var e=t.toastMark,r=t.doc,n=t.line,i=t.startLine,a=ni(r,n),o=1,s=i,l=0,u=i-1;u>0;u-=1){var f=e.findFirstNodeAtLine(u),h=ni(r,u),w=h&&!!Dl(f,function(Q){return As(Q)}),C=$a.exec(ni(r,u));if(!C&&!w)break;if(!C&&w){l+=1;continue}var x=C,M=x[1],D=x[3];if(!M){o=Number(D),s=u;break}}var B=o+n-s-l,j=[{text:B+". "+a,line:n}];return{changedResults:j}},task:function(t){var e=t.doc,r=t.line,n=ni(e,r),i=[{text:"* [ ] "+n,line:r}];return{changedResults:i}}},Eye={bullet:function(t){var e=t.line,r=t.doc,n=ni(r,e),i=yye.exec(n),a=i[1],o=i[2];return{listSyntax:""+a+o}},ordered:function(t){var e=t.toastMark,r=t.line,n=t.mdNode,i=t.doc,a=sy(n),o=ni(i,r),s=$a.exec(o),l=s[1],u=s[3],f=s[4],h=Number(u)+1,w=""+l+h+f,C=Lm(e,r,a,!0),x=C.filter(function(M){var D=$a.exec(ni(i,M.line));return D&&D[1].length===l.length&&!!Dl(M.mdNode,function(B){return VS(B)})});return Ae({listSyntax:w},hE(i,x,"ordered",h))}};function pE(t,e,r,n,i){for(var a=[],o=ni(t,r),s=$a.exec(o);s;){var l=s[1],u=s[4],f=s[5],h=l.length;if(h===i)a.push(cn(e,""+l+n+u+f)),n+=1,r+=1;else if(h>i){var w=pE(t,e,r,1,h);r=w.line,a=a.concat(w.nodes)}if(h<i||r>t.childCount)break;o=ni(t,r),s=$a.exec(o)}return{nodes:a,line:r}}var Mk=/(^\s{1,4})(.*)/;function Ok(t,e,r){return t<e||Rs.test(r)||mu.test(r)}function Ak(t,e,r){var n=r.$from;n.depth===0&&(n=t.resolve(n.pos-1));var i=n.node(1),a=n.start(1),o=i.content.size;return i.rangeHasMark(0,o,e.marks.table)&&n.pos-a!==o&&n.pos!==a}function Nk(t,e){var r=e.from,n=e.to;if(e.type==="indent"){var i=4;r+=i,n+=(e.lineLen+1)*i}else{var a=e.spaceLenList;r-=a[0];for(var o=0;o<a.length;o+=1)n-=a[o]}return xr(t,r,n)}var Mye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(r){var n=r.attrs;return n.className?["div",{class:Gr(n.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(r,n){for(var i=this.context,a=i.view,o=i.toastMark,s=i.schema,l=a.state,u=l.tr,f=l.selection,h=l.doc,w=o.findFirstNodeAtLine(r),C=w;w&&!tge(w)&&w.parent.type!=="document";)if(w=w.parent,VS(w)){C=w;break}C&&(r=C.sourcepos[0][0]);var x=$a.exec(ni(h,r)),M=x[1],D=x[3],B=M.length,j=pE(h,s,r,Number(D),B),Q=j.line,Y=j.nodes;n=Math.max(n,Q-1);for(var te=fd(h,r-1).startOffset,se=r-1;se<=n-1;se+=1){var oe=h.child(se),ge=oe.nodeSize,Se=oe.content,qe=u.mapping.map(te),rt=qe+Se.size;u.replaceWith(qe,rt,Y[se-r+1]),te+=ge}var je=xr(u,f.from,f.to);a.dispatch(u.setSelection(je))},e.prototype.indent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var o=i.schema,s=i.selection,l=i.doc,u=jr(s),f=u.from,h=u.to,w=u.startFromOffset,C=u.startIndex,x=u.endIndex;if(r&&Ak(l,o,s))return!1;var M=Do(l,C);if(r&&Ok(f,h,M)||!r&&Rs.test(M)){var D=cd({state:i,from:w,startIndex:C,endIndex:x,createText:function(j){return"    "+j}}),B={type:"indent",from:f,to:h,lineLen:x-C};a(D.setSelection(Nk(D,B))),$a.test(M)&&n.reorderList(C+1,x+1)}else r&&a(i.tr.insert(h,cn(o,"    ")));return!0}}},e.prototype.outdent=function(r){var n=this;return r===void 0&&(r=!1),function(){return function(i,a){var o=i.selection,s=i.doc,l=i.schema,u=jr(o),f=u.from,h=u.to,w=u.startFromOffset,C=u.startIndex,x=u.endIndex;if(r&&Ak(s,l,o))return!1;var M=Do(s,C);if(r&&Ok(f,h,M)||!r&&Rs.test(M)){var D=[],B=cd({state:i,from:w,startIndex:C,endIndex:x,createText:function(se){var oe=Mk.exec(se);return D.push(oe?oe[1].length:0),se.replace(Mk,"$2")}}),j={type:"outdent",from:f,to:h,spaceLenList:D};a(B.setSelection(Nk(B,j))),$a.test(M)&&n.reorderList(C+1,x+1)}else if(r){var Q=M.slice(0,h-w),Y=Q.replace(/\s{1,4}$/,""),te=h-(Q.length-Y.length);a(i.tr.delete(te,h))}return!0}}},e.prototype.deleteLines=function(){var r=this;return function(n,i){var a=r.context.view,o=jr(n.selection),s=o.startFromOffset,l=o.endToOffset,u=function(){return i(n.tr.deleteRange(s,l)),!0};return rh(u,OS)(n,i,a)}},e.prototype.moveDown=function(){return function(r,n){var i=r.doc,a=r.tr,o=r.selection,s=r.schema,l=jr(o),u=l.startFromOffset,f=l.endToOffset,h=l.endIndex;if(h<i.content.childCount-1){var w=i.child(h+1),C=w.nodeSize,x=w.textContent;return a.delete(f,f+C).split(u).insert(a.mapping.map(u)-2,cn(s,x)),n(a),!0}return!1}},e.prototype.moveUp=function(){return function(r,n){var i=r.tr,a=r.doc,o=r.selection,s=r.schema,l=jr(o),u=l.startFromOffset,f=l.endToOffset,h=l.startIndex;if(h>0){var w=a.child(h-1),C=w.nodeSize,x=w.textContent;return i.delete(u-C,u).split(i.mapping.map(f)).insert(i.mapping.map(f),cn(s,x)),n(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e})(wr),Oye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e})(wr),Aye=/^#{1,6}\s/,Nye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.level,a=n.seText,o="heading|heading"+i;return a&&(o+="|delimiter|setext"),["span",{class:Gr.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(r,n,i){for(var a=n.replace(i,"").trim(),o="";r>0;)o+="#",r-=1;return o+" "+a},e.prototype.commands=function(){var r=this;return function(n){return function(i,a){var o=n.level,s=jr(i.selection),l=s.startFromOffset,u=s.endToOffset,f=s.startIndex,h=s.endIndex,w=cd({state:i,from:l,startIndex:f,endIndex:h,createText:function(C){var x=C.match(Aye),M=x?x[0]:"";return r.createHeadingText(o,C,M)}});return a(w.setSelection(xr(w,w.mapping.map(u)))),!0}}},e})(Tr),Ov="```",Dye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,o=r.tr,s=jr(i),l=s.startFromOffset,u=s.endToOffset,f=cn(a,Ov);return o.insert(l,f).split(l+Ov.length),o.split(o.mapping.map(u)).insert(o.mapping.map(u),f),n(o.setSelection(xr(o,o.mapping.map(u)-(Ov.length+2)))),!0}}},e.prototype.keepIndentation=function(){var r=this;return function(n,i){var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,f=jr(a),h=f.startFromOffset,w=f.endToOffset,C=f.endIndex,x=f.from,M=f.to,D=Do(s,C);if(x===M&&D.trim()){var B=D.match(/^\s+/),j=u.findFirstNodeAtLine(C+1);if(ege(j)&&B){var Q=B[0],Y=D.slice(M-h),te=cn(l,Q+Y);return Qg(o,w,Y,te),i(o),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,Enter:this.keepIndentation()}},e})(Tr),Rye=/\||\s/g;function Lye(t){return[hd(t),hd(t,!0)]}function Iye(t,e){for(var r=[],n=0;n<e;n+=1)r.push(hd(t));return r}function hd(t,e){for(var r="|",n=0;n<t;n+=1)r+=e?" --- |":"  |";return r}function Pye(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var _ye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.tr,l=n.schema;if(!a.empty)return!1;var u=jr(a),f=u.endFromOffset,h=u.endToOffset,w=u.endIndex,C=u.to,x=Do(o,w),M=[w+1,C-f+1],D=r.context.toastMark.findNodeAtPosition(M),B=Dl(D,function(se){return yk(se)&&(se.parent.type==="tableDelimRow"||se.parent.parent.type==="tableBody")});if(B){var j=!x.replace(Rye,"").trim(),Q=B.parent,Y=Q.parent.parent.columns.length,te=hd(Y);return j?s.deleteRange(f,h).split(s.mapping.map(h)):s.split(h).insert(s.mapping.map(h),cn(l,te)).setSelection(xr(s,s.mapping.map(h)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(r){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=jr(o),u=l.endFromOffset,f=l.endIndex,h=l.to,w=[f+1,h-u],C=n.context.toastMark.findNodeAtPosition(w),x=Dl(C,function(oe){return yk(oe)});if(x){var M=x.parent,D=Pye(r),B=D.type,j=D.parentType,Q=D.childType,Y=Mo(x);if(x[B])Y=Mo(x[B])-1;else{var te=!M[B]&&M.parent.type===j?M.parent[B][Q]:M[B];if(B==="next"){var se=te?Mo(te[Q]):0;Y+=se+2}else B==="prev"&&(Y=te?-4:0)}return a(s.setSelection(xr(s,u+Y))),!0}return!1}},e.prototype.addTable=function(){return function(r){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=r,u=l.columnCount,f=l.rowCount,h=jr(a).endToOffset,w=Lye(u),C=Iye(u,f-1),x=Kn(Kn([],w),C);return x.forEach(function(M){o.split(o.mapping.map(h)).insert(o.mapping.map(h),cn(s,M))}),i(o.setSelection(xr(o,h+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e})(Tr),Bye="***",Fye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(r,n){var i=r.selection,a=r.schema,o=r.tr,s=jr(i),l=s.from,u=s.to,f=s.endToOffset,h=cn(a,Bye);return o.split(l).replaceWith(o.mapping.map(l),o.mapping.map(u),h).split(o.mapping.map(u)).setSelection(xr(o,o.mapping.map(f))),n(o),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e})(Tr);function qye(t,e){var r=t.type,n=t.sourcepos,i=n[0][0];return e<=i&&(r==="codeBlock"||r==="heading"||r.match("table"))}var Hye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.odd,a=n.even,o=n.listStyle,s="list-item";return o&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),a&&(s+="|list-item-even"),["span",{class:Gr.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var r=this;return function(n,i){var a=n.selection,o=n.doc,s=n.schema,l=n.tr,u=r.context.toastMark,f=jr(a),h=f.to,w=f.startFromOffset,C=f.endFromOffset,x=f.endIndex,M=f.endToOffset,D=Do(o,x),B=Rs.test(D);if(!B||a.from===w||!a.empty)return!1;var j=!D.replace(dd,"").trim();if(j)l.deleteRange(C,M).split(l.mapping.map(M));else{var Q=oy(D),Y=u.findFirstNodeAtLine(x+1),te=D.slice(h-C),se={toastMark:u,mdNode:Y,doc:o,line:x+1},oe=Eye[Q](se),ge=oe.listSyntax,Se=oe.changedResults;if(Se!=null&&Se.length){l.split(h),Se.unshift({text:ge+te,line:x+1}),r.changeToListPerLine(l,Se,{from:h,startLine:Se[0].line,endLine:kn(Se).line});var qe=l.mapping.map(M)-te.length;l.setSelection(xr(l,qe))}else{var rt=cn(s,ge+te);Qg(l,M,te,rt)}}return i(l),!0}},e.prototype.toList=function(r){var n=this;return function(){return function(i,a){for(var o=i.doc,s=i.tr,l=i.selection,u=n.context.toastMark,f=jr(l),h=f.startIndex+1,w=f.endIndex+1,C=f.endToOffset,x=[],M=h;M<=w;M+=1){var D=u.findFirstNodeAtLine(M);if(D&&qye(D,M))break;if(x.indexOf(M)===-1){var B={toastMark:u,mdNode:D,doc:o,line:M,startLine:h},j=(As(D)?Tye[r](B):Sye[r](B)).changedResults,Q=n.changeToListPerLine(s,j,{from:fd(o,j[0].line-1).startOffset,startLine:j[0].line,endLine:kn(j).line,indexDiff:1});C=Math.max(Q,C),j&&(x=x.concat(j.map(function(Y){return Y.line})))}}return a(s.setSelection(xr(s,s.mapping.map(C)))),!0}}},e.prototype.changeToListPerLine=function(r,n,i){for(var a=i.from,o=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,f=0,h=function(x){var M=r.doc.child(x),D=M.nodeSize,B=M.content,j=r.mapping.map(a),Q=j+B.size,Y=n.filter(function(te){return te.line-u===x})[0];Y&&(r.replaceWith(j,Q,cn(w.context.schema,Y.text)),f=Math.max(f,a+B.size)),a+=D},w=this,C=o-u;C<=s-u;C+=1)h(C);return f},e.prototype.toggleTask=function(){var r=this;return function(n,i){for(var a=n.selection,o=n.tr,s=n.doc,l=n.schema,u=r.context.toastMark,f=jr(a),h=f.startIndex,w=f.endIndex,C=null,x=h;x<=w;x+=1){var M=u.findFirstNodeAtLine(x+1);if(As(M)&&M.listData.task){var D=M.listData,B=D.checked,j=D.padding,Q=B?" ":"x",Y=M.sourcepos[0],te=fd(s,Y[0]-1).startOffset;te+=Y[1]+j,C=o.replaceWith(te,te+1,l.text(Q))}}return C?(i(C),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var r=this.toList("bullet")(),n=this.toList("ordered")(),i=this.toList("task")(),a=this.toggleTask();return{"Mod-u":r,"Mod-U":r,"Mod-o":n,"Mod-O":n,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":a,"Shift-Ctrl-X":a,Enter:this.extendList()}},e})(Tr);function uh(t,e){return function(){return function(r,n){var i=r.tr,a=r.selection,o=Ti(t)?t:function(Q){return t.test(Q)},s=e.length,l=i.doc,u=lE(a),f=u[0],h=u[1],w=Math.max(f-s,1),C=Math.min(h+s,l.content.size-1),x=a.content(),M=x.content.textBetween(0,x.content.size,`
`),D=l.textBetween(w,f,`
`),B=l.textBetween(h,C,`
`);if(M=""+D+M+B,D&&B&&o(M))i.delete(C-s,C).delete(w,w+s);else{i.insertText(e,h).insertText(e,f);var j=a.empty?xr(i,f+s):xr(i,f+s,h+s);i.setSelection(j)}return n(i),!0}}}var Vye=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,zye="**",$ye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return uh(Vye,zye)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e})(Tr),Uye=/^(~{2}).*([\s\S]*)\1$/m,jye="~~",Wye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return uh(Uye,jye)},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e})(Tr),Gye=/^(\*|_).*([\s\S]*)\1$/m,Kye="*",Jye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return uh(Gye,Kye)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e})(Tr),Xye=/^(`).*([\s\S]*)\1$/m,Qye="`",Yye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.start,a=n.end,o=n.marked,s="code";return i&&(s+="|delimiter|start"),a&&(s+="|delimiter|end"),o&&(s+="|marked-text"),["span",{class:Gr.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return uh(Xye,Qye)},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e})(Tr),Zye=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(r){var n=r.attrs,i=n.url,a=n.desc,o="link";return i&&(o+="|link-url|marked-text"),a&&(o+="|link-desc|marked-text"),["span",{class:Gr.apply(void 0,o.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(r){return function(n){return function(i,a){var o=i.selection,s=i.tr,l=i.schema,u=lE(o),f=u[0],h=u[1],w=n,C=w.linkText,x=w.altText,M=w.linkUrl,D=w.imageUrl,B=C,j=M,Q="";return r==="image"&&(B=x,j=D,Q="!"),B=sd(B),Q+="["+B+"]("+j+")",a(s.replaceWith(f,h,cn(l,Q))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e})(Tr),ebe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),tbe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("delimiter")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),rbe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("meta")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),nbe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("marked-text")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),ibe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("table-cell")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),abe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("html")},0]}}},enumerable:!1,configurable:!0}),e})(Tr),Av="$$",obe=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Gr("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=jr(a),u=l.startFromOffset,f=l.endToOffset;if(!(r!=null&&r.info))return!1;var h=""+Av+r.info,w=cn(o,h),C=cn(o,Av);return s.insert(u,w).split(u+h.length),s.split(s.mapping.map(f)).insert(s.mapping.map(f),C),i(s.setSelection(xr(s,s.mapping.map(f)-(Av.length+2)))),!0}}},e})(Tr),sbe=/x|backspace/i,lbe=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function ube(t){var e=t.schema,r=t.toastMark;return new Jn({props:{handleDOMEvents:{keyup:function(n,i){var a,o=n.state,s=o.doc,l=o.tr,u=o.selection;if(u.empty&&sbe.test(i.key)){var f=jr(u),h=f.startIndex,w=f.startFromOffset,C=f.from,x=[h+1,C-w+1],M=r.findNodeAtPosition(x),D=Dl(M,function(rt){var je;return rt.type==="paragraph"&&((je=rt.parent)===null||je===void 0?void 0:je.type)==="item"});if(!((a=D==null?void 0:D.firstChild)===null||a===void 0)&&a.literal){var B=D.firstChild,j=B.literal.match(lbe);if(j){var Q=B.sourcepos[0],Y=j[1],te=j[2],se=j[3],oe=Y.length+se.length,ge=fd(s,Q[0]-1).startOffset,Se=Q[1]+ge;if(te){var qe=oe?oe+1:0;l.replaceWith(Se,qe+Se,e.text(te)),n.dispatch(l)}else oe||(l.insertText(" ",Se),n.dispatch(l))}}}return!1}}}})}var Nv="cut",Dk=/\r\n|\n|\r/,cbe=(function(t){ft(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toastMark,o=n.useCommandShortcut,s=o===void 0?!0:o,l=n.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=a,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Ae(Ae({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(f){return i.toggleActive(!0,f)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(r,n){Zg(this.el,"active",r),r?n||this.focus():this.blur()},e.prototype.createClipboard=function(){var r=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=gt("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(n){var i=n.clipboardData||window.clipboardData,a=i&&i.items;if(a){var o=va(a).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!o){var s=nE(a);s&&(n.preventDefault(),ny(r.eventEmitter,s,n.type))}}}),this.clipboard.addEventListener("input",function(n){var i=n.target.value;r.replaceSelection(i),n.preventDefault(),n.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new sE([new mye,new Mye,new aE,new Oye,new Nye,new gye,new Dye,new obe,new _ye,new ibe,new Fye,new Hye,new $ye,new Wye,new Jye,new Yye,new Zye,new tbe,new ebe,new nbe,new rbe,new abe])},e.prototype.createPlugins=function(){return Kn([iye(this.context),vye(this.context),ube(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var r=this;return new th(this.el,{state:this.createState(),dispatchTransaction:function(n){r.updateMarkdown(n);var i=r.view.state.applyTransaction(n).state;r.view.updateState(i),r.emitChangeEvent(n)},handleKeyDown:function(n,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&r.clipboard.focus(),r.eventEmitter.emit("keydown",r.editorType,i),!1},handleDOMEvents:{copy:function(n,i){return r.captureCopy(i)},cut:function(n,i){return r.captureCopy(i,Nv)},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0},keyup:function(n,i){return r.eventEmitter.emit("keyup",r.editorType,i),!1}},nodeViews:{widget:iE}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(r,n){r.preventDefault();var i=this.view.state,a=i.selection,o=i.tr;if(a.empty)return!0;var s=this.getChanged(a.content());return r.clipboardData?r.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),n===Nv&&this.view.dispatch(o.deleteSelection().scrollIntoView().setMeta("uiEvent",Nv)),!0},e.prototype.updateMarkdown=function(r){var n=this;r.docChanged&&r.steps.forEach(function(i,a){if(i.slice&&!(i instanceof Yr)){var o=r.docs[a],s=[i.from,i.to],l=s[0],u=s[1],f=Of(o,l,u),h=f[0],w=f[1],C=n.getChanged(i.slice);h[0]===w[0]&&h[1]===w[1]&&C===""&&(C=`
`);var x=n.toastMark.editMarkdown(h,w,C);n.eventEmitter.emit("updatePreview",x),r.setMeta("editResult",x).scrollIntoView()}})},e.prototype.getChanged=function(r){var n="",i=0,a=r.content.size;return r.content.nodesBetween(i,a,function(o,s){o.isText?n+=o.text.slice(Math.max(i,s)-s,a-s):o.isBlock&&s>0&&(n+=`
`)}),n},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=as(i.doc,r,n),o=a[0],s=a[1];this.view.dispatch(i.setSelection(xr(i,o,s)).scrollIntoView())},e.prototype.replaceSelection=function(r,n,i){var a,o=this.view.state,s=o.tr,l=o.schema,u=o.doc,f=r.split(Dk),h=f.map(function(D){return ud(l,ks(D,l))}),w=new ot(Ue.from(h),1,1);if(this.focus(),n&&i){var C=as(u,n,i),x=C[0],M=C[1];a=s.replaceRange(x,M,w)}else a=s.replaceSelection(w);this.view.dispatch(a.scrollIntoView())},e.prototype.deleteSelection=function(r,n){var i,a=this.view.state,o=a.tr,s=a.doc;if(r&&n){var l=as(s,r,n),u=l[0],f=l[1];i=o.deleteRange(u,f)}else i=o.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;if(r&&n){var u=as(a,r,n);s=u[0],l=u[1]}return a.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return Of(this.view.state.tr.doc,n,i)},e.prototype.setMarkdown=function(r,n){n===void 0&&(n=!0);var i=r.split(Dk),a=this.view.state,o=a.tr,s=a.doc,l=a.schema,u=i.map(function(f){return ud(l,ks(f,l))});this.view.dispatch(o.replaceWith(0,s.content.size,u)),n&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.doc,l=a.selection,u=i?as(s,i,i)[0]:l.to;this.view.dispatch(o.setMeta("widget",{pos:u,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=a.doc,u=as(l,r,n),f=ks(i,s);this.view.dispatch(o.replaceWith(u[0],u[1],f))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,o=r||Of(i,a.from)[0],s=this.toastMark.findNodeAtPosition(o);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(r){return oh(r)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e})(oE),Rk="_feEventKey";function fbe(t,e){var r=t[Rk],n;return r||(r=t[Rk]={}),n=r[e],n||(n=r[e]=[]),n}var vE=fbe,dbe=Xa,pd=nh,hbe=vE;function pbe(t,e,r){if(dbe(e)){pd(e.split(/\s+/g),function(n){Lk(t,n,r)});return}pd(e,function(n,i){Lk(t,i,n)})}function Lk(t,e,r){var n=hbe(t,e),i;r?(pd(n,function(a,o){return r===a.handler?(Ik(t,e,a.wrappedHandler),i=o,!1):!0}),n.splice(i,1)):(pd(n,function(a){Ik(t,e,a.wrappedHandler)}),n.splice(0,n.length))}function Ik(t,e,r){"removeEventListener"in t?t.removeEventListener(e,r):"detachEvent"in t&&t.detachEvent("on"+e,r)}var mE=pbe,vbe=Xa,Im=nh,mbe=vE;function gbe(t,e,r,n){if(vbe(e)){Im(e.split(/\s+/g),function(i){Pk(t,i,r,n)});return}Im(e,function(i,a){Pk(t,a,i,r)})}function Pk(t,e,r,n){function i(a){r.call(n||t,a||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),ybe(t,e,r,i)}function ybe(t,e,r,n){var i=mbe(t,e),a=!1;Im(i,function(o){return o.handler===r?(a=!0,!1):!0}),a||i.push({handler:r,wrappedHandler:n})}var gE=gbe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pm=function(t,e){return Pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Pm(t,e)};function Si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sn=function(){return sn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sn.apply(this,arguments)};function _m(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_k={};function bbe(t){var e,r,n=_k[t];if(n)return n;for(n=_k[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function ch(t,e,r){var n,i,a,o,s,l="";for(typeof e!="string"&&(r=e,e=ch.defaultChars),typeof r>"u"&&(r=!0),s=bbe(e),n=0,i=t.length;n<i;n++){if(a=t.charCodeAt(n),r&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}ch.defaultChars=";/?:@&=+$,-_.!~*'()#";ch.componentChars="-_.!~*'()";var wbe=ch,ly={},Ua={},kbe="",Cbe="",xbe="",Tbe="",Sbe="",Ebe="",Mbe="",Obe="",Abe="",Nbe="",Dbe="",Rbe="",Lbe="",Ibe="",Pbe="",_be="",Bbe="",Fbe="",qbe="",Hbe="",Vbe="",zbe="",$be="",Ube="",jbe="",Wbe="",Gbe="&",Kbe="&",Jbe="",Xbe="",Qbe="",Ybe="",Zbe="",e0e="",t0e="",r0e="",n0e="",i0e="",a0e="",o0e="",s0e="",l0e="",u0e="",c0e="",f0e="",d0e="",h0e="",p0e="",v0e="",m0e="",g0e="",y0e="",b0e="",w0e="",k0e="",C0e="",x0e="",T0e="",S0e="",E0e="",M0e="",O0e="'",A0e="",N0e="",D0e="",R0e="",L0e="",I0e="",P0e="",_0e="",B0e="*",F0e="",q0e="",H0e="",V0e="",z0e="",$0e="",U0e="",j0e="",W0e="",G0e="",K0e="",J0e="",X0e="",Q0e="",Y0e="",Z0e="",ewe="",twe="",rwe="",nwe="",iwe="",awe="",owe="",swe="",lwe="",uwe="",cwe="",fwe="",dwe="",hwe="",pwe="",vwe="",mwe="",gwe="",ywe="",bwe="",wwe="",kwe="",Cwe="",xwe="",Twe="",Swe="",Ewe="",Mwe="",Owe="",Awe="",Nwe="",Dwe="",Rwe="",Lwe="",Iwe="",Pwe="",_we="",Bwe="",Fwe="",qwe="",Hwe="",Vwe="",zwe="",$we="",Uwe="",jwe="",Wwe="",Gwe="=",Kwe="",Jwe="",Xwe="",Qwe="",Ywe="",Zwe="",eke="",tke="",rke="",nke="",ike="",ake="",oke="",ske="",lke="",uke="",cke="",fke="",dke="",hke="",pke="",vke="",mke="",gke="",yke="",bke="",wke="",kke="",Cke="",xke="",Tke="",Ske="",Eke="",Mke="",Oke="",Ake="",Nke="",Dke="",Rke="",Lke="",Ike="",Pke="",_ke="",Bke="",Fke="",qke="",Hke="",Vke="",zke="",$ke="",Uke="",jke="",Wke="",Gke="",Kke="",Jke="",Xke="",Qke="",Yke="",Zke="",e1e="",t1e="",r1e="\\",n1e="",i1e="",a1e="",o1e="",s1e="",l1e="",u1e="",c1e="",f1e="",d1e="",h1e="",p1e="",v1e="",m1e="",g1e="",y1e="",b1e="",w1e="",k1e="",C1e="",x1e="",T1e="",S1e="",E1e="",M1e="",O1e="",A1e="",N1e="",D1e="",R1e="",L1e="",I1e="",P1e="",_1e="",B1e="",F1e="",q1e="",H1e="",V1e="",z1e="",$1e="",U1e="",j1e="",W1e="",G1e="",K1e="",J1e="",X1e="",Q1e="",Y1e="",Z1e="",eCe="",tCe="",rCe="",nCe="",iCe="",aCe="",oCe="",sCe="",lCe="",uCe="",cCe="",fCe="",dCe="",hCe="",pCe="",vCe="",mCe="",gCe="",yCe="",bCe="",wCe="",kCe=":",CCe="",xCe="",TCe="",SCe="",ECe=",",MCe="@",OCe="",ACe="",NCe="",DCe="",RCe="",LCe="",ICe="",PCe="",_Ce="",BCe="",FCe="",qCe="",HCe="",VCe="",zCe="",$Ce="",UCe="",jCe="",WCe="",GCe="",KCe="",JCe="",XCe="",QCe="",YCe="",ZCe="",exe="",txe="",rxe="",nxe="",ixe="",axe="",oxe="",sxe="",lxe="",uxe="",cxe="",fxe="",dxe="",hxe="",pxe="",vxe="",mxe="",gxe="",yxe="",bxe="",wxe="",kxe="",Cxe="",xxe="",Txe="",Sxe="",Exe="",Mxe="",Oxe="",Axe="",Nxe="",Dxe="",Rxe="",Lxe="",Ixe="",Pxe="",_xe="",Bxe="",Fxe="",qxe="",Hxe="",Vxe="",zxe="",$xe="",Uxe="",jxe="",Wxe="",Gxe="",Kxe="",Jxe="",Xxe="",Qxe="",Yxe="",Zxe="",eTe="",tTe="",rTe="",nTe="",iTe="",aTe="",oTe="",sTe="",lTe="",uTe="",cTe="",fTe="",dTe="`",hTe="",pTe="",vTe="",mTe="",gTe="",yTe="",bTe="",wTe="",kTe="",CTe="",xTe="",TTe="",STe="",ETe="",MTe="",OTe="",ATe="",NTe="",DTe="$",RTe="",LTe="",ITe="",PTe="",_Te="",BTe="",FTe="",qTe="",HTe="",VTe="",zTe="",$Te="",UTe="",jTe="",WTe="",GTe="",KTe="",JTe="",XTe="",QTe="",YTe="",ZTe="",eSe="",tSe="",rSe="",nSe="",iSe="",aSe="",oSe="",sSe="",lSe="",uSe="",cSe="",fSe="",dSe="",hSe="",pSe="",vSe="",mSe="",gSe="",ySe="",bSe="",wSe="",kSe="",CSe="",xSe="",TSe="",SSe="",ESe="",MSe="",OSe="",ASe="",NSe="",DSe="",RSe="",LSe="",ISe="",PSe="",_Se="",BSe="",FSe="",qSe="",HSe="",VSe="",zSe="",$Se="",USe="",jSe="",WSe="",GSe="",KSe="",JSe="",XSe="",QSe="",YSe="",ZSe="",eEe="",tEe="",rEe="",nEe="",iEe="",aEe="",oEe="",sEe="",lEe="",uEe="",cEe="",fEe="",dEe="",hEe="",pEe="",vEe="",mEe="",gEe="",yEe="",bEe="",wEe="",kEe="",CEe="",xEe="",TEe="",SEe="",EEe="",MEe="",OEe="",AEe="",NEe="",DEe="",REe="",LEe="",IEe="",PEe="",_Ee="",BEe="",FEe="",qEe="",HEe="",VEe="",zEe="",$Ee="",UEe="",jEe="",WEe="",GEe="=",KEe="",JEe="",XEe="",QEe="",YEe="",ZEe="",eMe="",tMe="",rMe="",nMe="",iMe="",aMe="",oMe="",sMe="",lMe="",uMe="",cMe="",fMe="",dMe="",hMe="",pMe="!",vMe="",mMe="",gMe="",yMe="",bMe="",wMe="",kMe="",CMe="",xMe="",TMe="",SMe="",EMe="",MMe="",OMe="",AMe="",NMe="",DMe="",RMe="fj",LMe="",IMe="",PMe="",_Me="",BMe="",FMe="",qMe="",HMe="",VMe="",zMe="",$Me="",UMe="",jMe="",WMe="",GMe="",KMe="",JMe="",XMe="",QMe="",YMe="",ZMe="",eOe="",tOe="",rOe="",nOe="",iOe="",aOe="",oOe="",sOe="",lOe="",uOe="",cOe="",fOe="",dOe="",hOe="",pOe="",vOe="",mOe="",gOe="",yOe="",bOe="",wOe="",kOe="",COe="",xOe="",TOe="",SOe="",EOe="",MOe="",OOe="",AOe="",NOe="",DOe="",ROe="",LOe="",IOe="",POe="",_Oe="",BOe="",FOe="",qOe="",HOe="",VOe="",zOe="",$Oe="",UOe="",jOe="",WOe="",GOe="",KOe="",JOe="",XOe="",QOe="",YOe="",ZOe="",eAe="",tAe="",rAe="",nAe="",iAe="",aAe="",oAe="`",sAe="",lAe="",uAe="",cAe="",fAe="",dAe="",hAe="",pAe="",vAe="",mAe="",gAe="",yAe="",bAe="",wAe="",kAe=">",CAe=">",xAe="",TAe="",SAe="",EAe="",MAe="",OAe="",AAe="",NAe="",DAe="",RAe="",LAe="",IAe="",PAe="",_Ae="",BAe="",FAe="",qAe="",HAe="",VAe="",zAe="",$Ae="",UAe="",jAe="",WAe="^",GAe="",KAe="",JAe="",XAe="",QAe="",YAe="",ZAe="",eNe="",tNe="",rNe="",nNe="",iNe="",aNe="",oNe="",sNe="",lNe="",uNe="",cNe="",fNe="",dNe="",hNe="",pNe="",vNe="",mNe="",gNe="",yNe="",bNe="",wNe="",kNe="",CNe="",xNe="",TNe="",SNe="",ENe="",MNe="",ONe="",ANe="",NNe="",DNe="",RNe="",LNe="",INe="",PNe="",_Ne="",BNe="",FNe="",qNe="",HNe="",VNe="",zNe="",$Ne="",UNe="",jNe="",WNe="",GNe="",KNe="",JNe="",XNe="",QNe="",YNe="",ZNe="",eDe="",tDe="",rDe="",nDe="",iDe="",aDe="",oDe="",sDe="",lDe="",uDe="",cDe="",fDe="",dDe="",hDe="",pDe="",vDe="",mDe="",gDe="",yDe="",bDe="",wDe="",kDe="",CDe="",xDe="",TDe="",SDe="",EDe="",MDe="",ODe="",ADe="",NDe="",DDe="",RDe="",LDe="",IDe="",PDe="",_De="",BDe="",FDe="",qDe="",HDe="",VDe="",zDe="",$De="",UDe="",jDe="",WDe="",GDe="",KDe="",JDe="",XDe="",QDe="",YDe="",ZDe="",eRe="",tRe="",rRe="",nRe="",iRe="",aRe="",oRe="",sRe="",lRe="",uRe="",cRe="",fRe="",dRe="",hRe="",pRe="",vRe="",mRe="",gRe="",yRe="",bRe="",wRe="",kRe="",CRe="",xRe="",TRe="",SRe="",ERe="",MRe="",ORe="",ARe="",NRe="",DRe="",RRe="",LRe="",IRe="",PRe="",_Re="",BRe="",FRe="",qRe="",HRe="",VRe="",zRe="",$Re="",URe="",jRe="",WRe="",GRe="",KRe="",JRe="",XRe="",QRe="",YRe="",ZRe="",eLe="{",tLe="[",rLe="",nLe="",iLe="",aLe="",oLe="",sLe="",lLe="",uLe="",cLe="{",fLe="",dLe="",hLe="",pLe="",vLe="",mLe="",gLe="",yLe="",bLe="",wLe="",kLe="",CLe="",xLe="",TLe="",SLe="",ELe="",MLe="",OLe="",ALe="",NLe="",DLe="",RLe="",LLe="",ILe="",PLe="",_Le="",BLe="",FLe="",qLe="",HLe="",VLe="",zLe="",$Le="",ULe="",jLe="",WLe="",GLe="",KLe="",JLe="",XLe="",QLe="",YLe="",ZLe="",eIe="",tIe="",rIe="",nIe="",iIe="",aIe="",oIe="",sIe="",lIe="",uIe="",cIe="",fIe="",dIe="",hIe="",pIe="",vIe="",mIe="",gIe="",yIe="",bIe="",wIe="",kIe="",CIe="",xIe="",TIe="",SIe="",EIe="",MIe="",OIe="",AIe="",NIe="",DIe="",RIe="",LIe="",IIe="",PIe="",_Ie="",BIe="",FIe="",qIe="",HIe="",VIe="",zIe="",$Ie="",UIe="",jIe="",WIe="",GIe="",KIe="",JIe="",XIe="",QIe="",YIe="",ZIe="",ePe="",tPe="",rPe="",nPe="",iPe="",aPe="",oPe="",sPe="",lPe="",uPe="",cPe="",fPe="",dPe="",hPe="",pPe="",vPe="",mPe="",gPe="",yPe="",bPe="",wPe="",kPe="",CPe="",xPe="",TPe="",SPe="_",EPe="",MPe="",OPe="",APe="",NPe="",DPe="(",RPe="",LPe="",IPe="",PPe="",_Pe="",BPe="",FPe="",qPe="",HPe="",VPe="",zPe="",$Pe="",UPe="",jPe="",WPe="",GPe="[",KPe="",JPe="",XPe="",QPe="",YPe="",ZPe="",e_e="<",t_e="<",r_e="",n_e="",i_e="",a_e="",o_e="",s_e="",l_e="",u_e="",c_e="",f_e="",d_e="",h_e="",p_e="",v_e="",m_e="",g_e="",y_e="",b_e="",w_e="",k_e="",C_e="",x_e="",T_e="",S_e="",E_e="",M_e="",O_e="",A_e="",N_e="",D_e="",R_e="",L_e="",I_e="",P_e="",__e="",B_e="",F_e="*",q_e="",H_e="",V_e="",z_e="",$_e="",U_e="",j_e="",W_e="",G_e="",K_e="",J_e="",X_e="",Q_e="",Y_e="",Z_e="",eBe="",tBe="",rBe="",nBe="",iBe="",aBe="",oBe="",sBe="",lBe="",uBe="",cBe="",fBe="",dBe="",hBe="",pBe="",vBe="",mBe="",gBe="",yBe="",bBe="",wBe="",kBe="",CBe="",xBe="",TBe="",SBe="",EBe="",MBe="",OBe="",ABe="",NBe="",DBe="",RBe="",LBe="",IBe="",PBe="",_Be="",BBe="",FBe="",qBe="",HBe="",VBe="",zBe="",$Be="",UBe="",jBe="",WBe="",GBe="",KBe=`
`,JBe="",XBe="",QBe="",YBe="",ZBe="",eFe="",tFe="",rFe="",nFe="",iFe="",aFe="",oFe="",sFe="",lFe="",uFe="",cFe="",fFe="",dFe="",hFe="",pFe="",vFe="",mFe="",gFe="",yFe="",bFe="",wFe="",kFe="",CFe="",xFe="",TFe="",SFe="",EFe="",MFe="",OFe="",AFe="",NFe="",DFe="",RFe="",LFe="",IFe="",PFe="",_Fe="",BFe="",FFe="",qFe="",HFe="",VFe="",zFe="",$Fe="",UFe="",jFe="",WFe="",GFe="",KFe="",JFe="",XFe="",QFe="",YFe="",ZFe="",e2e="",t2e="",r2e="",n2e="",i2e="",a2e="",o2e="",s2e="",l2e="",u2e="",c2e="",f2e="",d2e="",h2e="",p2e="",v2e="",m2e="",g2e="",y2e="",b2e="",w2e="",k2e="",C2e="",x2e="",T2e="",S2e="",E2e="",M2e="",O2e="",A2e="",N2e="",D2e="",R2e="",L2e="",I2e="",P2e="",_2e="",B2e="",F2e="",q2e="",H2e="",V2e="",z2e="",$2e="",U2e="",j2e="",W2e="",G2e="",K2e="",J2e="",X2e="",Q2e="",Y2e="",Z2e="",eqe="",tqe="",rqe="",nqe="",iqe="",aqe="",oqe="",sqe="",lqe="",uqe="",cqe="",fqe="",dqe="",hqe="",pqe="",vqe="",mqe="",gqe="",yqe="",bqe="",wqe="",kqe="",Cqe="",xqe="",Tqe="",Sqe="",Eqe="",Mqe="",Oqe="",Aqe="",Nqe="",Dqe="",Rqe="",Lqe="",Iqe="",Pqe="",_qe="",Bqe="",Fqe="",qqe="",Hqe="",Vqe="",zqe="",$qe="",Uqe="",jqe="",Wqe="",Gqe="",Kqe="",Jqe="",Xqe="",Qqe="",Yqe="",Zqe="",eHe="",tHe="",rHe="",nHe="#",iHe="",aHe="",oHe="",sHe="",lHe="",uHe="",cHe="",fHe="",dHe=">",hHe="",pHe="",vHe="",mHe="",gHe="<",yHe="",bHe="",wHe="",kHe="",CHe="",xHe="",THe="",SHe="",EHe="",MHe="",OHe="",AHe="",NHe="",DHe="",RHe="",LHe="",IHe="",PHe="",_He="",BHe="",FHe="",qHe="",HHe="",VHe="",zHe="",$He="",UHe="",jHe="",WHe="",GHe="",KHe="",JHe="",XHe="",QHe="",YHe="",ZHe="",eVe="",tVe="",rVe="",nVe="",iVe="",aVe="",oVe="",sVe="",lVe="",uVe="",cVe="",fVe="",dVe="",hVe="",pVe="",vVe="",mVe="",gVe="",yVe="",bVe="",wVe="",kVe="",CVe="",xVe="",TVe="",SVe="",EVe="",MVe="",OVe="",AVe="",NVe="",DVe="",RVe="",LVe="",IVe="",PVe="",_Ve="",BVe="",FVe="",qVe="",HVe="",VVe="",zVe="",$Ve="",UVe="",jVe="",WVe="",GVe="",KVe="",JVe="",XVe="",QVe="",YVe="",ZVe="",eze="",tze="",rze="",nze="",ize="%",aze=".",oze="",sze="",lze="",uze="",cze="",fze="",dze="",hze="",pze="",vze="",mze="",gze="",yze="",bze="",wze="",kze="",Cze="",xze="",Tze="",Sze="",Eze="+",Mze="",Oze="",Aze="",Nze="",Dze="",Rze="",Lze="",Ize="",Pze="",_ze="",Bze="",Fze="",qze="",Hze="",Vze="",zze="",$ze="",Uze="",jze="",Wze="",Gze="",Kze="",Jze="",Xze="",Qze="",Yze="",Zze="",e$e="",t$e="",r$e="",n$e="",i$e="",a$e="",o$e="",s$e="",l$e="",u$e="",c$e="",f$e="",d$e="",h$e="",p$e="",v$e="",m$e="",g$e="",y$e="",b$e="",w$e="",k$e="",C$e="",x$e="",T$e="",S$e="",E$e="",M$e="",O$e="",A$e="",N$e="",D$e="",R$e="",L$e="",I$e="",P$e="",_$e="?",B$e="",F$e='"',q$e='"',H$e="",V$e="",z$e="",$$e="",U$e="",j$e="",W$e="",G$e="",K$e="",J$e="",X$e="",Q$e="",Y$e="",Z$e="",eUe="",tUe="",rUe="",nUe="",iUe="",aUe="",oUe="",sUe="",lUe="",uUe="",cUe="",fUe="",dUe="",hUe="",pUe="",vUe="",mUe="",gUe="",yUe="",bUe="",wUe="",kUe="}",CUe="]",xUe="",TUe="",SUe="",EUe="",MUe="",OUe="",AUe="",NUe="",DUe="}",RUe="",LUe="",IUe="",PUe="",_Ue="",BUe="",FUe="",qUe="",HUe="",VUe="",zUe="",$Ue="",UUe="",jUe="",WUe="",GUe="",KUe="",JUe="",XUe="",QUe="",YUe="",ZUe="",e3e="",t3e="",r3e="",n3e="",i3e="",a3e="",o3e="",s3e="",l3e="",u3e="",c3e="",f3e="",d3e="",h3e="",p3e="",v3e="",m3e="",g3e="",y3e="",b3e="",w3e="",k3e="",C3e="",x3e="",T3e="",S3e="",E3e="",M3e="",O3e="",A3e="",N3e="",D3e="",R3e="",L3e="",I3e="",P3e="",_3e="",B3e="",F3e="",q3e="",H3e="",V3e="",z3e="",$3e="",U3e="",j3e="",W3e="",G3e="",K3e="",J3e="",X3e="",Q3e="",Y3e="",Z3e="",e4e="",t4e="",r4e=")",n4e="",i4e="",a4e="",o4e="",s4e="",l4e="",u4e="",c4e="",f4e="",d4e="]",h4e="",p4e="",v4e="",m4e="",g4e="",y4e="",b4e="",w4e="",k4e="",C4e="",x4e="",T4e="",S4e="",E4e="",M4e="",O4e="",A4e="",N4e="",D4e="",R4e="",L4e="",I4e="",P4e="",_4e="",B4e="",F4e="",q4e="",H4e="",V4e="",z4e="",$4e="",U4e="",j4e="",W4e="",G4e="",K4e="",J4e="",X4e="",Q4e="",Y4e="",Z4e="",eje=";",tje="",rje="",nje="",ije="",aje="",oje="",sje="",lje="",uje="",cje="",fje="",dje="",hje="",pje="",vje="",mje="",gje="",yje="",bje="",wje="",kje="",Cje="",xje="",Tje="",Sje="",Eje="",Mje="",Oje="",Aje="",Nje="",Dje="",Rje="",Lje="",Ije="",Pje="",_je="",Bje="",Fje="",qje="",Hje="",Vje="",zje="",$je="",Uje="",jje="",Wje="",Gje="",Kje="",Jje="/",Xje="",Qje="",Yje="",Zje="",eWe="",tWe="",rWe="",nWe="",iWe="",aWe="",oWe="",sWe="",lWe="",uWe="",cWe="",fWe="",dWe="",hWe="",pWe="",vWe="",mWe="",gWe="",yWe="",bWe="",wWe="",kWe="",CWe="",xWe="",TWe="",SWe="",EWe="",MWe="",OWe="",AWe="",NWe="",DWe="",RWe="",LWe="",IWe="",PWe="",_We="",BWe="",FWe="",qWe="",HWe="",VWe="",zWe="",$We="",UWe="",jWe="",WWe="",GWe="",KWe="",JWe="",XWe="",QWe="",YWe="",ZWe="",e5e="",t5e="",r5e="",n5e="",i5e="",a5e="",o5e="",s5e="",l5e="",u5e="",c5e="",f5e="",d5e="",h5e="",p5e="",v5e="",m5e="",g5e="",y5e="",b5e="",w5e="",k5e="",C5e="",x5e="",T5e="",S5e="",E5e="",M5e="",O5e="",A5e="",N5e="",D5e="",R5e="",L5e="",I5e="",P5e="",_5e="",B5e="",F5e="",q5e="",H5e="",V5e="",z5e="",$5e="",U5e="",j5e="",W5e="",G5e="",K5e="",J5e="",X5e="",Q5e="",Y5e="",Z5e="",e6e="	",t6e="",r6e="",n6e="",i6e="",a6e="",o6e="",s6e="",l6e="",u6e="",c6e="",f6e="",d6e="",h6e="",p6e="",v6e="",m6e="",g6e="",y6e="",b6e="",w6e="",k6e="",C6e="",x6e="",T6e="",S6e="",E6e="",M6e="",O6e="",A6e="",N6e="",D6e="",R6e="",L6e="",I6e="",P6e="",_6e="",B6e="",F6e="",q6e="",H6e="",V6e="",z6e="",$6e="",U6e="",j6e="",W6e="",G6e="",K6e="",J6e="",X6e="",Q6e="",Y6e="",Z6e="",e8e="",t8e="",r8e="",n8e="",i8e="",a8e="",o8e="",s8e="",l8e="",u8e="",c8e="",f8e="",d8e="",h8e="",p8e="",v8e="",m8e="",g8e="",y8e="",b8e="",w8e="",k8e="",C8e="",x8e="",T8e="",S8e="",E8e="",M8e="",O8e="",A8e="",N8e="",D8e="",R8e="",L8e="",I8e="",P8e="",_8e="",B8e="",F8e="",q8e="",H8e="",V8e="",z8e="",$8e="",U8e="",j8e="",W8e="",G8e="",K8e="",J8e="",X8e="",Q8e="",Y8e="",Z8e="",eGe="",tGe="",rGe="",nGe="",iGe="_",aGe="",oGe="",sGe="",lGe="",uGe="",cGe="",fGe="",dGe="",hGe="",pGe="",vGe="",mGe="",gGe="",yGe="",bGe="",wGe="",kGe="",CGe="",xGe="",TGe="",SGe="",EGe="",MGe="",OGe="",AGe="",NGe="",DGe="",RGe="",LGe="",IGe="",PGe="",_Ge="",BGe="",FGe="",qGe="",HGe="",VGe="",zGe="",$Ge="",UGe="",jGe="",WGe="",GGe="",KGe="",JGe="",XGe="",QGe="",YGe="",ZGe="",eKe="",tKe="",rKe="",nKe="",iKe="",aKe="",oKe="",sKe="",lKe="",uKe="",cKe="",fKe="",dKe="",hKe="",pKe="",vKe="",mKe="",gKe="",yKe="",bKe="",wKe="",kKe="",CKe="",xKe="",TKe="",SKe="",EKe="",MKe="",OKe="",AKe="",NKe="",DKe="",RKe="|",LKe="",IKe="|",PKe="",_Ke="",BKe="|",FKe="",qKe="",HKe="",VKe="",zKe="",$Ke="",UKe="",jKe="",WKe="",GKe="",KKe="",JKe="",XKe="",QKe="",YKe="",ZKe="",e9e="",t9e="",r9e="",n9e="",i9e="",a9e="",o9e="",s9e="",l9e="",u9e="",c9e="",f9e="",d9e="",h9e="",p9e="",v9e="",m9e="",g9e="",y9e="",b9e="",w9e="",k9e="",C9e="",x9e="",T9e="",S9e="",E9e="",M9e="",O9e="",A9e="",N9e="",D9e="",R9e="",L9e="",I9e="",P9e="",_9e="",B9e="",F9e="",q9e="",H9e="",V9e="",z9e="",$9e="",U9e="",j9e="",W9e="",G9e="",K9e="",J9e="",X9e="",Q9e="",Y9e="",Z9e="",e7e="",t7e="",r7e="",n7e="",i7e="",a7e="",o7e="",s7e="",l7e="",u7e="",c7e="",f7e="",d7e="",h7e="",p7e="",v7e="",m7e="",g7e="",y7e="",b7e="",w7e="",k7e="",C7e="",x7e="",T7e="",S7e="",E7e="",M7e="",O7e="",A7e="",N7e="",D7e="",R7e="",L7e="",I7e="",P7e="",_7e="",B7e="",yE={Aacute:kbe,aacute:Cbe,Abreve:xbe,abreve:Tbe,ac:Sbe,acd:Ebe,acE:Mbe,Acirc:Obe,acirc:Abe,acute:Nbe,Acy:Dbe,acy:Rbe,AElig:Lbe,aelig:Ibe,af:Pbe,Afr:_be,afr:Bbe,Agrave:Fbe,agrave:qbe,alefsym:Hbe,aleph:Vbe,Alpha:zbe,alpha:$be,Amacr:Ube,amacr:jbe,amalg:Wbe,amp:Gbe,AMP:Kbe,andand:Jbe,And:Xbe,and:Qbe,andd:Ybe,andslope:Zbe,andv:e0e,ang:t0e,ange:r0e,angle:n0e,angmsdaa:i0e,angmsdab:a0e,angmsdac:o0e,angmsdad:s0e,angmsdae:l0e,angmsdaf:u0e,angmsdag:c0e,angmsdah:f0e,angmsd:d0e,angrt:h0e,angrtvb:p0e,angrtvbd:v0e,angsph:m0e,angst:g0e,angzarr:y0e,Aogon:b0e,aogon:w0e,Aopf:k0e,aopf:C0e,apacir:x0e,ap:T0e,apE:S0e,ape:E0e,apid:M0e,apos:O0e,ApplyFunction:A0e,approx:N0e,approxeq:D0e,Aring:R0e,aring:L0e,Ascr:I0e,ascr:P0e,Assign:_0e,ast:B0e,asymp:F0e,asympeq:q0e,Atilde:H0e,atilde:V0e,Auml:z0e,auml:$0e,awconint:U0e,awint:j0e,backcong:W0e,backepsilon:G0e,backprime:K0e,backsim:J0e,backsimeq:X0e,Backslash:Q0e,Barv:Y0e,barvee:Z0e,barwed:ewe,Barwed:twe,barwedge:rwe,bbrk:nwe,bbrktbrk:iwe,bcong:awe,Bcy:owe,bcy:swe,bdquo:lwe,becaus:uwe,because:cwe,Because:fwe,bemptyv:dwe,bepsi:hwe,bernou:pwe,Bernoullis:vwe,Beta:mwe,beta:gwe,beth:ywe,between:bwe,Bfr:wwe,bfr:kwe,bigcap:Cwe,bigcirc:xwe,bigcup:Twe,bigodot:Swe,bigoplus:Ewe,bigotimes:Mwe,bigsqcup:Owe,bigstar:Awe,bigtriangledown:Nwe,bigtriangleup:Dwe,biguplus:Rwe,bigvee:Lwe,bigwedge:Iwe,bkarow:Pwe,blacklozenge:_we,blacksquare:Bwe,blacktriangle:Fwe,blacktriangledown:qwe,blacktriangleleft:Hwe,blacktriangleright:Vwe,blank:zwe,blk12:$we,blk14:Uwe,blk34:jwe,block:Wwe,bne:Gwe,bnequiv:Kwe,bNot:Jwe,bnot:Xwe,Bopf:Qwe,bopf:Ywe,bot:Zwe,bottom:eke,bowtie:tke,boxbox:rke,boxdl:nke,boxdL:ike,boxDl:ake,boxDL:oke,boxdr:ske,boxdR:lke,boxDr:uke,boxDR:cke,boxh:fke,boxH:dke,boxhd:hke,boxHd:pke,boxhD:vke,boxHD:mke,boxhu:gke,boxHu:yke,boxhU:bke,boxHU:wke,boxminus:kke,boxplus:Cke,boxtimes:xke,boxul:Tke,boxuL:Ske,boxUl:Eke,boxUL:Mke,boxur:Oke,boxuR:Ake,boxUr:Nke,boxUR:Dke,boxv:Rke,boxV:Lke,boxvh:Ike,boxvH:Pke,boxVh:_ke,boxVH:Bke,boxvl:Fke,boxvL:qke,boxVl:Hke,boxVL:Vke,boxvr:zke,boxvR:$ke,boxVr:Uke,boxVR:jke,bprime:Wke,breve:Gke,Breve:Kke,brvbar:Jke,bscr:Xke,Bscr:Qke,bsemi:Yke,bsim:Zke,bsime:e1e,bsolb:t1e,bsol:r1e,bsolhsub:n1e,bull:i1e,bullet:a1e,bump:o1e,bumpE:s1e,bumpe:l1e,Bumpeq:u1e,bumpeq:c1e,Cacute:f1e,cacute:d1e,capand:h1e,capbrcup:p1e,capcap:v1e,cap:m1e,Cap:g1e,capcup:y1e,capdot:b1e,CapitalDifferentialD:w1e,caps:k1e,caret:C1e,caron:x1e,Cayleys:T1e,ccaps:S1e,Ccaron:E1e,ccaron:M1e,Ccedil:O1e,ccedil:A1e,Ccirc:N1e,ccirc:D1e,Cconint:R1e,ccups:L1e,ccupssm:I1e,Cdot:P1e,cdot:_1e,cedil:B1e,Cedilla:F1e,cemptyv:q1e,cent:H1e,centerdot:V1e,CenterDot:z1e,cfr:$1e,Cfr:U1e,CHcy:j1e,chcy:W1e,check:G1e,checkmark:K1e,Chi:J1e,chi:X1e,circ:Q1e,circeq:Y1e,circlearrowleft:Z1e,circlearrowright:eCe,circledast:tCe,circledcirc:rCe,circleddash:nCe,CircleDot:iCe,circledR:aCe,circledS:oCe,CircleMinus:sCe,CirclePlus:lCe,CircleTimes:uCe,cir:cCe,cirE:fCe,cire:dCe,cirfnint:hCe,cirmid:pCe,cirscir:vCe,ClockwiseContourIntegral:mCe,CloseCurlyDoubleQuote:gCe,CloseCurlyQuote:yCe,clubs:bCe,clubsuit:wCe,colon:kCe,Colon:CCe,Colone:xCe,colone:TCe,coloneq:SCe,comma:ECe,commat:MCe,comp:OCe,compfn:ACe,complement:NCe,complexes:DCe,cong:RCe,congdot:LCe,Congruent:ICe,conint:PCe,Conint:_Ce,ContourIntegral:BCe,copf:FCe,Copf:qCe,coprod:HCe,Coproduct:VCe,copy:zCe,COPY:$Ce,copysr:UCe,CounterClockwiseContourIntegral:jCe,crarr:WCe,cross:GCe,Cross:KCe,Cscr:JCe,cscr:XCe,csub:QCe,csube:YCe,csup:ZCe,csupe:exe,ctdot:txe,cudarrl:rxe,cudarrr:nxe,cuepr:ixe,cuesc:axe,cularr:oxe,cularrp:sxe,cupbrcap:lxe,cupcap:uxe,CupCap:cxe,cup:fxe,Cup:dxe,cupcup:hxe,cupdot:pxe,cupor:vxe,cups:mxe,curarr:gxe,curarrm:yxe,curlyeqprec:bxe,curlyeqsucc:wxe,curlyvee:kxe,curlywedge:Cxe,curren:xxe,curvearrowleft:Txe,curvearrowright:Sxe,cuvee:Exe,cuwed:Mxe,cwconint:Oxe,cwint:Axe,cylcty:Nxe,dagger:Dxe,Dagger:Rxe,daleth:Lxe,darr:Ixe,Darr:Pxe,dArr:_xe,dash:Bxe,Dashv:Fxe,dashv:qxe,dbkarow:Hxe,dblac:Vxe,Dcaron:zxe,dcaron:$xe,Dcy:Uxe,dcy:jxe,ddagger:Wxe,ddarr:Gxe,DD:Kxe,dd:Jxe,DDotrahd:Xxe,ddotseq:Qxe,deg:Yxe,Del:Zxe,Delta:eTe,delta:tTe,demptyv:rTe,dfisht:nTe,Dfr:iTe,dfr:aTe,dHar:oTe,dharl:sTe,dharr:lTe,DiacriticalAcute:uTe,DiacriticalDot:cTe,DiacriticalDoubleAcute:fTe,DiacriticalGrave:dTe,DiacriticalTilde:hTe,diam:pTe,diamond:vTe,Diamond:mTe,diamondsuit:gTe,diams:yTe,die:bTe,DifferentialD:wTe,digamma:kTe,disin:CTe,div:xTe,divide:TTe,divideontimes:STe,divonx:ETe,DJcy:MTe,djcy:OTe,dlcorn:ATe,dlcrop:NTe,dollar:DTe,Dopf:RTe,dopf:LTe,Dot:ITe,dot:PTe,DotDot:_Te,doteq:BTe,doteqdot:FTe,DotEqual:qTe,dotminus:HTe,dotplus:VTe,dotsquare:zTe,doublebarwedge:$Te,DoubleContourIntegral:UTe,DoubleDot:jTe,DoubleDownArrow:WTe,DoubleLeftArrow:GTe,DoubleLeftRightArrow:KTe,DoubleLeftTee:JTe,DoubleLongLeftArrow:XTe,DoubleLongLeftRightArrow:QTe,DoubleLongRightArrow:YTe,DoubleRightArrow:ZTe,DoubleRightTee:eSe,DoubleUpArrow:tSe,DoubleUpDownArrow:rSe,DoubleVerticalBar:nSe,DownArrowBar:iSe,downarrow:aSe,DownArrow:oSe,Downarrow:sSe,DownArrowUpArrow:lSe,DownBreve:uSe,downdownarrows:cSe,downharpoonleft:fSe,downharpoonright:dSe,DownLeftRightVector:hSe,DownLeftTeeVector:pSe,DownLeftVectorBar:vSe,DownLeftVector:mSe,DownRightTeeVector:gSe,DownRightVectorBar:ySe,DownRightVector:bSe,DownTeeArrow:wSe,DownTee:kSe,drbkarow:CSe,drcorn:xSe,drcrop:TSe,Dscr:SSe,dscr:ESe,DScy:MSe,dscy:OSe,dsol:ASe,Dstrok:NSe,dstrok:DSe,dtdot:RSe,dtri:LSe,dtrif:ISe,duarr:PSe,duhar:_Se,dwangle:BSe,DZcy:FSe,dzcy:qSe,dzigrarr:HSe,Eacute:VSe,eacute:zSe,easter:$Se,Ecaron:USe,ecaron:jSe,Ecirc:WSe,ecirc:GSe,ecir:KSe,ecolon:JSe,Ecy:XSe,ecy:QSe,eDDot:YSe,Edot:ZSe,edot:eEe,eDot:tEe,ee:rEe,efDot:nEe,Efr:iEe,efr:aEe,eg:oEe,Egrave:sEe,egrave:lEe,egs:uEe,egsdot:cEe,el:fEe,Element:dEe,elinters:hEe,ell:pEe,els:vEe,elsdot:mEe,Emacr:gEe,emacr:yEe,empty:bEe,emptyset:wEe,EmptySmallSquare:kEe,emptyv:CEe,EmptyVerySmallSquare:xEe,emsp13:TEe,emsp14:SEe,emsp:EEe,ENG:MEe,eng:OEe,ensp:AEe,Eogon:NEe,eogon:DEe,Eopf:REe,eopf:LEe,epar:IEe,eparsl:PEe,eplus:_Ee,epsi:BEe,Epsilon:FEe,epsilon:qEe,epsiv:HEe,eqcirc:VEe,eqcolon:zEe,eqsim:$Ee,eqslantgtr:UEe,eqslantless:jEe,Equal:WEe,equals:GEe,EqualTilde:KEe,equest:JEe,Equilibrium:XEe,equiv:QEe,equivDD:YEe,eqvparsl:ZEe,erarr:eMe,erDot:tMe,escr:rMe,Escr:nMe,esdot:iMe,Esim:aMe,esim:oMe,Eta:sMe,eta:lMe,ETH:uMe,eth:cMe,Euml:fMe,euml:dMe,euro:hMe,excl:pMe,exist:vMe,Exists:mMe,expectation:gMe,exponentiale:yMe,ExponentialE:bMe,fallingdotseq:wMe,Fcy:kMe,fcy:CMe,female:xMe,ffilig:TMe,fflig:SMe,ffllig:EMe,Ffr:MMe,ffr:OMe,filig:AMe,FilledSmallSquare:NMe,FilledVerySmallSquare:DMe,fjlig:RMe,flat:LMe,fllig:IMe,fltns:PMe,fnof:_Me,Fopf:BMe,fopf:FMe,forall:qMe,ForAll:HMe,fork:VMe,forkv:zMe,Fouriertrf:$Me,fpartint:UMe,frac12:jMe,frac13:WMe,frac14:GMe,frac15:KMe,frac16:JMe,frac18:XMe,frac23:QMe,frac25:YMe,frac34:ZMe,frac35:eOe,frac38:tOe,frac45:rOe,frac56:nOe,frac58:iOe,frac78:aOe,frasl:oOe,frown:sOe,fscr:lOe,Fscr:uOe,gacute:cOe,Gamma:fOe,gamma:dOe,Gammad:hOe,gammad:pOe,gap:vOe,Gbreve:mOe,gbreve:gOe,Gcedil:yOe,Gcirc:bOe,gcirc:wOe,Gcy:kOe,gcy:COe,Gdot:xOe,gdot:TOe,ge:SOe,gE:EOe,gEl:MOe,gel:OOe,geq:AOe,geqq:NOe,geqslant:DOe,gescc:ROe,ges:LOe,gesdot:IOe,gesdoto:POe,gesdotol:_Oe,gesl:BOe,gesles:FOe,Gfr:qOe,gfr:HOe,gg:VOe,Gg:zOe,ggg:$Oe,gimel:UOe,GJcy:jOe,gjcy:WOe,gla:GOe,gl:KOe,glE:JOe,glj:XOe,gnap:QOe,gnapprox:YOe,gne:ZOe,gnE:eAe,gneq:tAe,gneqq:rAe,gnsim:nAe,Gopf:iAe,gopf:aAe,grave:oAe,GreaterEqual:sAe,GreaterEqualLess:lAe,GreaterFullEqual:uAe,GreaterGreater:cAe,GreaterLess:fAe,GreaterSlantEqual:dAe,GreaterTilde:hAe,Gscr:pAe,gscr:vAe,gsim:mAe,gsime:gAe,gsiml:yAe,gtcc:bAe,gtcir:wAe,gt:kAe,GT:CAe,Gt:xAe,gtdot:TAe,gtlPar:SAe,gtquest:EAe,gtrapprox:MAe,gtrarr:OAe,gtrdot:AAe,gtreqless:NAe,gtreqqless:DAe,gtrless:RAe,gtrsim:LAe,gvertneqq:IAe,gvnE:PAe,Hacek:_Ae,hairsp:BAe,half:FAe,hamilt:qAe,HARDcy:HAe,hardcy:VAe,harrcir:zAe,harr:$Ae,hArr:UAe,harrw:jAe,Hat:WAe,hbar:GAe,Hcirc:KAe,hcirc:JAe,hearts:XAe,heartsuit:QAe,hellip:YAe,hercon:ZAe,hfr:eNe,Hfr:tNe,HilbertSpace:rNe,hksearow:nNe,hkswarow:iNe,hoarr:aNe,homtht:oNe,hookleftarrow:sNe,hookrightarrow:lNe,hopf:uNe,Hopf:cNe,horbar:fNe,HorizontalLine:dNe,hscr:hNe,Hscr:pNe,hslash:vNe,Hstrok:mNe,hstrok:gNe,HumpDownHump:yNe,HumpEqual:bNe,hybull:wNe,hyphen:kNe,Iacute:CNe,iacute:xNe,ic:TNe,Icirc:SNe,icirc:ENe,Icy:MNe,icy:ONe,Idot:ANe,IEcy:NNe,iecy:DNe,iexcl:RNe,iff:LNe,ifr:INe,Ifr:PNe,Igrave:_Ne,igrave:BNe,ii:FNe,iiiint:qNe,iiint:HNe,iinfin:VNe,iiota:zNe,IJlig:$Ne,ijlig:UNe,Imacr:jNe,imacr:WNe,image:GNe,ImaginaryI:KNe,imagline:JNe,imagpart:XNe,imath:QNe,Im:YNe,imof:ZNe,imped:eDe,Implies:tDe,incare:rDe,in:"",infin:nDe,infintie:iDe,inodot:aDe,intcal:oDe,int:sDe,Int:lDe,integers:uDe,Integral:cDe,intercal:fDe,Intersection:dDe,intlarhk:hDe,intprod:pDe,InvisibleComma:vDe,InvisibleTimes:mDe,IOcy:gDe,iocy:yDe,Iogon:bDe,iogon:wDe,Iopf:kDe,iopf:CDe,Iota:xDe,iota:TDe,iprod:SDe,iquest:EDe,iscr:MDe,Iscr:ODe,isin:ADe,isindot:NDe,isinE:DDe,isins:RDe,isinsv:LDe,isinv:IDe,it:PDe,Itilde:_De,itilde:BDe,Iukcy:FDe,iukcy:qDe,Iuml:HDe,iuml:VDe,Jcirc:zDe,jcirc:$De,Jcy:UDe,jcy:jDe,Jfr:WDe,jfr:GDe,jmath:KDe,Jopf:JDe,jopf:XDe,Jscr:QDe,jscr:YDe,Jsercy:ZDe,jsercy:eRe,Jukcy:tRe,jukcy:rRe,Kappa:nRe,kappa:iRe,kappav:aRe,Kcedil:oRe,kcedil:sRe,Kcy:lRe,kcy:uRe,Kfr:cRe,kfr:fRe,kgreen:dRe,KHcy:hRe,khcy:pRe,KJcy:vRe,kjcy:mRe,Kopf:gRe,kopf:yRe,Kscr:bRe,kscr:wRe,lAarr:kRe,Lacute:CRe,lacute:xRe,laemptyv:TRe,lagran:SRe,Lambda:ERe,lambda:MRe,lang:ORe,Lang:ARe,langd:NRe,langle:DRe,lap:RRe,Laplacetrf:LRe,laquo:IRe,larrb:PRe,larrbfs:_Re,larr:BRe,Larr:FRe,lArr:qRe,larrfs:HRe,larrhk:VRe,larrlp:zRe,larrpl:$Re,larrsim:URe,larrtl:jRe,latail:WRe,lAtail:GRe,lat:KRe,late:JRe,lates:XRe,lbarr:QRe,lBarr:YRe,lbbrk:ZRe,lbrace:eLe,lbrack:tLe,lbrke:rLe,lbrksld:nLe,lbrkslu:iLe,Lcaron:aLe,lcaron:oLe,Lcedil:sLe,lcedil:lLe,lceil:uLe,lcub:cLe,Lcy:fLe,lcy:dLe,ldca:hLe,ldquo:pLe,ldquor:vLe,ldrdhar:mLe,ldrushar:gLe,ldsh:yLe,le:bLe,lE:wLe,LeftAngleBracket:kLe,LeftArrowBar:CLe,leftarrow:xLe,LeftArrow:TLe,Leftarrow:SLe,LeftArrowRightArrow:ELe,leftarrowtail:MLe,LeftCeiling:OLe,LeftDoubleBracket:ALe,LeftDownTeeVector:NLe,LeftDownVectorBar:DLe,LeftDownVector:RLe,LeftFloor:LLe,leftharpoondown:ILe,leftharpoonup:PLe,leftleftarrows:_Le,leftrightarrow:BLe,LeftRightArrow:FLe,Leftrightarrow:qLe,leftrightarrows:HLe,leftrightharpoons:VLe,leftrightsquigarrow:zLe,LeftRightVector:$Le,LeftTeeArrow:ULe,LeftTee:jLe,LeftTeeVector:WLe,leftthreetimes:GLe,LeftTriangleBar:KLe,LeftTriangle:JLe,LeftTriangleEqual:XLe,LeftUpDownVector:QLe,LeftUpTeeVector:YLe,LeftUpVectorBar:ZLe,LeftUpVector:eIe,LeftVectorBar:tIe,LeftVector:rIe,lEg:nIe,leg:iIe,leq:aIe,leqq:oIe,leqslant:sIe,lescc:lIe,les:uIe,lesdot:cIe,lesdoto:fIe,lesdotor:dIe,lesg:hIe,lesges:pIe,lessapprox:vIe,lessdot:mIe,lesseqgtr:gIe,lesseqqgtr:yIe,LessEqualGreater:bIe,LessFullEqual:wIe,LessGreater:kIe,lessgtr:CIe,LessLess:xIe,lesssim:TIe,LessSlantEqual:SIe,LessTilde:EIe,lfisht:MIe,lfloor:OIe,Lfr:AIe,lfr:NIe,lg:DIe,lgE:RIe,lHar:LIe,lhard:IIe,lharu:PIe,lharul:_Ie,lhblk:BIe,LJcy:FIe,ljcy:qIe,llarr:HIe,ll:VIe,Ll:zIe,llcorner:$Ie,Lleftarrow:UIe,llhard:jIe,lltri:WIe,Lmidot:GIe,lmidot:KIe,lmoustache:JIe,lmoust:XIe,lnap:QIe,lnapprox:YIe,lne:ZIe,lnE:ePe,lneq:tPe,lneqq:rPe,lnsim:nPe,loang:iPe,loarr:aPe,lobrk:oPe,longleftarrow:sPe,LongLeftArrow:lPe,Longleftarrow:uPe,longleftrightarrow:cPe,LongLeftRightArrow:fPe,Longleftrightarrow:dPe,longmapsto:hPe,longrightarrow:pPe,LongRightArrow:vPe,Longrightarrow:mPe,looparrowleft:gPe,looparrowright:yPe,lopar:bPe,Lopf:wPe,lopf:kPe,loplus:CPe,lotimes:xPe,lowast:TPe,lowbar:SPe,LowerLeftArrow:EPe,LowerRightArrow:MPe,loz:OPe,lozenge:APe,lozf:NPe,lpar:DPe,lparlt:RPe,lrarr:LPe,lrcorner:IPe,lrhar:PPe,lrhard:_Pe,lrm:BPe,lrtri:FPe,lsaquo:qPe,lscr:HPe,Lscr:VPe,lsh:zPe,Lsh:$Pe,lsim:UPe,lsime:jPe,lsimg:WPe,lsqb:GPe,lsquo:KPe,lsquor:JPe,Lstrok:XPe,lstrok:QPe,ltcc:YPe,ltcir:ZPe,lt:e_e,LT:t_e,Lt:r_e,ltdot:n_e,lthree:i_e,ltimes:a_e,ltlarr:o_e,ltquest:s_e,ltri:l_e,ltrie:u_e,ltrif:c_e,ltrPar:f_e,lurdshar:d_e,luruhar:h_e,lvertneqq:p_e,lvnE:v_e,macr:m_e,male:g_e,malt:y_e,maltese:b_e,Map:"",map:w_e,mapsto:k_e,mapstodown:C_e,mapstoleft:x_e,mapstoup:T_e,marker:S_e,mcomma:E_e,Mcy:M_e,mcy:O_e,mdash:A_e,mDDot:N_e,measuredangle:D_e,MediumSpace:R_e,Mellintrf:L_e,Mfr:I_e,mfr:P_e,mho:__e,micro:B_e,midast:F_e,midcir:q_e,mid:H_e,middot:V_e,minusb:z_e,minus:$_e,minusd:U_e,minusdu:j_e,MinusPlus:W_e,mlcp:G_e,mldr:K_e,mnplus:J_e,models:X_e,Mopf:Q_e,mopf:Y_e,mp:Z_e,mscr:eBe,Mscr:tBe,mstpos:rBe,Mu:nBe,mu:iBe,multimap:aBe,mumap:oBe,nabla:sBe,Nacute:lBe,nacute:uBe,nang:cBe,nap:fBe,napE:dBe,napid:hBe,napos:pBe,napprox:vBe,natural:mBe,naturals:gBe,natur:yBe,nbsp:bBe,nbump:wBe,nbumpe:kBe,ncap:CBe,Ncaron:xBe,ncaron:TBe,Ncedil:SBe,ncedil:EBe,ncong:MBe,ncongdot:OBe,ncup:ABe,Ncy:NBe,ncy:DBe,ndash:RBe,nearhk:LBe,nearr:IBe,neArr:PBe,nearrow:_Be,ne:BBe,nedot:FBe,NegativeMediumSpace:qBe,NegativeThickSpace:HBe,NegativeThinSpace:VBe,NegativeVeryThinSpace:zBe,nequiv:$Be,nesear:UBe,nesim:jBe,NestedGreaterGreater:WBe,NestedLessLess:GBe,NewLine:KBe,nexist:JBe,nexists:XBe,Nfr:QBe,nfr:YBe,ngE:ZBe,nge:eFe,ngeq:tFe,ngeqq:rFe,ngeqslant:nFe,nges:iFe,nGg:aFe,ngsim:oFe,nGt:sFe,ngt:lFe,ngtr:uFe,nGtv:cFe,nharr:fFe,nhArr:dFe,nhpar:hFe,ni:pFe,nis:vFe,nisd:mFe,niv:gFe,NJcy:yFe,njcy:bFe,nlarr:wFe,nlArr:kFe,nldr:CFe,nlE:xFe,nle:TFe,nleftarrow:SFe,nLeftarrow:EFe,nleftrightarrow:MFe,nLeftrightarrow:OFe,nleq:AFe,nleqq:NFe,nleqslant:DFe,nles:RFe,nless:LFe,nLl:IFe,nlsim:PFe,nLt:_Fe,nlt:BFe,nltri:FFe,nltrie:qFe,nLtv:HFe,nmid:VFe,NoBreak:zFe,NonBreakingSpace:$Fe,nopf:UFe,Nopf:jFe,Not:WFe,not:GFe,NotCongruent:KFe,NotCupCap:JFe,NotDoubleVerticalBar:XFe,NotElement:QFe,NotEqual:YFe,NotEqualTilde:ZFe,NotExists:e2e,NotGreater:t2e,NotGreaterEqual:r2e,NotGreaterFullEqual:n2e,NotGreaterGreater:i2e,NotGreaterLess:a2e,NotGreaterSlantEqual:o2e,NotGreaterTilde:s2e,NotHumpDownHump:l2e,NotHumpEqual:u2e,notin:c2e,notindot:f2e,notinE:d2e,notinva:h2e,notinvb:p2e,notinvc:v2e,NotLeftTriangleBar:m2e,NotLeftTriangle:g2e,NotLeftTriangleEqual:y2e,NotLess:b2e,NotLessEqual:w2e,NotLessGreater:k2e,NotLessLess:C2e,NotLessSlantEqual:x2e,NotLessTilde:T2e,NotNestedGreaterGreater:S2e,NotNestedLessLess:E2e,notni:M2e,notniva:O2e,notnivb:A2e,notnivc:N2e,NotPrecedes:D2e,NotPrecedesEqual:R2e,NotPrecedesSlantEqual:L2e,NotReverseElement:I2e,NotRightTriangleBar:P2e,NotRightTriangle:_2e,NotRightTriangleEqual:B2e,NotSquareSubset:F2e,NotSquareSubsetEqual:q2e,NotSquareSuperset:H2e,NotSquareSupersetEqual:V2e,NotSubset:z2e,NotSubsetEqual:$2e,NotSucceeds:U2e,NotSucceedsEqual:j2e,NotSucceedsSlantEqual:W2e,NotSucceedsTilde:G2e,NotSuperset:K2e,NotSupersetEqual:J2e,NotTilde:X2e,NotTildeEqual:Q2e,NotTildeFullEqual:Y2e,NotTildeTilde:Z2e,NotVerticalBar:eqe,nparallel:tqe,npar:rqe,nparsl:nqe,npart:iqe,npolint:aqe,npr:oqe,nprcue:sqe,nprec:lqe,npreceq:uqe,npre:cqe,nrarrc:fqe,nrarr:dqe,nrArr:hqe,nrarrw:pqe,nrightarrow:vqe,nRightarrow:mqe,nrtri:gqe,nrtrie:yqe,nsc:bqe,nsccue:wqe,nsce:kqe,Nscr:Cqe,nscr:xqe,nshortmid:Tqe,nshortparallel:Sqe,nsim:Eqe,nsime:Mqe,nsimeq:Oqe,nsmid:Aqe,nspar:Nqe,nsqsube:Dqe,nsqsupe:Rqe,nsub:Lqe,nsubE:Iqe,nsube:Pqe,nsubset:_qe,nsubseteq:Bqe,nsubseteqq:Fqe,nsucc:qqe,nsucceq:Hqe,nsup:Vqe,nsupE:zqe,nsupe:$qe,nsupset:Uqe,nsupseteq:jqe,nsupseteqq:Wqe,ntgl:Gqe,Ntilde:Kqe,ntilde:Jqe,ntlg:Xqe,ntriangleleft:Qqe,ntrianglelefteq:Yqe,ntriangleright:Zqe,ntrianglerighteq:eHe,Nu:tHe,nu:rHe,num:nHe,numero:iHe,numsp:aHe,nvap:oHe,nvdash:sHe,nvDash:lHe,nVdash:uHe,nVDash:cHe,nvge:fHe,nvgt:dHe,nvHarr:hHe,nvinfin:pHe,nvlArr:vHe,nvle:mHe,nvlt:gHe,nvltrie:yHe,nvrArr:bHe,nvrtrie:wHe,nvsim:kHe,nwarhk:CHe,nwarr:xHe,nwArr:THe,nwarrow:SHe,nwnear:EHe,Oacute:MHe,oacute:OHe,oast:AHe,Ocirc:NHe,ocirc:DHe,ocir:RHe,Ocy:LHe,ocy:IHe,odash:PHe,Odblac:_He,odblac:BHe,odiv:FHe,odot:qHe,odsold:HHe,OElig:VHe,oelig:zHe,ofcir:$He,Ofr:UHe,ofr:jHe,ogon:WHe,Ograve:GHe,ograve:KHe,ogt:JHe,ohbar:XHe,ohm:QHe,oint:YHe,olarr:ZHe,olcir:eVe,olcross:tVe,oline:rVe,olt:nVe,Omacr:iVe,omacr:aVe,Omega:oVe,omega:sVe,Omicron:lVe,omicron:uVe,omid:cVe,ominus:fVe,Oopf:dVe,oopf:hVe,opar:pVe,OpenCurlyDoubleQuote:vVe,OpenCurlyQuote:mVe,operp:gVe,oplus:yVe,orarr:bVe,Or:wVe,or:kVe,ord:CVe,order:xVe,orderof:TVe,ordf:SVe,ordm:EVe,origof:MVe,oror:OVe,orslope:AVe,orv:NVe,oS:DVe,Oscr:RVe,oscr:LVe,Oslash:IVe,oslash:PVe,osol:_Ve,Otilde:BVe,otilde:FVe,otimesas:qVe,Otimes:HVe,otimes:VVe,Ouml:zVe,ouml:$Ve,ovbar:UVe,OverBar:jVe,OverBrace:WVe,OverBracket:GVe,OverParenthesis:KVe,para:JVe,parallel:XVe,par:QVe,parsim:YVe,parsl:ZVe,part:eze,PartialD:tze,Pcy:rze,pcy:nze,percnt:ize,period:aze,permil:oze,perp:sze,pertenk:lze,Pfr:uze,pfr:cze,Phi:fze,phi:dze,phiv:hze,phmmat:pze,phone:vze,Pi:mze,pi:gze,pitchfork:yze,piv:bze,planck:wze,planckh:kze,plankv:Cze,plusacir:xze,plusb:Tze,pluscir:Sze,plus:Eze,plusdo:Mze,plusdu:Oze,pluse:Aze,PlusMinus:Nze,plusmn:Dze,plussim:Rze,plustwo:Lze,pm:Ize,Poincareplane:Pze,pointint:_ze,popf:Bze,Popf:Fze,pound:qze,prap:Hze,Pr:Vze,pr:zze,prcue:$ze,precapprox:Uze,prec:jze,preccurlyeq:Wze,Precedes:Gze,PrecedesEqual:Kze,PrecedesSlantEqual:Jze,PrecedesTilde:Xze,preceq:Qze,precnapprox:Yze,precneqq:Zze,precnsim:e$e,pre:t$e,prE:r$e,precsim:n$e,prime:i$e,Prime:a$e,primes:o$e,prnap:s$e,prnE:l$e,prnsim:u$e,prod:c$e,Product:f$e,profalar:d$e,profline:h$e,profsurf:p$e,prop:v$e,Proportional:m$e,Proportion:g$e,propto:y$e,prsim:b$e,prurel:w$e,Pscr:k$e,pscr:C$e,Psi:x$e,psi:T$e,puncsp:S$e,Qfr:E$e,qfr:M$e,qint:O$e,qopf:A$e,Qopf:N$e,qprime:D$e,Qscr:R$e,qscr:L$e,quaternions:I$e,quatint:P$e,quest:_$e,questeq:B$e,quot:F$e,QUOT:q$e,rAarr:H$e,race:V$e,Racute:z$e,racute:$$e,radic:U$e,raemptyv:j$e,rang:W$e,Rang:G$e,rangd:K$e,range:J$e,rangle:X$e,raquo:Q$e,rarrap:Y$e,rarrb:Z$e,rarrbfs:eUe,rarrc:tUe,rarr:rUe,Rarr:nUe,rArr:iUe,rarrfs:aUe,rarrhk:oUe,rarrlp:sUe,rarrpl:lUe,rarrsim:uUe,Rarrtl:cUe,rarrtl:fUe,rarrw:dUe,ratail:hUe,rAtail:pUe,ratio:vUe,rationals:mUe,rbarr:gUe,rBarr:yUe,RBarr:bUe,rbbrk:wUe,rbrace:kUe,rbrack:CUe,rbrke:xUe,rbrksld:TUe,rbrkslu:SUe,Rcaron:EUe,rcaron:MUe,Rcedil:OUe,rcedil:AUe,rceil:NUe,rcub:DUe,Rcy:RUe,rcy:LUe,rdca:IUe,rdldhar:PUe,rdquo:_Ue,rdquor:BUe,rdsh:FUe,real:qUe,realine:HUe,realpart:VUe,reals:zUe,Re:$Ue,rect:UUe,reg:jUe,REG:WUe,ReverseElement:GUe,ReverseEquilibrium:KUe,ReverseUpEquilibrium:JUe,rfisht:XUe,rfloor:QUe,rfr:YUe,Rfr:ZUe,rHar:e3e,rhard:t3e,rharu:r3e,rharul:n3e,Rho:i3e,rho:a3e,rhov:o3e,RightAngleBracket:s3e,RightArrowBar:l3e,rightarrow:u3e,RightArrow:c3e,Rightarrow:f3e,RightArrowLeftArrow:d3e,rightarrowtail:h3e,RightCeiling:p3e,RightDoubleBracket:v3e,RightDownTeeVector:m3e,RightDownVectorBar:g3e,RightDownVector:y3e,RightFloor:b3e,rightharpoondown:w3e,rightharpoonup:k3e,rightleftarrows:C3e,rightleftharpoons:x3e,rightrightarrows:T3e,rightsquigarrow:S3e,RightTeeArrow:E3e,RightTee:M3e,RightTeeVector:O3e,rightthreetimes:A3e,RightTriangleBar:N3e,RightTriangle:D3e,RightTriangleEqual:R3e,RightUpDownVector:L3e,RightUpTeeVector:I3e,RightUpVectorBar:P3e,RightUpVector:_3e,RightVectorBar:B3e,RightVector:F3e,ring:q3e,risingdotseq:H3e,rlarr:V3e,rlhar:z3e,rlm:$3e,rmoustache:U3e,rmoust:j3e,rnmid:W3e,roang:G3e,roarr:K3e,robrk:J3e,ropar:X3e,ropf:Q3e,Ropf:Y3e,roplus:Z3e,rotimes:e4e,RoundImplies:t4e,rpar:r4e,rpargt:n4e,rppolint:i4e,rrarr:a4e,Rrightarrow:o4e,rsaquo:s4e,rscr:l4e,Rscr:u4e,rsh:c4e,Rsh:f4e,rsqb:d4e,rsquo:h4e,rsquor:p4e,rthree:v4e,rtimes:m4e,rtri:g4e,rtrie:y4e,rtrif:b4e,rtriltri:w4e,RuleDelayed:k4e,ruluhar:C4e,rx:x4e,Sacute:T4e,sacute:S4e,sbquo:E4e,scap:M4e,Scaron:O4e,scaron:A4e,Sc:N4e,sc:D4e,sccue:R4e,sce:L4e,scE:I4e,Scedil:P4e,scedil:_4e,Scirc:B4e,scirc:F4e,scnap:q4e,scnE:H4e,scnsim:V4e,scpolint:z4e,scsim:$4e,Scy:U4e,scy:j4e,sdotb:W4e,sdot:G4e,sdote:K4e,searhk:J4e,searr:X4e,seArr:Q4e,searrow:Y4e,sect:Z4e,semi:eje,seswar:tje,setminus:rje,setmn:nje,sext:ije,Sfr:aje,sfr:oje,sfrown:sje,sharp:lje,SHCHcy:uje,shchcy:cje,SHcy:fje,shcy:dje,ShortDownArrow:hje,ShortLeftArrow:pje,shortmid:vje,shortparallel:mje,ShortRightArrow:gje,ShortUpArrow:yje,shy:bje,Sigma:wje,sigma:kje,sigmaf:Cje,sigmav:xje,sim:Tje,simdot:Sje,sime:Eje,simeq:Mje,simg:Oje,simgE:Aje,siml:Nje,simlE:Dje,simne:Rje,simplus:Lje,simrarr:Ije,slarr:Pje,SmallCircle:_je,smallsetminus:Bje,smashp:Fje,smeparsl:qje,smid:Hje,smile:Vje,smt:zje,smte:$je,smtes:Uje,SOFTcy:jje,softcy:Wje,solbar:Gje,solb:Kje,sol:Jje,Sopf:Xje,sopf:Qje,spades:Yje,spadesuit:Zje,spar:eWe,sqcap:tWe,sqcaps:rWe,sqcup:nWe,sqcups:iWe,Sqrt:aWe,sqsub:oWe,sqsube:sWe,sqsubset:lWe,sqsubseteq:uWe,sqsup:cWe,sqsupe:fWe,sqsupset:dWe,sqsupseteq:hWe,square:pWe,Square:vWe,SquareIntersection:mWe,SquareSubset:gWe,SquareSubsetEqual:yWe,SquareSuperset:bWe,SquareSupersetEqual:wWe,SquareUnion:kWe,squarf:CWe,squ:xWe,squf:TWe,srarr:SWe,Sscr:EWe,sscr:MWe,ssetmn:OWe,ssmile:AWe,sstarf:NWe,Star:DWe,star:RWe,starf:LWe,straightepsilon:IWe,straightphi:PWe,strns:_We,sub:BWe,Sub:FWe,subdot:qWe,subE:HWe,sube:VWe,subedot:zWe,submult:$We,subnE:UWe,subne:jWe,subplus:WWe,subrarr:GWe,subset:KWe,Subset:JWe,subseteq:XWe,subseteqq:QWe,SubsetEqual:YWe,subsetneq:ZWe,subsetneqq:e5e,subsim:t5e,subsub:r5e,subsup:n5e,succapprox:i5e,succ:a5e,succcurlyeq:o5e,Succeeds:s5e,SucceedsEqual:l5e,SucceedsSlantEqual:u5e,SucceedsTilde:c5e,succeq:f5e,succnapprox:d5e,succneqq:h5e,succnsim:p5e,succsim:v5e,SuchThat:m5e,sum:g5e,Sum:y5e,sung:b5e,sup1:w5e,sup2:k5e,sup3:C5e,sup:x5e,Sup:T5e,supdot:S5e,supdsub:E5e,supE:M5e,supe:O5e,supedot:A5e,Superset:N5e,SupersetEqual:D5e,suphsol:R5e,suphsub:L5e,suplarr:I5e,supmult:P5e,supnE:_5e,supne:B5e,supplus:F5e,supset:q5e,Supset:H5e,supseteq:V5e,supseteqq:z5e,supsetneq:$5e,supsetneqq:U5e,supsim:j5e,supsub:W5e,supsup:G5e,swarhk:K5e,swarr:J5e,swArr:X5e,swarrow:Q5e,swnwar:Y5e,szlig:Z5e,Tab:e6e,target:t6e,Tau:r6e,tau:n6e,tbrk:i6e,Tcaron:a6e,tcaron:o6e,Tcedil:s6e,tcedil:l6e,Tcy:u6e,tcy:c6e,tdot:f6e,telrec:d6e,Tfr:h6e,tfr:p6e,there4:v6e,therefore:m6e,Therefore:g6e,Theta:y6e,theta:b6e,thetasym:w6e,thetav:k6e,thickapprox:C6e,thicksim:x6e,ThickSpace:T6e,ThinSpace:S6e,thinsp:E6e,thkap:M6e,thksim:O6e,THORN:A6e,thorn:N6e,tilde:D6e,Tilde:R6e,TildeEqual:L6e,TildeFullEqual:I6e,TildeTilde:P6e,timesbar:_6e,timesb:B6e,times:F6e,timesd:q6e,tint:H6e,toea:V6e,topbot:z6e,topcir:$6e,top:U6e,Topf:j6e,topf:W6e,topfork:G6e,tosa:K6e,tprime:J6e,trade:X6e,TRADE:Q6e,triangle:Y6e,triangledown:Z6e,triangleleft:e8e,trianglelefteq:t8e,triangleq:r8e,triangleright:n8e,trianglerighteq:i8e,tridot:a8e,trie:o8e,triminus:s8e,TripleDot:l8e,triplus:u8e,trisb:c8e,tritime:f8e,trpezium:d8e,Tscr:h8e,tscr:p8e,TScy:v8e,tscy:m8e,TSHcy:g8e,tshcy:y8e,Tstrok:b8e,tstrok:w8e,twixt:k8e,twoheadleftarrow:C8e,twoheadrightarrow:x8e,Uacute:T8e,uacute:S8e,uarr:E8e,Uarr:M8e,uArr:O8e,Uarrocir:A8e,Ubrcy:N8e,ubrcy:D8e,Ubreve:R8e,ubreve:L8e,Ucirc:I8e,ucirc:P8e,Ucy:_8e,ucy:B8e,udarr:F8e,Udblac:q8e,udblac:H8e,udhar:V8e,ufisht:z8e,Ufr:$8e,ufr:U8e,Ugrave:j8e,ugrave:W8e,uHar:G8e,uharl:K8e,uharr:J8e,uhblk:X8e,ulcorn:Q8e,ulcorner:Y8e,ulcrop:Z8e,ultri:eGe,Umacr:tGe,umacr:rGe,uml:nGe,UnderBar:iGe,UnderBrace:aGe,UnderBracket:oGe,UnderParenthesis:sGe,Union:lGe,UnionPlus:uGe,Uogon:cGe,uogon:fGe,Uopf:dGe,uopf:hGe,UpArrowBar:pGe,uparrow:vGe,UpArrow:mGe,Uparrow:gGe,UpArrowDownArrow:yGe,updownarrow:bGe,UpDownArrow:wGe,Updownarrow:kGe,UpEquilibrium:CGe,upharpoonleft:xGe,upharpoonright:TGe,uplus:SGe,UpperLeftArrow:EGe,UpperRightArrow:MGe,upsi:OGe,Upsi:AGe,upsih:NGe,Upsilon:DGe,upsilon:RGe,UpTeeArrow:LGe,UpTee:IGe,upuparrows:PGe,urcorn:_Ge,urcorner:BGe,urcrop:FGe,Uring:qGe,uring:HGe,urtri:VGe,Uscr:zGe,uscr:$Ge,utdot:UGe,Utilde:jGe,utilde:WGe,utri:GGe,utrif:KGe,uuarr:JGe,Uuml:XGe,uuml:QGe,uwangle:YGe,vangrt:ZGe,varepsilon:eKe,varkappa:tKe,varnothing:rKe,varphi:nKe,varpi:iKe,varpropto:aKe,varr:oKe,vArr:sKe,varrho:lKe,varsigma:uKe,varsubsetneq:cKe,varsubsetneqq:fKe,varsupsetneq:dKe,varsupsetneqq:hKe,vartheta:pKe,vartriangleleft:vKe,vartriangleright:mKe,vBar:gKe,Vbar:yKe,vBarv:bKe,Vcy:wKe,vcy:kKe,vdash:CKe,vDash:xKe,Vdash:TKe,VDash:SKe,Vdashl:EKe,veebar:MKe,vee:OKe,Vee:AKe,veeeq:NKe,vellip:DKe,verbar:RKe,Verbar:LKe,vert:IKe,Vert:PKe,VerticalBar:_Ke,VerticalLine:BKe,VerticalSeparator:FKe,VerticalTilde:qKe,VeryThinSpace:HKe,Vfr:VKe,vfr:zKe,vltri:$Ke,vnsub:UKe,vnsup:jKe,Vopf:WKe,vopf:GKe,vprop:KKe,vrtri:JKe,Vscr:XKe,vscr:QKe,vsubnE:YKe,vsubne:ZKe,vsupnE:e9e,vsupne:t9e,Vvdash:r9e,vzigzag:n9e,Wcirc:i9e,wcirc:a9e,wedbar:o9e,wedge:s9e,Wedge:l9e,wedgeq:u9e,weierp:c9e,Wfr:f9e,wfr:d9e,Wopf:h9e,wopf:p9e,wp:v9e,wr:m9e,wreath:g9e,Wscr:y9e,wscr:b9e,xcap:w9e,xcirc:k9e,xcup:C9e,xdtri:x9e,Xfr:T9e,xfr:S9e,xharr:E9e,xhArr:M9e,Xi:O9e,xi:A9e,xlarr:N9e,xlArr:D9e,xmap:R9e,xnis:L9e,xodot:I9e,Xopf:P9e,xopf:_9e,xoplus:B9e,xotime:F9e,xrarr:q9e,xrArr:H9e,Xscr:V9e,xscr:z9e,xsqcup:$9e,xuplus:U9e,xutri:j9e,xvee:W9e,xwedge:G9e,Yacute:K9e,yacute:J9e,YAcy:X9e,yacy:Q9e,Ycirc:Y9e,ycirc:Z9e,Ycy:e7e,ycy:t7e,yen:r7e,Yfr:n7e,yfr:i7e,YIcy:a7e,yicy:o7e,Yopf:s7e,yopf:l7e,Yscr:u7e,yscr:c7e,YUcy:f7e,yucy:d7e,yuml:h7e,Yuml:p7e,Zacute:v7e,zacute:m7e,Zcaron:g7e,zcaron:y7e,Zcy:b7e,zcy:w7e,Zdot:k7e,zdot:C7e,zeetrf:x7e,ZeroWidthSpace:T7e,Zeta:S7e,zeta:E7e,zfr:M7e,Zfr:O7e,ZHcy:A7e,zhcy:N7e,zigrarr:D7e,zopf:R7e,Zopf:L7e,Zscr:I7e,zscr:P7e,zwj:_7e,zwnj:B7e},F7e="",q7e="",H7e="",V7e="",z7e="",$7e="",U7e="",j7e="",W7e="",G7e="&",K7e="&",J7e="",X7e="",Q7e="",Y7e="",Z7e="",eJe="",tJe="",rJe="",nJe="",iJe="",aJe="",oJe="",sJe="",lJe="",uJe="",cJe="",fJe="",dJe="",hJe="",pJe="",vJe="",mJe="",gJe="",yJe="",bJe="",wJe="",kJe="",CJe="",xJe="",TJe=">",SJe=">",EJe="",MJe="",OJe="",AJe="",NJe="",DJe="",RJe="",LJe="",IJe="",PJe="",_Je="",BJe="<",FJe="<",qJe="",HJe="",VJe="",zJe="",$Je="",UJe="",jJe="",WJe="",GJe="",KJe="",JJe="",XJe="",QJe="",YJe="",ZJe="",eXe="",tXe="",rXe="",nXe="",iXe="",aXe="",oXe="",sXe="",lXe="",uXe='"',cXe='"',fXe="",dXe="",hXe="",pXe="",vXe="",mXe="",gXe="",yXe="",bXe="",wXe="",kXe="",CXe="",xXe="",TXe="",SXe="",EXe="",MXe="",OXe="",AXe="",NXe="",DXe="",RXe="",LXe="",IXe="",PXe="",_Xe={Aacute:F7e,aacute:q7e,Acirc:H7e,acirc:V7e,acute:z7e,AElig:$7e,aelig:U7e,Agrave:j7e,agrave:W7e,amp:G7e,AMP:K7e,Aring:J7e,aring:X7e,Atilde:Q7e,atilde:Y7e,Auml:Z7e,auml:eJe,brvbar:tJe,Ccedil:rJe,ccedil:nJe,cedil:iJe,cent:aJe,copy:oJe,COPY:sJe,curren:lJe,deg:uJe,divide:cJe,Eacute:fJe,eacute:dJe,Ecirc:hJe,ecirc:pJe,Egrave:vJe,egrave:mJe,ETH:gJe,eth:yJe,Euml:bJe,euml:wJe,frac12:kJe,frac14:CJe,frac34:xJe,gt:TJe,GT:SJe,Iacute:EJe,iacute:MJe,Icirc:OJe,icirc:AJe,iexcl:NJe,Igrave:DJe,igrave:RJe,iquest:LJe,Iuml:IJe,iuml:PJe,laquo:_Je,lt:BJe,LT:FJe,macr:qJe,micro:HJe,middot:VJe,nbsp:zJe,not:$Je,Ntilde:UJe,ntilde:jJe,Oacute:WJe,oacute:GJe,Ocirc:KJe,ocirc:JJe,Ograve:XJe,ograve:QJe,ordf:YJe,ordm:ZJe,Oslash:eXe,oslash:tXe,Otilde:rXe,otilde:nXe,Ouml:iXe,ouml:aXe,para:oXe,plusmn:sXe,pound:lXe,quot:uXe,QUOT:cXe,raquo:fXe,reg:dXe,REG:hXe,sect:pXe,shy:vXe,sup1:mXe,sup2:gXe,sup3:yXe,szlig:bXe,THORN:wXe,thorn:kXe,times:CXe,Uacute:xXe,uacute:TXe,Ucirc:SXe,ucirc:EXe,Ugrave:MXe,ugrave:OXe,uml:AXe,Uuml:NXe,uuml:DXe,Yacute:RXe,yacute:LXe,yen:IXe,yuml:PXe},BXe="&",FXe="'",qXe=">",HXe="<",VXe='"',bE={amp:BXe,apos:FXe,gt:qXe,lt:HXe,quot:VXe},uy={},zXe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},$Xe=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uy,"__esModule",{value:!0});var Bk=$Xe(zXe),UXe=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function jXe(t){return t>=55296&&t<=57343||t>1114111?"":(t in Bk.default&&(t=Bk.default[t]),UXe(t))}uy.default=jXe;var fh=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.decodeHTML=Ua.decodeHTMLStrict=Ua.decodeXML=void 0;var Bm=fh(yE),WXe=fh(_Xe),GXe=fh(bE),Fk=fh(uy),KXe=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;Ua.decodeXML=wE(GXe.default);Ua.decodeHTMLStrict=wE(Bm.default);function wE(t){var e=kE(t);return function(r){return String(r).replace(KXe,e)}}var qk=function(t,e){return t<e?1:-1};Ua.decodeHTML=(function(){for(var t=Object.keys(WXe.default).sort(qk),e=Object.keys(Bm.default).sort(qk),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=kE(Bm.default);function o(s){return s.substr(-1)!==";"&&(s+=";"),a(s)}return function(s){return String(s).replace(i,o)}})();function kE(t){return function(r){if(r.charAt(1)==="#"){var n=r.charAt(2);return n==="X"||n==="x"?Fk.default(parseInt(r.substr(3),16)):Fk.default(parseInt(r.substr(2),10))}return t[r.slice(1,-1)]||r}}var ii={},CE=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});ii.escapeUTF8=ii.escape=ii.encodeNonAsciiHTML=ii.encodeHTML=ii.encodeXML=void 0;var JXe=CE(bE),xE=SE(JXe.default),TE=EE(xE);ii.encodeXML=AE(xE);var XXe=CE(yE),cy=SE(XXe.default),QXe=EE(cy);ii.encodeHTML=ZXe(cy,QXe);ii.encodeNonAsciiHTML=AE(cy);function SE(t){return Object.keys(t).sort().reduce(function(e,r){return e[t[r]]="&"+r+";",e},{})}function EE(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];a.length===1?e.push("\\"+a):r.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||e.splice(o,l,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}var ME=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,YXe=String.prototype.codePointAt!=null?function(t){return t.codePointAt(0)}:function(t){return(t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)-56320+65536};function dh(t){return"&#x"+(t.length>1?YXe(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}function ZXe(t,e){return function(r){return r.replace(e,function(n){return t[n]}).replace(ME,dh)}}var OE=new RegExp(TE.source+"|"+ME.source,"g");function eQe(t){return t.replace(OE,dh)}ii.escape=eQe;function tQe(t){return t.replace(TE,dh)}ii.escapeUTF8=tQe;function AE(t){return function(e){return e.replace(OE,function(r){return t[r]||dh(r)})}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Ua,r=ii;function n(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}t.decode=n;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}t.decodeStrict=i;function a(l,u){return(!u||u<=0?r.encodeXML:r.encodeHTML)(l)}t.encode=a;var o=ii;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=Ua;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(ly);var NE="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",rQe=92,nQe=/[\\&]/,fy="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",iQe=new RegExp("\\\\"+fy+"|"+NE,"gi"),aQe='[&<>"]',Hk=new RegExp(aQe,"g"),oQe=function(t){return t.charCodeAt(0)===rQe?t.charAt(1):ly.decodeHTML(t)};function Iu(t){return nQe.test(t)?t.replace(iQe,oQe):t}function cf(t){try{return wbe(t)}catch{return t}}function sQe(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function ul(t){return Hk.test(t)?t.replace(Hk,sQe):t}function Fm(t,e){for(var r=[],n=0;n<e;n++)r.push(t);return r.join("")}function Vk(t){return t?!/[^ \t]+/.test(t):!0}var lQe=(function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.next=function(){var e=this.current,r=this.entering;if(e===null)return null;var n=dy(e);return r&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:r,node:e}},t.prototype.resumeAt=function(e,r){this.current=e,this.entering=r===!0},t})();function dy(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var uQe=1,hh={};function cQe(t){return hh[t]}function qm(t){delete hh[t]}function fQe(){hh={}}var fc=(function(){function t(e,r){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=uQe++,this.type=e,this.sourcepos=r,hh[this.id]=this}return t.prototype.isContainer=function(){return dy(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},t.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},t.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},t.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},t.prototype.walker=function(){return new lQe(this)},t})(),Qa=(function(t){Si(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=r,i}return e})(fc),dQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.listData=null,r}return e})(Qa),hQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.level=0,r.headingType="atx",r}return e})(Qa),pQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isFenced=!1,r.fenceChar=null,r.fenceLength=0,r.fenceOffset=-1,r.info=null,r.infoPadding=0,r}return e})(Qa),vQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.columns=[],r}return e})(Qa),mQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startIdx=0,r.endIdx=0,r.paddingLeft=0,r.paddingRight=0,r.ignored=!1,r}return e})(Qa),gQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.title="",r.dest="",r.label="",r}return e})(Qa),yQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.syntaxLength=0,r.offset=-1,r.info="",r}return e})(Qa),bQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.htmlBlockType=-1,r}return e})(Qa),wQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.destination=null,r.title=null,r.extendedAutolink=!1,r}return e})(fc),kQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.tickCount=0,r}return e})(fc),CQe=(function(t){Si(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.info="",r}return e})(fc);function Pr(t,e){switch(t){case"heading":return new hQe(t,e);case"list":case"item":return new dQe(t,e);case"link":case"image":return new wQe(t,e);case"codeBlock":return new pQe(t,e);case"htmlBlock":return new bQe(t,e);case"table":return new vQe(t,e);case"tableCell":return new mQe(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Qa(t,e);case"code":return new kQe(t,e);case"refDef":return new gQe(t,e);case"customBlock":return new yQe(t,e);case"customInline":return new CQe(t,e);default:return new fc(t,e)}}function DE(t){return t.type==="codeBlock"}function xQe(t){return t.type==="htmlBlock"}function TQe(t){return t.type==="heading"}function zk(t){return t.type==="list"}function SQe(t){return t.type==="table"}function rl(t){return t.type==="refDef"}function RE(t){return t.type==="customBlock"}function EQe(t){return t.type==="customInline"}function Ur(t,e){var r=Pr("text",e);return r.literal=t,r}var LE="[A-Za-z][A-Za-z0-9-]*",MQe="[a-zA-Z_:][a-zA-Z0-9:._-]*",OQe="[^\"'=<>`\\x00-\\x20]+",AQe="'[^']*'",NQe='"[^"]*"',DQe="(?:"+OQe+"|"+AQe+"|"+NQe+")",RQe="(?:\\s*=\\s*"+DQe+")",LQe="(?:\\s+"+MQe+RQe+"?)",IE="<"+LE+LQe+"*\\s*/?>",PE="</"+LE+"\\s*[>]",IQe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",PQe="[<][?].*?[?][>]",_Qe="<![A-Z]+\\s+[^>]*>",BQe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",FQe="(?:"+IE+"|"+PE+"|"+IQe+"|"+PQe+"|"+_Qe+"|"+BQe+")",qQe=new RegExp("^"+FQe,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var Hm;if(String.fromCodePoint)Hm=function(t){try{return String.fromCodePoint(t)}catch(e){if(e instanceof RangeError)return"";throw e}};else{var HQe=String.fromCharCode,VQe=Math.floor;Hm=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=16384,n=[],i,a,o=-1,s=t.length;if(!s)return"";for(var l="";++o<s;){var u=Number(t[o]);if(!isFinite(u)||u<0||u>1114111||VQe(u)!==u)return"";u<=65535?n.push(u):(u-=65536,i=(u>>10)+55296,a=u%1024+56320,n.push(i,a)),(o+1===s||n.length>r)&&(l+=HQe.apply(void 0,n),n.length=0)}return l}}var Dv=Hm,zQe="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",$Qe="[^<\\s]*[^<?!.,:*_?~\\s]",UQe="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function jQe(t){var e=/\)+$/.exec(t);if(e){for(var r=0,n=0,i=t;n<i.length;n++){var a=i[n];a==="("?r<0?r=1:r+=1:a===")"&&(r-=1)}if(r<0){var o=Math.min(-r,e[0].length);return t.substring(0,t.length-o)}}return t}function WQe(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function GQe(t){for(var e=new RegExp(UQe,"g"),r=[],n;n=e.exec(t);){var i=n[0];/[_-]+$/.test(i)||r.push({text:i,range:[n.index,n.index+i.length-1],url:"mailto:"+i})}return r}function KQe(t){for(var e=new RegExp("(www|https?://)."+zQe+$Qe,"g"),r=[],n;n=e.exec(t);){var i=WQe(jQe(n[0])),a=n[1]==="www"?"http://":"";r.push({text:i,range:[n.index,n.index+i.length-1],url:""+a+i})}return r}function JQe(t){return _m(_m([],KQe(t)),GQe(t)).sort(function(e,r){return e.range[0]-r.range[0]})}function XQe(t,e){typeof e=="boolean"&&(e=JQe);for(var r,n=function(){var i=r.entering,a=r.node;if(i&&a.type==="text"&&a.parent.type!=="link"){var o=a.literal,s=e(o);if(!s||!s.length)return"continue";for(var l=0,u=a.sourcepos[0],f=u[0],h=u[1],w=function(ge,Se){return[[f,h+ge],[f,h+Se]]},C=[],x=0,M=s;x<M.length;x++){var D=M[x],B=D.range,j=D.url,Q=D.text;B[0]>l&&C.push(Ur(o.substring(l,B[0]),w(l,B[0]-1)));var Y=Pr("link",w.apply(void 0,B));Y.appendChild(Ur(Q,w.apply(void 0,B))),Y.destination=j,Y.extendedAutolink=!0,C.push(Y),l=B[1]+1}l<o.length&&C.push(Ur(o.substring(l),w(l,o.length-1)));for(var te=0,se=C;te<se.length;te++){var oe=se[te];a.insertBefore(oe)}a.unlink()}};r=t.next();)n()}function vd(t){return t[t.length-1]}function $k(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function ff(t,e){Object.keys(t).forEach(function(r){e(r,t[r])})}function QQe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=sn({},t);return e.forEach(function(i){delete n[i]}),n}function nl(t){return!Object.keys(t).length}function YQe(t){Object.keys(t).forEach(function(e){delete t[e]})}var Vm=10,Rv=42,df=95,ZQe=96,Uk=91,eYe=93,hf=126,jk=60,tYe=33,Wk=92,rYe=38,Gk=40,Lv=41,nYe=58,es=39,ts=34,rs=36,Iv="\\\\"+fy,Kk=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),iYe=new RegExp('^(?:"('+Iv+'|[^"\\x00])*"|'+("'("+Iv+"|[^'\\x00])*'")+"|"+("\\(("+Iv+"|[^()\\x00])*\\))")),aYe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Jk=new RegExp("^"+fy),oYe=new RegExp("^"+NE,"i"),sYe=/`+/,lYe=/^`+/,uYe=/\.\.\./g,cYe=/--+/g,fYe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,dYe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,hYe=/^ *(?:\n *)?/,Pv=/^[ \t\n\x0b\x0c\x0d]/,Xk=/^\s/,pYe=/ *$/,vYe=/^ */,Qk=/^ *(?:\n|$)/,mYe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,gYe=/^[^\n`\[\]\\!<&*_'"~$]+/m,yYe=(function(){function t(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return t.prototype.sourcepos=function(e,r){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,a=[i,e+n];return typeof r=="number"?[a,[i,r+n]]:a},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(e){var r=e.exec(this.subject.slice(this.pos));return r===null?null:(this.pos+=r.index+r[0].length,r[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(hYe),!0},t.prototype.parseBackticks=function(e){var r=this.pos+1,n=this.match(lYe);if(n===null)return!1;for(var i=this.pos,a;(a=this.match(sYe))!==null;)if(a===n){var o=this.subject.slice(i,this.pos-n.length),s=this.sourcepos(r,this.pos),l=o.split(`
`);if(l.length>1){var u=vd(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-n.length),s[1]=this.sourcepos(this.pos),o=l.join(" ")}var f=Pr("code",s);return o.length>0&&o.match(/[^ ]/)!==null&&o[0]==" "&&o[o.length-1]==" "?f.literal=o.slice(1,o.length-1):f.literal=o,f.tickCount=n.length,e.appendChild(f),!0}return this.pos=i,e.appendChild(Ur(n,this.sourcepos(r,this.pos-1))),!0},t.prototype.parseBackslash=function(e){var r=this.subject,n;this.pos+=1;var i=this.pos;return this.peek()===Vm?(this.pos+=1,n=Pr("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):Jk.test(r.charAt(this.pos))?(e.appendChild(Ur(r.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Ur("\\",this.sourcepos(i,i))),!0},t.prototype.parseAutolink=function(e){var r,n,i,a=this.pos+1;return(r=this.match(fYe))?(n=r.slice(1,r.length-1),i=Pr("link",this.sourcepos(a,this.pos)),i.destination=cf("mailto:"+n),i.title="",i.appendChild(Ur(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):(r=this.match(dYe))?(n=r.slice(1,r.length-1),i=Pr("link",this.sourcepos(a,this.pos)),i.destination=cf(n),i.title="",i.appendChild(Ur(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(i),!0):!1},t.prototype.parseHtmlTag=function(e){var r=this.pos+1,n=this.match(qQe);if(n===null)return!1;var i=Pr("htmlInline",this.sourcepos(r,this.pos));return i.literal=n,e.appendChild(i),!0},t.prototype.scanDelims=function(e){var r=0,n=this.pos;if(e===es||e===ts)r++,this.pos++;else for(;this.peek()===e;)r++,this.pos++;if(r===0||r<2&&(e===hf||e===rs))return this.pos=n,null;var i=n===0?`
`:this.subject.charAt(n-1),a=this.peek(),o;a===-1?o=`
`:o=Dv(a);var s=Xk.test(o),l=Kk.test(o),u=Xk.test(i),f=Kk.test(i),h=!s&&(!l||u||f),w=!u&&(!f||s||l),C,x;return e===df?(C=h&&(!w||f),x=w&&(!h||l)):e===es||e===ts?(C=h&&!w,x=w):e===rs?(C=!s,x=!u):(C=h,x=w),this.pos=n,{numdelims:r,canOpen:C,canClose:x}},t.prototype.handleDelim=function(e,r){var n=this.scanDelims(e);if(!n)return!1;var i=n.numdelims,a=this.pos+1,o;this.pos+=i,e===es?o="":e===ts?o="":o=this.subject.slice(a-1,this.pos);var s=Ur(o,this.sourcepos(a,this.pos));return r.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||e!==es&&e!==ts)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},t.prototype.removeDelimitersBetween=function(e,r){e.next!==r&&(e.next=r,r.previous=e)},t.prototype.processEmphasis=function(e){var r,n,i,a,o,s,l,u=!1,f=(r={},r[df]=[e,e,e],r[Rv]=[e,e,e],r[es]=[e],r[ts]=[e],r[hf]=[e],r[rs]=[e],r);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var h=i.cc,w=h===df||h===Rv;if(!i.canClose)i=i.next;else{for(n=i.previous,l=!1;n!==null&&n!==e&&n!==f[h][w?i.origdelims%3:0];){if(u=w&&(i.canOpen||n.canClose)&&i.origdelims%3!==0&&(n.origdelims+i.origdelims)%3===0,n.cc===i.cc&&n.canOpen&&!u){l=!0;break}n=n.previous}if(a=i,w||h===hf||h===rs){if(!l)i=i.next;else if(n){var C=i.numdelims>=2&&n.numdelims>=2?2:1,x=w?0:1;o=n.node,s=i.node;var M=w?C===1?"emph":"strong":"strike";h===rs&&(M="customInline");var D=Pr(M),B=o.sourcepos[1],j=s.sourcepos[0];D.sourcepos=[[B[0],B[1]-C+1],[j[0],j[1]+C-1]],o.sourcepos[1][1]-=C,s.sourcepos[0][1]+=C,o.literal=o.literal.slice(C),s.literal=s.literal.slice(C),n.numdelims-=C,i.numdelims-=C;for(var Q=o.next,Y=void 0;Q&&Q!==s;)Y=Q.next,Q.unlink(),D.appendChild(Q),Q=Y;if(h===rs){var te=D.firstChild,se=te.literal||"",oe=se.split(/\s/)[0];D.info=oe,se.length<=oe.length?te.unlink():(te.sourcepos[0][1]+=oe.length,te.literal=se.replace(oe+" ",""))}if(o.insertAfter(D),this.removeDelimitersBetween(n,i),n.numdelims<=x&&(n.numdelims===0&&o.unlink(),this.removeDelimiter(n)),i.numdelims<=x){i.numdelims===0&&s.unlink();var ge=i.next;this.removeDelimiter(i),i=ge}}}else h===es?(i.node.literal="",l&&(n.node.literal=""),i=i.next):h===ts&&(i.node.literal="",l&&(n.node.literal=""),i=i.next);l||(f[h][w?a.origdelims%3:0]=a.previous,a.canOpen||this.removeDelimiter(a))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var e=this.match(iYe);return e===null?null:Iu(e.substr(1,e.length-2))},t.prototype.parseLinkDestination=function(){var e=this.match(aYe);if(e===null){if(this.peek()===jk)return null;for(var r=this.pos,n=0,i=void 0;(i=this.peek())!==-1;)if(i===Wk&&Jk.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===Gk)this.pos+=1,n+=1;else if(i===Lv){if(n<1)break;this.pos+=1,n-=1}else{if(Pv.exec(Dv(i))!==null)break;this.pos+=1}return this.pos===r&&i!==Lv||n!==0?null:(e=this.subject.substr(r,this.pos-r),cf(Iu(e)))}return cf(Iu(e.substr(1,e.length-2)))},t.prototype.parseLinkLabel=function(){var e=this.match(mYe);return e===null||e.length>1001?0:e.length},t.prototype.parseOpenBracket=function(e){var r=this.pos;this.pos+=1;var n=Ur("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,r,!1),!0},t.prototype.parseBang=function(e){var r=this.pos;if(this.pos+=1,this.peek()===Uk){this.pos+=1;var n=Ur("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,r+1,!0)}else{var n=Ur("!",this.sourcepos(this.pos,this.pos));e.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(e){var r=null,n=null,i=!1;this.pos+=1;var a=this.pos,o=this.brackets;if(o===null)return e.appendChild(Ur("]",this.sourcepos(a,a))),!0;if(!o.active)return e.appendChild(Ur("]",this.sourcepos(a,a))),this.removeBracket(),!0;var s=o.image,l=this.pos;this.peek()===Gk&&(this.pos++,this.spnl()&&(r=this.parseLinkDestination())!==null&&this.spnl()&&(Pv.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===Lv?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var f=this.pos,h=this.parseLinkLabel();if(h>2?u=this.subject.slice(f,f+h):o.bracketAfter||(u=this.subject.slice(o.index,a)),h===0&&(this.pos=l),u){u=$k(u);var w=this.refMap[u];w&&(r=w.destination,n=w.title,i=!0)}}if(i){var C=Pr(s?"image":"link");C.destination=r,C.title=n||"",C.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var x=o.node.next,M=void 0;x;)M=x.next,x.unlink(),C.appendChild(x),x=M;if(e.appendChild(C),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!s)for(o=this.brackets;o!==null;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=a,e.appendChild(Ur("]",this.sourcepos(a,a))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},t.prototype.addBracket=function(e,r,n){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(r+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:r,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(e){var r,n=this.pos+1;return(r=this.match(oYe))?(e.appendChild(Ur(ly.decodeHTML(r),this.sourcepos(n,this.pos))),!0):!1},t.prototype.parseString=function(e){var r,n=this.pos+1;if(r=this.match(gYe)){if(this.options.smart){var i=r.replace(uYe,"").replace(cYe,function(o){var s=0,l=0;return o.length%3===0?l=o.length/3:o.length%2===0?s=o.length/2:o.length%3===2?(s=1,l=(o.length-2)/3):(s=2,l=(o.length-4)/3),Fm("",l)+Fm("",s)});e.appendChild(Ur(i,this.sourcepos(n,this.pos)))}else{var a=Ur(r,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},t.prototype.parseNewline=function(e){this.pos+=1;var r=e.lastChild;if(r&&r.type==="text"&&r.literal[r.literal.length-1]===" "){var n=r.literal[r.literal.length-2]===" ",i=r.literal.length;r.literal=r.literal.replace(pYe,"");var a=i-r.literal.length;r.sourcepos[1][1]-=a,e.appendChild(Pr(n?"linebreak":"softbreak",this.sourcepos(this.pos-a,this.pos)))}else e.appendChild(Pr("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(vYe),!0},t.prototype.parseReference=function(e,r){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,i=this.pos,a=this.parseLinkLabel();if(a===0)return 0;var o=this.subject.substr(0,a);if(this.peek()===nYe)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),n===null&&(n="",this.pos=l);var u=!0;if(this.match(Qk)===null&&(n===""?u=!1:(n="",this.pos=l,u=this.match(Qk)!==null)),!u)return this.pos=i,0;var f=$k(o);if(f==="")return this.pos=i,0;var h=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=h[1][0]+1;var w=Pr("refDef",h);return w.title=n,w.dest=s,w.label=f,e.insertBefore(w),r[f]?this.refDefCandidateMap[w.id]=w:r[f]=Um(w),this.pos-i},t.prototype.mergeTextNodes=function(e){for(var r,n=[];r=e.next();){var i=r.entering,a=r.node;if(i&&a.type==="text")n.push(a);else if(n.length===1)n=[];else if(n.length>1){var o=n[0],s=n[n.length-1];o.sourcepos&&s.sourcepos&&(o.sourcepos[1]=s.sourcepos[1]),o.next=s.next,o.next&&(o.next.prev=o);for(var l=1;l<n.length;l+=1)o.literal+=n[l].literal,n[l].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(e){for(var r=e.stringContent.split(/\n|\r\n/),n=!1,i=0,a={line:0,ch:0},o=0;o<r.length;o+=1){var s=r[o];if(Pv.test(s))break;if(/\:/.test(s)&&i===0){if(n)break;var l=s.indexOf(":")===s.length-1?o+1:o;a={line:l,ch:r[l].length},n=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){a={line:o,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+a.line,a.ch]]},t.prototype.parseInline=function(e){var r,n=!1,i=this.peek();if(i===-1)return!1;switch(i){case Vm:n=this.parseNewline(e);break;case Wk:n=this.parseBackslash(e);break;case ZQe:n=this.parseBackticks(e);break;case Rv:case df:case hf:case rs:n=this.handleDelim(i,e);break;case es:case ts:n=!!(!((r=this.options)===null||r===void 0)&&r.smart)&&this.handleDelim(i,e);break;case Uk:n=this.parseOpenBracket(e);break;case tYe:n=this.parseBang(e);break;case eYe:n=this.parseCloseBracket(e);break;case jk:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case rYe:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e);break}return n||(this.pos+=1,e.appendChild(Ur(Dv(i),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],TQe(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var r=this.options,n=r.extendedAutolinks,i=r.customParser;if(n&&XQe(e.walker(),n),i&&e.firstChild)for(var a,o=e.firstChild.walker();a=o.next();){var s=a.node,l=a.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},t})(),bYe=/^\[([ \txX])\][ \t]+/;function wYe(t,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var r=e.firstChild,n=r.stringContent.match(bYe);if(n){var i=n[0].length;r.stringContent=r.stringContent.substring(i-1),r.sourcepos[0][1]+=i,r.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(n[1])}}}var kYe={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableHead"||t==="tableBody"},acceptsLines:!1},CYe={continue:function(){return 0},finalize:function(){},canContain:function(t){return t==="tableRow"},acceptsLines:!1},xYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableRow"||t==="tableDelimRow"},acceptsLines:!1},TYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableDelimCell"},acceptsLines:!1},SYe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},EYe={continue:function(){return 1},finalize:function(){},canContain:function(t){return t==="tableCell"},acceptsLines:!1},MYe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},md=4,_E=9,BE=62,OYe=60,FE=32,qE=91,HE=/[^ \t\f\v\r\n]/,AYe=/^(?:`{3,}|~{3,})(?= *$)/;function Yk(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var r=e.type;if(!e.lastLineChecked&&(r==="list"||r==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function si(t,e){return e<t.length?t.charCodeAt(e):-1}function VE(t){return!HE.test(t)}function Pl(t){return t===FE||t===_E}var NYe=/^\$\$$/,DYe={continue:function(t,e){var r=t.currentLine,n=r.match(NYe);if(n)return t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.offset;i>0&&Pl(si(r,t.offset));)t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(e.stringContent!==null){var r=e.stringContent,n=r.indexOf(`
`),i=r.slice(0,n),a=r.slice(n+1),o=i.match(/^(\s*)(.*)/);e.info=Iu(o[2].trim()),e.literal=a,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},zE={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},RYe={continue:function(){return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},LYe={continue:function(){return 0},finalize:function(t,e){for(var r=e.firstChild;r;){if(Yk(r)&&r.next){e.listData.tight=!1;break}for(var n=r.firstChild;n;){if(Yk(n)&&(r.next||n.next)){e.listData.tight=!1;break}n=n.next}r=r.next}},canContain:function(t){return t==="item"},acceptsLines:!1},IYe={continue:function(t){var e=t.currentLine;if(!t.indented&&si(e,t.nextNonspace)===BE)t.advanceNextNonspace(),t.advanceOffset(1,!1),Pl(si(e,t.offset))&&t.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(t){return t!=="item"},acceptsLines:!1},PYe={continue:function(t,e){if(t.blank){if(e.firstChild===null)return 1;t.advanceNextNonspace()}else if(t.indent>=e.listData.markerOffset+e.listData.padding)t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:wYe,canContain:function(t){return t!=="item"},acceptsLines:!1},_Ye={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},BYe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},FYe={continue:function(t,e){var r=t.currentLine,n=t.indent;if(e.isFenced){var i=n<=3&&r.charAt(t.nextNonspace)===e.fenceChar&&r.slice(t.nextNonspace).match(AYe);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+n+i[0].length,t.finalize(e,t.lineNumber),2;for(var a=e.fenceOffset;a>0&&Pl(si(r,t.offset));)t.advanceOffset(1,!0),a--}else if(n>=md)t.advanceOffset(md,!0);else if(t.blank)t.advanceNextNonspace();else return 1;return 0},finalize:function(t,e){var r;if(e.stringContent!==null){if(e.isFenced){var n=e.stringContent,i=n.indexOf(`
`),a=n.slice(0,i),o=n.slice(i+1),s=a.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Iu(s[2].trim()),e.literal=o}else e.literal=(r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},qYe={continue:function(t,e){return t.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(t,e){var r;e.literal=((r=e.stringContent)===null||r===void 0?void 0:r.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},HYe={continue:function(t){return t.blank?1:0},finalize:function(t,e){if(e.stringContent!==null){for(var r,n=!1;si(e.stringContent,0)===qE&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r),n=!0;n&&VE(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},VYe=zE,zYe=zE,il={document:RYe,list:LYe,blockQuote:IYe,item:PYe,heading:_Ye,thematicBreak:BYe,codeBlock:FYe,htmlBlock:qYe,paragraph:HYe,table:kYe,tableBody:CYe,tableHead:xYe,tableRow:EYe,tableCell:MYe,tableDelimRow:TYe,tableDelimCell:SYe,refDef:VYe,customBlock:DYe,frontMatter:zYe};function zm(t){for(var e=0,r=0,n=[],i=0;i<t.length;i+=1)if(t[i]==="|"&&t[i-1]!=="\\"){var a=t.substring(e,i);e===0&&Vk(a)?r=i+1:n.push(a),e=i+1}if(e<t.length){var a=t.substring(e,t.length);Vk(a)||n.push(a)}return[r,n]}function $m(t,e,r,n){for(var i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=s.match(/^[ \t]+/),u=l?l[0].length:0,f=void 0,h=void 0;if(u===s.length)u=0,f=0,h="";else{var w=s.match(/[ \t]+$/);f=w?w[0].length:0,h=s.slice(u,s.length-f)}var C=n+u,x=Pr(t,[[r,n],[r,n+s.length-1]]);x.stringContent=h.replace(/\\\|/g,"|"),x.startIdx=i.length,x.endIdx=i.length,x.lineOffsets=[C-1],x.paddingLeft=u,x.paddingRight=f,i.push(x),n+=s.length+1}return i}function $Ye(t){var e=null,r=t.stringContent,n=r[0],i=r[r.length-1];return i===":"?e=n===":"?"center":"right":n===":"&&(e="left"),{align:e}}var UYe=function(t,e){var r=e.stringContent;if(e.type==="paragraph"&&!t.indented&&!t.blank){var n=r.length-1,i=r.lastIndexOf(`
`,n-1)+1,a=r.slice(i,n),o=t.currentLine.slice(t.nextNonspace),s=zm(a),l=s[0],u=s[1],f=zm(o),h=f[0],w=f[1],C=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!w.length||w.some(function(ge){return!C.test(ge)})||w.length===1&&o.indexOf("|")!==0)return 0;var x=e.lineOffsets,M=t.lineNumber-1,D=vd(x)+1,B=Pr("table",[[M,D],[t.lineNumber,t.offset]]);if(B.columns=w.map(function(){return{align:null}}),e.insertAfter(B),x.length===1)e.unlink();else{e.stringContent=r.slice(0,i);var j=r.lastIndexOf(`
`,i-2)+1,Q=i-j-1;t.lastLineLength=x[x.length-2]+Q,t.finalize(e,M-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var Y=Pr("tableHead",[[M,D],[t.lineNumber,t.offset]]);B.appendChild(Y);var te=Pr("tableRow",[[M,D],[M,D+a.length-1]]),se=Pr("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);Y.appendChild(te),Y.appendChild(se),$m("tableCell",u,M,D+l).forEach(function(ge){te.appendChild(ge)});var oe=$m("tableDelimCell",w,t.lineNumber,t.nextNonspace+1+h);return oe.forEach(function(ge){se.appendChild(ge)}),B.columns=oe.map($Ye),t.tip=B,2}return 0},jYe=function(t,e){if(e.type!=="table"&&e.type!=="tableBody"||!t.blank&&t.currentLine.indexOf("|")===-1)return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var r=e;return e.type==="tableBody"&&(r=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(r,t.lineNumber-1),0}var n=e;e.type==="table"&&(n=t.addChild("tableBody",t.nextNonspace),n.stringContent=null);var i=Pr("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);n.appendChild(i);var a=n.parent,o=t.currentLine.slice(t.nextNonspace),s=zm(o),l=s[0],u=s[1];return $m("tableCell",u,t.lineNumber,t.nextNonspace+1+l).forEach(function(f,h){h>=a.columns.length&&(f.ignored=!0),i.appendChild(f)}),2},WYe=/^(\$\$)(\s*[a-zA-Z])+/,GYe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,KYe=function(t){var e;if(!t.indented&&!GYe.test(t.currentLine)&&(e=t.currentLine.match(WYe))){var r=e[1].length;t.closeUnmatchedBlocks();var n=t.addChild("customBlock",t.nextNonspace);return n.syntaxLength=r,n.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},JYe=/^`{3,}(?!.*`)|^~{3,}/,XYe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+IE+"|"+PE+")\\s*$","i")],QYe=/^(?:=+|-+)[ \t]*$/,YYe=/^#{1,6}(?:[ \t]+|$)/,ZYe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,$E=/^[*+-]/,UE=/^(\d{1,9})([.)])/;function eZe(t,e){var r=t.currentLine.slice(t.nextNonspace),n,i,a={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=r.match($E))a.type="bullet",a.bulletChar=n[0][0];else if((n=r.match(UE))&&(e.type!=="paragraph"||n[1]==="1"))a.type="ordered",a.start=parseInt(n[1],10),a.delimiter=n[2];else return null;if(i=si(t.currentLine,t.nextNonspace+n[0].length),!(i===-1||i===_E||i===FE)||e.type==="paragraph"&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(HE))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var o=t.column,s=t.offset;do t.advanceOffset(1,!0),i=si(t.currentLine,t.offset);while(t.column-o<5&&Pl(i));var l=si(t.currentLine,t.offset)===-1,u=t.column-o;return u>=5||u<1||l?(a.padding=n[0].length+1,t.column=o,t.offset=s,Pl(si(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):a.padding=n[0].length+u,a}function tZe(t,e){return t.type===e.type&&t.delimiter===e.delimiter&&t.bulletChar===e.bulletChar}function jE(t,e){return t.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var rZe=function(t){return!t.indented&&si(t.currentLine,t.nextNonspace)===BE?(t.advanceNextNonspace(),t.advanceOffset(1,!1),Pl(si(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1):0},nZe=function(t,e){var r;if(!t.indented&&!jE(t,e)&&(r=t.currentLine.slice(t.nextNonspace).match(YYe))){t.advanceNextNonspace(),t.advanceOffset(r[0].length,!1),t.closeUnmatchedBlocks();var n=t.addChild("heading",t.nextNonspace);return n.level=r[0].trim().length,n.headingType="atx",n.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},iZe=function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(JYe))){var r=e[0].length;t.closeUnmatchedBlocks();var n=t.addChild("codeBlock",t.nextNonspace);return n.isFenced=!0,n.fenceLength=r,n.fenceChar=e[0][0],n.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(r,!1),2}return 0},aZe=function(t,e){if(!t.indented&&si(t.currentLine,t.nextNonspace)===OYe){var r=t.currentLine.slice(t.nextNonspace),n=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=r.match(XYe[i]);if(a){if(i===7){if(e.type==="paragraph")return 0;if(n.length>0){var o=new RegExp("</?(?:"+n.join("|")+")","i");if(o.test(a[0]))return 0}}t.closeUnmatchedBlocks();var s=t.addChild("htmlBlock",t.offset);return s.htmlBlockType=i,2}}}return 0},oZe=function(t,e){var r;if(e.stringContent!==null&&!t.indented&&e.type==="paragraph"&&!jE(t,e.parent)&&(r=t.currentLine.slice(t.nextNonspace).match(QYe))){t.closeUnmatchedBlocks();for(var n=void 0;si(e.stringContent,0)===qE&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n);if(e.stringContent.length>0){var i=Pr("heading",e.sourcepos);return i.level=r[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},sZe=function(t){return!t.indented&&ZYe.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},lZe=function(t,e){var r,n=e;return(!t.indented||e.type==="list")&&(r=eZe(t,n))?(t.closeUnmatchedBlocks(),(t.tip.type!=="list"||!tZe(n.listData,r))&&(n=t.addChild("list",t.nextNonspace),n.listData=r),n=t.addChild("item",t.nextNonspace),n.listData=r,1):0},uZe=function(t){return t.indented&&t.tip.type!=="paragraph"&&!t.blank?(t.advanceOffset(md,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},_v=[rZe,nZe,iZe,aZe,oZe,sZe,lZe,uZe,UYe,jYe,KYe],WE=/^(-{3}|\+{3}|;{3})$/,cZe=function(t,e){var r=t.currentLine,n=t.lineNumber,i=t.indented;if(n===1&&!i&&e.type==="document"&&WE.test(r)){t.closeUnmatchedBlocks();var a=t.addChild("frontMatter",t.nextNonspace);return a.stringContent=r,t.advanceNextNonspace(),t.advanceOffset(r.length,!1),2}return 0},fZe={continue:function(t,e){var r=t.currentLine,n=r.match(WE);return e.type==="frontMatter"&&n?(e.stringContent+=r,t.lastLineLength=n[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},dZe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],hZe=/^[#`~*+_=<>0-9-;$]/,pZe=/\r\n|\n|\r/;function Bv(){return Pr("document",[[1,1],[0,0]])}var vZe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},mZe=(function(){function t(e){this.options=sn(sn({},vZe),e),this.doc=Bv(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(il.frontMatter=fZe,_v.unshift(cZe)),this.inlineParser=new yYe(this.options)}return t.prototype.advanceOffset=function(e,r){r===void 0&&(r=!1);for(var n=this.currentLine,i,a,o;e>0&&(o=n[this.offset]);)o==="	"?(i=4-this.column%4,r?(this.partiallyConsumedTab=i>e,a=i>e?e:i,this.column+=a,this.offset+=this.partiallyConsumedTab?0:1,e-=a):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var e=this.currentLine,r=this.offset,n=this.column,i;(i=e.charAt(r))!=="";)if(i===" ")r++,n++;else if(i==="	")r++,n+=4-n%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=r,this.nextNonspaceColumn=n,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=md},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=Fm(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},t.prototype.addChild=function(e,r){for(;!il[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=r+1,i=Pr(e,[[this.lineNumber,n],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},t.prototype.finalize=function(e,r){var n=e.parent;e.open=!1,e.sourcepos[1]=[r,this.lastLineLength],il[e.type].finalize(this,e),this.tip=n},t.prototype.processInlines=function(e){var r,n=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;r=i.next();){var a=r.node,o=r.entering,s=a.type;n&&n[s]&&n[s](a,{entering:o,options:this.options}),!o&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!a.ignored)&&this.inlineParser.parse(a)}},t.prototype.incorporateLine=function(e){var r=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"")),this.currentLine=e;for(var n=!0,i;(i=r.lastChild)&&i.open;){switch(r=i,this.findNextNonspace(),il[r.type].continue(this,r)){case 0:break;case 1:n=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!n){r=r.parent;break}}this.allClosed=r===this.oldtip,this.lastMatchedContainer=r;for(var a=r.type!=="paragraph"&&il[r.type].acceptsLines,o=_v.length;!a;){if(this.findNextNonspace(),r.type!=="table"&&r.type!=="tableBody"&&r.type!=="paragraph"&&!this.indented&&!hZe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<o;){var l=_v[s](this,r);if(l===1){r=this.tip;break}else if(l===2){r=this.tip,a=!0;break}else s++}if(s===o){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&r.lastChild&&(r.lastChild.lastLineBlank=!0);for(var u=r.type,f=this.blank&&!(u==="blockQuote"||DE(r)&&r.isFenced||u==="item"&&!r.firstChild&&r.sourcepos[0][0]===this.lineNumber),h=r;h;)h.lastLineBlank=f,h=h.parent;il[u].acceptsLines?(this.addLine(),xQe(r)&&r.htmlBlockType>=1&&r.htmlBlockType<=5&&dZe[r.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(r,this.lineNumber))):this.offset<e.length&&!this.blank&&(r=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},t.prototype.parse=function(e,r){this.doc=Bv(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(pZe),i=n.length;this.lines=r||n,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===Vm&&(i-=1);for(var a=0;a<i;a++)this.incorporateLine(n[a]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(e,r){this.doc=Bv(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=r.length,i=0;i<n;i++)this.incorporateLine(r[i]);return this.doc},t.prototype.partialParseExtends=function(e){for(var r=0;r<e.length;r++)this.incorporateLine(e[r])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(e,r,n){this.refMap=e,this.refLinkCandidateMap=r,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){YQe(e)})},t})();function Zk(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function gZe(t,e){var r=t[0],n=t[1];return Zk(n,e)===1?1:Zk(r,e)===-1?-1:0}function yZe(t,e){if(!(t.parent!==e.parent||t===e)){for(var r=t.next;r&&r!==e;){for(var n=r.next,i=0,a=["parent","prev","next"];i<a.length;i++){var o=a[i];r[o]&&(qm(r[o].id),r[o]=null)}r=n}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}function bZe(t){for(var e=[],r=t.firstChild;r;)e.push(r),r=r.next;return e}function e1(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];t.insertBefore(i)}}function wZe(t,e){for(var r=e.length-1;r>=0;r-=1)t.prependChild(e[r])}function kZe(t,e){if(!(!t||!t.parent||e===0)){var r=t.parent.walker();r.resumeAt(t,!0);for(var n;n=r.next();){var i=n.node,a=n.entering;a&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function GE(t,e){var r=t[0],n=t[1];return n[0]<e?1:r[0]>e?-1:0}function pf(t,e){for(var r=t.firstChild;r;){var n=GE(r.sourcepos,e);if(n===0)return r;if(n===-1)return r.prev||r;r=r.next}return t.lastChild}function CZe(t){for(;t.lastChild;)t=t.lastChild;return t}function xZe(t){for(;t.parent&&t.parent.type!=="document"&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}function TZe(t,e){for(var r=t.firstChild,n=null;r;){var i=GE(r.sourcepos,e);if(i===0){if(r.sourcepos[0][0]===e||!r.firstChild)return r;n=r,r=r.firstChild}else{if(i===-1)break;n=r,r=r.next}}return n?xZe(CZe(n)):null}function SZe(t,e){for(var r=t,n=null;r;){var i=gZe(r.sourcepos,e);if(i===0)if(r.firstChild)n=r,r=r.firstChild;else return r;else{if(i===-1)return n;if(r.next)r=r.next;else return n}}return r}function KE(t){return cQe(t)||null}function Fv(t,e,r){if(r===void 0&&(r=null),e)for(var n=e.walker();e&&e!==r;){t(e);var i=n.next();if(i)e=i.node;else break}}function EZe(t){var e=KE(t);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var t1=/\r\n|\n|\r/;function MZe(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var r=e?t.slice(e.length):t;return $E.test(r)||UE.test(r)}function OZe(t){return!VE(t)&&t.indexOf("|")!==-1}function Um(t){var e=t.id,r=t.title,n=t.sourcepos,i=t.dest;return{id:e,title:r,sourcepos:n,unlinked:!1,destination:i}}var JE=(function(){function t(e,r){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(r!=null&&r.referenceDefinition),this.parser=new mZe(r),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(t1),this.root=this.parser.parse(e,this.lineTexts)}return t.prototype.updateLineTexts=function(e,r,n){var i,a=e[0],o=e[1],s=r[0],l=r[1],u=n.split(t1),f=u.length,h=this.lineTexts[a-1],w=this.lineTexts[s-1];u[0]=h.slice(0,o-1)+u[0],u[f-1]=u[f-1]+w.slice(l-1);var C=s-a+1;return(i=this.lineTexts).splice.apply(i,_m([a-1,C],u)),f-C},t.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,r=e.length-1;e[r]==="";)r-=1;e.length-2>r&&(r+=1),this.root.sourcepos[1]=[r+1,e[r].length]},t.prototype.replaceRangeNodes=function(e,r,n){e?(e1(e,n),yZe(e,r),[e.id,r.id].forEach(function(i){return qm(i)}),e.unlink()):r?(e1(r,n),qm(r.id),r.unlink()):wZe(this.root,n)},t.prototype.getNodeRange=function(e,r){var n=pf(this.root,e[0]),i=pf(this.root,r[0]);return i&&i.next&&r[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[n,i]},t.prototype.trigger=function(e,r){this.eventHandlerMap[e].forEach(function(n){n(r)})},t.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},t.prototype.parseRange=function(e,r,n,i){e&&e.prev&&(zk(e.prev)&&MZe(this.lineTexts[n-1])||SQe(e.prev)&&OZe(this.lineTexts[n-1]))&&(e=e.prev,n=e.sourcepos[0][0]);for(var a=this.lineTexts.slice(n-1,i),o=this.parser.partialParseStart(n,a),s=r?r.next:this.root.firstChild,l=o.lastChild,u=l&&DE(l)&&l.open,f=l&&RE(l)&&l.open,h=l&&zk(l);(u||f)&&s||h&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var w=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,w)),e||(e=r),r=s,i=w,s=s.next}this.parser.partialParseFinish();var C=bZe(o);return{newNodes:C,extStartNode:e,extEndNode:r}},t.prototype.getRemovedNodeRange=function(e,r){return!e||e&&rl(e)||r&&rl(r)?null:{id:[e.id,r.id],line:[e.sourcepos[0][0]-1,r.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(e,r){var n=this;if(!nl(this.refMap)){var i=function(a){if(rl(a)){var o=n.refMap[a.label];o&&a.id===o.id&&(o.unlinked=!0)}};e&&Fv(i,e.parent,r),r&&Fv(i,r)}},t.prototype.replaceWithNewRefDefState=function(e){var r=this;if(!nl(this.refMap)){var n=function(i){if(rl(i)){var a=i.label,o=r.refMap[a];(!o||o.unlinked)&&(r.refMap[a]=Um(i))}};e.forEach(function(i){Fv(n,i)})}},t.prototype.replaceWithRefDefCandidate=function(){var e=this;nl(this.refDefCandidateMap)||ff(this.refDefCandidateMap,function(r,n){var i=n.label,a=n.sourcepos,o=e.refMap[i];(!o||o.unlinked||o.sourcepos[0][0]>a[0][0])&&(e.refMap[i]=Um(n))})},t.prototype.getRangeWithRefDef=function(e,r,n,i,a){if(this.referenceDefinition&&!nl(this.refMap)){var o=pf(this.root,e-1),s=pf(this.root,r+1);o&&rl(o)&&o!==n&&o!==i&&(n=o,e=n.sourcepos[0][0]),s&&rl(s)&&s!==n&&s!==i&&(i=s,r=this.extendEndLine(i.sourcepos[1][0]+a))}return[n,i,e,r]},t.prototype.parse=function(e,r,n){n===void 0&&(n=0);var i=this.getNodeRange(e,r),a=i[0],o=i[1],s=a?Math.min(a.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((o?Math.max(o.sourcepos[1][0],r[0]):r[0])+n),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,a,o,n)),f=u.newNodes,h=u.extStartNode,w=u.extEndNode,C=this.getRemovedNodeRange(h,w),x=w?w.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(h,w),this.replaceRangeNodes(h,w,f),this.replaceWithNewRefDefState(f)):this.replaceRangeNodes(h,w,f),{nodes:f,removedNodeRange:C,nextNode:x}},t.prototype.parseRefLink=function(){var e=this,r=[];return nl(this.refMap)||ff(this.refMap,function(n,i){i.unlinked&&delete e.refMap[n],ff(e.refLinkCandidateMap,function(a,o){var s=o.node,l=o.refLabel;l===n&&r.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),r},t.prototype.removeUnlinkedCandidate=function(){nl(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){ff(e,function(r){EZe(r)&&delete e[r]})})},t.prototype.editMarkdown=function(e,r,n){var i=this.updateLineTexts(e,r,n),a=this.parse(e,r,i),o=QQe(a,"nextNode");kZe(a.nextNode,i),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(e){var r=SZe(this.root,e);return!r||r===this.root?null:r},t.prototype.findFirstNodeAtLine=function(e){return TZe(this.root,e)},t.prototype.on=function(e,r){this.eventHandlerMap[e].push(r)},t.prototype.off=function(e,r){var n=this.eventHandlerMap[e],i=n.indexOf(r);n.splice(i,1)},t.prototype.findNodeById=function(e){return KE(e)},t.prototype.removeAllNode=function(){fQe()},t})(),AZe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],r1=new RegExp("<(/?(?:"+AZe.join("|")+")[^>]*>)","ig");function n1(t){return r1.test(t)?t.replace(r1,function(e,r){return"&lt;"+r}):t}var i1={heading:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){var r=e.options;return{type:"html",content:r.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var r,n=e.entering,i=(r=t.parent)===null||r===void 0?void 0:r.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:n?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var r=e.entering,n=t.listData,i=n.type,a=n.start,o=i==="bullet"?"ul":"ol",s={};return o==="ol"&&a!==null&&a!==1&&(s.start=a.toString()),{type:r?"openTag":"closeTag",tagName:o,attributes:s,outerNewLine:!0}},item:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){var r=e.options,n=r.tagFilter?n1(t.literal):t.literal;return{type:"html",content:n}},htmlBlock:function(t,e){var r=e.options,n=r.tagFilter?n1(t.literal):t.literal;return r.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:n,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,r=e?e.split(/\s+/):[],n=[];return r.length>0&&r[0].length>0&&n.push("language-"+ul(r[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){var r=e.entering;if(r){var n=t,i=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:sn({href:ul(a)},i&&{title:ul(i)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var r=e.getChildrenText,n=e.skipChildren,i=t,a=i.title,o=i.destination;return n(),{type:"openTag",tagName:"img",selfClose:!0,attributes:sn({src:ul(o),alt:r(t)},a&&{title:ul(a)})}},customBlock:function(t,e,r){var n=t.info.trim().toLowerCase(),i=r[n];if(i)try{return i(t,e)}catch(a){console.warn("[@toast-ui/editor] - The error occurred when "+n+" block node was parsed in markdown renderer: "+a)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,r){var n=t,i=n.info,a=n.firstChild,o=i.trim().toLowerCase(),s=r[o],l=e.entering;if(s)try{return s(t,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+o+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(a?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},a1={strike:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var r=e.entering,n=t.listData,i=n.checked,a=n.task;if(r){var o={type:"openTag",tagName:"li",outerNewLine:!0};return a?[o,{type:"openTag",tagName:"input",selfClose:!0,attributes:sn(sn({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:o}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){var r=e.entering;return{type:r?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){var r=e.entering;if(r)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var i=t.parent.parent.columns.length,a=t.lastChild.endIdx,o=a+1;o<i;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var r=e.entering;if(t.ignored)return{type:"text",content:""};var n=t.parent.parent,i=n.type==="tableHead"?"th":"td",a=n.parent,o=a.columns[t.startIdx],s=o!=null&&o.align?{align:o.align}:null;return r?sn({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},NZe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function DZe(t){for(var e=[],r=t.walker(),n=null;n=r.next();){var i=n.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var hy=(function(){function t(e){this.buffer=[],this.options=sn(sn({},NZe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var e=sn({},i1);if(this.options.gfm&&(e=sn(sn({},e),a1)),this.options.convertors){var r=this.options.convertors,n=Object.keys(r),i=sn(sn({},i1),a1);n.forEach(function(a){var o=e[a],s=r[a],l=Object.keys(i).indexOf(a)===-1?a.toLowerCase():a;o?e[l]=function(u,f,h){return f.origin=function(){return o(u,f,h)},s(u,f)}:e[l]=s})}return e},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(e){var r=this;this.buffer=[];for(var n=e.walker(),i=null,a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type];if(!u)return"continue";var f=!1,h={entering:l,leaf:!dy(s),options:o.options,getChildrenText:DZe,skipChildren:function(){f=!0}},w=RE(s)||EQe(s)?u(s,h,o.convertors):u(s,h);if(w){var C=Array.isArray(w)?w:[w];C.forEach(function(x,M){x.type==="openTag"&&r.options.nodeId&&M===0&&(x.attributes||(x.attributes={}),x.attributes["data-nodeid"]=String(s.id)),r.renderHTMLNode(x)}),f&&(n.resumeAt(s,!1),n.next())}},o=this;i=n.next();)a();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},t.prototype.generateOpenTagString=function(e){var r=this,n=e.tagName,i=e.classNames,a=e.attributes;this.buffer.push("<"+n),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),a&&Object.keys(a).forEach(function(o){var s=a[o];r.buffer.push(" "+o+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(e){var r=e.tagName;this.buffer.push("</"+r+">")},t.prototype.addNewLine=function(){this.buffer.length&&vd(vd(this.buffer))!==`
`&&this.buffer.push(`
`)},t.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(e){this.buffer.push(ul(e.content))},t.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},t.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},t})();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function RZe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var LZe=Object.hasOwnProperty,o1=Object.setPrototypeOf,IZe=Object.isFrozen,PZe=Object.getPrototypeOf,_Ze=Object.getOwnPropertyDescriptor,Ln=Object.freeze,Ka=Object.seal,BZe=Object.create,XE=typeof Reflect<"u"&&Reflect,gd=XE.apply,jm=XE.construct;gd||(gd=function(e,r,n){return e.apply(r,n)});Ln||(Ln=function(e){return e});Ka||(Ka=function(e){return e});jm||(jm=function(e,r){return new(Function.prototype.bind.apply(e,[null].concat(RZe(r))))});var FZe=$i(Array.prototype.forEach),s1=$i(Array.prototype.pop),su=$i(Array.prototype.push),Nf=$i(String.prototype.toLowerCase),l1=$i(String.prototype.match),so=$i(String.prototype.replace),qZe=$i(String.prototype.indexOf),HZe=$i(String.prototype.trim),Ra=$i(RegExp.prototype.test),u1=VZe(TypeError);function $i(t){return function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return gd(t,e,n)}}function VZe(t){return function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return jm(t,r)}}function Ut(t,e){o1&&o1(t,null);for(var r=e.length;r--;){var n=e[r];if(typeof n=="string"){var i=Nf(n);i!==n&&(IZe(e)||(e[r]=i),n=i)}t[n]=!0}return t}function ns(t){var e=BZe(null),r=void 0;for(r in t)gd(LZe,t,[r])&&(e[r]=t[r]);return e}function vf(t,e){for(;t!==null;){var r=_Ze(t,e);if(r){if(r.get)return $i(r.get);if(typeof r.value=="function")return $i(r.value)}t=PZe(t)}function n(i){return console.warn("fallback value for",i),null}return n}var c1=Ln(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qv=Ln(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hv=Ln(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zZe=Ln(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vv=Ln(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),$Ze=Ln(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),f1=Ln(["#text"]),d1=Ln(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),zv=Ln(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),h1=Ln(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mf=Ln(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),UZe=Ka(/\{\{[\s\S]*|[\s\S]*\}\}/gm),jZe=Ka(/<%[\s\S]*|[\s\S]*%>/gm),WZe=Ka(/^data-[\-\w.\u00B7-\uFFFF]/),GZe=Ka(/^aria-[\-\w]+$/),KZe=Ka(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JZe=Ka(/^(?:\w+script|data):/i),XZe=Ka(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Zi(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var QZe=function(){return typeof window>"u"?null:window},YZe=function(e,r){if((typeof e>"u"?"undefined":gu(e))!=="object"||typeof e.createPolicy!="function")return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function QE(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QZe(),e=function(ne){return QE(ne)};if(e.version="2.3.3",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var r=t.document,n=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,o=t.Node,s=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,f=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.Text,w=t.Comment,C=t.DOMParser,x=t.trustedTypes,M=s.prototype,D=vf(M,"cloneNode"),B=vf(M,"nextSibling"),j=vf(M,"childNodes"),Q=vf(M,"parentNode");if(typeof a=="function"){var Y=n.createElement("template");Y.content&&Y.content.ownerDocument&&(n=Y.content.ownerDocument)}var te=YZe(x,r),se=te&&Le?te.createHTML(""):"",oe=n,ge=oe.implementation,Se=oe.createNodeIterator,qe=oe.createDocumentFragment,rt=oe.getElementsByTagName,je=r.importNode,Tt={};try{Tt=ns(n).documentMode?n.documentMode:{}}catch{}var yt={};e.isSupported=typeof Q=="function"&&ge&&typeof ge.createHTMLDocument<"u"&&Tt!==9;var At=UZe,Je=jZe,ut=WZe,it=GZe,Ht=JZe,nt=XZe,pt=KZe,at=null,Dt=Ut({},[].concat(Zi(c1),Zi(qv),Zi(Hv),Zi(Vv),Zi(f1))),Nt=null,Kt=Ut({},[].concat(Zi(d1),Zi(zv),Zi(h1),Zi(mf))),Vt=null,Oe=null,he=!0,ue=!0,ee=!1,ce=!1,I=!1,V=!1,q=!1,le=!1,ae=!1,ye=!0,Le=!1,He=!0,Pe=!0,Ie=!1,Xe={},Ge=null,dt=Ut({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),bt=null,St=Ut({},["audio","video","img","source","image","track"]),Ve=null,ze=Ut({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ht="http://www.w3.org/1998/Math/MathML",wt="http://www.w3.org/2000/svg",Lt="http://www.w3.org/1999/xhtml",nr=Lt,Jt=!1,cr=void 0,ir=["application/xhtml+xml","text/html"],yr="text/html",br=void 0,Vr=null,li=n.createElement("form"),Xn=function(ne){Vr&&Vr===ne||((!ne||(typeof ne>"u"?"undefined":gu(ne))!=="object")&&(ne={}),ne=ns(ne),at="ALLOWED_TAGS"in ne?Ut({},ne.ALLOWED_TAGS):Dt,Nt="ALLOWED_ATTR"in ne?Ut({},ne.ALLOWED_ATTR):Kt,Ve="ADD_URI_SAFE_ATTR"in ne?Ut(ns(ze),ne.ADD_URI_SAFE_ATTR):ze,bt="ADD_DATA_URI_TAGS"in ne?Ut(ns(St),ne.ADD_DATA_URI_TAGS):St,Ge="FORBID_CONTENTS"in ne?Ut({},ne.FORBID_CONTENTS):dt,Vt="FORBID_TAGS"in ne?Ut({},ne.FORBID_TAGS):{},Oe="FORBID_ATTR"in ne?Ut({},ne.FORBID_ATTR):{},Xe="USE_PROFILES"in ne?ne.USE_PROFILES:!1,he=ne.ALLOW_ARIA_ATTR!==!1,ue=ne.ALLOW_DATA_ATTR!==!1,ee=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=ne.SAFE_FOR_TEMPLATES||!1,I=ne.WHOLE_DOCUMENT||!1,le=ne.RETURN_DOM||!1,ae=ne.RETURN_DOM_FRAGMENT||!1,ye=ne.RETURN_DOM_IMPORT!==!1,Le=ne.RETURN_TRUSTED_TYPE||!1,q=ne.FORCE_BODY||!1,He=ne.SANITIZE_DOM!==!1,Pe=ne.KEEP_CONTENT!==!1,Ie=ne.IN_PLACE||!1,pt=ne.ALLOWED_URI_REGEXP||pt,nr=ne.NAMESPACE||Lt,cr=ir.indexOf(ne.PARSER_MEDIA_TYPE)===-1?cr=yr:cr=ne.PARSER_MEDIA_TYPE,br=cr==="application/xhtml+xml"?function(Te){return Te}:Nf,ce&&(ue=!1),ae&&(le=!0),Xe&&(at=Ut({},[].concat(Zi(f1))),Nt=[],Xe.html===!0&&(Ut(at,c1),Ut(Nt,d1)),Xe.svg===!0&&(Ut(at,qv),Ut(Nt,zv),Ut(Nt,mf)),Xe.svgFilters===!0&&(Ut(at,Hv),Ut(Nt,zv),Ut(Nt,mf)),Xe.mathMl===!0&&(Ut(at,Vv),Ut(Nt,h1),Ut(Nt,mf))),ne.ADD_TAGS&&(at===Dt&&(at=ns(at)),Ut(at,ne.ADD_TAGS)),ne.ADD_ATTR&&(Nt===Kt&&(Nt=ns(Nt)),Ut(Nt,ne.ADD_ATTR)),ne.ADD_URI_SAFE_ATTR&&Ut(Ve,ne.ADD_URI_SAFE_ATTR),ne.FORBID_CONTENTS&&(Ge===dt&&(Ge=ns(Ge)),Ut(Ge,ne.FORBID_CONTENTS)),Pe&&(at["#text"]=!0),I&&Ut(at,["html","head","body"]),at.table&&(Ut(at,["tbody"]),delete Vt.tbody),Ln&&Ln(ne),Vr=ne)},In=Ut({},["mi","mo","mn","ms","mtext"]),Tn=Ut({},["foreignobject","desc","title","annotation-xml"]),pn=Ut({},qv);Ut(pn,Hv),Ut(pn,zZe);var Nr=Ut({},Vv);Ut(Nr,$Ze);var Pn=function(ne){var Te=Q(ne);(!Te||!Te.tagName)&&(Te={namespaceURI:Lt,tagName:"template"});var De=Nf(ne.tagName),et=Nf(Te.tagName);if(ne.namespaceURI===wt)return Te.namespaceURI===Lt?De==="svg":Te.namespaceURI===ht?De==="svg"&&(et==="annotation-xml"||In[et]):!!pn[De];if(ne.namespaceURI===ht)return Te.namespaceURI===Lt?De==="math":Te.namespaceURI===wt?De==="math"&&Tn[et]:!!Nr[De];if(ne.namespaceURI===Lt){if(Te.namespaceURI===wt&&!Tn[et]||Te.namespaceURI===ht&&!In[et])return!1;var kt=Ut({},["title","style","font","a","script"]);return!Nr[De]&&(kt[De]||!pn[De])}return!1},fr=function(ne){su(e.removed,{element:ne});try{ne.parentNode.removeChild(ne)}catch{try{ne.outerHTML=se}catch{ne.remove()}}},Br=function(ne,Te){try{su(e.removed,{attribute:Te.getAttributeNode(ne),from:Te})}catch{su(e.removed,{attribute:null,from:Te})}if(Te.removeAttribute(ne),ne==="is"&&!Nt[ne])if(le||ae)try{fr(Te)}catch{}else try{Te.setAttribute(ne,"")}catch{}},J=function(ne){var Te=void 0,De=void 0;if(q)ne="<remove></remove>"+ne;else{var et=l1(ne,/^[\r\n\t ]+/);De=et&&et[0]}cr==="application/xhtml+xml"&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");var kt=te?te.createHTML(ne):ne;if(nr===Lt)try{Te=new C().parseFromString(kt,cr)}catch{}if(!Te||!Te.documentElement){Te=ge.createDocument(nr,"template",null);try{Te.documentElement.innerHTML=Jt?"":kt}catch{}}var F=Te.body||Te.documentElement;return ne&&De&&F.insertBefore(n.createTextNode(De),F.childNodes[0]||null),nr===Lt?rt.call(Te,I?"html":"body")[0]:I?Te.documentElement:F},K=function(ne){return Se.call(ne.ownerDocument||ne,ne,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},_=function(ne){return ne instanceof h||ne instanceof w?!1:typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof f)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"},L=function(ne){return(typeof o>"u"?"undefined":gu(o))==="object"?ne instanceof o:ne&&(typeof ne>"u"?"undefined":gu(ne))==="object"&&typeof ne.nodeType=="number"&&typeof ne.nodeName=="string"},H=function(ne,Te,De){yt[ne]&&FZe(yt[ne],function(et){et.call(e,Te,De,Vr)})},$=function(ne){var Te=void 0;if(H("beforeSanitizeElements",ne,null),_(ne)||l1(ne.nodeName,/[\u0080-\uFFFF]/))return fr(ne),!0;var De=br(ne.nodeName);if(H("uponSanitizeElement",ne,{tagName:De,allowedTags:at}),!L(ne.firstElementChild)&&(!L(ne.content)||!L(ne.content.firstElementChild))&&Ra(/<[/\w]/g,ne.innerHTML)&&Ra(/<[/\w]/g,ne.textContent)||De==="select"&&Ra(/<template/i,ne.innerHTML))return fr(ne),!0;if(!at[De]||Vt[De]){if(Pe&&!Ge[De]){var et=Q(ne)||ne.parentNode,kt=j(ne)||ne.childNodes;if(kt&&et)for(var F=kt.length,O=F-1;O>=0;--O)et.insertBefore(D(kt[O],!0),B(ne))}return fr(ne),!0}return ne instanceof s&&!Pn(ne)||(De==="noscript"||De==="noembed")&&Ra(/<\/no(script|embed)/i,ne.innerHTML)?(fr(ne),!0):(ce&&ne.nodeType===3&&(Te=ne.textContent,Te=so(Te,At," "),Te=so(Te,Je," "),ne.textContent!==Te&&(su(e.removed,{element:ne.cloneNode()}),ne.textContent=Te)),H("afterSanitizeElements",ne,null),!1)},re=function(ne,Te,De){if(He&&(Te==="id"||Te==="name")&&(De in n||De in li))return!1;if(!(ue&&!Oe[Te]&&Ra(ut,Te))){if(!(he&&Ra(it,Te))){if(!Nt[Te]||Oe[Te])return!1;if(!Ve[Te]){if(!Ra(pt,so(De,nt,""))){if(!((Te==="src"||Te==="xlink:href"||Te==="href")&&ne!=="script"&&qZe(De,"data:")===0&&bt[ne])){if(!(ee&&!Ra(Ht,so(De,nt,"")))){if(De)return!1}}}}}}return!0},Ce=function(ne){var Te=void 0,De=void 0,et=void 0,kt=void 0;H("beforeSanitizeAttributes",ne,null);var F=ne.attributes;if(F){var O={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nt};for(kt=F.length;kt--;){Te=F[kt];var y=Te,T=y.name,R=y.namespaceURI;if(De=HZe(Te.value),et=br(T),O.attrName=et,O.attrValue=De,O.keepAttr=!0,O.forceKeepAttr=void 0,H("uponSanitizeAttribute",ne,O),De=O.attrValue,!O.forceKeepAttr&&(Br(T,ne),!!O.keepAttr)){if(Ra(/\/>/i,De)){Br(T,ne);continue}ce&&(De=so(De,At," "),De=so(De,Je," "));var U=br(ne.nodeName);if(re(U,et,De))try{R?ne.setAttributeNS(R,T,De):ne.setAttribute(T,De),s1(e.removed)}catch{}}}H("afterSanitizeAttributes",ne,null)}},Ne=function ve(ne){var Te=void 0,De=K(ne);for(H("beforeSanitizeShadowDOM",ne,null);Te=De.nextNode();)H("uponSanitizeShadowNode",Te,null),!$(Te)&&(Te.content instanceof i&&ve(Te.content),Ce(Te));H("afterSanitizeShadowDOM",ne,null)};return e.sanitize=function(ve,ne){var Te=void 0,De=void 0,et=void 0,kt=void 0,F=void 0;if(Jt=!ve,Jt&&(ve="<!-->"),typeof ve!="string"&&!L(ve)){if(typeof ve.toString!="function")throw u1("toString is not a function");if(ve=ve.toString(),typeof ve!="string")throw u1("dirty is not a string, aborting")}if(!e.isSupported){if(gu(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ve=="string")return t.toStaticHTML(ve);if(L(ve))return t.toStaticHTML(ve.outerHTML)}return ve}if(V||Xn(ne),e.removed=[],typeof ve=="string"&&(Ie=!1),!Ie)if(ve instanceof o)Te=J("<!---->"),De=Te.ownerDocument.importNode(ve,!0),De.nodeType===1&&De.nodeName==="BODY"||De.nodeName==="HTML"?Te=De:Te.appendChild(De);else{if(!le&&!ce&&!I&&ve.indexOf("<")===-1)return te&&Le?te.createHTML(ve):ve;if(Te=J(ve),!Te)return le?null:se}Te&&q&&fr(Te.firstChild);for(var O=K(Ie?ve:Te);et=O.nextNode();)et.nodeType===3&&et===kt||$(et)||(et.content instanceof i&&Ne(et.content),Ce(et),kt=et);if(kt=null,Ie)return ve;if(le){if(ae)for(F=qe.call(Te.ownerDocument);Te.firstChild;)F.appendChild(Te.firstChild);else F=Te;return ye&&(F=je.call(r,F,!0)),F}var y=I?Te.outerHTML:Te.innerHTML;return ce&&(y=so(y,At," "),y=so(y,Je," ")),te&&Le?te.createHTML(y):y},e.setConfig=function(ve){Xn(ve),V=!0},e.clearConfig=function(){Vr=null,V=!1},e.isValidAttribute=function(ve,ne,Te){Vr||Xn({});var De=br(ve),et=br(ne);return re(De,et,Te)},e.addHook=function(ve,ne){typeof ne=="function"&&(yt[ve]=yt[ve]||[],su(yt[ve],ne))},e.removeHook=function(ve){yt[ve]&&s1(yt[ve])},e.removeHooks=function(ve){yt[ve]&&(yt[ve]=[])},e.removeAllHooks=function(){yt={}},e}var ZZe=QE(),eet=["iframe","embed"],YE=[];function ZE(t){hn(eet,t)&&YE.push(t.toLowerCase())}function Ls(t,e){return ZZe.sanitize(t,Ae({ADD_TAGS:YE,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function eM(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Wm(t){t=t.match(Rl)[0];var e=t.match(new RegExp(JS,"g"));return e?e.reduce(function(r,n){var i=n.trim().split("="),a=i[0],o=i.slice(1);return o.length&&(r[a]=o.join("=").replace(/'|"/g,"").trim()),r},{}):{}}function Gm(t){return va(t.attributes).reduce(function(e,r){return e[r.nodeName]=r.nodeValue,e},{})}function p1(t,e,r,n){var i=n.getToDOMNode(e)(t),a=r(i.outerHTML),o=document.createElement("div");o.innerHTML=a,i=o.firstChild;var s=Gm(i);return{dom:i,htmlAttrs:s}}var tet={htmlBlock:function(t,e,r){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Gm(n),childrenHTML:n.innerHTML}}}],toDOM:function(n){var i=p1(n,t,e,r),a=i.dom,o=i.htmlAttrs;return o.class=o.class?o.class+" html-block":"html-block",Kn([t,o],va(a.childNodes))}}},htmlInline:function(t,e,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(n){return{htmlAttrs:Gm(n)}}}],toDOM:function(n){var i=p1(n,t,e,r).htmlAttrs;return[t,i,0]}}}};function ret(t,e,r){var n={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){t[i]&&Object.keys(t[i]).forEach(function(a){var o=i==="htmlBlock"?"nodes":"marks";ZE(a),n[o][a]=tet[i](a,e,r)})}),n}var net=/^\s*<\s*\//,iet={paragraph:function(t,e){var r=e.entering,n=e.origin,i=e.options;return i.nodeId?{type:r?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:n()},softbreak:function(t){var e=t.prev&&t.prev.type==="htmlInline",r=e&&/<br ?\/?>/.test(t.prev.literal),n=r?`
`:`<br>
`;return{type:"html",content:n}},item:function(t,e){var r=e.entering;if(r){var n={},i=[];return t.listData.task&&(n["data-task"]="",i.push("task-list-item"),t.listData.checked&&(i.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){var e={"data-backticks":String(t.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,r=e.fenceLength,n=e.info,i=n?n.split(/\s+/):[],a=[],o={};if(r>3&&(o["data-backticks"]=r),i.length>0&&i[0].length>0){var s=i[0];a.push("lang-"+s),o["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:a},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var r=e.origin,n=e.entering,i=e.skipChildren,a=t.info;if(a.indexOf("widget")!==-1&&n){i();var o=jS(t),s=US(a,o).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return r()}};function py(t,e){var r=Ae({},iet);return t&&(r.link=function(n,i){var a=i.entering,o=i.origin,s=o();return a&&(s.attributes=Ae(Ae({},s.attributes),t)),s}),e&&Object.keys(e).forEach(function(n){var i=r[n],a=e[n];i&&Ti(a)?r[n]=function(o,s){var l=Ae({},s);return l.origin=function(){return i(o,s)},a(o,l)}:hn(["htmlBlock","htmlInline"],n)&&!Ti(a)?r[n]=function(o,s){var l=o.literal.match(Rl);if(l){var u=l[0],f=l[1],h=l[3],w=(f||h).toLowerCase(),C=a[w],x=eM(o,w);if(C){var M=Ae({},o);return M.attrs=Wm(u),M.childrenHTML=x,M.type=w,s.entering=!net.test(o.literal),C(M,s)}}return s.origin()}:r[n]=a}),r}var aet=["list","item","blockQuote"],oet=["UL","OL","BLOCKQUOTE"];function set(t,e){var r,n=t.child(e);return!n.childCount||n.childCount===1&&!(!((r=n.firstChild.text)===null||r===void 0)&&r.trim())}function v1(t,e,r){var n=cc(e)-1,i=ih(e)-1,a=r[n].getBoundingClientRect(),o=r[i].offsetTop-r[n].offsetTop+r[i].clientHeight;return{height:o<=0?r[n].clientHeight:o+uet(t,r,Math.min(i+1,t.childCount-1)),rect:a}}function uet(t,e,r){for(var n=t.childCount-1,i=0;r<=n&&set(t,r);)i+=e[r].clientHeight,r+=1;return i}function cet(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}function yd(t,e){for(var r=0;t&&t!==e&&(hn(oet,t.tagName)||(r+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return r}function fet(t,e){for(var r=e,n=null;r;){var i=r.firstElementChild;if(!i)break;var a=tM(i,t,yd(r,e));n=r,r=a}var o=r||n;return o===e?null:o}function tM(t,e,r){return t&&e>r+t.offsetTop?tM(t.nextElementSibling,e,r)||t:null}function det(t,e,r,n){var i=Math.min((t-e)/r,1);return i*n}function $v(t,e){for(var r=t.querySelector('[data-nodeid="'+e.id+'"]');!r||Zme(e);)e=e.parent,r=t.querySelector('[data-nodeid="'+e.id+'"]');return het({mdNode:e,el:r})}function het(t){for(var e=t.mdNode,r=t.el;(hn(aet,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,r=r.firstElementChild;return{mdNode:e,el:r}}var Fi={};function pet(t,e){Fi[t]=Fi[t]||{},Fi[t].height=e}function vet(t,e){Fi[t]=Fi[t]||{},Fi[t].offsetTop=e}function met(t){return Fi[t]&&Fi[t].height}function get(t){return Fi[t]&&Fi[t].offsetTop}function Km(t){t&&(delete Fi[Number(t.getAttribute("data-nodeid"))],va(t.children).forEach(function(e){Km(e)}))}function yet(t,e,r){var n=met(r),i=get(r),a=n||t.clientHeight,o=i||yd(t,e)||t.offsetTop;return n||pet(r,a),i||vet(r,o),{nodeHeight:a,offsetTop:o}}var Uv=gt("md-preview-highlight");function bet(t,e){for(var r=t.firstChild;r&&r.next&&!(ah(r.next)>e+1);)r=r.next;return r}var rM=(function(){function t(e,r){var n=document.createElement("div");this.el=n,this.eventEmitter=e,this.isViewer=!!r.isViewer,this.el.className=gt("md-preview");var i=r.linkAttributes,a=r.customHTMLRenderer,o=r.sanitizer,s=r.highlight,l=s===void 0?!1:s;this.renderer=new hy({gfm:!0,nodeId:!0,convertors:py(i,a)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return t.prototype.initContentSection=function(){this.previewContent=eE('<div class="'+gt("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(e){Zg(this.el,"active",e)},t.prototype.initEvent=function(e){var r=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(n){var i=n.mdNode,a=n.cursorPos;r.updateCursorNode(i,a)}),this.eventEmitter.listen("blur",function(){r.removeHighlight()})),gE(this.el,"scroll",function(n){r.eventEmitter.emit("scroll","preview",fet(n.target.scrollTop,r.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return r.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return r.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Ii(e,Uv)}},t.prototype.updateCursorNode=function(e,r){e&&(e=Dl(e,function(o){return!rge(o)}),e.type==="tableRow"?e=bet(e,r[1]):e.type==="tableBody"&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var i=this.getElementByNodeId(this.cursorNodeId),a=this.getElementByNodeId(n);i&&Ii(i,Uv),a&&la(a,Uv),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},t.prototype.update=function(e){var r=this;e.forEach(function(n){return r.replaceRangeNodes(n)}),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(e){var r=this,n=e.nodes,i=e.removedNodeRange,a=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(x){return r.renderer.render(x)}).join("")));if(!i)a.insertAdjacentHTML("afterbegin",o);else{var s=i.id,l=s[0],u=s[1],f=this.getElementByNodeId(l),h=this.getElementByNodeId(u);if(f){f.insertAdjacentHTML("beforebegin",o);for(var w=f;w&&w!==h;){var C=w.nextElementSibling;Ns(w),Km(w),w=C}w!=null&&w.parentNode&&(Ns(w),Km(w))}}},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){mE(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return ry(this.previewContent.innerHTML)},t.prototype.setHTML=function(e){this.previewContent.innerHTML=e},t.prototype.setHeight=function(e){pa(this.el,{height:e+"px"})},t.prototype.setMinHeight=function(e){pa(this.el,{minHeight:e+"px"})},t})();function Va(t,e){for(var r=t.depth;r;){var n=t.node(r);if(e(n,r))return{node:n,depth:r,offset:r>0?t.before(r):0};r-=1}return null}function _l(t){return!!Va(t,function(e){var r=e.type;return r.name==="listItem"||r.name==="bulletList"||r.name==="orderedList"})}function bd(t){return!!Va(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function Bl(t){return Va(t,function(e){var r=e.type;return r.name==="listItem"})}function ph(t){return{tag:t,getAttrs:function(e){var r=e.getAttribute("data-raw-html");return Ae({},r&&{rawHTML:r})}}}function nM(t){return Object.keys(t).reduce(function(e,r){return r!=="rawHTML"&&t[r]&&(r=r==="className"?"class":r,e[r]=t[r]),e},{})}function iM(t){return{tag:t,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(r,n){var i=n==="rawHTML"?"data-raw-html":n,a=e.getAttribute(i);return a&&(r[n]=hn(["rawHTML","extended"],n)?a:Number(a)),r},{})}}}function en(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Hr(t){var e=t.htmlAttrs,r=t.classNames;return Ae(Ae({},e),{class:r?r.join(" "):null})}function wet(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.contentMatchAt(n).findWrapping(e);if(a){var o=a.length?a[0]:e;return r.canReplaceWith(n,i,o)?a:null}return null}function ket(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,a=r.child(n),o=e.contentMatch.findWrapping(a.type);if(o){for(var s=o.length?o[o.length-1]:e,l=s.contentMatch,u=n;l&&u<i;u+=1)l=l.matchType(r.child(u).type);if(l&&l.validEnd)return o}return null}function Cet(t,e,r,n){var i=wet(t,r),a=ket(e,r);if(i&&a){var o=i.map(function(l){return{type:l}}),s=a.map(function(l){return{type:l,attrs:n}});return o.concat({type:r}).concat(s)}return null}function xet(t,e,r,n,i){for(var a=e.start,o=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,f=Ue.empty,h=r.length-1;h>=0;h-=1)f=Ue.from(r[h].type.create(r[h].attrs,f));t.step(new Yr(a-(n?2:0),o,a,o,new ot(f,0,0),r.length,!0));for(var w=0,h=0;h<r.length;h+=1)if(r[h].type===i){w=h+1;break}for(var C=r.length-w,x=a+r.length-(n?2:0),h=s,M=l;h<M;h+=1){var D=h===s;!D&&gl(t.doc,x,C)&&(t.split(x,C),x+=C*2),x+=u.child(h).nodeSize}return t}function aM(t,e,r,n){var i=e.$from,a=e.$to,o=e.depth,s=e,l=!1;if(o>=2&&i.node(o-1).type.compatibleContent(r)&&e.startIndex===0&&i.index(o-1)){var u=t.doc.resolve(e.start-2);s=new Xf(u,u,o),e.endIndex<e.parent.childCount&&(e=new Xf(i,t.doc.resolve(a.end(o)),o)),l=!0}var f=Cet(s,e,r,n);return f?xet(t,e,f,l,r):t}function oM(t,e){for(var r=t.resolve(e);r.node().type.name!=="paragraph";)e-=2,r=t.resolve(e);return Bl(r)}function Tet(t,e){var r=e.$from,n=e.$to,i=Bl(r),a=Bl(n);if(i&&a)for(;a;){var o=a.offset,s=a.node,l={task:!s.attrs.task,checked:!1};if(t.setNodeMarkup(o,null,l),o===i.offset)break;a=oM(t.doc,o)}return t}function Eet(t,e,r){var n=e.$from,i=e.$to,a=Bl(n),o=Bl(i);if(a&&o)for(;o;){var s=o.offset,l=o.node,u=o.depth;l.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var f=t.doc.resolve(s);if(f.parent.type!==r){var h=f.before(u-1);t.setNodeMarkup(h,r)}if(s===a.offset)break;o=oM(t.doc,s)}return t}function sM(t){return function(e,r){var n=e.selection,i=e.tr,a=n.$from,o=n.$to,s=a.blockRange(o);if(s){var l=_l(a)?Eet(i,s,t):aM(i,s,t);return r(l),!0}return!1}}function Met(){return function(t,e){var r=t.selection,n=t.tr,i=t.schema,a=r.$from,o=r.$to,s=a.blockRange(o);if(s){var l=_l(a)?Tet(n,s):aM(n,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function Oet(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(M){var D=M.childCount,B=M.firstChild;return!!D&&B.type===t});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==t)return!1;var f=u.lastChild&&u.lastChild.type===l.type,h=f?Ue.from(t.create()):null,w=new ot(Ue.from(t.create(null,Ue.from(l.type.create(null,h)))),f?3:1,0),C=s.start,x=s.end;return n.step(new Yr(C-(f?3:1),x,C,x,w,1,!0)),r(n),!0}return!1}}function Aet(t,e,r){var n=e.$from,i=e.$to,a=e.end,o=e.depth,s=e.parent,l=i.end(o);return a<l&&(t.step(new Yr(a-1,l,a,l,new ot(Ue.from(r.create(null,s.copy())),1,0),1,!0)),e=new Xf(t.doc.resolve(n.pos),t.doc.resolve(l),o)),t.lift(e,Xd(e)),t}function Net(t,e){for(var r=e.parent,n=e.end,i=e.endIndex-1,a=e.startIndex;i>a;i-=1)n-=r.child(i).nodeSize,t.delete(n-1,n+1);var o=t.doc.resolve(e.start),s=o.nodeAfter,l=e.startIndex===0,u=e.endIndex===r.childCount,f=o.node(-1),h=o.index(-1),w=f.canReplace(h+(l?0:1),h+1,s==null?void 0:s.content.append(u?Ue.empty:Ue.from(r)));if(s&&w){var C=o.pos,x=C+s.nodeSize;t.step(new Yr(C-(l?1:0),x+(u?1:0),C+1,x-1,new ot((l?Ue.empty:Ue.from(r.copy(Ue.empty))).append(u?Ue.empty:Ue.from(r.copy(Ue.empty))),l?0:1,u?0:1),l?0:1))}return t}function Det(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to,s=a.blockRange(o,function(f){var h=f.childCount,w=f.firstChild;return!!h&&w.type===t});if(s){var l=a.node(s.depth-1).type===t,u=l?Aet(n,s,t):Net(n,s);return r(u),!0}return!1}}function Ret(t){return function(e,r){var n=e.tr,i=e.selection,a=i.$from,o=i.$to;if(a.depth<2||!a.sameParent(o))return!1;var s=a.node(-1);if(s.type!==t)return!1;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==t||a.index(-2)!==a.node(-2).childCount-1)return!1;for(var l=a.index(-1)>0,u=Ue.empty,f=a.depth-(l?1:2);f>=a.depth-3;f-=1)u=Ue.from(a.node(f).copy(u));return u=u.append(Ue.from(t.createAndFill())),n.replace(l?a.before():a.before(-1),a.after(-3),new ot(u,l?3:2,2)),n.setSelection(Gt.near(n.doc.resolve(a.pos+(l?3:2)))),r(n),!0}var h=o.pos===a.end()?s.contentMatchAt(0).defaultType:null,w=h&&[null,{type:h}];return n.delete(a.pos,o.pos),gl(n.doc,a.pos,2,w)?(n.split(a.pos,2,w),r(n),!0):!1}}function Let(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,o=i.blockRange(a);return o&&_l(i)?Oet(n.nodes.listItem)(t,e):!1}}}function Iet(){return function(){return function(t,e){var r=t.selection,n=t.schema,i=r.$from,a=r.$to,o=i.blockRange(a);return o&&_l(i)?Det(n.nodes.listItem)(t,e):!1}}}function vy(){return{indent:Let(),outdent:Iet()}}var m1=new Map,on=(function(){function t(e,r,n,i){this.table=e,this.tableRows=r,this.tableStartPos=n,this.rowInfo=i}return t.create=function(e){var r=Va(e,function(x){var M=x.type;return M.name==="table"});if(r){var n=r.node,i=r.depth,a=r.offset,o=m1.get(n);if((o==null?void 0:o.tableStartPos)===a+1)return o;var s=[],l=e.start(i),u=n.child(0),f=n.child(1),h=Jm(u,l),w=Jm(f,l+u.nodeSize);u.forEach(function(x){return s.push(x)}),f.forEach(function(x){return s.push(x)});var C=new t(n,s,l,h.concat(w));return m1.set(n,C),C}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(e,r){return this.rowInfo[e][r]},t.prototype.posAt=function(e,r){for(var n=0,i=this.tableStartPos;;n+=1){var a=i+this.tableRows[n].nodeSize;if(n===e){for(var o=r;o<this.totalColumnCount&&this.rowInfo[n][o].offset<i;)o+=1;return o===this.totalColumnCount?a:this.rowInfo[n][o].offset}i=a}},t.prototype.getNodeAndPos=function(e,r){var n=this.rowInfo[e][r];return{node:this.table.nodeAt(n.offset-this.tableStartOffset),pos:n.offset}},t.prototype.extendedRowspan=function(e,r){return!1},t.prototype.extendedColspan=function(e,r){return!1},t.prototype.getRowspanCount=function(e,r){return 0},t.prototype.getColspanCount=function(e,r){return 0},t.prototype.decreaseColspanCount=function(e,r){return 0},t.prototype.decreaseRowspanCount=function(e,r){return 0},t.prototype.getColspanStartInfo=function(e,r){return null},t.prototype.getRowspanStartInfo=function(e,r){return null},t.prototype.getCellStartOffset=function(e,r){var n=this.rowInfo[e][r].offset;return this.extendedRowspan(e,r)?this.posAt(e,r):n},t.prototype.getCellEndOffset=function(e,r){var n=this.rowInfo[e][r],i=n.offset,a=n.nodeSize;return this.extendedRowspan(e,r)?this.posAt(e,r):i+a},t.prototype.getCellIndex=function(e){for(var r=0;r<this.totalRowCount;r+=1)for(var n=this.rowInfo[r],i=0;i<this.totalColumnCount;i+=1)if(n[i].offset+1>e.pos)return[r,i];return[0,0]},t.prototype.getRectOffsets=function(e,r){var n,i,a;r===void 0&&(r=e),e.pos>r.pos&&(n=[r,e],e=n[0],r=n[1]);var o=this.getCellIndex(e),s=o[0],l=o[1],u=this.getCellIndex(r),f=u[0],h=u[1];return i=gk(s,f),s=i[0],f=i[1],a=gk(l,h),l=a[0],h=a[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:f,endColIdx:h})},t.prototype.getSpannedOffsets=function(e){return e},t})(),Jm=function(t,e){var r=[];return t.forEach(function(n,i){var a={rowspanMap:{},colspanMap:{},length:0};n.forEach(function(o,s){for(var l=o.nodeSize,u=0;a[u];)u+=1;a[u]={offset:e+i+s+2,nodeSize:l},a.length+=1}),r.push(a)}),r};function Pet(t,e){return Jg(on.prototype,t),Jm=e,on}function _et(t,e,r){for(var n=r.startRowIdx,i=r.startColIdx,a=r.endRowIdx,o=r.endColIdx,s=[],l=n;l<=a;l+=1)for(var u=i;u<=o;u+=1){var f=e.getCellInfo(l,u),h=f.offset,w=f.nodeSize;s.push(new UT(t.resolve(h+1),t.resolve(h+w-1)))}return s}function Bet(t,e){var r=[];return t.childCount&&r.push(t),e.childCount&&r.push(e),Ue.from(r)}var my=(function(t){ft(e,t);function e(r,n){n===void 0&&(n=r);var i=this,a=r.node(0),o=on.create(r),s=o.getRectOffsets(r,n),l=_et(a,o,s);return i=t.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=r,i.endCell=n,i.offsetMap=o,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(r,n){var i=this.startCell.pos,a=this.endCell.pos,o=r.resolve(n.map(i)),s=r.resolve(n.map(a)),l=on.create(o);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},f=u[s.parent.type.name],h=s.end(s.depth-f),w=Math.min(h-4,s.pos);return Xt.create(r,w)}return new e(o,s)},e.prototype.eq=function(r){return r instanceof e&&r.startCell.pos===this.startCell.pos&&r.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var r=this.startCell.node(-2),n=this.startCell.start(-2),i=r.child(1).firstChild,a=r.child(0).type.create(),o=r.child(1).type.create(),s=on.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,f=l.startColIdx,h=l.endRowIdx,w=l.endColIdx,C=!1,x=u;x<=h;x+=1){for(var M=[],D=f;D<=w;D+=1){var B=s.getCellInfo(x,D).offset,j=r.nodeAt(B-n);j&&(C=j.type.name==="tableHeadCell",s.extendedRowspan(x,D)||s.extendedColspan(x,D)?M.push(j.type.create({extended:!0})):M.push(j.copy(j.content)))}var Q=i.copy(Ue.from(M)),Y=C?a:o;Y.content=Y.content.append(Ue.from(Q))}return new ot(Bet(a,o),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e})(Gt);function Fet(t,e,r){for(var n=e.nodes,i=n.tableRow,a=n.tableHeadCell,o=n.paragraph,s=[],l=0;l<t;l+=1){var u=r&&r[l],f=o.create(null,u?e.text(u):[]);s.push(a.create(null,f))}return[i.create(null,s)]}function lM(t,e,r,n){for(var i=r.nodes,a=i.tableRow,o=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<t;u+=1){for(var f=[],h=0;h<e;h+=1){var w=n&&n[u*e+h],C=s.create(null,w?r.text(w):[]);f.push(o.create(null,C))}l.push(a.create(null,f))}return l}function Df(t,e,r,n){n===void 0&&(n=null);for(var i=r.nodes,a=i.tableHeadCell,o=i.tableBodyCell,s=i.paragraph,l=e===0?a:o,u=[],f=0;f<t;f+=1)u.push(l.create(n,s.create()));return u}function uM(t,e){for(;t&&t!==e;){if(t.nodeName==="TD"||t.nodeName==="TH")return t;t=t.parentNode}return null}function cM(t){return Va(t,function(e){var r=e.type;return r.name==="tableHeadCell"||r.name==="tableBodyCell"})}function ea(t){if(t instanceof Xt){var e=t.$anchor,r=cM(e);if(r){var n=e.node(0).resolve(e.before(r.depth));return{anchor:n,head:n}}}var i=t,a=i.startCell,o=i.endCell;return{anchor:a,head:o}}function fM(t){var e;if(t.size){var r=t.content,n=t.openStart,i=t.openEnd;if(r.childCount!==1)return null;for(;r.childCount===1&&(n>0&&i>0||((e=r.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)n-=1,i-=1,r=r.firstChild.content;if(r.firstChild.type.name==="tableHead"||r.firstChild.type.name==="tableBody")return r}return null}function fl(t){var e=t.startRowIdx,r=t.startColIdx,n=t.endRowIdx,i=t.endColIdx,a=n-e+1,o=i-r+1;return{rowCount:a,columnCount:o}}function qet(t,e){return Ae(Ae({},t.attrs),e)}var go=new ac("cellSelection"),Het=2,Vet=(function(){function t(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(e){var r=uM(e.target,this.view.dom);if(e.button===Het){e.preventDefault();return}if(r){var n=this.getCellPos(e);n&&(this.startCellPos=n),this.bindEvent()}},t.prototype.handleMousemove=function(e){var r=go.getState(this.view.state),n=this.getCellPos(e),i=this.startCellPos,a;r?a=this.view.state.doc.resolve(r):i!==n&&(a=i),a&&i&&n&&this.setCellSelection(i,n)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),go.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(go,-1))},t.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(e){var r=e.clientX,n=e.clientY,i=this.view.posAtCoords({left:r,top:n});if(i){var a=this.view.state.doc,o=a.resolve(i.pos),s=cM(o);if(s){var l=o.before(s.depth);return a.resolve(l)}}return null},t.prototype.setCellSelection=function(e,r){var n=this.view.state,i=n.selection,a=n.tr,o=go.getState(this.view.state)===null,s=new my(e,r);if(o||!i.eq(s)){var l=a.setSelection(s);o&&l.setMeta(go,r.pos),this.view.dispatch(l)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t})(),zet=gt("cell-selected");function $et(t){var e=t.selection,r=t.doc;if(e instanceof my){var n=[],i=e.ranges;return i.forEach(function(a){var o=a.$from,s=a.$to;n.push(Un.node(o.pos-1,s.pos+1,{class:zet}))}),_r.create(r,n)}return null}function Uet(){return new Jn({key:go,state:{init:function(){return null},apply:function(t,e){var r=t.getMeta(go);if(r)return r===-1?null:r;if(ad(e)||!t.docChanged)return e;var n=t.mapping.mapResult(e),i=n.deleted,a=n.pos;return i?null:a}},props:{decorations:$et,createSelectionBetween:function(t){var e=t.state;return ad(go.getState(e))?null:e.selection}},view:function(t){return new Vet(t)}})}var dM=(function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(e){return Os(e,this.keys)},t.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},t.prototype.set=function(e,r){var n=this.getKeyIndex(e);return n>-1?this.values[n]=r:(this.keys.push(e),this.values.push(r)),this},t.prototype.has=function(e){return this.getKeyIndex(e)>-1},t.prototype.delete=function(e){var r=this.getKeyIndex(e);return r>-1?(this.keys.splice(r,1),this.values.splice(r,1),!0):!1},t.prototype.forEach=function(e,r){var n=this;r===void 0&&(r=this),this.values.forEach(function(i,a){i&&n.keys[a]&&e.call(r,i,n.keys[a],n)})},t.prototype.clear=function(){this.keys=[],this.values=[]},t})(),jv="en-US",jet=(function(){function t(){this.code=jv,this.langs=new dM}return t.prototype.setCode=function(e){this.code=e||jv},t.prototype.setLanguage=function(e,r){var n=this;e=[].concat(e),e.forEach(function(i){if(!n.langs.has(i))n.langs.set(i,r);else{var a=n.langs.get(i);n.langs.set(i,$g(a,r))}})},t.prototype.get=function(e,r){r||(r=this.code);var n=this.langs.get(r);n||(n=this.langs.get(jv));var i=n[e];if(!i)throw new Error('There is no text key "'+e+'" in '+r);return i},t})(),Ft=new jet,Wet=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Get(t,e){return Wet.map(function(r){return r.map(function(n){var i=n.action,a=n.command,o=n.payload,s=n.disableInThead,l=n.className;return{label:Ft.get(i),onClick:function(){t.emit("command",a,o)},disabled:e&&!!s,className:l}})}).concat()}function Ket(t){return new Jn({props:{handleDOMEvents:{contextmenu:function(e,r){var n=uM(r.target,e.dom);if(n){r.preventDefault();var i=r,a=i.clientX,o=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,f=n.nodeName==="TH";return t.emit("contextmenu",{pos:{left:a-l+10+"px",top:o-u+30+"px"},menuGroups:Get(t,f),tableCell:n}),!0}return!1}}}})}function Jet(){return new Jn({props:{handleDOMEvents:{mousedown:function(t,e){var r=e,n=r.clientX,i=r.clientY,a=t.posAtCoords({left:n,top:i});if(a){var o=t.state,s=o.doc,l=o.tr,u=s.resolve(a.pos),f=Bl(u),h=e.target,w=getComputedStyle(h,":before"),C=e,x=C.offsetX,M=C.offsetY;if(!f||!Yg(w,x,M))return!1;e.preventDefault();var D=u.before(f.depth),B=f.node.attrs;return l.setNodeMarkup(D,null,Ae(Ae({},B),{checked:!B.checked})),t.dispatch(l),!0}return!1}}}})}var Xet=["image","link","customBlock","frontMatter"],Qet=["strong","strike","emph","code"],hM=["bulletList","orderedList","taskList"];function Yet(t,e){var r=t.type.name;return r==="listItem"?t.attrs.task?"taskList":e.type.name:r.indexOf("table")!==-1?"table":r}function Zet(t,e){e[t]={active:!0},hM.filter(function(r){return r!==t}).forEach(function(r){e[r]&&delete e[r]})}function ett(t,e,r,n){Qet.forEach(function(i){var a=r.marks[i],o=t.marksAcross(e)||[],s=!!a.isInSet(o);s&&(n[i]={active:!0})})}function ttt(t,e,r){var n=t.$from,i=t.$to,a=t.from,o=t.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(a,o,function(l,u,f){var h=Yet(l,f);hn(Xet,h)||(hn(hM,h)?(Zet(h,s),s.indent.disabled=!1,s.outdent.disabled=!1):h==="paragraph"||h==="text"?ett(n,i,r,s):s[h]={active:!0})}),s}function rtt(t){return new Jn({view:function(){return{update:function(e){var r=e.state,n=r.selection,i=r.doc,a=r.schema;t.emit("changeToolbarState",{toolbarState:ttt(n,i,a)})}}}})}var ntt=(function(){function t(e,r,n,i){var a=this;this.openEditor=function(){if(a.innerEditorView)throw new Error("The editor is already opened.");a.dom.draggable=!1,a.wrapper.style.display="none",a.innerViewContainer.style.display="block",a.innerEditorView=new th(a.innerViewContainer,{state:fs.create({doc:a.node,plugins:[Ku({"Mod-z":function(){return Lu(a.innerEditorView.state,a.innerEditorView.dispatch)},"Shift-Mod-z":function(){return zg(a.innerEditorView.state,a.innerEditorView.dispatch)},Tab:function(o,s){return s(o.tr.insertText("	")),!0},Enter:NS,Escape:function(){return a.cancelEditing(),!0},"Ctrl-Enter":function(){return a.saveAndFinishEditing(),!0}}),BS()]}),dispatchTransaction:function(o){return a.dispatchInner(o)},handleDOMEvents:{mousedown:function(){return a.editorView.hasFocus()&&a.innerEditorView.focus(),!0},blur:function(){return a.saveAndFinishEditing(),!0}}}),a.innerEditorView.focus()},this.node=e,this.editorView=r,this.getPos=n,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=gt("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=gt("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var e=this,r=document.createElement("div"),n=document.createElement("span"),i=document.createElement("button");r.className="tool",n.textContent=this.node.attrs.info,n.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),r.appendChild(n),r.appendChild(i),this.wrapper.appendChild(r)},t.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var r=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);r&&this.wrapper.appendChild(r),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=gt("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection(xr(r.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var e=Qve(this.innerEditorView.state);for(this.canceled=!0;e--;)Lu(this.innerEditorView.state,this.innerEditorView.dispatch),Lu(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var r=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(Xt.create(n.doc,r))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(e){var r=this.innerEditorView.state.applyTransaction(e),n=r.state,i=r.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&Ti(this.getPos)){for(var a=this.editorView.state.tr,o=$n.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)a.step(l[u].map(o));a.docChanged&&this.editorView.dispatch(a)}},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},t.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t})(),g1="image-link",itt=(function(){function t(e,r,n,i){var a=this,o;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,f=s.offsetY;if(a.imageLink&&Ti(a.getPos)&&GS(l,g1)){var h=getComputedStyle(l,":before");if(s.stopPropagation(),Yg(h,u,f)){var w=a.view.state.tr,C=a.getPos();w.setSelection(xr(w,C,C+1)),a.view.dispatch(w),a.eventEmitter.emit("openPopup","link",a.imageLink.attrs)}}},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.imageLink=(o=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&o!==void 0?o:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var r=document.createElement("span");return r.className=g1,r.appendChild(e),r}return e},t.prototype.createImageElement=function(e){var r=document.createElement("img"),n=e.attrs,i=n.imageUrl,a=n.altText,o=Hr(e.attrs);return r.src=i,a&&(r.alt=a),ty(o,r),r},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t})(),att="toastui-editor-ww-code-block",ott="toastui-editor-ww-code-block-language",stt=(function(){function t(e,r,n,i){var a=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(o){var s=o.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&Ti(a.getPos)){var u=a.view.coordsAtPos(a.getPos()),f=u.top,h=u.right;a.createLanguageEditor({top:f,right:h})}},this.handleKeydown=function(o){o.key==="Enter"&&a.input&&(o.preventDefault(),a.changeLanguage())},this.node=e,this.view=r,this.getPos=n,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var e=this.node.attrs.language,r=document.createElement("div");r.setAttribute("data-language",e||"text"),r.className=att;var n=this.createCodeBlockElement(),i=n.firstChild;r.appendChild(n),this.dom=r,this.contentDOM=i},t.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),r=document.createElement("code"),n=this.node.attrs.language,i=Hr(this.node.attrs);return n&&r.setAttribute("data-language",n),ty(i,e),e.appendChild(r),e},t.prototype.createLanguageEditor=function(e){var r=this,n=e.top,i=e.right,a=document.createElement("span");a.className=ott;var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,a.appendChild(o),this.view.dom.parentElement.appendChild(a);var s=a.clientWidth;pa(a,{top:n+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=o,this.input.addEventListener("blur",function(){return r.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){r.input.focus()})},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},t.prototype.changeLanguage=function(){if(this.input&&Ti(this.getPos)){var e=this.input.value;this.reset();var r=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(r,null,{language:e}),this.view.dispatch(n)}},t.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var r=this.input.parentElement;this.input=null,Ns(r)}},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},t.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t})(),ltt=/MsoListParagraph/,pM=/style=(.|\n)*mso-/,vM=/mso-list:(.*)/,utt=/O:P/,ctt=/^(n|u|l)/,ftt="p.MsoListParagraph";function dtt(t){return pM.test(t)}function htt(t){for(var e=[],r=document.createTreeWalker(t,1,null,!1);r.nextNode();){var n=r.currentNode;if(sh(n)){var i=n,a=i.outerHTML,o=i.textContent,s=pM.test(a),l=vM.test(a);s&&!l&&o?e.push([n,!0]):(utt.test(n.nodeName)||s&&!o||l)&&e.push([n,!1])}}return e.forEach(function(u){var f=u[0],h=u[1];h?Nge(f):Ns(f)}),t.innerHTML.trim()}function ptt(t,e){var r=t.getAttribute("style");if(r){var n=r.match(vM),i=n[1],a=i.trim().split(" "),o=a[1],s=parseInt(o.replace("level",""),10),l=ctt.test(t.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:htt(t)}}return null}function vtt(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}function mtt(t){var e=[];return t.forEach(function(r,n){var i=e[n-1],a=ptt(r,n);a&&(i&&vtt(a,i),e.push(a))}),e}function mM(t){var e=t[0].unordered?"ul":"ol",r=document.createElement(e);return t.forEach(function(n){var i=n.children,a=n.contents,o=document.createElement("li");o.innerHTML=a,r.appendChild(o),i.length&&r.appendChild(mM(i))}),r}function gtt(t){var e=mtt(t),r=e.filter(function(n){var i=n.parent;return!i});return mM(r)}function ytt(t){for(;t&&!sh(t);)t=t.nextSibling;return t?!ltt.test(t.className):!0}function btt(t){var e=document.createElement("div");e.innerHTML=t;var r=[],n=Mge(e,ftt);n.forEach(function(a){var o=ytt(a.nextSibling);if(r.push(a),o){var s=gtt(r),l=a.nextSibling;l?Age(s,l):Oge(e,s),r=[]}Ns(a)});var i=n.length?"<p></p>":"";return""+i+e.innerHTML}var y1="<!--StartFragment-->",wtt="<!--EndFragment-->";function ktt(t){var e=t.indexOf(y1),r=t.lastIndexOf(wtt);return e>-1&&r>-1&&(t=t.slice(e+y1.length,r)),t.replace(/<br[^>]*>/g,YS)}function Ctt(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}function xtt(t){return t=ktt(t),t=Ctt(t),dtt(t)&&(t=btt(t)),t}function Ttt(t){var e=t.reduce(function(r,n){return r.childCount>n.childCount?r:n});return e.childCount}function gM(t,e,r){for(var n=[],i=t.childCount,a=0;a<i;a+=1)if(!t.child(a).attrs.extended){var o=a<i?r.create(t.child(a).attrs,t.child(a).content):r.createAndFill();n.push(o)}return n}function yM(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableHeadCell,o=gM(t,e,a);return i.create(null,o)}function bM(t,e,r){var n=r.nodes,i=n.tableRow,a=n.tableBodyCell,o=gM(t,e,a);return i.create(null,o)}function Stt(t,e){for(var r=e.nodes,n=r.tableRow,i=r.tableBodyCell,a=[],o=0;o<t;o+=1){var s=i.createAndFill();a.push(s)}return n.create({dummyRowForPasting:!0},a)}function wM(t){var e=[],r=[];if(t.firstChild.type.name==="tableHead"){var n=t.firstChild;n.forEach(function(a){return e.push(a)})}if(t.lastChild.type.name==="tableBody"){var i=t.lastChild;i.forEach(function(a){return r.push(a)})}return Kn(Kn([],e),r)}function Ett(t,e,r){var n=yM(t,e,r);return r.nodes.tableHead.create(null,n)}function b1(t,e,r){var n=t.map(function(a){return bM(a,e,r)});if(!t.length){var i=Stt(e,r);n.push(i)}return r.nodes.tableBody.create(null,n)}function Mtt(t,e,r,n){var i=Ttt(t);if(r&&n)return e.nodes.table.create(null,[b1(t,i,e)]);var a=t[0],o=t.slice(1),s=[Ett(a,i,e)];return o.length&&s.push(b1(o,i,e)),e.nodes.table.create(null,s)}function Ott(t,e,r){var n=[],i=t.content,a=t.openStart,o=t.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=fM(new ot(Ue.from(s),0,0));if(l){var u=wM(l),f=l.firstChild.type.name==="tableBody",h=Mtt(u,e,f,r);n.push(h)}}else n.push(s)}),new ot(Ue.from(n),a,o)}var Att=4,Ntt=2;function Rf(t){return t*Att}function Dtt(t,e,r){var n=[],i=wM(t),a=i[0].childCount,o=i.length,s=e.startRowIdx===0,l=i.slice(0,o);if(s){var u=l.shift();if(u){var f=yM(u,a,r).content;n.push(f)}}return l.forEach(function(h){if(!h.attrs.dummyRowForPasting){var w=bM(h,a,r).content;n.push(w)}}),n}function Rtt(t,e,r){for(var n=e.startRowIdx,i=e.startColIdx,a=r.length,o=0,s=function(C){var x=r[C].childCount;r[C].forEach(function(M){var D=M.attrs,B=D.colspan;B>1&&(x+=B-1)}),o=Math.max(o,x)},l=0;l<a;l+=1)s(l);var u=n+a-1,f=i+o-1,h=Math.max(u+1-t.totalRowCount,0),w=Math.max(f+1-t.totalColumnCount,0);return{startRowIdx:n,startColIdx:i,endRowIdx:u,endColIdx:f,addedRowCount:h,addedColumnCount:w}}function Ltt(t,e){for(var r=t.startRowIdx,n=t.startColIdx,i=t.endRowIdx,a=t.endColIdx,o=t.addedRowCount,s=t.addedColumnCount,l=r;l<=i-o;l+=1)e.push({rowIdx:l,startColIdx:n,endColIdx:a-s})}function Itt(t,e,r,n,i){for(var a=n.startRowIdx,o=n.startColIdx,s=n.endRowIdx,l=n.endColIdx,u=n.addedRowCount,f=n.addedColumnCount,h=r.totalRowCount,w=0,C=0;C<h;C+=1){var x=r.getCellInfo(C,l-f),M=x.offset,D=x.nodeSize,B=t.mapping.map(M+D),j=Df(f,C,e);if(t.insert(B,j),C>=a&&C<=s-u){var Q=r.getCellInfo(C,l-f),Y=t.mapping.map(Q.offset),te=B+Rf(f);i[w]={rowIdx:C,startColIdx:o,endColIdx:l,dummyOffsets:[Y,te]},w+=1}}}function Ptt(t,e,r,n,i){var a=n.addedRowCount,o=n.addedColumnCount,s=n.startColIdx,l=n.endColIdx,u=t.mapping.maps.length,f=r.tableEndOffset-2,h=lM(a,r.totalColumnCount+o,e),w=f;t.insert(t.mapping.slice(u).map(w),h);for(var C=0;C<a;C+=1){var x=w+Rf(s)+1,M=w+Rf(l+1)+1,D=w+Rf(r.totalColumnCount+o)+Ntt;i.push({rowIdx:C+r.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[x,M]}),w=D}}function _tt(t,e,r,n){var i=t.mapping.maps.length;r.forEach(function(a,o){var s=a.rowIdx,l=a.startColIdx,u=a.endColIdx,f=a.dummyOffsets,h=t.mapping.slice(i),w=new ot(e[o],0,0),C=f?f[0]:n.getCellStartOffset(s,l),x=f?f[1]:n.getCellEndOffset(s,u);t.replace(h.map(C),h.map(x),w)})}function Btt(t,e){var r=t.state,n=r.selection,i=r.schema,a=r.tr,o=ea(n),s=o.anchor,l=o.head;if(s&&l){var u=fM(e);if(!u)return!1;var f=on.create(s),h=f.getRectOffsets(s,l),w=Dtt(u,h,i),C=Rtt(f,h,w),x=[];return qtt(f,C)&&(Ltt(C,x),C.addedColumnCount&&Itt(a,i,f,C,x),C.addedRowCount&&Ptt(a,i,f,C,x),_tt(a,w,x,f),t.dispatch(a),Ftt(t,x,f.getCellInfo(0,0).offset)),!0}return!1}function Ftt(t,e,r){var n=t.state,i=n.tr,a=n.doc,o=on.create(a.resolve(r)),s=e[0],l=s.rowIdx,u=s.startColIdx,f=kn(e),h=f.rowIdx,w=f.endColIdx,C=o.getCellInfo(l,u).offset,x=o.getCellInfo(h,w).offset;t.dispatch(i.setSelection(new my(a.resolve(C),a.resolve(x))))}function qtt(t,e){var r=t.getSpannedOffsets(e),n=fl(r),i=n.rowCount,a=n.columnCount,o=fl(e),s=o.rowCount,l=o.columnCount;return i===s&&a===l}var Htt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e})(wr),Vtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:Ae({},en()),parseDOM:[{tag:"p"}],toDOM:function(r){var n=r.attrs;return["p",Hr(n),0]}}},enumerable:!1,configurable:!0}),e})(wr),ztt=/\s{1,4}$/,$tt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,o=i.$from,s=i.$to,l=o.blockRange(s);return l&&!_l(o)&&!bd(o)?(n(a.insertText("    ",o.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(r,n){var i=r.selection,a=r.tr,o=i.$from,s=i.$to,l=i.from,u=o.blockRange(s);if(u&&!_l(o)&&!bd(o)){var f=o.nodeBefore;if(f&&f.isText){var h=f.text,w=h.replace(ztt,""),C=h.length-w.length;return n(a.delete(l-C,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e})(wr),Utt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this.levels.map(function(n){return{tag:"h"+n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({level:n},a&&{rawHTML:a})}}});return{attrs:Ae({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},en()),content:"inline*",group:"block",defining:!0,parseDOM:r,toDOM:function(n){var i=n.attrs;return["h"+i.level,Hr(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){var a=n.schema.nodes[r.level?"heading":"paragraph"];return Vg(a,r)(n,i)}}},e})(wr),jtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Ae({language:{default:null},rawHTML:{default:null}},en()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(r){var n=r.getAttribute("data-raw-html"),i=r.firstElementChild;return Ae({language:(i==null?void 0:i.getAttribute("data-language"))||null},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"pre",["code",Ae({"data-language":n.language},Hr(n)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Vg(r.schema.nodes.codeBlock)(r,n)}}},e.prototype.moveCursor=function(r){var n=this;return function(i,a){var o=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,f=n.context.view;if(f.endOfTextblock(r)&&u.node().type.name==="codeBlock"){var h=u.parent.textContent.split(`
`),w=r==="up"?u.start():u.end(),C=r==="up"?[w,h[0].length+w]:[w-kn(h).length,w],x=s.resolve(r==="up"?u.before():u.after()),M=r==="up"?x.nodeBefore:x.nodeAfter;if(Jme(u.pos,C[0],C[1])&&!M){var D=Xg(o,x,l);if(D)return a(D),!0}}return!1}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-p":r,"Shift-Mod-P":r,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e})(wr),Wtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[ph("ul")],toDOM:function(r){var n=r.attrs;return["ul",Hr(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(r,n){return sM(r.schema.nodes.bulletList)(r,n)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:Met}},e.prototype.keymaps=function(){var r=this.changeList(),n=vy(),i=n.indent,a=n.outdent;return{"Mod-u":r,"Mod-U":r,Tab:i(),"Shift-Tab":a()}},e})(wr),Gtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Ae({order:{default:1},rawHTML:{default:null}},en()),parseDOM:[{tag:"ol",getAttrs:function(r){var n=r.getAttribute("start"),i=r.getAttribute("data-raw-html");return Ae({order:r.hasAttribute("start")?Number(n):1},i&&{rawHTML:i})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"ol",Ae({start:n.order===1?null:n.order},Hr(n)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return sM(r.schema.nodes.orderedList)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()(),n=vy(),i=n.indent,a=n.outdent;return{"Mod-o":r,"Mod-O":r,Tab:i(),"Shift-Tab":a()}},e})(wr),Ktt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return Ae({task:r.hasAttribute("data-task"),checked:r.hasAttribute("data-task-checked")},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs,i=n.task,a=n.checked;if(!i)return[n.rawHTML||"li",0];var o=["task-list-item"];return a&&o.push("checked"),[n.rawHTML||"li",Ae({class:o.join(" "),"data-task":i},a&&{"data-task-checked":a}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(r,n){var i=r.selection,a=r.tr,o=r.schema,s=i.$from,l=i.empty,u=o.nodes.listItem,f=s.parent,h=s.node(-1);if(l&&!f.childCount&&h.type===u){if(s.index(-2)>=1)return a.delete(s.start(-1)-1,s.end(-1)),n(a),!0;var w=s.node(-3);if(w.type===u)return a.delete(s.start(-2)-1,s.end(-1)),n(a),!0}return!1}},e.prototype.keymaps=function(){var r=function(n,i){return Ret(n.schema.nodes.listItem)(n,i)};return{Backspace:this.liftToPrevListItem(),Enter:r}},e})(wr),Jtt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},en()),content:"block+",group:"block",parseDOM:[ph("blockquote")],toDOM:function(r){var n=r.attrs;return["blockquote",Hr(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return Bve(r.schema.nodes.blockQuote)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Alt-q":r,"Alt-Q":r}},e})(wr),Xtt={left:irt,right:nrt,up:art,down:ort};function Qtt(t,e,r){var n=r[0],i=r[1],a=e.resolve(t.before(n-1));return i===n&&!a.nodeBefore}function Ytt(t){for(var e,r=t.depth,n;r&&(n=t.node(r),n.type.name!=="tableBodyCell");){if(n.type.name==="listItem"){var i=t.node(r-1),a=i.lastChild===n,o=((e=n.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return a?!o:!1}r-=1}return!1}function Ztt(t,e,r,n,i){var a=e[0],o=e[1],s=e[2];if(t==="left"||t==="up"){if(i&&!Qtt(r,n,[a,o]))return!1;var l=r.before(s),u=n.resolve(l).nodeBefore;if(u)return!1}return!0}function ert(t,e,r,n,i){if(t==="right"||t==="down"){if(i&&!Ytt(r))return!1;var a=r.after(e),o=n.resolve(a).nodeAfter;if(o)return!1}return!0}function trt(t,e,r,n){var i=e[0],a=e[1],o=i+3,s=a>=o,l=s?i+1:a,u=Ztt(t,[a,o,l],r,n,s),f=ert(t,l,r,n,s);return u&&f}function w1(t,e,r){var n=r[0],i=r[1],a=e.getRowspanStartInfo(n,i),o=t==="up"&&n===0,s=t==="down"&&((a==null?void 0:a.count)>1?n+a.count-1:n)===e.totalRowCount-1;return o||s}function rrt(t,e,r){var n=t.doc.resolve(e.tableStartOffset-1);return n.nodeBefore?t.setSelection(Gt.near(n,-1)):Xg(t,n,r)}function Wv(t,e,r,n){n===void 0&&(n=!1);var i=t.doc.resolve(e.tableEndOffset);return n||!i.nodeAfter?Xg(t,i,r):t.setSelection(Gt.near(i,1))}function nrt(t,e){var r=t[0],n=t[1],i=e.totalRowCount,a=e.totalColumnCount,o=n===a-1,s=r===i-1&&o;if(!s){var l=n+1,u=e.getColspanStartInfo(r,n);(u==null?void 0:u.count)>1&&(l+=u.count-1),(o||l===a)&&(r+=1,l=0);var f=e.getCellInfo(r,l).offset;return f+2}return null}function irt(t,e){var r=t[0],n=t[1],i=e.totalColumnCount,a=n===0,o=r===0&&a;if(!o){n-=1,a&&(r-=1,n=i-1);var s=e.getCellInfo(r,n),l=s.offset,u=s.nodeSize;return l+u-2}return null}function art(t,e){var r=t[0],n=t[1];if(r>0){var i=e.getCellInfo(r-1,n),a=i.offset,o=i.nodeSize;return a+o-2}return null}function ort(t,e){var r=t[0],n=t[1],i=e.totalRowCount;if(r<i-1){var a=r+1,o=e.getRowspanStartInfo(r,n);(o==null?void 0:o.count)>1&&(a+=o.count-1);var s=e.getCellInfo(a,n).offset;return s+2}return null}function k1(t,e,r,n){var i=Xtt[t],a=i(r,n);if(a){var o=t==="right"||t==="down"?1:-1;return e.setSelection(Gt.near(e.doc.resolve(a),o))}return null}function srt(t,e,r){var n=r[0],i=r[1];if(t==="up"||t==="down")return!1;var a=e.tableStartOffset,o=e.tableEndOffset,s=e.getCellInfo(n,i),l=s.offset,u=s.nodeSize,f=t==="left"?a:o,h=t==="left"?l-2:l+u+3;return f===h}function lrt(t,e,r){var n=t.doc.resolve(e.before(r-3));return t.setSelection(new It(n))}function urt(t,e,r){var n,i,a;return t==="up"?(n=r.startRowIdx,i=0,a=-1):(n=r.endRowIdx,i=e.totalColumnCount-1,a=e.getCellInfo(n,i).nodeSize+1),{targetRowIdx:n,insertColIdx:i,nodeSize:a}}function crt(t,e,r){var n=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,r-1),a=i.offset,o=i.nodeSize;return{from:n,to:a+o}}var frt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[ph("table")],toDOM:function(r){var n=r.attrs;return["table",Hr(n),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(r){return r===void 0&&(r={rowCount:2,columnCount:1,data:[]}),function(n,i){var a=r.rowCount,o=r.columnCount,s=r.data,l=n.schema,u=n.selection,f=n.tr,h=u.from,w=u.to,C=u.$from,x=h===w;if(x&&!bd(C)){var M=l.nodes,D=M.tableHead,B=M.tableBody,j=s==null?void 0:s.slice(0,o),Q=s==null?void 0:s.slice(o,s.length),Y=Fet(o,l,j),te=lM(a-1,o,l,Q),se=l.nodes.table.create(null,[D.create(null,Y),B.create(null,te)]);return i(f.replaceSelectionWith(se)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=on.create(i.$anchor);if(o){var s=o.tableStartOffset,l=o.tableEndOffset,u=s-1,f=xr(a.delete(u,l),u);return n(a.setSelection(f)),!0}return!1}}},e.prototype.addColumn=function(r){return function(){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=ea(a),u=l.anchor,f=l.head;if(u&&f){for(var h=on.create(u),w=h.getRectOffsets(u,f),C=r==="left"?w.startColIdx:w.endColIdx+1,x=fl(w).columnCount,M=h.totalRowCount,D=0;D<M;D+=1){var B=Df(x,D,s);o.insert(o.mapping.map(h.posAt(D,C)),B)}return i(o),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=ea(i),s=o.anchor,l=o.head;if(s&&l){var u=on.create(s),f=u.getRectOffsets(s,l),h=u.totalColumnCount,w=u.totalRowCount,C=fl(f).columnCount,x=C===h;if(x)return!1;for(var M=f.startColIdx,D=f.endColIdx,B=a.mapping.maps.length,j=0;j<w;j+=1)for(var Q=D;Q>=M;Q-=1){var Y=u.getCellInfo(j,Q),te=Y.offset,se=Y.nodeSize,oe=a.mapping.slice(B).map(te),ge=oe+se;a.delete(oe,ge)}return n(a),!0}return!1}}},e.prototype.addRow=function(r){return function(){return function(n,i){var a=n.selection,o=n.schema,s=n.tr,l=ea(a),u=l.anchor,f=l.head;if(u&&f){var h=on.create(u),w=h.totalColumnCount,C=h.getRectOffsets(u,f),x=fl(C).rowCount,M=urt(r,h,C),D=M.targetRowIdx,B=M.insertColIdx,j=M.nodeSize,Q=D===0;if(!Q){for(var Y=[],te=s.mapping.map(h.posAt(D,B))+j,se=[],oe=0;oe<w;oe+=1)se=se.concat(Df(1,D,o));for(var ge=0;ge<x;ge+=1)Y.push(o.nodes.tableRow.create(null,se));return i(s.insert(te,Y)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(r,n){var i=r.selection,a=r.tr,o=ea(i),s=o.anchor,l=o.head;if(s&&l){var u=on.create(s),f=u.totalRowCount,h=u.totalColumnCount,w=u.getRectOffsets(s,l),C=fl(w).rowCount,x=w.startRowIdx,M=w.endRowIdx,D=x===0,B=C===f-1;if(B||D)return!1;for(var j=M;j>=x;j-=1){var Q=crt(u,j,h),Y=Q.from,te=Q.to;a.delete(Y-1,te+1)}return n(a),!0}return!1}}},e.prototype.alignColumn=function(){return function(r){return r===void 0&&(r={align:"center"}),function(n,i){var a=r.align,o=n.selection,s=n.tr,l=ea(o),u=l.anchor,f=l.head;if(u&&f){for(var h=on.create(u),w=h.totalRowCount,C=h.getRectOffsets(u,f),x=C.startColIdx,M=C.endColIdx,D=0;D<w;D+=1)for(var B=x;B<=M;B+=1)if(!h.extendedRowspan(D,B)&&!h.extendedColspan(D,B)){var j=h.getNodeAndPos(D,B),Q=j.node,Y=j.pos,te=qet(Q,{align:a});s.setNodeMarkup(Y,null,te)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(r){return function(n,i){var a=n.selection,o=n.tr,s=n.schema,l=ea(a),u=l.anchor,f=l.head;if(u&&f){var h=on.create(u),w=h.getCellIndex(u),C=void 0;if(w1(r,h,w)?C=Wv(o,h,s):C=k1(r,o,w,h),C)return i(C),!0}return!1}},e.prototype.moveInCell=function(r){var n=this;return function(i,a){var o=i.selection,s=i.tr,l=i.doc,u=i.schema,f=o.$from,h=n.context.view;if(!h.endOfTextblock(r))return!1;var w=Va(f,function(Q){var Y=Q.type;return Y.name==="tableHeadCell"||Y.name==="tableBodyCell"});if(w){var C=Va(f,function(Q){var Y=Q.type;return Y.name==="paragraph"}),x=w.depth;if(C&&trt(r,[x,C.depth],f,l)){var M=ea(o).anchor,D=on.create(M),B=D.getCellIndex(M),j=void 0;if(srt(r,D,B)?j=lrt(s,f,x):w1(r,D,B)?r==="up"?j=rrt(s,D,u):r==="down"&&(j=Wv(s,D,u)):j=k1(r,s,B,D),j)return a(j),!0}}return!1}},e.prototype.deleteCells=function(){return function(r,n){var i=r.schema,a=r.selection,o=r.tr,s=ea(a),l=s.anchor,u=s.head,f=a instanceof Xt;if(l&&u&&!f){for(var h=on.create(l),w=h.getRectOffsets(l,u),C=w.startRowIdx,x=w.startColIdx,M=w.endRowIdx,D=w.endColIdx,B=C;B<=M;B+=1)for(var j=x;j<=D;j+=1)if(!h.extendedRowspan(B,j)&&!h.extendedColspan(B,j)){var Q=h.getNodeAndPos(B,j),Y=Q.node,te=Q.pos,se=Df(1,B,i,Y.attrs);o.replaceWith(o.mapping.map(te),o.mapping.map(te+Y.nodeSize),se)}return n(o),!0}return!1}},e.prototype.exitTable=function(){return function(r,n){var i=r.selection,a=r.tr,o=r.schema,s=i.$from,l=Va(s,function(w){var C=w.type;return C.name==="tableHeadCell"||C.name==="tableBodyCell"});if(l){var u=Va(s,function(w){var C=w.type;return C.name==="paragraph"});if(u){var f=ea(i).anchor,h=on.create(f);return n(Wv(a,h,o,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var r=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:r,"Mod-Backspace":r,Delete:r,"Mod-Delete":r,"Mod-Enter":this.exitTable()}},e})(wr),drt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[ph("thead")],toDOM:function(r){var n=r.attrs;return["thead",Hr(n),0]}}},enumerable:!1,configurable:!0}),e})(wr),hrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[{tag:"tbody",getAttrs:function(r){var n=r.querySelectorAll("tr"),i=n[0].children.length,a=r.getAttribute("data-raw-html");return i?Ae({},a&&{rawHTML:a}):!1}}],toDOM:function(r){var n=r.attrs;return["tbody",Hr(n),0]}}},enumerable:!1,configurable:!0}),e})(wr),prt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[{tag:"tr",getAttrs:function(r){var n=r.children.length,i=r.getAttribute("data-raw-html");return n?Ae({},i&&{rawHTML:i}):!1}}],toDOM:function(r){var n=r.attrs;return["tr",Hr(n),0]}}},enumerable:!1,configurable:!0}),e})(wr),vrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Ae({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},en()),isolating:!0,parseDOM:[iM("th")],toDOM:function(r){var n=r.attrs,i=nM(n);return["th",Ae(Ae({},i),Hr(n)),0]}}},enumerable:!1,configurable:!0}),e})(wr),mrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[iM("td")],toDOM:function(r){var n=r.attrs,i=nM(n);return["td",i,0]}}},enumerable:!1,configurable:!0}),e})(wr),grt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:Ae({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},en()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(r){var n=Ls(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=n.getAttribute("src")||"",a=n.getAttribute("data-raw-html"),o=n.getAttribute("alt");return Ae({imageUrl:i,altText:o},a&&{rawHTML:a})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"img",Ae(Ae({src:cl(n.imageUrl)},n.altText&&{alt:n.altText}),Hr(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(r){return function(n,i){var a=n.schema,o=n.tr,s=r,l=s.imageUrl,u=s.altText;if(!l)return!1;var f=a.nodes.image.createAndFill(Ae({imageUrl:l},u&&{altText:u}));return i(o.replaceSelectionWith(f).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e})(wr),C1=1,yrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},en()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(r){var n=r.attrs;return["div",Hr(n),[n.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var r=this;return function(){return function(n,i){var a,o=n.selection,s=o.$from,l=o.$to;if(s===l){var u=n.doc,f=n.schema.nodes,h=f.thematicBreak,w=f.paragraph,C=[h.create()],x=s.node(C1),M=u.child(u.childCount-1)===x,D=u.resolve(s.after(C1)),B=((a=s.nodeAfter)===null||a===void 0?void 0:a.type.name)===r.name;return(M||B)&&C.push(w.create()),i(n.tr.insert(D.pos,C).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var r=this.hr()();return{"Mod-l":r,"Mod-L":r}},e})(wr),brt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["b","strong"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},en()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"strong",Hr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(r,n){return uc(r.schema.marks.strong)(r,n)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var r=this.bold()();return{"Mod-b":r,"Mod-B":r}},e})(Tr),wrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["i","em"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},en()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"em",Hr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(r,n){return uc(r.schema.marks.emph)(r,n)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var r=this.italic()();return{"Mod-i":r,"Mod-I":r}},e})(Tr),krt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=["s","del"].map(function(n){return{tag:n,getAttrs:function(i){var a=i.getAttribute("data-raw-html");return Ae({},a&&{rawHTML:a})}}});return{attrs:Ae({rawHTML:{default:null}},en()),parseDOM:r,toDOM:function(n){var i=n.attrs;return[i.rawHTML||"del",Hr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return uc(r.schema.marks.strike)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Mod-s":r,"Mod-S":r}},e})(Tr),Crt=(function(t){ft(e,t);function e(r){var n=t.call(this)||this;return n.linkAttributes=r,n}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var r=this;return{attrs:Ae({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},en()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){var i=Ls(n,{RETURN_DOM_FRAGMENT:!0}).firstChild,a=i.getAttribute("href")||"",o=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return Ae({linkUrl:a,title:o},s&&{rawHTML:s})}}],toDOM:function(n){var i=n.attrs;return[i.rawHTML||"a",Ae(Ae({href:cl(i.linkUrl)},r.linkAttributes),Hr(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(r){return function(n,i){var a=r,o=a.linkUrl,s=a.linkText,l=s===void 0?"":s,u=n.schema,f=n.tr,h=n.selection,w=h.empty,C=h.from,x=h.to;if(C&&x&&o){var M={linkUrl:o},D=u.mark("link",M);if(w&&l){var B=cn(u,l,D);f.replaceRangeWith(C,x,B)}else f.addMark(C,x,D);return i(f.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(r){return function(n,i){return uc(n.schema.marks.link,r)(n,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e})(Tr),xrt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Ae({rawHTML:{default:null}},en()),parseDOM:[{tag:"code",getAttrs:function(r){var n=r.getAttribute("data-raw-html");return Ae({},n&&{rawHTML:n})}}],toDOM:function(r){var n=r.attrs;return[n.rawHTML||"code",Hr(n)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n){return uc(r.schema.marks.code)(r,n)}}},e.prototype.keymaps=function(){var r=this.commands()();return{"Shift-Mod-c":r,"Shift-Mod-C":r}},e})(Tr),Trt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(r){var n=r.getAttribute("data-custom-info");return{info:n}}}],toDOM:function(r){var n=r.attrs;return["div",{"data-custom-info":n.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(r){return function(n,i){return r!=null&&r.info?Vg(n.schema.nodes.customBlock,r)(n,i):!1}}},e})(wr),Srt=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="frontMatter"?Hg(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(wr),Ert=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(r,n,i){var a=r.selection.$from;return i.endOfTextblock("down")&&a.node().type.name==="htmlComment"?Hg(r,n):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e})(wr);function Mrt(t){return new sE([new Htt,new Vtt,new $tt,new Utt,new jtt,new Wtt,new Gtt,new Ktt,new Jtt,new frt,new drt,new hrt,new prt,new vrt,new mrt,new grt,new yrt,new brt,new wrt,new krt,new Crt(t),new xrt,new Trt,new Srt,new aE,new Ert])}var Ort=gt("contents"),Art=(function(t){ft(e,t);function e(r,n){var i=t.call(this,r)||this,a=n.toDOMAdaptor,o=n.htmlSchemaMap,s=o===void 0?{}:o,l=n.linkAttributes,u=l===void 0?{}:l,f=n.useCommandShortcut,h=f===void 0?!0:f,w=n.wwPlugins,C=w===void 0?[]:w,x=n.wwNodeViews,M=x===void 0?{}:x;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=a,i.linkAttributes=u,i.extraPlugins=C,i.pluginNodeViews=M,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(h),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Ae(Ae({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return Mrt(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(r){return new AT({nodes:Ae(Ae({},this.specs.nodes),r.nodes),marks:Ae(Ae({},this.specs.marks),r.marks)})},e.prototype.createPlugins=function(){return Kn([Uet(),Ket(this.eventEmitter),Jet(),rtt(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var r=this,n=r.eventEmitter,i=r.pluginNodeViews,a={};return i&&Object.keys(i).forEach(function(o){a[o]=function(s,l,u){return i[o](s,l,u,n)}}),a},e.prototype.createView=function(){var r=this,n=this,i=n.toDOMAdaptor,a=n.eventEmitter;return new th(this.el,{state:this.createState(),attributes:{class:Ort},nodeViews:Ae({customBlock:function(o,s,l){return new ntt(o,s,l,i)},image:function(o,s,l){return new itt(o,s,l,a)},codeBlock:function(o,s,l){return new stt(o,s,l,a)},widget:iE},this.createPluginNodeViews()),dispatchTransaction:function(o){var s=r.view.state.applyTransaction(o).state;r.view.updateState(s),r.emitChangeEvent(o.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:xtt,transformPasted:function(o){return Ott(o,r.schema,bd(r.view.state.selection.$from))},handlePaste:function(o,s,l){return Btt(o,l)},handleKeyDown:function(o,s){return r.eventEmitter.emit("keydown",r.editorType,s),!1},handleDOMEvents:{paste:function(o,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var f=va(u).some(function(w){return w.kind==="string"&&w.type==="text/rtf"});if(!f){var h=nE(u);h&&(s.preventDefault(),ny(r.eventEmitter,h,s.type))}}return!1},keyup:function(o,s){return r.eventEmitter.emit("keyup",r.editorType,s),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,vy())},e.prototype.getHTML=function(){return ry(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var r=this.view.state.selection,n=r.from,i=r.to;return[n,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(r,n,i){var a=this.view.state,o=a.schema,s=a.tr,l=r.split(`
`),u=l.map(function(w){return ud(o,ks(w,o))}),f=new ot(Ue.from(u),1,1),h=Ba(n)&&Ba(i)?s.replaceRange(n,i,f):s.replaceSelection(f);this.view.dispatch(h),this.focus()},e.prototype.deleteSelection=function(r,n){var i=this.view.state.tr,a=Ba(r)&&Ba(n)?i.deleteRange(r,n):i.deleteSelection();this.view.dispatch(a.scrollIntoView())},e.prototype.getSelectedText=function(r,n){var i=this.view.state,a=i.doc,o=i.selection,s=o.from,l=o.to;return Ba(r)&&Ba(n)&&(s=r,l=n),a.textBetween(s,l,`
`)},e.prototype.setModel=function(r,n){n===void 0&&(n=!1);var i=this.view.state,a=i.tr,o=i.doc;this.view.dispatch(a.replaceWith(0,o.content.size,r)),n&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(r,n){n===void 0&&(n=r);var i=this.view.state.tr,a=xr(i,r,n);this.view.dispatch(i.setSelection(a).scrollIntoView())},e.prototype.addWidget=function(r,n,i){var a=this.view,o=a.dispatch,s=a.state;o(s.tr.setMeta("widget",{pos:i??s.selection.to,node:r,style:n}))},e.prototype.replaceWithWidget=function(r,n,i){var a=this.view.state,o=a.tr,s=a.schema,l=ks(i,s);this.view.dispatch(o.replaceWith(r,n,l))},e.prototype.getRangeInfoOfNode=function(r){var n=this.view.state,i=n.doc,a=n.selection,o=r?i.resolve(r):a.$from,s=o.marks(),l=o.node(),u=o.start(),f=o.end(),h=l.type.name;if(s.length||h==="paragraph"){var w=s[s.length-1],C=function(x){return x.length?hn(x,w):!0};h=w?w.type.name:"text",l.forEach(function(x,M){var D=x.isText,B=x.nodeSize,j=x.marks,Q=o.pos-u;D&&M<=Q&&M+B>=Q&&C(j)&&(u=u+M,f=u+B)})}return{range:[u,f],type:h}},e})(oE),Nrt=zi,Drt=ad;function Rrt(t){return!Nrt(t)&&!Drt(t)}var Lrt=Rrt,Irt=Lrt;function Prt(t){return Irt(t)&&t!==!1}var _rt=Prt,Brt=_rt;function Frt(t){return!Brt(t)}var qrt=Frt,x1=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],kM=(function(){function t(){var e=this;this.events=new dM,this.eventTypes=x1.reduce(function(r,n){return Ae(Ae({},r),{type:n})},{}),this.hold=!1,x1.forEach(function(r){e.addEventType(r)})}return t.prototype.listen=function(e,r){var n=this.getTypeInfo(e),i=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(r.namespace=n.namespace),i.push(r),this.events.set(n.type,i)},t.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getTypeInfo(e),a=this.events.get(i.type),o=[];return!this.hold&&a&&a.forEach(function(s){var l=s.apply(void 0,r);zi(l)||o.push(l)}),o},t.prototype.emitReduce=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this.events.get(e);return!this.hold&&a&&a.forEach(function(o){var s=o.apply(void 0,Kn([r],n));qrt(s)||(r=s)}),r},t.prototype.getTypeInfo=function(e){var r=e.split(".");return{type:r[0],namespace:r[1]}},t.prototype.hasEventType=function(e){return!zi(this.eventTypes[this.getTypeInfo(e).type])},t.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},t.prototype.removeEventHandler=function(e,r){var n=this,i=this.getTypeInfo(e),a=i.type,o=i.namespace;a&&r?this.removeEventHandlerWithHandler(a,r):a&&!o?this.events.delete(a):!a&&o?this.events.forEach(function(s,l){n.removeEventHandlerWithTypeInfo(l,o)}):a&&o&&this.removeEventHandlerWithTypeInfo(a,o)},t.prototype.removeEventHandlerWithHandler=function(e,r){var n=this.events.get(e);if(n){var i=n.indexOf(r);n.indexOf(r)>=0&&n.splice(i,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(e,r){var n=[],i=this.events.get(e);i&&(i.map(function(a){return a.namespace!==r&&n.push(a),null}),this.events.set(e,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},t})(),Hrt=(function(){function t(e,r,n,i){this.eventEmitter=e,this.mdCommands=r,this.wwCommands=n,this.getEditorType=i,this.initEvent()}return t.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(r,n){e.exec(r,n)})},t.prototype.addCommand=function(e,r,n){e==="markdown"?this.mdCommands[r]=n:this.wwCommands[r]=n},t.prototype.deleteCommand=function(e,r){e==="markdown"?delete this.mdCommands[r]:delete this.wwCommands[r]},t.prototype.exec=function(e,r){var n=this.getEditorType();n==="markdown"?this.mdCommands[e](r):this.wwCommands[e](r)},t})();function Lf(t){return t[t.length-1]===`
`?t.slice(0,t.length-1):t}function Xm(t,e){var r=t.schema,n=e.literal,i=n.match(Rl);if(i){var a=i[1],o=i[3],s=(a||o).toLowerCase();return e.type==="htmlInline"&&!!(r.marks[s]||r.nodes[s])}return!1}function Qm(t){var e=t.type;return hn(["text","strong","emph","strike","image","link","code"],e)}function T1(t){return(t==null?void 0:t.type)==="softbreak"}function lu(t){var e=t.type,r=t.literal,n=e==="htmlInline"&&r.match(Rl);if(n){var i=n[1],a=n[3],o=i||a;if(o)return hn(["ul","ol","li"],o.toLowerCase())}return!1}function Vrt(t){var e=t.literal,r=/data-task/.test(e),n=/data-task-checked/.test(e);return{task:r,checked:n}}function S1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=document.createElement("div");n.innerHTML=Ls(t);var i=n.firstChild;return e.map(function(a){return i.getAttribute(a)||""})}function zrt(t){var e={};return Object.keys(t).forEach(function(r){var n=r.split(", ");n.forEach(function(i){var a=i.toLowerCase();e[a]=t[r]})}),e}var $rt={"b, strong":function(t,e,r){var n=t.schema.marks.strong;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"i, em":function(t,e,r){var n=t.schema.marks.emph;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},"s, del":function(t,e,r){var n=t.schema.marks.strike;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},code:function(t,e,r){var n=t.schema.marks.code;r?t.openMark(n.create({rawHTML:r})):t.closeMark(n)},a:function(t,e,r){var n=e.literal,i=t.schema.marks.link;if(r){var a=S1(n,"href")[0];t.openMark(i.create({linkUrl:a,rawHTML:r}))}else t.closeMark(i)},img:function(t,e,r){var n=e.literal;if(r){var i=S1(n,"src","alt"),a=i[0],o=i[1],s=t.schema.nodes.image;t.addNode(s,Ae({rawHTML:r,imageUrl:a},o&&{altText:o}))}},hr:function(t,e,r){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:r})},br:function(t,e){var r=t.schema.nodes.paragraph,n=e.parent,i=e.prev,a=e.next;(n==null?void 0:n.type)==="paragraph"?(T1(i)&&t.openNode(r),T1(a)?t.closeNode():a&&(t.closeNode(),t.openNode(r))):(n==null?void 0:n.type)==="tableCell"&&(i&&(Qm(i)||Xm(t,i))&&t.closeNode(),a&&(Qm(a)||Xm(t,a))&&t.openNode(r))},pre:function(t,e,r){var n,i,a=document.createElement("div");a.innerHTML=e.literal;var o=(i=(n=a.firstChild)===null||n===void 0?void 0:n.firstChild)===null||i===void 0?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:r}),t.addText(Lf(o)),t.closeNode()},"ul, ol":function(t,e,r){if(e.parent.type==="tableCell"){var n=t.schema.nodes,i=n.bulletList,a=n.orderedList,o=n.paragraph,s=r==="ul"?i:a;r?(e.prev&&!lu(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:r})):(t.closeNode(),e.next&&!lu(e.next)&&t.openNode(o))}},li:function(t,e,r){var n;if(((n=e.parent)===null||n===void 0?void 0:n.type)==="tableCell"){var i=t.schema.nodes,a=i.listItem,o=i.paragraph;if(r){var s=Vrt(e);e.prev&&!lu(e.prev)&&t.closeNode(),t.openNode(a,Ae({rawHTML:r},s)),e.next&&!lu(e.next)&&t.openNode(o)}else e.prev&&!lu(e.prev)&&t.closeNode(),t.closeNode()}}},Urt=zrt($rt);function E1(t){return t.type==="htmlInline"&&Dm.test(t.literal)}function CM(t){va(t.childNodes).forEach(function(e){if(sh(e)){var r=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",r),e.childNodes&&CM(e)}})}var M1={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,r,n){var i,a=r.entering;if(a){var o=t.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(t.openNode(o,n),t.closeNode()),t.openNode(o,n)}else t.closeNode()},heading:function(t,e,r,n){var i=r.entering;if(i){var a=e,o=a.level,s=a.headingType;t.openNode(t.schema.nodes.heading,Ae({level:o,headingType:s},n))}else t.closeNode()},codeBlock:function(t,e,r){var n=t.schema.nodes.codeBlock,i=e,a=i.info,o=i.literal;t.openNode(n,Ae({language:a},r)),t.addText(Lf(o||"")),t.closeNode()},list:function(t,e,r,n){var i=r.entering;if(i){var a=t.schema.nodes,o=a.bulletList,s=a.orderedList,l=e.listData,u=l.type,f=l.start;u==="bullet"?t.openNode(o,n):t.openNode(s,Ae({order:f},n))}else t.closeNode()},item:function(t,e,r,n){var i=r.entering,a=t.schema.nodes.listItem,o=e.listData,s=o.task,l=o.checked;if(i){var u=Ae(Ae(Ae({},s&&{task:s}),l&&{checked:l}),n);t.openNode(a,u)}else t.closeNode()},blockQuote:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.blockQuote,n):t.closeNode()},image:function(t,e,r,n){var i=r.entering,a=r.skipChildren,o=t.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&a&&a(),t.addNode(o,Ae(Ae({imageUrl:l},u&&{altText:u.literal}),n))},thematicBreak:function(t,e,r,n){t.addNode(t.schema.nodes.thematicBreak,n)},strong:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strong;i?t.openMark(a.create(n)):t.closeMark(a)},emph:function(t,e,r,n){var i=r.entering,a=t.schema.marks.emph;i?t.openMark(a.create(n)):t.closeMark(a)},link:function(t,e,r,n){var i=r.entering,a=t.schema.marks.link,o=e,s=o.destination,l=o.title;if(i){var u=Ae({linkUrl:s,title:l},n);t.openMark(a.create(u))}else t.closeMark(a)},softbreak:function(t,e){if(e.parent.type==="paragraph"){var r=e.prev,n=e.next;r&&!E1(r)&&t.closeNode(),n&&!E1(n)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.table,n):t.closeNode()},tableHead:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableHead,n):t.closeNode()},tableBody:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableBody,n):t.closeNode()},tableRow:function(t,e,r,n){var i=r.entering;i?t.openNode(t.schema.nodes.tableRow,n):t.closeNode()},tableCell:function(t,e,r){var n=r.entering;if(!e.ignored){var i=function(x){return x&&(Qm(x)||Xm(t,x))};if(n){var a=t.schema.nodes,o=a.tableHeadCell,s=a.tableBodyCell,l=a.paragraph,u=e.parent.parent,f=u.type==="tableHead"?o:s,h=u.parent,w=(h.columns[e.startIdx]||{}).align,C=Ae({},e.attrs);w&&(C.align=w),t.openNode(f,C),i(e.firstChild)&&t.openNode(l)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,r,n){var i=r.entering,a=t.schema.marks.strike;i?t.openMark(a.create(n)):t.closeMark(a)},code:function(t,e,r,n){var i=t.schema.marks.code;t.openMark(i.create(n)),t.addText(Lf(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var r=t.schema.nodes,n=r.customBlock,i=r.paragraph,a=e,o=a.info,s=a.literal;t.openNode(n,{info:o}),t.addText(Lf(s||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var r=e.literal,n=r.match(Rl),i=n[1],a=n[3],o=(i||a).toLowerCase(),s=t.schema.marks[o],l=Ls(r);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=Wm(l);t.openMark(s.create({htmlAttrs:u}))}else t.closeMark(s);else{var f=Urt[o];f&&f(t,e,i)}},htmlBlock:function(t,e){var r=e.literal,n=document.createElement("div"),i=Sge.test(r);if(i)t.openNode(t.schema.nodes.htmlComment),t.addText(e.literal),t.closeNode();else{var a=r.match(Rl),o=a[1],s=a[3],l=(o||s).toLowerCase(),u=t.schema.nodes[l],f=Ls(r);if(u!=null&&u.spec.attrs.htmlBlock){var h=Wm(f),w=eM(e,l);t.addNode(u,{htmlAttrs:h,childrenHTML:w})}else n.innerHTML=f,CM(n),t.convertByDOMParser(n)}},customInline:function(t,e,r){var n=r.entering,i=r.skipChildren,a=e,o=a.info,s=a.firstChild,l=t.schema;if(o.indexOf("widget")!==-1&&n){var u=jS(e);i(),t.addNode(l.nodes.widget,{info:o},[l.text($S(o,u))])}else{var f="$$";n&&(f+=s?o+" ":o),t.addText(f)}}};function jrt(t){var e=Object.keys(t),r=Ae({},M1),n=new hy({gfm:!0,nodeId:!0,convertors:t}),i=n.getConvertors();return e.forEach(function(a){var o=M1[a];o&&!hn(["htmlBlock","htmlInline"],a)&&(r[a]=function(s,l,u){u.origin=function(){return i[a](l,u,i)};var f=t[a](l,u),h;if(f){var w=Array.isArray(f)?f[0]:f,C=w.attributes,x=w.classNames;h={htmlAttrs:C,classNames:x}}o(s,l,u,h)})}),r}function Wrt(t,e){return t.isText&&e.isText&&lr.sameSet(t.marks,e.marks)?t.withText(t.text+e.text):!1}var Grt=(function(){function t(e,r){this.schema=e,this.convertors=r,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=lr.none}return t.prototype.top=function(){return kn(this.stack)},t.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},t.prototype.addText=function(e){if(e){var r=this.top().content,n=kn(r),i=this.schema.text(e,this.marks),a=n&&Wrt(n,i);a?r[r.length-1]=a:r.push(i)}},t.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},t.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},t.prototype.addNode=function(e,r,n){var i=e.createAndFill(r,n,this.marks);return i?(this.push(i),i):null},t.prototype.openNode=function(e,r){this.stack.push({type:e,attrs:r,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=lr.none);var e=this.stack.pop(),r=e.type,n=e.attrs,i=e.content;return this.addNode(r,n,i)},t.prototype.convertByDOMParser=function(e){var r=this,n=Ts.fromSchema(this.schema).parse(e);n.content.forEach(function(i){return r.push(i)})},t.prototype.closeUnmatchedHTMLInline=function(e,r){var n;if(!r&&e.type!=="htmlInline")for(var i=this.stack.length-1,a=i;a>=0;a-=1){var o=this.stack[a];if(!((n=o.attrs)===null||n===void 0)&&n.rawHTML)o.content.length?this.closeNode():this.stack.pop();else break}},t.prototype.convert=function(e,r){for(var n=e.walker(),i=n.next(),a=function(){var s=i.node,l=i.entering,u=o.convertors[s.type],f=!1;if(u){var h={entering:l,leaf:!age(s),getChildrenText:oge,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){f=!0}};if(o.closeUnmatchedHTMLInline(s,l),u(o,s,h),(r==null?void 0:r.node)===s){var w=o.stack.reduce(function(C,x){return C+x.content.reduce(function(M,D){return M+D.nodeSize},0)},0)+1;r.setMappedPos(w)}}f&&(n.resumeAt(s,!1),n.next()),i=n.next()},o=this;i;)a()},t.prototype.convertNode=function(e,r){return this.convert(e,r),this.stack.length?this.closeNode():null},t})();function Krt(t,e,r){var n=r[0],i=r[1];t.write(n),t.convertInline(e),t.write(i)}function Jrt(t,e,r){var n=e.node,i=e.parent,a=r[0],o=r[1];t.stopNewline=!0,t.write(a),t.convertNode(n),t.write(o),(i==null?void 0:i.type.name)==="doc"&&(t.closeBlock(n),t.stopNewline=!1)}function Xrt(t,e){var r=t.length,n="",i="";return e==="left"?(n=":",r-=1):e==="right"?(i=":",r-=1):e==="center"&&(n=":",i=":",r-=2),""+n+od("-",Math.max(r,3))+i}var Ym={text:function(t,e){var r,n=e.node,i=(r=n.text)!==null&&r!==void 0?r:"";(n.marks||[]).some(function(a){return a.type.name==="link"})?t.text(sd(i),!1):t.text(i)},paragraph:function(t,e){var r=e.node,n=e.parent,i=e.index,a=i===void 0?0:i;if(t.stopNewline)t.convertInline(r);else{var o=a===0,s=!o&&n.child(a-1),l=s&&s.childCount===0,u=a<n.childCount-1&&n.child(a+1),f=u&&u.type.name==="paragraph",h=r.childCount===0;if(h&&l)t.write(`<br>
`);else if(h&&!l&&!o){if((n==null?void 0:n.type.name)==="listItem"){var w=t.getDelim();t.setDelim(""),t.write("<br>"),t.setDelim(w)}t.write(`
`)}else t.convertInline(r),f?t.write(`
`):t.closeBlock(r)}},heading:function(t,e,r){var n=e.node,i=r.delim,a=n.attrs.headingType;a==="atx"?(t.write(i+" "),t.convertInline(n),t.closeBlock(n)):(t.convertInline(n),t.ensureNewLine(),t.write(i),t.closeBlock(n))},codeBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,o=i,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},blockQuote:function(t,e,r){var n=e.node,i=e.parent,a=r.delim;(i==null?void 0:i.type.name)===n.type.name&&t.flushClose(1),t.wrapBlock(a,null,n,function(){return t.convertNode(n)})},bulletList:function(t,e,r){var n=e.node,i=r.delim;t.convertList(n,od(" ",4),function(){return i+" "})},orderedList:function(t,e){var r=e.node,n=r.attrs.order||1;t.convertList(r,od(" ",4),function(i){var a=String(n+i);return a+". "})},listItem:function(t,e){var r=e.node,n=r.attrs,i=n.task,a=n.checked;i&&t.write("["+(a?"x":" ")+"] "),t.convertNode(r)},image:function(t,e,r){var n=r.attrs;t.write("!["+(n==null?void 0:n.altText)+"]("+(n==null?void 0:n.imageUrl)+")")},thematicBreak:function(t,e,r){var n=e.node,i=r.delim;t.write(i),t.closeBlock(n)},table:function(t,e){var r=e.node;t.convertNode(r),t.closeBlock(r)},tableHead:function(t,e,r){var n=e.node,i=r.delim,a=n.firstChild;t.convertNode(n);var o=i??"";!i&&a&&a.forEach(function(s){var l=s.textContent,u=s.attrs,f=Xrt(l,u.align);o+="| "+f+" "}),t.write(o+"|"),t.ensureNewLine()},tableBody:function(t,e){var r=e.node;t.convertNode(r)},tableRow:function(t,e){var r=e.node;t.convertNode(r),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},tableBodyCell:function(t,e,r){var n=e.node,i=r.delim,a=i===void 0?"| ":i;t.write(a),t.convertTableCell(n),t.write(" ")},customBlock:function(t,e,r){var n=e.node,i=r.delim,a=r.text,o=i,s=o[0],l=o[1];t.write(s),t.ensureNewLine(),t.text(a,!1),t.ensureNewLine(),t.write(l),t.closeBlock(n)},frontMatter:function(t,e,r){var n=e.node,i=r.text;t.text(i,!1),t.closeBlock(n)},widget:function(t,e,r){var n=r.text;t.write(n)},html:function(t,e,r){var n=e.node,i=r.text;t.write(i),n.attrs.htmlBlock&&t.closeBlock(n)},htmlComment:function(t,e,r){var n=e.node,i=r.text;t.write(i),t.closeBlock(n)}};function Qrt(t,e){var r=e.state,n=e.nodeInfo,i=e.params,a=i.rawHTML;a?Os(t,["heading","codeBlock"])>-1?Krt(r,n.node,a):Os(t,["image","thematicBreak"])>-1?r.write(a):Jrt(r,n,a):Ym[t](r,n,i)}function O1(t,e){var r=t.text,n=/`+/g,i=0;if(t.isText&&r)for(var a=n.exec(r);a;)i=Math.max(i,a[0].length),a=n.exec(r);for(var o=i>0&&e>0?" `":"`",s=0;s<i;s+=1)o+="`";return i>0&&e<0&&(o+=" "),o}function Ni(t){return t?["<"+t+">","</"+t+">"]:null}function uu(t){return t?"<"+t+">":null}function cu(t){return t?"</"+t+">":null}var fu={heading:function(t){var e=t.node,r=e.attrs,n=r.level,i=od("#",n);return r.headingType==="setext"&&(i=n===1?"===":"---"),{delim:i,rawHTML:Ni(r.rawHTML)}},codeBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:Ni(n.rawHTML),text:i}},blockQuote:function(t){var e=t.node;return{delim:"> ",rawHTML:Ni(e.attrs.rawHTML)}},bulletList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ul"),{delim:"*",rawHTML:Ni(i)}},orderedList:function(t,e){var r=t.node,n=e.inTable,i=r.attrs.rawHTML;return n&&(i=i||"ol"),{rawHTML:Ni(i)}},listItem:function(t,e){var r=t.node,n=e.inTable,i=r.attrs,a=i.task,o=i.checked,s=r.attrs.rawHTML;n&&(s=s||"li");var l=a?' class="task-list-item'+(o?" checked":"")+'"':"",u=a?" data-task"+(o?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},tableHead:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},tableBody:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},tableRow:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},tableHeadCell:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},tableBodyCell:function(t){var e=t.node;return{rawHTML:Ni(e.attrs.rawHTML)}},image:function(t){var e=t.node,r=e.attrs,n=r.rawHTML,i=r.altText,a=r.imageUrl.replace(/&amp;/g,"&"),o=i?' alt="'+cl(i)+'"':"";return{rawHTML:n?"<"+n+' src="'+cl(a)+'"'+o+">":null,attrs:{altText:sd(i||""),imageUrl:a}}},thematicBreak:function(t){var e=t.node;return{delim:"***",rawHTML:uu(e.attrs.rawHTML)}},customBlock:function(t){var e=t.node,r=e,n=r.attrs,i=r.textContent;return{delim:["$$"+n.info,"$$"],text:i}},frontMatter:function(t){var e=t.node;return{text:e.textContent}},widget:function(t){var e=t.node;return{text:e.textContent}},strong:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"**",rawHTML:n?uu(i):cu(i)}},emph:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"*",rawHTML:n?uu(i):cu(i)}},strike:function(t,e){var r=t.node,n=e.entering,i=r.attrs.rawHTML;return{delim:"~~",rawHTML:n?uu(i):cu(i)}},link:function(t,e){var r=t.node,n=e.entering,i=r.attrs,a=i.title,o=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=a?' title="'+cl(a)+'"':"";return n?{delim:"[",rawHTML:o?"<"+o+' href="'+cl(s)+'"'+l+">":null}:{delim:"]("+s+(a?" "+Kme(sd(a)):"")+")",rawHTML:cu(o)}},code:function(t,e){var r=t.node,n=t.parent,i=t.index,a=i===void 0?0:i,o=e.entering,s=o?O1(n.child(a),-1):O1(n.child(a-1),1),l=o?uu(r.attrs.rawHTML):cu(r.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(t){var e=t.node;return{text:e.textContent}},html:function(t,e){var r=t.node,n=e.entering,i=r.type.name,a=r.attrs.htmlAttrs,o="<"+i,s="</"+i+">";return Object.keys(a).forEach(function(l){o+=" "+l+'="'+a[l].replace(/"/g,"'")+'"'}),o+=">",r.attrs.htmlInline?{rawHTML:n?o:s}:{text:""+o+r.attrs.childrenHTML+s}}},A1={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function Yrt(t){var e={},r=Object.keys(Ym);return r.forEach(function(n){e[n]=function(i,a){var o=Ym[n];if(o){var s=t[n],l=s?s(a,{inTable:i.inTable}):{};Qrt(n,{state:i,nodeInfo:a,params:l})}}}),e}function Zrt(t){var e={},r=Object.keys(A1);return r.forEach(function(n){e[n]=function(i,a){var o=A1[n],s=t[n],l=s&&i&&!zi(a),u=l?s(i,{entering:a}):{};return Ae(Ae({},u),o)}}),e}function ent(t){var e=Object.keys(t);e.forEach(function(i){var a=fu[i],o=t[i];a?fu[i]=function(s,l){return l.origin=function(){return a(s,l)},o(s,l)}:fu[i]=o,delete t[i]});var r=Yrt(fu),n=Zrt(fu);return{nodeTypeConvertors:r,markTypeConvertors:n}}var tnt=(function(){function t(e){var r=e.nodeTypeConvertors,n=e.markTypeConvertors;this.nodeTypeConvertors=r,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(e){var r=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[r]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(e,r,n,i){var a=this.getMarkConvertor(e);if(a){var o=a({node:e,parent:n,index:i},r),s=o.delim,l=o.rawHTML;return l||s}return""},t.prototype.setDelim=function(e){this.delim=e},t.prototype.getDelim=function(){return this.delim},t.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var r=this.delim,n=/\s+$/.exec(r);n&&(r=r.slice(0,r.length-n[0].length));for(var i=1;i<e;i+=1)this.result+=r+`
`}this.closed=!1}},t.prototype.wrapBlock=function(e,r,n,i){var a=this.getDelim();this.write(r||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(a),this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},t.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},t.prototype.closeBlock=function(e){this.closed=e},t.prototype.text=function(e,r){r===void 0&&(r=!0);for(var n=e.split(`
`),i=0;i<n.length;i+=1)this.write(),this.result+=r?Gme(n[i]):n[i],i!==n.length-1&&(this.result+=`
`)},t.prototype.convertBlock=function(e,r,n){var i=e.type.name,a=this.nodeTypeConvertors[i],o={node:e,parent:r,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):a&&a(this,o)},t.prototype.convertInline=function(e){var r=this,n=[],i="",a=function(o,s,l){var u=o?o.marks:[],f=i;i="";var h=o&&o.isText&&u.some(function(qe){var rt=r.getMarkConvertor(qe),je=rt&&rt();return je&&je.removedEnclosingWhitespace});if(h&&o&&o.text){var w=/^(\s*)(.*?)(\s*)$/m.exec(o.text),C=w[1],x=w[2],M=w[3];f+=C,i=M,(C||M)&&(o=x?o.withText(x):null,o||(u=n))}for(var D=u.length&&kn(u),B=D&&r.getMarkConvertor(D),j=B&&B(),Q=j&&j.escape===!1,Y=u.length-(Q?1:0),te=0;te<Y;te+=1){var x=u[te];if(j&&!j.mixable)break;for(var se=0;se<n.length;se+=1){var oe=n[se];if(j&&!j.mixable)break;if(x.eq(oe)){te>se?u=u.slice(0,se).concat(x).concat(u.slice(se,te)).concat(u.slice(te+1,Y)):se>te&&(u=u.slice(0,te).concat(u.slice(te+1,se)).concat(x).concat(u.slice(se,Y)));break}}}for(var ge=0;ge<Math.min(n.length,Y)&&u[ge].eq(n[ge]);)ge+=1;for(;ge<n.length;){var Se=n.pop();Se&&r.text(r.markText(Se,!1,e,l),!1)}if(f&&r.text(f),o){for(;n.length<Y;){var x=u[n.length];n.push(x),r.text(r.markText(x,!0,e,l),!1)}Q&&o.isText?r.text(r.markText(D,!0,e,l)+o.text+r.markText(D,!1,e,l+1),!1):r.convertBlock(o,e,l)}};e.forEach(a),a(null,null,e.childCount)},t.prototype.convertList=function(e,r,n){var i=this,a;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=(a=e.attrs.tight)!==null&&a!==void 0?a:!0,s=this.tightList;this.tightList=o,e.forEach(function(l,u,f){f&&o&&i.flushClose(1),i.wrapBlock(r,n(f),e,function(){return i.convertBlock(l,e,f)})}),this.tightList=s},t.prototype.convertTableCell=function(e){var r=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(n,i,a){if(hn(["bulletList","orderedList"],n.type.name))r.convertBlock(n,e,a),r.closed=!1;else if(r.convertInline(n),a<e.childCount-1){var o=e.child(a+1);o.type.name==="paragraph"&&r.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(e,r){var n=this;return e.forEach(function(i,a,o){if(n.convertBlock(i,e,o),(r==null?void 0:r.node)===i){var s=n.result.split(`
`);r.setMappedPos([s.length,kn(s).length+1])}}),this.result},t})(),rnt=(function(){function t(e,r,n,i){var a=this;this.setMappedPos=function(o){a.mappedPosWhenConverting=o},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=jrt(n),this.toMdConvertors=ent(r||{}),this.eventEmitter.listen("setFocusedNode",function(o){return a.focusedNode=o})}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(e){var r=new Grt(this.schema,this.toWwConvertors);return r.convertNode(e,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(e){var r=new tnt(this.toMdConvertors),n=r.convertNode(e,this.getInfoForPosSync());return n=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",n),n},t})();function nnt(t){var e=t.plugin,r=t.eventEmitter,n=t.usageStatistics,i=t.instance,a={Plugin:Jn,PluginKey:ac,Selection:Gt,TextSelection:Xt},o={Decoration:Un,DecorationSet:_r},s={Fragment:Ue},l={InputRule:Io,inputRules:PS,undoInputRule:zve},u={keymap:Ku},f={eventEmitter:r,usageStatistics:n,instance:i,pmState:a,pmView:o,pmModel:s,pmRules:l,pmKeymap:u,i18n:Ft};if($l(e)){var h=e[0],w=e[1],C=w===void 0?{}:w;return h(f,C)}return e(f)}function xM(t){var e=t.plugins,r=t.eventEmitter,n=t.usageStatistics,i=t.instance;return r.listen("mixinTableOffsetMapPrototype",Pet),(e??[]).reduce(function(a,o){var s=nnt({plugin:o,eventEmitter:r,usageStatistics:n,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,f=s.toMarkdownRenderers,h=s.markdownPlugins,w=s.wysiwygPlugins,C=s.wysiwygNodeViews,x=s.markdownCommands,M=s.wysiwygCommands,D=s.toolbarItems;return u&&(a.toHTMLRenderers=ld(a.toHTMLRenderers,u)),f&&(a.toMarkdownRenderers=ld(a.toMarkdownRenderers,f)),h&&(a.mdPlugins=a.mdPlugins.concat(h)),w&&(a.wwPlugins=a.wwPlugins.concat(w)),C&&(a.wwNodeViews=Ae(Ae({},a.wwNodeViews),C)),x&&(a.mdCommands=Ae(Ae({},a.mdCommands),x)),M&&(a.wwCommands=Ae(Ae({},a.wwCommands),M)),D&&(a.toolbarItems=a.toolbarItems.concat(D)),l&&(a.markdownParsers=Ae(Ae({},a.markdownParsers),l)),a},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var int="data-task",ant="data-task-disabled",ont="checked";function snt(t){["htmlBlock","htmlInline"].forEach(function(e){t[e]&&Object.keys(t[e]).forEach(function(r){return ZE(r)})})}var TM=(function(){function t(e){var r=this;this.options=$g({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new kM;var n=HS(this.options.linkAttributes),i=xM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},a=i.toHTMLRenderers,o=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,f=s.referenceDefinition,h=s.frontMatter,w=s.customHTMLSanitizer,C={linkAttributes:n,customHTMLRenderer:Ae(Ae({},a),l),extendedAutolinks:u,referenceDefinition:f,frontMatter:h,sanitizer:w||Ls};snt(C.customHTMLRenderer),this.options.events&&Al(this.options.events,function(Q,Y){r.on(Y,Q)});var x=this.options,M=x.el,D=x.initialValue,B=x.theme,j=M.innerHTML;B!=="light"&&M.classList.add(gt(B)),M.innerHTML="",this.toastMark=new JE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:f,disallowDeepHeading:!0,frontMatter:h,customParser:o}),this.preview=new rM(this.eventEmitter,Ae(Ae({},C),{isViewer:!0})),gE(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),D?this.setMarkdown(D):j&&this.preview.setHTML(j),M.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(e){var r=e.target,n=getComputedStyle(r,":before");!r.hasAttribute(ant)&&r.hasAttribute(int)&&Yg(n,e.offsetX,e.offsetY)&&(Zg(r,ont),this.eventEmitter.emit("change",{source:"viewer",date:e}))},t.prototype.setMarkdown=function(e){var r=this.toastMark.getLineTexts(),n=r.length,i=kn(r),a=[n,i.length+1],o=this.toastMark.editMarkdown([1,1],a,e||"");this.eventEmitter.emit("updatePreview",o)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.destroy=function(){mE(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t})();function If(t){return t instanceof Co}function SM(t){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return hn(e,t)}function lnt(t){var e=t.attrs,r=t.type,n=r.name,i={type:n,wysiwygNode:!0,literal:!SM(n)&&If(t)?t.textContent:null},a={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},o=a[n],s=Ae(Ae({},i),o),l=t.attrs,u=l.htmlAttrs,f=l.childrenHTML;return u?Ae(Ae({},s),{attrs:u,childrenHTML:f}):s}var unt={openTag:function(t,e){var r=t,n=r.tagName,i=r.classNames,a=r.attributes,o=document.createElement(n),s={};i&&(o.className=i.join(" ")),a&&(s=Ae(Ae({},s),a)),ty(s,o),e.push(o)},closeTag:function(t,e){if(e.length>1){var r=e.pop();kn(e).appendChild(r)}},html:function(t,e){kn(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var r=document.createTextNode(t.content);kn(e).appendChild(r)}},cnt=(function(){function t(e,r){var n=py(e,r),i=Ae(Ae({},r.htmlBlock),r.htmlInline);this.customConvertorKeys=Object.keys(r).concat(Object.keys(i)),this.renderer=new hy({gfm:!0,convertors:Ae(Ae({},n),i)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(e){var r=lnt(e),n={entering:!0,leaf:If(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return If(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],a=i(r,n,this.convertors),o=$l(a)?a:[a];return(SM(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:If(e)?e.textContent:""}),o=o.concat(i(r,n,this.convertors))),o},t.prototype.toDOMNode=function(e){var r=this.generateTokens(e),n=[];return r.forEach(function(i){return unt[i.type](i,n)}),n[0]},t.prototype.getToDOMNode=function(e){return hn(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},t})(),fnt=100,dnt=15,gf=null,Gv=null;function N1(t,e){var r=e.syncScrollTop,n=e.releaseEventBlock;Gv&&clearTimeout(Gv),r(t),Gv=setTimeout(function(){n()},dnt)}function hnt(t,e,r){var n=e-t,i=Date.now(),a=function(){var o=Date.now(),s=(o-i)/fnt,l;gf&&clearTimeout(gf),s<1?(l=t+n*Math.cos((1-s)*Math.PI/2),N1(Math.ceil(l),r),gf=setTimeout(a,1)):(N1(e,r),gf=null)};a()}var pnt=18,vnt=(function(){function t(e,r,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=r.previewContent,a=r.el;this.previewRoot=i,this.previewEl=a,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(r,n){e.active&&(r==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():r==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(n))}),this.eventEmitter.listen("toggleScrollSync",function(r){e.active=r})},t.prototype.getMdNodeAtPos=function(e,r){var n=e.content.findIndex(r.pos),i=n.index;return this.toastMark.findFirstNodeAtLine(i+1)},t.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),r=this.toastMark.findFirstNodeAtLine(e[0][0]),n=this.previewEl.clientHeight,i=$v(this.previewRoot,r).el,a=yd(i,this.previewRoot)||i.offsetTop,o=i.clientHeight,s=a+o-n*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<n?null:s},t.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var r=this,n=r.editorView,i=r.previewEl,a=r.previewRoot,o=n.dom.getBoundingClientRect(),s=o.left,l=o.top,u=n.posAtCoords({left:s,top:l}),f=n.state.doc,h=this.getMdNodeAtPos(f,u);if(!(!h||Yme(h))){var w=i.scrollTop,C=n.dom,x=C.scrollTop,M=C.scrollHeight,D=C.clientHeight,B=C.children,j=M-x<=D+pnt,Q=j?i.scrollHeight:0;if(x&&!j){if(e){var Y=this.getScrollTopByCaretPos();if(!Y)return;Q=Y}else{var te=$v(this.previewRoot,h),se=te.el,oe=te.mdNode,ge=v1(f,oe,B),Se=ge.height,qe=ge.rect,rt=yd(se,a)||se.offsetTop,je=se.clientHeight,Tt=l>qe.top?Math.min((l-qe.top)/Se,1):0;Q=rt+je*Tt}Q=this.getResolvedScrollTop("editor",x,Q,w),this.latestEditorScrollTop=x}Q!==w&&this.run("editor",Q,w)}},t.prototype.syncEditorScrollTop=function(e){var r=this,n=r.toastMark,i=r.editorView,a=r.previewRoot,o=r.previewEl,s=i.dom,l=i.state,u=o.scrollTop,f=o.clientHeight,h=o.scrollHeight,w=h-u<=f,C=s.scrollTop,x=w?s.scrollHeight:0;if(u&&e&&!w){if(e=cet(e,a),!e.getAttribute("data-nodeid"))return;var M=s.children,D=Number(e.getAttribute("data-nodeid")),B=$v(this.previewRoot,n.findNodeById(D)),j=B.mdNode,Q=B.el,Y=cc(j);x=M[Y-1].offsetTop;var te=v1(l.doc,j,M).height,se=yet(Q,a,D),oe=se.nodeHeight,ge=se.offsetTop;x+=det(u,ge,oe,te),x=this.getResolvedScrollTop("preview",u,x,C),this.latestPreviewScrollTop=u}x!==C&&this.run("preview",x,C)},t.prototype.getResolvedScrollTop=function(e,r,n,i){var a=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return a===null?n:a<r?Math.max(n,i):Math.min(n,i)},t.prototype.run=function(e,r,n){var i=this,a;e==="editor"?(a=this.previewEl,this.blockedScroll="preview"):(a=this.editorView.dom,this.blockedScroll="editor");var o={syncScrollTop:function(s){return a.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};hnt(n,r,o)},t.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t})(),mnt={getPopupInitialValues:function(t,e){var r=e.popupName;return r==="link"?{linkText:t.getSelectedText()}:{}}};function gnt(t){t.eventEmitter.listen("query",function(e,r){return mnt[e](t,r)})}var EM=(function(){function t(e){var r=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=$g({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var n=this.options,i=n.customHTMLRenderer,a=n.extendedAutolinks,o=n.referenceDefinition,s=n.frontMatter,l=n.customMarkdownRenderer,u=n.useCommandShortcut,f=n.initialEditType,h=n.widgetRules,w=n.customHTMLSanitizer;this.mode=f||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=Ft,this.i18n.setCode(this.options.language),this.eventEmitter=new kM,lge(h);var C=HS(this.options.linkAttributes);this.pluginInfo=xM({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var x=this.pluginInfo,M=x.toHTMLRenderers,D=x.toMarkdownRenderers,B=x.mdPlugins,j=x.wwPlugins,Q=x.wwNodeViews,Y=x.mdCommands,te=x.wwCommands,se=x.markdownParsers,oe={linkAttributes:C,customHTMLRenderer:ld(M,i),extendedAutolinks:a,referenceDefinition:o,frontMatter:s,sanitizer:w||Ls},ge=new cnt(C,oe.customHTMLRenderer),Se=ret(oe.customHTMLRenderer,oe.sanitizer,ge);this.toastMark=new JE("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:a,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:s,customParser:se}),this.mdEditor=new cbe(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:B}),this.preview=new rM(this.eventEmitter,Ae(Ae({},oe),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Art(this.eventEmitter,{toDOMAdaptor:ge,useCommandShortcut:u,htmlSchemaMap:Se,linkAttributes:C,wwPlugins:j,wwNodeViews:Q}),this.convertor=new rnt(this.wwEditor.getSchema(),Ae(Ae({},D),l),py(C,oe.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Hrt(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return r.mode}),this.options.usageStatistics&&$me(),this.scrollSync=new vnt(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(Y,te),gnt(this),this.options.hooks&&Al(this.options.hooks,function(qe,rt){return r.addHook(rt,qe)}),this.options.events&&Al(this.options.events,function(qe,rt){return r.on(rt,qe)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var r=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(r)}}),Ige(this.eventEmitter)},t.prototype.addInitCommand=function(e,r){var n=this,i=function(a,o){Object.keys(o).forEach(function(s){n.addCommand(a,s,o[s])})};this.addCommand("markdown","toggleScrollSync",function(a){return n.eventEmitter.emit("toggleScrollSync",a.active),!0}),i("markdown",e),i("wysiwyg",r)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new TM(e):new t(e)},t.setLanguage=function(e,r){Ft.setLanguage(e,r)},t.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},t.prototype.exec=function(e,r){this.commandManager.exec(e,r)},t.prototype.addCommand=function(e,r,n){var i=this,a=function(o){o===void 0&&(o={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;n(o,s.state,s.dispatch,s)};this.commandManager.addCommand(e,r,a)},t.prototype.on=function(e,r){this.eventEmitter.listen(e,r)},t.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.addHook=function(e,r){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,r)},t.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},t.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},t.prototype.setMarkdown=function(e,r){if(e===void 0&&(e=""),r===void 0&&(r=!0),this.mdEditor.setMarkdown(e,r),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i,r)}},t.prototype.setHTML=function(e,r){e===void 0&&(e=""),r===void 0&&(r=!0);var n=document.createElement("div");n.innerHTML=Dge(e);var i=Ts.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),r):this.wwEditor.setModel(i,r)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),a=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(a)}});var r=ry(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var n=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return r.replace(n,"")}return r},t.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},t.prototype.setSelection=function(e,r){this.getCurrentModeEditor().setSelection(e,r)},t.prototype.replaceSelection=function(e,r,n){this.getCurrentModeEditor().replaceSelection(e,r,n)},t.prototype.deleteSelection=function(e,r){this.getCurrentModeEditor().deleteSelection(e,r)},t.prototype.getSelectedText=function(e,r){return this.getCurrentModeEditor().getSelectedText(e,r)},t.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},t.prototype.addWidget=function(e,r,n){this.getCurrentModeEditor().addWidget(e,r,n)},t.prototype.replaceWithWidget=function(e,r,n){this.getCurrentModeEditor().replaceWithWidget(e,r,n)},t.prototype.setHeight=function(e){var r=this.options.el;Xa(e)&&(e==="auto"?la(r,"auto-height"):Ii(r,"auto-height"),this.setMinHeight(this.getMinHeight())),pa(r,{height:e}),this.height=e},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(e){if(e!==this.minHeight){var r=this.height||this.options.height;r!=="auto"&&this.options.el.querySelector("."+gt("main"))&&(e=Math.min(parseInt(e,10),parseInt(r,10)-75)+"px");var n=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(n),this.mdEditor.setMinHeight(n),this.preview.setMinHeight(n)}},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return this.mode==="markdown"},t.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(e,r){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!r)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!r){var a=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&Ba(a)?this.wwEditor.setSelection(a):Array.isArray(a)&&this.mdEditor.setSelection(a)}}},t.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(r,n){return e.off(n)})},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t.prototype.convertPosToMatchEditorMode=function(e,r,n){var i,a;r===void 0&&(r=e),n===void 0&&(n=this.mode);var o=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(r),u=e,f=r;if(s!==l)throw new Error("Types of arguments must be same");return n==="markdown"&&!s&&!l?(i=Of(o,e,r),u=i[0],f=i[1]):n==="wysiwyg"&&s&&l&&(a=as(o,e,r),u=a[0],f=a[1]),[u,f]},t})();function ynt(t){for(var e,r,n=arguments,i=1,a="",o="",s=[0],l=function(f){i===1&&(f||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(f?n[f]:a):i===3&&(f||a)?(s[1]=f?n[f]:a,i=2):i===2&&a==="..."&&f?s[2]=Jg(s[2]||{},n[f]):i===2&&a&&!f?(s[2]=s[2]||{})[a]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[r]=f?a?a+n[f]:n[f]:a,i=6):(f||a)&&(s[2][r]+=f?a+n[f]:a)),a=""},u=0;u<t.length;u++){u&&(i===1&&l(),l(u));for(let f=0;f<t[u].length;f++)e=t[u][f],i===1?e==="<"?(l(),s=[s,"",null],i=3):a+=e:i===4?a==="--"&&e===">"?(i=1,a=""):a=e+a[0]:o?e===o?o="":a+=e:e==='"'||e==="'"?o=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,r=a,a=""):e==="/"&&(i<5||t[u][f+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):a+=e),i===3&&a==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function bnt(t){return typeof t=="boolean"||t instanceof Boolean}var wnt=bnt,knt=(function(){function t(e){this.current=e,this.root=e,this.entering=!0}return t.prototype.walk=function(){var e=this,r=e.entering,n=e.current;return n?(r?n.firstChild?(this.current=n.firstChild,this.entering=!0):this.entering=!1:n===this.root?this.current=null:n.next?(this.current=n.next,this.entering=!0):(this.current=n.parent,this.entering=!1),{vnode:n,entering:r}):null},t})(),qi=(function(){function t(e,r,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=r,this.children=n,this.props.children=n,r.ref&&(this.ref=r.ref,delete r.ref),r.key&&(this.key=r.key,delete r.key)}return t.prototype.walker=function(){return new knt(this)},t.removalNodes=[],t})();function Cnt(t){return new qi("TEXT_NODE",{nodeValue:t},[])}function D1(t,e){var r=t;wnt(t)||t==null?r=null:(Xa(t)||Ba(t))&&(r=Cnt(String(t))),r&&e.push(r)}function xnt(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=[];return r.forEach(function(a){Array.isArray(a)?a.forEach(function(o){D1(o,i)}):D1(a,i)}),new qi(t,e||{},i)}var Zt=ynt.bind(xnt);function Tnt(t){return t===Object(t)}var Snt=Tnt;function Ent(t){var e;return t.type==="TEXT_NODE"?e=document.createTextNode(t.props.nodeValue):(e=document.createElement(t.type),OM(e,{},t.props)),e}function MM(t,e){t.node?e.removeChild(t.node):MM(t.firstChild,e)}function Mnt(t,e,r){Object.keys(e).forEach(function(n){if(/^on/.test(n)){if(!r[n]||e[n]!==r[n]){var i=n.slice(2).toLowerCase();t.removeEventListener(i,e[n])}}else n!=="children"&&!r[n]&&!Ege(t)&&t.removeAttribute(n)}),OM(t,e,r,function(n){return!jg(e[n],r[n])})}var Ont=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function OM(t,e,r,n){Object.keys(r).forEach(function(i){if(!n||n(i))if(/^on/.test(i)){var a=i.slice(2).toLowerCase();t.addEventListener(a,r[i])}else i==="nodeValue"?t[i]=r[i]:i==="style"&&Snt(r[i])?Ant(t,e[i],r[i]):i!=="children"&&(r[i]===!1?t.removeAttribute(i):t.setAttribute(i,r[i]))})}function Ant(t,e,r){e&&Object.keys(e).forEach(function(n){t.style[n]=""}),Object.keys(r).forEach(function(n){var i=r[n];t.style[n]=Ba(i)&&!Ont.test(n)?i+"px":i})}function gy(t){if(qi.removalNodes.forEach(function(a){return L1(a)}),t){for(var e=void 0,r=t.walker();e=r.walk();)if(t=e.vnode,e.entering)L1(t);else if(Ti(t.type)){var n=t.component;if(!t.old&&n.mounted&&n.mounted(),t.old&&n.updated){var i=n.prevProps||{};n.updated(i)}}}}function R1(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function L1(t){if(!(!t||!t.parent)){if(t.node){var e=R1(t);t.effect==="A"?e.appendChild(t.node):t.effect==="U"&&Mnt(t.node,t.old.props,t.props)}if(t.effect==="D"){for(var r=void 0,n=t.walker();r=n.walk();)if(t=r.vnode,!r.entering)if(Ti(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=R1(t);MM(t,e)}}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function Nnt(t,e){var r=e.props,n=e.component;return n?(n.prevProps=n.props,n.props=e.props,n):new t(r)}function AM(t){for(var e=t;t&&!t.skip;){if(Ti(t.type)){var r=Nnt(t.type,t);r.vnode=t,t.component=r,t.props.children=t.children=[r.render()],I1(t)}else t.node||(t.node=Ent(t)),I1(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent,t!==e););t=t.next}}}function Dnt(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}function I1(t){var e=t.children,r=t.old?t.old.firstChild:null,n=null;e.forEach(function(a,o){var s=Dnt(r,a);s&&(a.old=r,a.parent=t,a.node=r.node,a.component=r.component,a.effect="U"),a&&!s&&(a.old=null,a.parent=t,a.node=null,a.effect="A"),r&&!s&&(qi.removalNodes.push(r),r.effect="D"),r&&(r=r.next),o===0?t.firstChild=a:a&&(n.next=a),n=a});var i=kn(e);if(!e.length)for(;r;)qi.removalNodes.push(r),r.effect="D",r=r.next;for(;r&&i;)r&&i.old!==r&&(qi.removalNodes.push(r),r.effect="D",r=r.next)}function Rnt(t){t.effect="D",qi.removalNodes=[t],gy(),qi.removalNodes=[]}function Lnt(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),qi.removalNodes=[],AM(e),gy(e),e.next&&(e.next.skip=!1)}function Int(t,e){var r=new qi(t.tagName.toLowerCase(),{},[e]);return r.node=t,qi.removalNodes=[],AM(r),gy(r),function(){return Rnt(r.firstChild)}}var xn=(function(){function t(e){this.props=e,this.state={},this.refs={}}return t.prototype.setState=function(e){var r=Ae(Ae({},this.state),e);jg(this.state,r)||(this.state=r,Lnt(this))},t})(),Pnt=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.state={hide:!1},n}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var r=this.props,n=r.editorType,i=r.eventEmitter;return Zt(P1||(P1=Yt([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),gt("mode-switch"),this.state.hide?"none":"block",n==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},Ft.get("Markdown"),n==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},Ft.get("WYSIWYG"))},e})(xn),P1;function _nt(t,e){var r,n;e=e||0;function i(){n=Array.prototype.slice.call(arguments),window.clearTimeout(r),r=window.setTimeout(function(){t.apply(null,n)},e)}return i}var Bnt=_nt,Fnt=Bnt;function qnt(t,e){var r,n=!0,i=function(f){t.apply(null,f),r=null},a,o,s;e=e||0,a=Fnt(i,e);function l(){if(s=Array.prototype.slice.call(arguments),n){i(s),n=!1;return}o=Number(new Date),r=r||o,a(s),o-r>=e&&i(s)}function u(){n=!0,r=null}return l.reset=u,l}var Hnt=qnt,NM=(function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},e})()})(),Zm=typeof window<"u"&&typeof document<"u"&&window.document===document,wd=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Vnt=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(wd):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),znt=2;function $nt(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&s()}function o(){Vnt(a)}function s(){var l=Date.now();if(r){if(l-i<znt)return;n=!0}else r=!0,n=!1,setTimeout(o,e);i=l}return s}var Unt=20,jnt=["top","right","bottom","left","width","height","size","weight"],Wnt=typeof MutationObserver<"u",Gnt=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$nt(this.refresh.bind(this),Unt)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Zm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Wnt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Zm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=jnt.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),DM=(function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Fl=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||wd}),RM=vh(0,0,0,0);function kd(t){return parseFloat(t)||0}function _1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+kd(a)},0)}function Knt(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=kd(o)}return r}function Jnt(t){var e=t.getBBox();return vh(0,0,e.width,e.height)}function Xnt(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return RM;var n=Fl(t).getComputedStyle(t),i=Knt(n),a=i.left+i.right,o=i.top+i.bottom,s=kd(n.width),l=kd(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=_1(n,"left","right")+a),Math.round(l+o)!==r&&(l-=_1(n,"top","bottom")+o)),!Ynt(t)){var u=Math.round(s+a)-e,f=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(f)!==1&&(l-=f)}return vh(i.left,i.top,s,l)}var Qnt=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Fl(t).SVGGraphicsElement}:function(t){return t instanceof Fl(t).SVGElement&&typeof t.getBBox=="function"}})();function Ynt(t){return t===Fl(t).document.documentElement}function Znt(t){return Zm?Qnt(t)?Jnt(t):Xnt(t):RM}function eit(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return DM(o,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),o}function vh(t,e,r,n){return{x:t,y:e,width:r,height:n}}var tit=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Znt(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),rit=(function(){function t(e,r){var n=eit(r);DM(this,{target:e,contentRect:n})}return t})(),nit=(function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new NM,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new tit(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new rit(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),LM=typeof WeakMap<"u"?new WeakMap:new NM,IM=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Gnt.getInstance(),n=new nit(e,r,this);LM.set(this,n)}return t})();["observe","unobserve","disconnect"].forEach(function(t){IM.prototype[t]=function(){var e;return(e=LM.get(this))[t].apply(e,arguments)}});var iit=(function(){return typeof wd.ResizeObserver<"u"?wd.ResizeObserver:IM})(),ait=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execCommand=function(r){var n=ua(r.target,"li");this.props.execCommand("heading",{level:Number(n.getAttribute("data-level"))})},e.prototype.render=function(){var r=this;return Zt(F1||(F1=Yt([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(n){return r.execCommand(n)},Ft.get("Headings"),[1,2,3,4,5,6].map(function(n){return Zt(B1||(B1=Yt([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),n,"h"+n,Ft.get("Heading"),n)}),Ft.get("Paragraph"))},e})(xn),B1,F1,PM=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggleTab=function(r,n){this.props.onClick(r,n)},e.prototype.render=function(){var r=this;return Zt(H1||(H1=Yt([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),gt("tabs"),this.props.tabs.map(function(n){var i=n.name,a=n.text,o=r.props.activeTab===i;return Zt(q1||(q1=Yt([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),o?" active":"",function(s){return r.toggleTab(s,i)},Ft.get(a),o?"true":"false",o?"0":"-1",Ft.get(a))}))},e})(xn),q1,H1,oit="ui",sit=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.initialize=function(i){i===void 0&&(i="file");var a=n.refs.url;a.value="",n.refs.altText.value="",n.refs.file.value="",Ii(a,"wrong"),n.setState({activeTab:i,file:null,fileNameElClassName:""})},n.execCommand=function(){n.state.activeTab==="file"?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(i,a){a!==n.state.activeTab&&n.initialize(a)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(i){var a=i.target.files;a!=null&&a.length&&n.setState({file:a[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return e.prototype.emitAddImageBlob=function(){var r=this,n=this.refs.file.files,i=this.refs.altText,a=" wrong";if(n!=null&&n.length){a="";var o=n.item(0),s=function(l,u){return r.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",o,s,oit)}this.setState({fileNameElClassName:a})},e.prototype.emitAddImage=function(){var r=this.refs.url,n=this.refs.altText,i=r.value,a=n.value||"image";if(Ii(r,"wrong"),!i.length){la(r,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:a})},e.prototype.preventSelectStart=function(r){r.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var r=this,n=this.state,i=n.activeTab,a=n.file,o=n.fileNameElClassName;return Zt(V1||(V1=Yt([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Ft.get("Insert image"),PM,this.tabs,i,this.toggleTab,i==="url"?"block":"none",Ft.get("Image URL"),function(s){return r.refs.url=s},i==="file"?"block":"none",Ft.get("Select image file"),gt("file-name"),a?" has-file":o,this.showFileSelectBox,this.preventSelectStart,a?a.name:Ft.get("No file"),gt("file-select-button"),this.showFileSelectBox,Ft.get("Choose a file"),this.changeFile,function(s){return r.refs.file=s},Ft.get("Description"),function(s){return r.refs.altText=s},gt("button-container"),gt("close-button"),this.props.hidePopup,Ft.get("Cancel"),gt("ok-button"),this.execCommand,Ft.get("OK"))},e})(xn),V1,lit=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.execCommand=function(){var n=r.refs.url,i=r.refs.text;if(Ii(n,"wrong"),Ii(i,"wrong"),n.value.length<1){la(n,"wrong");return}var a=zi(r.props.initialValues.linkUrl);if(a&&i.value.length<1){la(i,"wrong");return}r.props.execCommand("addLink",{linkUrl:n.value,linkText:i.value})},r}return e.prototype.initialize=function(){var r=this.props.initialValues,n=r.linkUrl,i=r.linkText,a=this.refs.url,o=this.refs.text;Ii(a,"wrong"),Ii(o,"wrong","disabled"),o.removeAttribute("disabled"),n&&(la(o,"disabled"),o.setAttribute("disabled","disabled")),a.value=n||"",o.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(r){!r.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var r=this;return Zt(z1||(z1=Yt([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),Ft.get("Insert link"),Ft.get("URL"),function(n){return r.refs.url=n},Ft.get("Link text"),function(n){return r.refs.text=n},gt("button-container"),gt("close-button"),this.props.hidePopup,Ft.get("Cancel"),gt("ok-button"),this.execCommand,Ft.get("OK"))},e})(xn),z1,$1=20,U1=20,j1=5,W1=14,G1=5,K1=9,uit=1,cit=1,J1=1,fit=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.extendSelectionRange=function(i){var a=i.pageX,o=i.pageY,s=a-n.offsetRect.left,l=o-n.offsetRect.top,u=n.getSelectionRangeByOffset(s,l);n.setState(Ae({},u))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(r,n){return{width:(r+1)*$1,height:(n+1)*U1}},e.prototype.getRangeByOffset=function(r,n){return{colIdx:Math.floor(r/$1),rowIdx:Math.floor(n/U1)}},e.prototype.getTableRange=function(){var r=this.state,n=r.colIdx,i=r.rowIdx,a=Math.max(n,G1),o=Math.max(i,j1);return n>=G1&&a<K1&&(a+=1),i>=j1&&o<W1&&(o+=1),{colIdx:a+1,rowIdx:o+1}},e.prototype.getSelectionAreaBound=function(){var r=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),n=r.width,i=r.height;return!n&&!i?{display:"none"}:{width:n-J1,height:i-J1,display:"block"}},e.prototype.getSelectionRangeByOffset=function(r,n){var i=this.getRangeByOffset(r,n);return i.rowIdx=Math.min(Math.max(i.rowIdx,uit),W1),i.colIdx=Math.min(Math.max(i.colIdx,cit),K1),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var r=this.refs.tableEl.getBoundingClientRect(),n=r.left,i=r.top;this.offsetRect={left:window.pageXOffset+n,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(r){for(var n=r.colIdx,i=r.rowIdx,a=[],o=0;o<i;o+=1){for(var s=[],l=0;l<n;l+=1){var u=""+gt("table-cell")+(o>0?"":" header");s.push(Zt(X1||(X1=Yt(['<div class="','"></div>'],['<div class="','"></div>'])),u))}a.push(Zt(Q1||(Q1=Yt(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),gt("table-row"),s))}return Zt(Y1||(Y1=Yt(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),gt("table"),a)},e.prototype.render=function(){var r=this,n=this.getTableRange(),i=this.getSelectionAreaBound();return Zt(Z1||(Z1=Yt([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),Ft.get("Insert table"),gt("table-selection"),function(a){return r.refs.tableEl=a},this.extendSelectionRange,this.execCommand,this.createTableArea(n),gt("table-selection-layer"),i,gt("table-description"),this.getDescription())},e})(xn),X1,Q1,Y1,Z1,dit=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(r){this.refs.el.replaceChild(this.props.body,r.body)},e.prototype.render=function(){var r=this;return Zt(eC||(eC=Yt(["<div ref=","></div>"],["<div ref=","></div>"])),function(n){return r.refs.el=n})},e})(xn),eC;function eg(t){return Xa(t)?pit(t):t}function hit(){var t=document.createElement("label"),e=document.createElement("input"),r=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,r.className="switch";var n=function(i){return e.addEventListener("change",function(a){var o=a.target.checked;o?la(t,"active"):Ii(t,"active"),i("toggleScrollSync",{active:o})})};return t.appendChild(e),t.appendChild(r),{name:"scrollSync",el:t,onMounted:n}}function pit(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:Ft.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:Ft.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:Ft.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:Ft.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:Ft.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:Ft.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:Ft.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:Ft.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:Ft.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:Ft.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:Ft.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:Ft.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:Ft.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:Ft.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:Ft.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:Ft.get("Outdent"),state:"outdent"};break;case"scrollSync":e=hit();break;case"more":e={name:"more",className:"more",tooltip:Ft.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+gt("toolbar-icons")),e}function yy(t,e){var r=e.el,n=e.pos,i=e.popup,a=e.initialValues;switch(t){case"heading":return{render:function(o){return Zt(tC||(tC=Yt(["<"," ..."," />"],["<"," ..."," />"])),ait,o)},className:gt("popup-add-heading"),fromEl:r,pos:n};case"link":return{render:function(o){return Zt(rC||(rC=Yt(["<"," ..."," />"],["<"," ..."," />"])),lit,o)},className:gt("popup-add-link"),fromEl:r,pos:n,initialValues:a};case"image":return{render:function(o){return Zt(nC||(nC=Yt(["<"," ..."," />"],["<"," ..."," />"])),sit,o)},className:gt("popup-add-image"),fromEl:r,pos:n};case"table":return{render:function(o){return Zt(iC||(iC=Yt(["<"," ..."," />"],["<"," ..."," />"])),fit,o)},className:gt("popup-add-table"),fromEl:r,pos:n};case"customPopupBody":return i?Ae({render:function(o){return Zt(aC||(aC=Yt(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),dit,o,i.body)},fromEl:r,pos:n},i):null;default:return null}}function Cd(t){t.hidden=t.length===t.filter(function(e){return e.hidden}).length}function vit(t,e){var r=function(n){return n.hidden=n.name==="scrollSync"&&e,n};return t.reduce(function(n,i){n.push(i.map(function(o){return r(eg(o))}));var a=n[(n.length||1)-1];return a&&Cd(a),n},[])}function mit(t,e){t.forEach(function(r){r.forEach(function(n){return n.hidden=n.name==="scrollSync"&&e}),Cd(r)})}var tC,rC,nC,iC,aC,git=20,yit=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handleMousedown=function(n){!ua(n.target,"."+gt("popup"))&&!ua(n.target,r.props.info.fromEl)&&r.props.hidePopup()},r}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(r){var n=this.props,i=n.show,a=n.info;if(i&&a.pos&&r.show!==i){var o=Ae({},a.pos),s=this.refs.el.offsetWidth,l=ua(this.refs.el,"."+gt("toolbar")),u=l.offsetWidth;o.left+s>=u&&(o.left=u-s-git),jg(this.state.popupPos,o)||this.setState({popupPos:o})}},e.prototype.render=function(){var r=this,n=this.props,i=n.info,a=n.show,o=n.hidePopup,s=n.eventEmitter,l=n.execCommand,u=i||{},f=u.className,h=f===void 0?"":f,w=u.style,C=u.render,x=u.initialValues,M=x===void 0?{}:x,D=Ae(Ae({display:a?"block":"none"},w),this.state.popupPos);return Zt(oC||(oC=Yt([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),gt("popup"),h,D,function(B){return r.refs.el=B},gt("popup-body"),C&&C({eventEmitter:s,show:a,hidePopup:o,execCommand:l,initialValues:M}))},e})(xn),oC,sC=6;function by(t){return(function(e){ft(r,e);function r(n){var i=e.call(this,n)||this;return i.showTooltip=function(a){var o=i.props.item.tooltip;if(!i.props.disabled&&o){var s=i.getBound(a),l=s.left+sC+"px",u=s.top+sC+"px";pa(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=o}},i.hideTooltip=function(){pa(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:n.disabled},i.addEvent(),i}return r.prototype.addEvent=function(){var n=this,i=this.props,a=i.item,o=i.eventEmitter;a.state&&o.listen("changeToolbarState",function(s){var l,u=s.toolbarState,f=(l=u[a.state])!==null&&l!==void 0?l:{},h=f.active,w=f.disabled;n.setState({active:!!h,disabled:w??n.props.disabled})})},r.prototype.getBound=function(n){var i=tE(n,ua(n,"."+gt("toolbar"))),a=i.offsetLeft,o=i.offsetTop;return{left:a,top:n.offsetHeight+o}},r.prototype.render=function(){return Zt(lC||(lC=Yt([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},r})(xn)}var lC,bit=80,wit=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.execCommand=function(){var n=r.props,i=n.item,a=n.execCommand,o=n.setPopupInfo,s=n.getBound,l=n.eventEmitter,u=i.command,f=i.name,h=i.popup;if(u)a(u);else{var w=h?"customPopupBody":f,C=l.emit("query","getPopupInitialValues",{popupName:w})[0],x=yy(w,{el:r.refs.el,pos:s(r.refs.el),popup:h,initialValues:C});x&&o(x)}},r}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(r){r.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var r=this.props,n=r.setItemWidth,i=r.item;n&&n(i.name,ey(this.refs.el)+(i.hidden?bit:0))},e.prototype.render=function(){var r=this,n=this.props,i=n.hideTooltip,a=n.disabled,o=n.item,s=n.active,l=Ae({display:o.hidden?"none":null},o.style),u=""+(o.className||"")+(s?" active":"");return Zt(uC||(uC=Yt([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(f){return r.refs.el=f},l,u,this.execCommand,this.showTooltip,i,!!a,o.text||o.tooltip||"",o.text||"")},e})(xn),kit=by(wit),uC,Cit=(function(t){ft(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.showPopup=function(){var n=yy("customPopupBody",{el:r.refs.el,pos:r.props.getBound(r.refs.el),popup:r.props.item.popup});n&&r.props.setPopupInfo(n)},r}return e.prototype.mounted=function(){var r=this.props,n=r.setItemWidth,i=r.item;this.refs.el.appendChild(i.el),n&&n(i.name,ey(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(r){var n,i=this.props,a=i.item,o=i.active,s=i.disabled;(r.active!==o||r.disabled!==s)&&((n=a.onUpdated)===null||n===void 0||n.call(a,{active:o,disabled:s}))},e.prototype.render=function(){var r=this,n=this.props,i=n.disabled,a=n.item,o={display:a.hidden?"none":"inline-block"},s=function(l){return i?null:l};return Zt(cC||(cC=Yt([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return r.refs.el=l},o,gt("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e})(xn),xit=by(Cit),cC,_M=(function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this,n=this.props,i=n.group,a=n.hiddenDivider,o=i.hidden?{display:"none"}:null,s=a?{display:"none"}:null;return Zt(dC||(dC=Yt([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),gt("toolbar-group"),o,i.map(function(l){var u=l.el?xit:kit;return Zt(fC||(fC=Yt(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,r.props,l)}),gt("toolbar-divider"),s)},e})(xn),fC,dC,Tit=4,Sit=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){var a=i.target;!ua(a,"."+gt("dropdown-toolbar"))&&!ua(a,".more")&&n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return e.prototype.getBound=function(){var r=this.props.getBound(this.refs.el);return r.top+=Tit,Ae(Ae({},r),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var r=this,n=this.state,i=n.showDropdown,a=n.dropdownPos,o=this.props,s=o.disabled,l=o.item,u=o.items,f=o.hideTooltip,h=u.filter(function(x){return!x.hidden}),w=h.length?null:{display:"none"},C=i?null:{display:"none"};return Zt(pC||(pC=Yt([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),gt("toolbar-group"),w,function(x){return r.refs.el=x},l.className,function(){return r.setState({showDropdown:!0})},this.showTooltip,f,s,gt("dropdown-toolbar"),Ae(Ae({},C),a),function(x){return r.refs.dropdownEl=x},h.length?h.map(function(x,M){var D;return Zt(hC||(hC=Yt([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),_M,x,M===h.length-1||((D=h[M+1])===null||D===void 0?void 0:D.hidden),r.props)}):null)},e})(xn),Eit=by(Sit),hC,pC,Mit=50,Oit=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.toggleTab=function(i,a){var o=n.props.eventEmitter;if(n.state.activeTab!==a){var s=a==="write"?"changePreviewTabWrite":"changePreviewTabPreview";o.emit(s),n.setState({activeTab:a})}},n.setItemWidth=function(i,a){n.itemWidthMap[i]=a},n.setPopupInfo=function(i){n.setState({showPopup:!0,popupInfo:i})},n.openPopup=function(i,a){a===void 0&&(a={});var o=n.refs.el.querySelector("."+gt("toolbar-group")+" ."+i);if(o){var s=tE(o,ua(o,"."+gt("toolbar"))),l=s.offsetLeft,u=s.offsetTop,f=yy(i,{el:o,pos:{left:l,top:o.offsetHeight+u},initialValues:a});f&&n.setPopupInfo(f)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(i,a){var o=n.props.eventEmitter;o.emit("command",i,a),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=vit(r.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new iit(function(){return n.handleResize()}),n.addEvent(),n}return e.prototype.insertToolbarItem=function(r,n){var i=r.groupIndex,a=r.itemIndex,o=this.initialItems[i];n=eg(n),o?o.splice(a,0,n):this.initialItems.push([n]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(r){var n=this;Nl(this.initialItems,function(i){var a=!1;return Nl(i,function(o,s){return o.name===r?(a=!0,i.splice(s,1),n.setState(n.classifyToolbarItems()),!1):!0}),!a})},e.prototype.addEvent=function(){var r=this,n=this.props.eventEmitter;this.handleResize=Hnt(function(){r.setState({items:r.initialItems,dropdownItems:[]}),r.setState(r.classifyToolbarItems())},200),n.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var r='<div class="'+gt("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=eE(r,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(r,n,i,a){var o=function(l){var u=l.pop();u&&a.push(u)};if(r>1)o(i);else{var s=kn(n);s&&o(s)}},e.prototype.classifyToolbarItems=function(){var r=this,n=0,i=this.refs.el.clientWidth,a=this.refs.el.querySelector("."+gt("toolbar-divider")),o=a?ey(a):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(f,h){var w=[],C=[];f.forEach(function(x,M){x.hidden||(n+=r.itemWidthMap[x.name],n>i-Mit?(u||(r.movePrevItemToDropdownToolbar(M,s,w,C),u=!0),C.push(x)):w.push(x))}),w.length&&(Cd(w),s.push(w)),C.length&&(Cd(C),l.push(C)),h<r.state.items.length-1&&(n+=o)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(r){var n=this.props,i=n.editorType,a=n.previewStyle,o=n.eventEmitter,s=a!==r.previewStyle,l=i!==r.editorType;if(s||l){mit(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||a==="tab"&&i==="markdown")&&(o.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Ns(this.tooltipRef.current)},e.prototype.render=function(){var r=this,n=this.props,i=n.previewStyle,a=n.eventEmitter,o=n.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,f=s.activeTab,h=s.items,w=s.dropdownItems,C={eventEmitter:a,tooltipRef:this.tooltipRef,disabled:o==="markdown"&&i==="tab"&&f==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},x=i==="tab"?{borderTopLeftRadius:0}:null;return Zt(mC||(mC=Yt([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),gt("toolbar"),gt("md-tab-container"),o==="wysiwyg"||i==="vertical"?"none":"block",PM,this.tabs,f,this.toggleTab,gt("defaultUI-toolbar"),function(M){return r.refs.el=M},x,h.map(function(M,D){var B;return Zt(vC||(vC=Yt([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),_M,M,D===h.length-1||((B=h[D+1])===null||B===void 0?void 0:B.hidden),r.setItemWidth,C)}),Eit,eg("more"),w,C,yit,l,u,a,this.hidePopup,this.execCommand)},e})(xn),vC,mC,Ait=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;return n.handleClickDocument=function(i){ua(i.target,"."+gt("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return e.prototype.addEvent=function(){var r=this;this.props.eventEmitter.listen("contextmenu",function(n){var i=n.pos,a=n.menuGroups;r.setState({pos:i,menuGroups:a})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var r=this,n=this.state,i=n.pos,a=n.menuGroups;return i?a.reduce(function(o,s){var l=[];return s.forEach(function(u){var f=u.label,h=u.className,w=h===void 0?!1:h,C=u.disabled,x=u.onClick,M=function(){C||(x(),r.setState({pos:null}))};l.push(Zt(gC||(gC=Yt([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),M,C?" disabled":"",w,f))}),o.push(Zt(yC||(yC=Yt([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),o},[]):[]},e.prototype.render=function(){var r=Ae({display:this.state.pos?"block":"none"},this.state.pos);return Zt(bC||(bC=Yt(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),gt("context-menu"),r,this.getMenuGroupElements())},e})(xn),gC,yC,bC,Nit=(function(t){ft(e,t);function e(r){var n=t.call(this,r)||this;n.changeMode=function(o){o!==n.state.editorType&&n.setState({editorType:o})},n.changePreviewStyle=function(o){o!==n.state.previewStyle&&n.setState({previewStyle:o})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var i=r.editorType,a=r.previewStyle;return n.state={editorType:i,previewStyle:a,hide:!1},n.addEvent(),n}return e.prototype.mounted=function(){var r=this.props.slots,n=r.wwEditor,i=r.mdEditor,a=r.mdPreview;this.refs.wwContainer.appendChild(n),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(a)},e.prototype.insertToolbarItem=function(r,n){this.toolbar.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.toolbar.removeToolbarItem(r)},e.prototype.render=function(){var r=this,n=this.props,i=n.eventEmitter,a=n.hideModeSwitch,o=n.toolbarItems,s=n.theme,l=this.state,u=l.hide,f=l.previewStyle,h=l.editorType,w=u?" hidden":"",C=gt(h==="markdown"?"md-mode":"ww-mode"),x=gt("md")+"-"+f+"-style",M=gt([s!=="light",s+" "]);return Zt(kC||(kC=Yt([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),M,gt("defaultUI"),w,function(D){return r.refs.el=D},Oit,function(D){return r.toolbar=D},i,f,o,h,gt("main"),C,function(D){return r.refs.editorSection=D},gt("main-container"),gt("md-container"),x,function(D){return r.refs.mdContainer=D},gt("md-splitter"),gt("ww-container"),function(D){return r.refs.wwContainer=D},!a&&Zt(wC||(wC=Yt(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),Pnt,i,h),Ait,i)},e.prototype.addEvent=function(){var r=this.props.eventEmitter;r.listen("hide",this.hide),r.listen("show",this.show),r.listen("changeMode",this.changeMode),r.listen("changePreviewStyle",this.changePreviewStyle)},e})(xn),wC,kC,Dit=(function(t){ft(e,t);function e(r){var n,i=t.call(this,r)||this,a,o=Int(i.options.el,Zt(CC||(CC=Yt([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),Nit,function(s){return a=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:a.insertToolbarItem.bind(a),removeToolbarItem:a.removeToolbarItem.bind(a),destroy:o},(n=i.pluginInfo.toolbarItems)===null||n===void 0||n.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,f=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},f)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(r){return r.viewer?new TM(r):new e(r)},e.prototype.insertToolbarItem=function(r,n){this.defaultUI.insertToolbarItem(r,n)},e.prototype.removeToolbarItem=function(r){this.defaultUI.removeToolbarItem(r)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e})(EM),CC;EM.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});const Rit={key:0,class:"pl-4 border-l dark:border-gray-700 ml-2 mt-1"},Lit={__name:"FolderItem",props:{folder:Object,selectedId:Number},emits:["select"],setup(t){return(e,r)=>{const n=Pd("folder-item",!0);return lt(),vt("li",null,[pe("div",{onClick:r[0]||(r[0]=i=>e.$emit("select",t.folder.id)),class:Ri(["cursor-pointer hover:bg-blue-50 dark:hover:bg-gray-700 p-1 rounded flex items-center transition-colors",{"bg-blue-100 dark:bg-blue-900 font-bold text-elektron-blue dark:text-blue-300":t.selectedId===t.folder.id}])},[r[2]||(r[2]=pe("svg",{class:"w-4 h-4 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[pe("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),sa(" "+hr(t.folder.name),1)],2),t.folder.children&&t.folder.children.length>0?(lt(),vt("ul",Rit,[(lt(!0),vt(Ar,null,ia(t.folder.children,i=>(lt(),Fd(n,{key:i.id,folder:i,"selected-id":t.selectedId,onSelect:r[1]||(r[1]=a=>e.$emit("select",a))},null,8,["folder","selected-id"]))),128))])):gr("",!0)])}}},Iit={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Pit={class:"bg-white dark:bg-gray-800 p-6 rounded shadow w-[600px] max-h-[80vh] flex flex-col transition-colors"},_it={class:"flex-1 overflow-y-auto border dark:border-gray-700 p-2 mb-4"},Bit={class:"space-y-1 dark:text-gray-300"},Fit={class:"flex justify-end space-x-2"},qit={__name:"FolderTreeModal",props:{tree:Array,selectedId:Number},emits:["close","select"],setup(t){return(e,r)=>(lt(),vt("div",Iit,[pe("div",Pit,[r[2]||(r[2]=pe("h3",{class:"font-bold mb-4 dark:text-white"},"Ordner auswhlen",-1)),pe("div",_it,[pe("ul",Bit,[(lt(!0),vt(Ar,null,ia(t.tree,n=>(lt(),Fd(Lit,{key:n.id,folder:n,"selected-id":t.selectedId,onSelect:r[0]||(r[0]=i=>e.$emit("select",i))},null,8,["folder","selected-id"]))),128))])]),pe("div",Fit,[pe("button",{onClick:r[1]||(r[1]=n=>e.$emit("close")),class:"text-gray-500 dark:text-gray-400"},"Abbrechen")])])]))}},Hit={class:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors"},Vit={class:"flex border-b bg-gray-50 dark:bg-gray-900 dark:border-gray-700"},zit={class:"p-6"},$it={key:0},Uit={class:"mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},jit={class:"flex space-x-2 w-full md:w-auto"},Wit={class:"mb-4 text-sm text-gray-500 dark:text-gray-400 flex flex-wrap items-center"},Git=["onClick"],Kit={key:0,class:"flex items-center text-gray-800 dark:text-gray-200"},Jit={key:1,class:"flex items-center text-gray-800 dark:text-gray-200"},Xit={key:1,class:"mb-6 space-y-2"},Qit={class:"truncate max-w-xs dark:text-gray-200"},Yit={class:"flex items-center space-x-2"},Zit={class:"w-24 bg-gray-300 dark:bg-gray-600 rounded-full h-2"},eat={class:"text-xs w-8 text-right dark:text-gray-400"},tat={key:2,class:"mb-6"},rat={class:"divide-y divide-gray-200 dark:divide-gray-700"},nat=["onClick"],iat={class:"truncate dark:text-gray-200"},aat={key:0,class:"ml-2 text-xs text-gray-400"},oat={class:"flex space-x-2 shrink-0"},sat=["onClick"],lat=["onClick"],uat=["onClick"],cat={class:"flex items-center min-w-0"},fat={class:"truncate"},dat={class:"dark:text-gray-200 truncate"},hat={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},pat={class:"flex space-x-2 shrink-0"},vat=["onClick"],mat=["onClick"],gat=["onClick"],yat={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},bat={class:"bg-white dark:bg-gray-800 p-6 rounded shadow w-96"},wat={class:"flex justify-end space-x-2"},kat={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Cat={class:"bg-white dark:bg-gray-800 p-6 rounded shadow w-96"},xat={class:"flex justify-end space-x-2"},Tat={key:1},Sat={class:"bg-blue-50 dark:bg-blue-900 p-4 rounded mb-6 text-sm text-blue-800 dark:text-blue-200 border border-blue-100 dark:border-blue-800"},Eat={class:"font-bold"},Mat={class:"mb-8"},Oat={class:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded overflow-x-auto"},Aat={class:"w-full text-sm text-left"},Nat={class:"divide-y divide-gray-200 dark:divide-gray-700"},Dat={class:"p-3 whitespace-nowrap"},Rat={class:"p-3 font-mono"},Lat=["title"],Iat={class:"mb-4"},Pat={class:"mb-4"},_at={class:"mb-4"},Bat={class:"flex space-x-2"},Fat={key:2},qat={class:"mb-8 flex items-center justify-between max-w-sm bg-gray-50 dark:bg-gray-700 p-4 rounded"},Hat={class:"max-w-sm mb-10"},Vat={__name:"AdminDashboard",setup(t){const e=xg(),r=Bt("files"),n=Bt(null),i=Bt([]),a=Bt([]),o=Bt([]),s=Bt(""),l=Bt(!1),u=Bt("name_asc"),f=Bt(!1),h=Bt(""),w=Bt(!1),C=Bt(""),x=Bt(null),M=Bt(""),D=Bt([]),B=Bt(!1),j=Bt([]),Q=Bt("push"),Y=Bt(""),te=Bt(null),se=Bt([]),oe=Bt({title:"",body:"",url:"/"}),ge=Bt(""),Se=Bt(null);let qe=null;async function rt(V){var q;l.value&&!V&&(s.value="",l.value=!1);try{const le=V?`/api/files.php?folder_id=${V}`:"/api/files.php",ae=await zt.get(le);n.value=ae.data.current_folder,i.value=ae.data.folders,a.value=ae.data.files,o.value=ae.data.breadcrumbs||[],l.value||(s.value="");const ye=((q=n.value)==null?void 0:q.description)||"";qe?qe.setMarkdown(ye):Zu(()=>{qe?qe.setMarkdown(ye):Je(ye)})}catch(le){console.error(le)}}async function je(){var V;if(!s.value.trim()){l.value=!1,rt((V=n.value)==null?void 0:V.id);return}l.value=!0;try{const q=await zt.get(`/api/files.php?action=search&query=${encodeURIComponent(s.value)}`);i.value=q.data.folders,a.value=q.data.files,n.value=null,o.value=[]}catch(q){console.error(q)}}const Tt=An(()=>At([...i.value])),yt=An(()=>At([...a.value]));function At(V){return V.sort((q,le)=>u.value==="name_asc"?(q.name||q.filename).localeCompare(le.name||le.filename):u.value==="name_desc"?(le.name||le.filename).localeCompare(q.name||q.filename):u.value==="date_desc"?new Date(le.created_at||0)-new Date(q.created_at||0):u.value==="date_asc"?new Date(q.created_at||0)-new Date(le.created_at||0):0)}function Je(V){Se.value&&(qe=new Dit({el:Se.value,height:"300px",initialEditType:"wysiwyg",previewStyle:"vertical",initialValue:V}))}async function ut(){var V,q;if(h.value)try{const le=new URLSearchParams;le.append("action","create_folder"),le.append("name",h.value),(V=n.value)!=null&&V.id&&le.append("parent_id",n.value.id),await zt.post("/api/files.php",le),f.value=!1,h.value="",rt((q=n.value)==null?void 0:q.id)}catch{alert("Fehler beim Erstellen")}}async function it(){if(!qe||!n.value)return;const V=qe.getMarkdown(),q=new URLSearchParams;q.append("action","update_folder"),q.append("id",n.value.id),q.append("description",V);try{await zt.post("/api/files.php",q),alert("Gespeichert")}catch{alert("Fehler beim Speichern")}}async function Ht(V){if(V.target.files.length>0){for(let q=0;q<V.target.files.length;q++)await pt(V.target.files[q]);rt(n.value.id),setTimeout(()=>D.value=[],5e3)}}async function nt(V){if(V.dataTransfer.files.length>0){for(let q=0;q<V.dataTransfer.files.length;q++)await pt(V.dataTransfer.files[q]);rt(n.value.id),setTimeout(()=>D.value=[],5e3)}}async function pt(V){var ae;const q=ql({file:V,progress:0});D.value.push(q);const le=new FormData;le.append("action","upload_file"),le.append("file",V),le.append("folder_id",((ae=n.value)==null?void 0:ae.id)||"");try{await zt.post("/api/files.php",le,{onUploadProgress:ye=>{const Le=Math.round(ye.loaded*100/ye.total);q.progress=Le}})}catch(ye){console.error("Upload failed",ye),q.progress=-1}}function at(V,q){C.value=V,x.value=q.id,M.value=V==="folder"?q.name:q.filename,w.value=!0}async function Dt(){var V;if(M.value)try{const q=new URLSearchParams;q.append("action","rename_item"),q.append("type",C.value),q.append("id",x.value),q.append("new_name",M.value),await zt.post("/api/files.php",q),w.value=!1,l.value?je():rt((V=n.value)==null?void 0:V.id)}catch{alert("Fehler beim Umbenennen")}}async function Nt(V,q){Y.value=V,te.value=q.id,Q.value="move",await Vt(),B.value=!0}function Kt(){Q.value="push",Vt().then(()=>B.value=!0)}async function Vt(){try{const q=(await zt.get("/api/files.php?action=get_all_folders")).data.folders,le={},ae=[];q.forEach(ye=>{ye.children=[],le[ye.id]=ye}),q.forEach(ye=>{ye.parent_id&&le[ye.parent_id]?le[ye.parent_id].children.push(ye):ae.push(ye)}),j.value=ae}catch{alert("Fehler beim Laden der Ordner")}}async function Oe(V){var q;if(Q.value==="push")oe.value.url=`/?folder=${V}`,B.value=!1;else try{const le=new URLSearchParams;le.append("action","move_item"),le.append("type",Y.value),le.append("id",te.value),le.append("target_folder_id",V);const ae=await zt.post("/api/files.php",le);ae.data.error?alert(ae.data.error):(B.value=!1,l.value?je():rt((q=n.value)==null?void 0:q.id))}catch{alert("Fehler beim Verschieben")}}async function he(V,q){var le;if(confirm("Wirklich lschen?"))try{await zt.delete("/api/files.php",{data:{type:V,id:q}}),l.value?je():rt((le=n.value)==null?void 0:le.id)}catch{alert("Fehler")}}async function ue(){try{const V=await zt.get("/api/push.php?action=list");se.value=V.data.subscriptions||[]}catch{}}async function ee(){var V,q;if(confirm("Push an alle senden?"))try{await zt.post("/api/push.php",{action:"send",...oe.value}),alert("Gesendet!"),oe.value.title="",oe.value.body=""}catch(le){const ae=((q=(V=le.response)==null?void 0:V.data)==null?void 0:q.error)||le.message||"Fehler beim Senden";alert("Fehler beim Senden: "+ae)}}async function ce(){try{await zt.post("/api/auth.php",{action:"change_password",new_password:ge.value}),alert("Passwort gendert"),ge.value=""}catch{alert("Fehler")}}async function I(){await zt.post("/api/auth.php",{action:"logout"}),e.push("/login")}return Id(()=>{rt(null),ue()}),(V,q)=>{var le;return lt(),vt("div",null,[q[43]||(q[43]=pe("h1",{class:"text-3xl font-bold mb-6 text-elektron-blue dark:text-white"},"Admin Dashboard",-1)),pe("div",Hit,[pe("div",Vit,[pe("button",{onClick:q[0]||(q[0]=ae=>r.value="files"),class:Ri([{"border-b-2 border-elektron-blue text-elektron-blue bg-white dark:bg-gray-800":r.value==="files","text-gray-600 dark:text-gray-400":r.value!=="files"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white dark:hover:bg-gray-800 transition"])},"Dateimanager",2),pe("button",{onClick:q[1]||(q[1]=ae=>r.value="push"),class:Ri([{"border-b-2 border-elektron-blue text-elektron-blue bg-white dark:bg-gray-800":r.value==="push","text-gray-600 dark:text-gray-400":r.value!=="push"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white dark:hover:bg-gray-800 transition"])},"Push Nachrichten",2),pe("button",{onClick:q[2]||(q[2]=ae=>r.value="settings"),class:Ri([{"border-b-2 border-elektron-blue text-elektron-blue bg-white dark:bg-gray-800":r.value==="settings","text-gray-600 dark:text-gray-400":r.value!=="settings"},"flex-1 py-4 px-6 text-center font-medium hover:bg-white dark:hover:bg-gray-800 transition"])},"Einstellungen",2)]),pe("div",zit,[r.value==="files"?(lt(),vt("div",$it,[pe("div",Uit,[q[21]||(q[21]=pe("h2",{class:"text-xl font-bold dark:text-white"},"Inhalt verwalten",-1)),pe("div",jit,[Di(pe("input",{"onUpdate:modelValue":q[3]||(q[3]=ae=>s.value=ae),onKeyup:Ax(je,["enter"]),placeholder:"Suchen...",class:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white focus:outline-none focus:border-elektron-blue flex-grow"},null,544),[[Ia,s.value]]),pe("button",{onClick:je,class:"bg-gray-200 dark:bg-gray-600 px-3 py-2 rounded hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-white"},[...q[19]||(q[19]=[pe("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),Di(pe("select",{"onUpdate:modelValue":q[4]||(q[4]=ae=>u.value=ae),class:"border border-gray-300 dark:border-gray-600 rounded px-2 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white focus:outline-none focus:border-elektron-blue"},[...q[20]||(q[20]=[pe("option",{value:"name_asc"},"Name (A-Z)",-1),pe("option",{value:"name_desc"},"Name (Z-A)",-1),pe("option",{value:"date_desc"},"Neueste",-1),pe("option",{value:"date_asc"},"lteste",-1)])],512),[[Ox,u.value]]),pe("button",{onClick:q[5]||(q[5]=ae=>f.value=!0),class:"bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 px-4 py-2 rounded text-gray-800 dark:text-white whitespace-nowrap"},"Neuer Ordner")])]),pe("div",Wit,[pe("button",{onClick:q[6]||(q[6]=ae=>rt(null)),class:Ri(["hover:text-elektron-blue font-medium transition-colors mr-2",{"font-bold text-gray-800 dark:text-gray-200 cursor-default":!((le=n.value)!=null&&le.parent_id)&&!l.value}])}," Home ",2),l.value?(lt(),vt("span",Jit,[q[24]||(q[24]=pe("span",{class:"mx-1"},"/",-1)),sa(' Suche: "'+hr(s.value)+'" ',1)])):(lt(),vt(Ar,{key:0},[(lt(!0),vt(Ar,null,ia(o.value,(ae,ye)=>(lt(),vt("span",{key:ye,class:"flex items-center"},[q[22]||(q[22]=pe("span",{class:"mx-1"},"/",-1)),pe("button",{onClick:Le=>rt(ae.id),class:"hover:text-elektron-blue font-medium transition-colors"},hr(ae.name),9,Git)]))),128)),n.value?(lt(),vt("span",Kit,[q[23]||(q[23]=pe("span",{class:"mx-1"},"/",-1)),pe("strong",null,hr(n.value.name),1)])):gr("",!0)],64))]),l.value?gr("",!0):(lt(),vt("div",{key:0,class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded p-6 text-center mb-6 transition-colors",onDragover:q[8]||(q[8]=Eu(()=>{},["prevent"])),onDrop:Eu(nt,["prevent"])},[q[25]||(q[25]=pe("p",{class:"text-gray-500 dark:text-gray-400 mb-2"},"Dateien hierher ziehen oder auswhlen",-1)),pe("input",{type:"file",ref:"fileInput",onChange:Ht,class:"hidden",multiple:""},null,544),pe("button",{onClick:q[7]||(q[7]=ae=>V.$refs.fileInput.click()),class:"text-elektron-blue underline"},"Durchsuchen")],32)),D.value.length>0?(lt(),vt("div",Xit,[(lt(!0),vt(Ar,null,ia(D.value,(ae,ye)=>(lt(),vt("div",{key:ye,class:"bg-gray-100 dark:bg-gray-700 rounded p-2 text-sm flex items-center justify-between"},[pe("span",Qit,hr(ae.file.name),1),pe("div",Yit,[pe("div",Zit,[pe("div",{class:"bg-elektron-blue h-2 rounded-full",style:Ad({width:ae.progress+"%"})},null,4)]),pe("span",eat,hr(ae.progress)+"%",1)])]))),128))])):gr("",!0),n.value&&!l.value?(lt(),vt("div",tat,[q[26]||(q[26]=pe("label",{class:"block font-bold mb-2 dark:text-gray-200"},"Ordner Beschreibung",-1)),pe("div",{ref_key:"editorRef",ref:Se,class:"mb-2 bg-white dark:bg-white rounded"},null,512),pe("button",{onClick:it,class:"mt-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"},"Speichern")])):gr("",!0),pe("ul",rat,[(lt(!0),vt(Ar,null,ia(Tt.value,ae=>(lt(),vt("li",{key:"f"+ae.id,class:"py-3 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-700 px-2 rounded transition-colors"},[pe("div",{onClick:ye=>rt(ae.id),class:"cursor-pointer flex items-center min-w-0"},[q[27]||(q[27]=pe("svg",{class:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[pe("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})],-1)),pe("span",iat,hr(ae.name),1),l.value?(lt(),vt("span",aat,"in "+hr(ae.parent_name||"Home"),1)):gr("",!0)],8,nat),pe("div",oat,[pe("button",{onClick:ye=>at("folder",ae),class:"text-gray-500 hover:text-elektron-blue dark:text-gray-400"},"Umbenennen",8,sat),pe("button",{onClick:ye=>Nt("folder",ae),class:"text-gray-500 hover:text-elektron-blue dark:text-gray-400"},"Verschieben",8,lat),pe("button",{onClick:ye=>he("folder",ae.id),class:"text-red-500 hover:text-red-700"},"Lschen",8,uat)])]))),128)),(lt(!0),vt(Ar,null,ia(yt.value,ae=>(lt(),vt("li",{key:"fil"+ae.id,class:"py-3 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-700 px-2 rounded transition-colors"},[pe("div",cat,[q[28]||(q[28]=pe("svg",{class:"w-6 h-6 text-gray-400 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[pe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),pe("div",fat,[pe("div",dat,hr(ae.filename),1),l.value?(lt(),vt("div",hat,"in "+hr(ae.folder_name||"Home"),1)):gr("",!0)])]),pe("div",pat,[pe("button",{onClick:ye=>at("file",ae),class:"text-gray-500 hover:text-elektron-blue dark:text-gray-400"},"Umbenennen",8,vat),pe("button",{onClick:ye=>Nt("file",ae),class:"text-gray-500 hover:text-elektron-blue dark:text-gray-400"},"Verschieben",8,mat),pe("button",{onClick:ye=>he("file",ae.id),class:"text-red-500 hover:text-red-700"},"Lschen",8,gat)])]))),128))]),f.value?(lt(),vt("div",yat,[pe("div",bat,[q[29]||(q[29]=pe("h3",{class:"font-bold mb-4 dark:text-white"},"Neuer Ordner",-1)),Di(pe("input",{"onUpdate:modelValue":q[9]||(q[9]=ae=>h.value=ae),class:"w-full border p-2 mb-4 dark:bg-gray-700 dark:border-gray-600 dark:text-white rounded",placeholder:"Name"},null,512),[[Ia,h.value]]),pe("div",wat,[pe("button",{onClick:q[10]||(q[10]=ae=>f.value=!1),class:"text-gray-500 dark:text-gray-400"},"Abbrechen"),pe("button",{onClick:ut,class:"bg-elektron-blue text-white px-4 py-2 rounded"},"Erstellen")])])])):gr("",!0),w.value?(lt(),vt("div",kat,[pe("div",Cat,[q[30]||(q[30]=pe("h3",{class:"font-bold mb-4 dark:text-white"},"Umbenennen",-1)),Di(pe("input",{"onUpdate:modelValue":q[11]||(q[11]=ae=>M.value=ae),class:"w-full border p-2 mb-4 dark:bg-gray-700 dark:border-gray-600 dark:text-white rounded",placeholder:"Neuer Name"},null,512),[[Ia,M.value]]),pe("div",xat,[pe("button",{onClick:q[12]||(q[12]=ae=>w.value=!1),class:"text-gray-500 dark:text-gray-400"},"Abbrechen"),pe("button",{onClick:Dt,class:"bg-elektron-blue text-white px-4 py-2 rounded"},"Speichern")])])])):gr("",!0)])):gr("",!0),r.value==="push"?(lt(),vt("div",Tat,[q[38]||(q[38]=pe("h2",{class:"text-xl font-bold mb-4 dark:text-white"},"Push Nachricht senden",-1)),pe("div",Sat,[pe("span",Eat,hr(se.value.length),1),q[31]||(q[31]=sa(" Abonnenten registriert. ",-1))]),pe("div",Mat,[q[33]||(q[33]=pe("h3",{class:"font-bold mb-2 dark:text-white"},"Abonnenten Liste (Technisch)",-1)),pe("div",Oat,[pe("table",Aat,[q[32]||(q[32]=pe("thead",{class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 uppercase"},[pe("tr",null,[pe("th",{class:"p-3"},"Datum"),pe("th",{class:"p-3"},"IP Adresse"),pe("th",{class:"p-3"},"User Agent")])],-1)),pe("tbody",Nat,[(lt(!0),vt(Ar,null,ia(se.value,ae=>(lt(),vt("tr",{key:ae.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300"},[pe("td",Dat,hr(new Date(ae.created_at).toLocaleString("de-CH")),1),pe("td",Rat,hr(ae.ip_address||"-"),1),pe("td",{class:"p-3 text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",title:ae.user_agent},hr(ae.user_agent||"-"),9,Lat)]))),128))])])])]),pe("form",{onSubmit:Eu(ee,["prevent"]),class:"max-w-lg"},[pe("div",Iat,[q[34]||(q[34]=pe("label",{class:"block font-bold mb-2 dark:text-white"},"Titel",-1)),Di(pe("input",{"onUpdate:modelValue":q[13]||(q[13]=ae=>oe.value.title=ae),class:"w-full border dark:border-gray-600 p-2 rounded dark:bg-gray-700 dark:text-white",required:""},null,512),[[Ia,oe.value.title]])]),pe("div",Pat,[q[35]||(q[35]=pe("label",{class:"block font-bold mb-2 dark:text-white"},"Nachricht",-1)),Di(pe("textarea",{"onUpdate:modelValue":q[14]||(q[14]=ae=>oe.value.body=ae),class:"w-full border dark:border-gray-600 p-2 rounded h-24 dark:bg-gray-700 dark:text-white",required:""},null,512),[[Ia,oe.value.body]])]),pe("div",_at,[q[36]||(q[36]=pe("label",{class:"block font-bold mb-2 dark:text-white"},"Link",-1)),pe("div",Bat,[Di(pe("input",{"onUpdate:modelValue":q[15]||(q[15]=ae=>oe.value.url=ae),class:"flex-1 border dark:border-gray-600 p-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"/"},null,512),[[Ia,oe.value.url]]),pe("button",{type:"button",onClick:Kt,class:"bg-gray-200 dark:bg-gray-600 px-3 py-2 rounded text-sm hover:bg-gray-300 dark:hover:bg-gray-500 dark:text-white"},"Ordner whlen")])]),q[37]||(q[37]=pe("button",{type:"submit",class:"bg-elektron-blue text-white px-6 py-2 rounded hover:bg-opacity-90"},"Senden",-1))],32)])):gr("",!0),r.value==="settings"?(lt(),vt("div",Fat,[q[41]||(q[41]=pe("h2",{class:"text-xl font-bold mb-4 dark:text-white"},"Einstellungen",-1)),pe("div",qat,[q[39]||(q[39]=pe("span",{class:"font-medium dark:text-white"},"Dark Mode",-1)),pe("button",{onClick:q[16]||(q[16]=ae=>_i(Mu).toggleDarkMode()),class:"bg-gray-200 dark:bg-gray-600 p-2 rounded-full relative w-12 h-6 flex items-center transition-colors"},[pe("div",{class:Ri(["w-4 h-4 rounded-full bg-white shadow transform transition-transform duration-200 ease-in-out",{"translate-x-6 bg-elektron-blue":_i(Mu).darkMode,"translate-x-0":!_i(Mu).darkMode}])},null,2)])]),pe("div",Hat,[q[40]||(q[40]=pe("h3",{class:"font-bold mb-2 dark:text-white"},"Admin Passwort ndern",-1)),Di(pe("input",{"onUpdate:modelValue":q[17]||(q[17]=ae=>ge.value=ae),type:"password",class:"w-full border dark:border-gray-600 p-2 mb-2 dark:bg-gray-700 dark:text-white rounded",placeholder:"Neues Passwort"},null,512),[[Ia,ge.value]]),pe("button",{onClick:ce,class:"bg-gray-800 dark:bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700"},"ndern")]),pe("button",{onClick:I,class:"text-red-500 underline hover:text-red-700"},"Abmelden")])):gr("",!0)]),q[42]||(q[42]=pe("div",{class:"bg-gray-50 dark:bg-gray-900 text-center text-xs text-gray-400 py-2 border-t dark:border-gray-700"}," Elektron File Browser v0.2 ",-1))]),B.value?(lt(),Fd(qit,{key:0,tree:j.value,"selected-id":null,onClose:q[18]||(q[18]=ae=>B.value=!1),onSelect:Oe},null,8,["tree"])):gr("",!0)])}}},BM=Hfe({history:yfe(),routes:[{path:"/",name:"home",component:Rde},{path:"/login",name:"login",component:_de},{path:"/admin",name:"admin",component:Vat,meta:{requiresAuth:!0}}]});BM.beforeEach(async(t,e,r)=>{if(t.meta.requiresAuth)try{(await zt.get("/api/auth.php")).data.logged_in?r():r("/login")}catch{r("/login")}else r()});const FM=Ile(Ice);FM.use(BM);FM.mount("#app");
