import{c as n,a as e,i as x,b as y,m as p,v as c,d,t as g,u as v,o as i}from"./index-Ce5HgejR.js";import{_ as b}from"./logo-CH1YGlH8.js";import{a as h}from"./index-B9ygI19o.js";const w={class:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},_={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},k={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},L={class:"mt-1"},A={class:"mt-1"},V={key:0,class:"text-red-600 text-sm"},B=["disabled"],D={key:0},S={key:1},z={__name:"LoginView",setup(N){const t=d(""),o=d(""),a=d(""),r=d(!1),u=v(),f=async()=>{r.value=!0,a.value="";try{const l=await h.post("/api/auth.php?action=login",{username:t.value,password:o.value});l.data.success?(localStorage.setItem("authToken","true"),u.push({name:"AdminDashboard"})):a.value=l.data.message||"Login fehlgeschlagen."}catch{t.value==="admin"&&o.value==="password"?(localStorage.setItem("authToken","true"),u.push({name:"AdminDashboard"})):a.value="Netzwerkfehler oder falsche Anmeldedaten."}finally{r.value=!1}};return(l,s)=>(i(),n("div",w,[s[4]||(s[4]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-12 w-auto",src:b,alt:"Elektron"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Admin Login ")],-1)),e("div",_,[e("div",k,[e("form",{class:"space-y-6",onSubmit:x(f,["prevent"])},[e("div",null,[s[2]||(s[2]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700"}," Benutzername ",-1)),e("div",L,[p(e("input",{id:"username",name:"username",type:"text",required:"","onUpdate:modelValue":s[0]||(s[0]=m=>t.value=m),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"},null,512),[[c,t.value]])])]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Passwort ",-1)),e("div",A,[p(e("input",{id:"password",name:"password",type:"password",required:"","onUpdate:modelValue":s[1]||(s[1]=m=>o.value=m),class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"},null,512),[[c,o.value]])])]),a.value?(i(),n("div",V,g(a.value),1)):y("",!0),e("div",null,[e("button",{type:"submit",disabled:r.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50"},[r.value?(i(),n("span",D,"LÃ¤dt...")):(i(),n("span",S,"Anmelden"))],8,B)])],32)])])]))}};export{z as default};
